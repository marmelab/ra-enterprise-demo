{"version":3,"file":"TourList-D4L7VpJW.js","sources":["../../node_modules/@mui/icons-material/PlaylistAddCheck.js","../../node_modules/@mui/icons-material/RotateLeft.js","../../node_modules/@mui/icons-material/PlayArrow.js","../../node_modules/@mui/icons-material/NewReleases.js","../../src/tours/Tour.tsx","../../src/tours/TourList.tsx"],"sourcesContent":["\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M3 10h11v2H3zm0-4h11v2H3zm0 8h7v2H3zm17.59-2.07-4.25 4.24-2.12-2.12-1.41 1.41L16.34 19 22 13.34z\"\n}), 'PlaylistAddCheck');","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M7.11 8.53 5.7 7.11C4.8 8.27 4.24 9.61 4.07 11h2.02c.14-.87.49-1.72 1.02-2.47M6.09 13H4.07c.17 1.39.72 2.73 1.62 3.89l1.41-1.42c-.52-.75-.87-1.59-1.01-2.47m1.01 5.32c1.16.9 2.51 1.44 3.9 1.61V17.9c-.87-.15-1.71-.49-2.46-1.03zM13 4.07V1L8.45 5.55 13 10V6.09c2.84.48 5 2.94 5 5.91s-2.16 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93s-3.05-7.44-7-7.93\"\n}), 'RotateLeft');","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M8 5v14l11-7z\"\n}), 'PlayArrow');","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"m23 12-2.44-2.78.34-3.68-3.61-.82-1.89-3.18L12 3 8.6 1.54 6.71 4.72l-3.61.81.34 3.68L1 12l2.44 2.78-.34 3.69 3.61.82 1.89 3.18L12 21l3.4 1.46 1.89-3.18 3.61-.82-.34-3.68zm-10 5h-2v-2h2zm0-4h-2V7h2z\"\n}), 'NewReleases');","import React from 'react';\nimport { RaRecord, useTranslate } from 'react-admin';\nimport { useTour } from '@react-admin/ra-tour';\nimport {\n    Box,\n    Card,\n    CardActions,\n    CardContent,\n    CardMedia,\n    Button,\n    Typography,\n} from '@mui/material';\nimport PlayIcon from '@mui/icons-material/PlayArrow';\nimport NewReleasesIcon from '@mui/icons-material/NewReleases';\nimport { useTourState } from './useTourState';\n\nconst Tour = ({ record }: { record: RaRecord }) => {\n    const translate = useTranslate();\n    const [playedOn, tourStateActions] = useTourState(record.id.toString());\n    // eslint-disable-next-line no-unused-vars\n    const [, { start }] = useTour();\n\n    const handlePlayClicked = (): void => {\n        if (start) {\n            start(record.tour);\n        }\n        tourStateActions.markAsPlayed();\n    };\n\n    const basePath = import.meta.env.BASE_URL;\n\n    return (\n        <Card\n            sx={{\n                cursor: 'pointer',\n                opacity: playedOn ? 0.6 : 0.9,\n                transition: 'opacity 0.3s ease-in-out',\n                '&:hover,&:focus-within': {\n                    opacity: 1,\n                },\n                height: '100%',\n            }}\n            onClick={handlePlayClicked}\n        >\n            <CardMedia\n                sx={{\n                    height: 140,\n                    filter: 'brightness(0.9) drop-shadow(0 0 0 blue)',\n                }}\n                image={`${basePath}${record.image}`}\n                title={record.title}\n            />\n            <CardContent sx={{ position: 'relative' }}>\n                {!playedOn && (\n                    <NewReleasesIcon\n                        color=\"error\"\n                        fontSize=\"large\"\n                        sx={{\n                            position: 'absolute',\n                            top: 10,\n                            right: 10,\n                        }}\n                    />\n                )}\n                <Typography variant=\"h5\" component=\"h2\" gutterBottom>\n                    {record.title}\n                </Typography>\n                <Typography variant=\"body2\" gutterBottom>\n                    {translate(record.comment, { _: record.comment })}\n                </Typography>\n            </CardContent>\n            <CardActions>\n                <Button size=\"small\" startIcon={<PlayIcon />} color=\"primary\">\n                    {translate('tours.action.play')}\n                </Button>\n                <Box pl={1}>\n                    <Typography variant=\"caption\" color=\"textSecondary\">\n                        {!!playedOn\n                            ? translate('tours.message.played_on', {\n                                  date: new Date(playedOn).toLocaleString(),\n                              })\n                            : translate('tours.message.never_played')}\n                    </Typography>\n                </Box>\n            </CardActions>\n        </Card>\n    );\n};\n\nexport default Tour;\n","import React, { ReactElement } from 'react';\nimport { Grid } from '@mui/material';\nimport PlaylistAddCheckIcon from '@mui/icons-material/PlaylistAddCheck';\nimport RotateLeftIcon from '@mui/icons-material/RotateLeft';\nimport { TopToolbar, Button } from 'react-admin';\nimport tours from './data';\n\nimport Tour from './Tour';\nimport { useTourStates } from './useTourState';\nimport { useDefineAppLocation } from '@react-admin/ra-navigation';\n\nconst ListActions = (): ReactElement => {\n    const [, tourStatesActions] = useTourStates();\n\n    return (\n        <TopToolbar>\n            <Button\n                label=\"Mark all as played\"\n                onClick={(): void => tourStatesActions.markAllAsPlayed()}\n            >\n                <PlaylistAddCheckIcon />\n            </Button>\n            <Button\n                label=\"Reset\"\n                onClick={(): void => tourStatesActions.resetAll()}\n            >\n                <RotateLeftIcon />\n            </Button>\n        </TopToolbar>\n    );\n};\n\nconst TourList = (): ReactElement => {\n    useDefineAppLocation('tours');\n    return (\n        <>\n            <ListActions />\n            <Grid\n                container\n                alignItems=\"stretch\"\n                spacing={2}\n                sx={{ px: 1 }}\n                data-testid=\"tourlist\"\n            >\n                {tours.map(tour => (\n                    <Grid item key={tour.id} xs={12} sm={6} md={4} lg={3}>\n                        <Tour record={tour} />\n                    </Grid>\n                ))}\n            </Grid>\n        </>\n    );\n};\n\nexport default TourList;\n"],"names":["_interopRequireDefault","require$$0","PlaylistAddCheck","_createSvgIcon","_jsxRuntime","require$$2","RotateLeft","PlayArrow","NewReleases","Tour","__name","record","translate","useTranslate","playedOn","tourStateActions","useTourState","start","useTour","handlePlayClicked","jsxs","Card","jsx","CardMedia","CardContent","NewReleasesIcon","Typography","CardActions","Button","PlayIcon","Box","ListActions","tourStatesActions","useTourStates","TopToolbar","PlaylistAddCheckIcon","RotateLeftIcon","TourList","useDefineAppLocation","Fragment","Grid","tours","tour"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}