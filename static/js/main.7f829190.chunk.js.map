{"version":3,"sources":["layout/themes.ts","authProvider.ts","layout/Logo.tsx","tours/data.ts","tours/useTourState.ts","layout/AppBar.tsx","layout/Breadcrumb.tsx","categories/CategoryCreate.tsx","products/LockOverlay.tsx","products/GridList.tsx","products/Aside.tsx","products/ProductList.tsx","categories/CategoryEdit.tsx","categories/index.ts","categories/CategoryList.tsx","ra-enterprise/List.tsx","segments/data.ts","visitors/SegmentsField.tsx","visitors/SegmentInput.tsx","visitors/AvatarField.tsx","visitors/FullNameField.tsx","visitors/CustomerLinkField.tsx","visitors/ColoredNumberField.tsx","visitors/MobileGrid.tsx","visitors/DesktopGrid.tsx","visitors/VisitorListAside.tsx","visitors/VisitorList.tsx","visitors/VisitorCreate.tsx","orders/NbItemsField.tsx","visitors/CustomerReferenceField.tsx","visitors/AddressField.tsx","orders/MobileGrid.tsx","orders/OrderList.tsx","orders/Basket.tsx","layout/EditActions.tsx","orders/OrderEdit.tsx","orders/index.ts","reviews/BulkAcceptButton.tsx","reviews/BulkRejectButton.tsx","reviews/ReviewListMobile.tsx","products/ProductReferenceField.tsx","reviews/StarRatingField.tsx","reviews/rowStyle.tsx","reviews/ReviewListDesktop.tsx","reviews/ReviewFilter.tsx","reviews/AcceptButton.tsx","reviews/RejectButton.tsx","reviews/ReviewEditToolbar.tsx","reviews/ReviewEdit.tsx","reviews/ReviewList.tsx","reviews/index.ts","visitors/Aside.tsx","visitors/SegmentsInput.tsx","visitors/VisitorEdit.tsx","visitors/index.ts","invoices/InvoiceShow.tsx","invoices/InvoiceList.tsx","invoices/index.ts","products/Poster.tsx","layout/CreateActions.tsx","products/ProductCreate.tsx","products/ProductPreview.tsx","products/ProductEdit.tsx","products/index.ts","stores/StoreList.tsx","stores/index.ts","visitors/segments.ts","layout/MobileMenu.tsx","layout/Menu.tsx","layout/Layout.tsx","layout/Login.tsx","layout/search/SearchListItemLink.tsx","layout/search/CommandListItem.tsx","layout/search/LinkedData.tsx","layout/search/CustomerListItem.tsx","layout/search/ProductListItem.tsx","layout/search/ReviewListItem.tsx","layout/Search.tsx","dashboard/Timeline.tsx","dashboard/welcome_illustration.svg","dashboard/Welcome.tsx","dashboard/CardWithIcon.tsx","dashboard/cartoucheDark.png","dashboard/cartouche.png","dashboard/MonthlyRevenue.tsx","dashboard/NbNewOrders.tsx","dashboard/PendingOrders.tsx","dashboard/PendingReviews.tsx","dashboard/NewCustomers.tsx","dashboard/OrderChart.tsx","dashboard/Dashboard.tsx","dashboard/index.ts","segments/LinkToRelatedCustomers.tsx","segments/Segments.tsx","tours/TourLauncher.tsx","tours/Tour.tsx","tours/TourList.tsx","routes.js","i18n/en.ts","i18n/fr.ts","dataProvider/addRealtimeMethodsWithFakeTransport.ts","dataProvider/addSearchMethod.ts","dataProvider/index.ts","fakeServer/demo-data.ts","fakeServer/generateFakeEvents.ts","fakeServer/index.ts","App.tsx","index.tsx","tours/randomCommandBuilder.ts","tours/tours.ts","tours/randomLockBuilder.ts"],"names":["darkPalette","createPalette","type","primary","main","getThemes","theme","darkTheme","lightTheme","palette","overrides","MuiAppBar","zIndex","RaAppBar","menuButton","display","breakpoints","down","RaSearchInput","root","color","common","white","backgroundColor","fade","black","inputBase","background","borderRadius","inputAdornmentStart","RaSidebar","drawerPaper","paddingRight","width","RaMenuItemCategory","closeButton","popoverPaper","RaMenuItem","link","grey","RaFilterFormInput","body","marginTop","RaTopToolbar","alignItems","paddingTop","RaListToolbar","actions","minHeight","toolbar","lightPalette","secondary","light","dark","contrastText","default","shape","text","hint","RaMenuItemLink","borderLeft","active","RaMultiLevelMenu","navWithCategories","MuiPaper","elevation1","boxShadow","border","backgroundClip","MuiButton","contained","colorSecondary","MuiLinearProgress","colorPrimary","barColorPrimary","MuiFilledInput","RaLinkedData","authProvider","login","username","localStorage","setItem","Promise","resolve","logout","removeItem","checkError","checkAuth","getItem","reject","getPermissions","getIdentity","demoUser","id","fullName","avatar","Logo","props","height","viewBox","aria-label","style","lineHeight","fontWeight","fontSize","fontFamily","letterSpacing","wordSpacing","strokeWidth","fill","d","image","title","tour","comment","href","useTourStates","usePreferences","storedTourStates","setTourStates","tours","reduce","acc","markAsPlayed","tourId","newTourStates","Date","markAllAsPlayed","reset","undefined","resetAll","useStyles","makeStyles","position","flex","textOverflow","whiteSpace","overflow","paddingLeft","spacing","logo","padding","CustomAppBar","classes","location","useLocation","isXSmall","useMediaQuery","tourStates","numberOfTours","Object","keys","AppBar","elevation","pathname","className","Typography","variant","Search","IconButton","to","component","Link","Badge","badgeContent","languages","locale","name","defaultLanguage","maxWidth","pointerEvents","CustomBreadcrumb","translate","useTranslate","editLabel","createLabel","resources","label","record","reference","linkToRecord","status","first_name","last_name","Prompt","save","useEffect","result","window","prompt","children","isRoot","CategoryCreate","refresh","useRefresh","redirect","useRedirect","Create","onSuccess","basePath","LockOverlay","lock","rest","Lock","identity","top","left","textAlign","gridList","margin","tile","tileBar","placeholder","price","getColsForWidth","LoadingGridList","nbChildren","fn","nbItems","cellHeight","cols","key","GridListTile","Array","from","length","_","ProductTile","GridListTileBar","subtitle","NumberField","source","options","currency","LoadedGridList","useListContext","ids","data","resource","locks","useHasLocks","firstLockRecordId","React","data-tour-id","map","find","l","recordId","current","isFirstLock","data-productid","data-lockidentity","data-testid","src","thumbnail","alt","withWidth","loaded","up","marginRight","Aside","useListFilterContext","setFilters","filterValues","displayedFilters","useGetTree","tree","getRCTree","defaultExpandedKeys","category_id","toString","defaultSelectedKeys","Card","CardContent","FilterLiveSearch","FilterList","icon","FilterListItem","value","sales_lte","sales_gt","sales","stock_lt","stock_gt","stock","Tree","treeData","onSelect","selectedKeys","selectedNodes","autoExpandParent","Math","random","useQuickFilterStyles","marginBottom","QuickFilter","Chip","ProductFilter","SearchInput","alwaysOn","ReferenceInput","sort","field","order","SelectInput","NumberInput","defaultValue","ListActions","isSmall","useListActionsStyles","TopToolbar","context","SortButton","fields","CreateButton","ExportButton","paddingBottom","ProductListView","aside","defaultTitle","Title","Box","m","Pagination","rowsPerPageOptions","ProductList","useDefineAppLocation","ListBase","filters","perPage","CategoryTitle","useAppLocationState","setLocation","CategoryEditAside","useGetList","page","total","ListContextProvider","showFilter","hideFilter","setSort","currentSort","CategoryEdit","Edit","SimpleForm","TextInput","smart_count","list","handleExpand","useTreeController","titleField","TreeWithDetails","create","edit","draggable","allowMultipleRoots","CategoryIcon","menuPaper","menuList","toolContainer","columnsList","maxHeight","overflowY","ToolContainer","forwardRef","ref","displayName","ColumnsTool","preferenceKey","defaultColumns","useRef","gutterBottom","preference","columns","GridOrListTool","view","setView","ButtonGroup","Button","onClick","Actions","hasColumnsSelector","hasViewSelector","hasList","hasShow","maxResults","permanentFilter","useState","anchorEl","setAnchorEl","open","Boolean","exporter","hasTools","classnames","sanitizeListRestProps","cloneElement","disabled","aria-controls","aria-haspopup","event","currentTarget","size","keepMounted","onClose","paper","EnterpriseList","defaultOmittedColumns","defaultView","syncWithLocation","visibleColumns","useSelectedColumns","preferences","omit","childrenElements","useMemo","flexWrap","chip","SegmentsField","groups","segmentId","segment","segments","s","defaultProps","addLabel","input","SegmentInput","choices","AvatarField","Avatar","parseInt","PureFullNameField","pure","CustomerLinkField","ColoredNumberField","card","flexDirection","cardTitleContent","justifyContent","cardContent","typography","body1","MobileGrid","CardHeader","DateField","nb_commands","editButton","right","DesktopGrid","RouterLink","filter","fieldName","withStyles","flexShrink","MuiCard","last_seen_gte","endOfYesterday","toISOString","last_seen_lte","startOfWeek","subWeeks","startOfMonth","subMonths","nb_commands_gte","nb_commands_lte","has_newsletter","VisitorFilter","DateInput","NullableBooleanInput","visitorListColumn","customer","last_seen","total_spent","latest_purchase","showTime","BooleanField","VisitorList","isXsmall","VisitorListAside","hasEdit","hasCreate","Datagrid","rowClick","marginLeft","email","address","zipcode","city","password","confirm_password","validatePasswords","errors","requiredValidate","required","SectionTitle","Separator","pt","VisitorCreate","validate","formClassName","validation","fullWidth","multiline","PasswordInput","render","basket","NbItemsField","FunctionField","CustomerReferenceField","ReferenceField","AddressField","useListStyles","cardContentRow","TextField","OrderFilter","Filter","AutocompleteInput","optionText","choice","useDatagridStyles","tabs","TabbedDatagrid","listContext","ordered","setOrdered","delivered","setDelivered","cancelled","setCancelled","totals","useGetTotals","handleChange","useCallback","useTheme","rowStyle","batchLevel","batch","lighten","info","darken","orderRowStyle","selectedIds","Tabs","centered","indicatorColor","onChange","Tab","Divider","optimized","OrderList","filterDefaultValues","breadcrumb","container","minWidth","rightAlignedCell","boldCell","Basket","useQueryWithStore","payload","item","product_id","state","productId","admin","products","r","prev","next","Paper","Table","TableHead","TableRow","TableCell","TableBody","toLocaleString","quantity","colSpan","total_ex_taxes","delivery_fees","tax_rate","EditActions","OrderTitle","useEditStyles","OrderEditForm","BooleanInput","OrderIcon","BulkAcceptButton","notify","useNotify","redirectTo","unselectAll","useUnselectAll","useUpdateMany","action","CRUD_UPDATE_MANY","undoable","onFailure","approve","loading","BulkRejectButton","textDecoration","inline","ReviewMobileList","resourceLocation","useResourceAppLocation","effectDependency","JSON","stringify","List","ListItem","button","ListItemAvatar","linkType","ListItemText","secondaryTypographyProps","noWrap","hasBulkActions","ProductReferenceField","opacity","large","small","StarRatingField","rating","i","selectedRow","index","defaultStyle","selected","borderLeftColor","green","borderLeftWidth","borderLeftStyle","orange","red","headerRow","headerCell","rowCell","ReviewListDesktop","cellClassName","useFilterStyles","ReviewFilter","AcceptButton","useUpdate","RejectButton","ReviewEditToolbar","handleSubmitWithRedirect","invalid","saving","SaveButton","submitOnEnter","DeleteButton","form","inlineField","ReviewEdit","onCancel","controllerProps","useEditController","version","rowsMax","ReviewsBulkActionButtons","BulkDeleteButton","flexGrow","transition","transitions","duration","enteringScreen","listWithDrawer","ReviewList","history","useHistory","handleClose","push","path","match","isMatch","params","bulkActionButtons","ReviewListMobile","Drawer","anchor","ReviewIcon","useAsideStyles","EventList","customer_id","orders","orderIds","reviews","reviewIds","events","mixOrdersAndReviews","mb","mr","eventsFromOrders","date","eventsFromReviews","e1","e2","valueOf","useEventStyles","cardHeader","clamp","OrderEvent","subheader","ReviewEvent","EditButton","Tooltip","SegmentsInput","addField","SelectArrayInput","VisitorTitle","VisitorForm","FormWithRedirect","formProps","md","lg","xs","sm","ml","mt","Toolbar","handleSubmit","VisitorIcon","CustomerField","InvoiceShow","useShowController","Grid","align","alignContent","spacer","toLocaleDateString","invoices","borderStyle","borderWidth","borderColor","divider","ListFilters","InvoicesDatagrid","expand","InvoiceIcon","content","img","Poster","CreateActions","styles","widthFormGroup","heightFormGroup","ProductCreate","TabbedForm","FormTab","InputProps","startAdornment","InputAdornment","endAdornment","allowEmpty","details","preview","frame","mat","bottom","art","Preview","ProductTitle","createStyles","ProductEditFormWithPreview","FormDataConsumer","formData","ProductPreview","CustomToolbar","useHasLock","isMeLocker","useLockMessageStyles","LockMessage","ProductEdit","useLock","CircularProgress","ReferenceManyField","target","pagination","ReferenceManyFieldPagination","ProductIcon","StoreForm","autoFocus","StoreListActions","StoreIcon","empty","createForm","editForm","string","charAt","toUpperCase","slice","MobileMenu","onMenuClick","catalog","customers","menuState","setMenuState","useSelector","ui","sidebarOpen","handleToggle","menu","exact","isOpen","sidebarIsOpen","noIconPadding","newCustomerFilter","visitorsFilter","stores","SubMenu","dense","header","subMenuItem","ListItemIcon","placement","Collapse","in","timeout","unmountOnExit","subMenuContainer","disablePadding","StyledBadgeForText","badge","Menu","DesktopMenu","commandsChangeCount","useAppLocationMatcher","countEvent","setCountEvent","useSubscribeToRecordList","count","values","previous","useResourceChangeCounter","CustomersMenu","savedQueriesMenuItems","usePersistedQueriesMenu","CatalogMenu","useSavedQueries","querystring","CustomLayout","appBar","backgroundRepeat","backgroundSize","renderInput","meta","touched","error","inputProps","helperText","Form","withTypes","Login","setLoading","useLogin","onSubmit","auth","nextPathname","catch","message","noValidate","CardActions","thickness","Notification","LoginWithTheme","ThemeProvider","createMuiTheme","SearchListItemLink","url","CommandListItem","useCommandListItemStyles","fontWeightBold","CommandStatus","useCommandStatusStyles","blue","getContrastText","success","textTransform","LinkedData","CustomerListItem","fullname","pending_orders","ProductListItem","useProductListItemStyles","ReviewListItem","Rating","readOnly","ReviewComment","truncateString","max","CustomSearch","CustomSearchPanel","useCustomSearchPanelStyles","useSearchResults","groupedData","groupSearchResultsByResource","group","ListSubheader","role","disableSticky","headerGroup","headerCount","searchResultItem","overflowX","CustomSearchResultItem","MyTimeline","records","media","publishArticleImage","Welcome","startIcon","CardWithIcon","createElement","MonthlyRevenue","DollarIcon","NbNewOrders","ShoppingCartIcon","cost","PendingOrders","nb_items","customer_name","ListItemSecondaryAction","listItemText","WebkitLineClamp","WebkitBoxOrient","NbPendingReviews","CommentIcon","PendingReviews","NbNewCustomers","aMonthAgo","setDate","getDate","setHours","setMinutes","setSeconds","setMilliseconds","has_ordered","first_seen_gte","visitors","nb","CustomerIcon","NewCustomers","lastDay","lastMonthDays","subDays","dateFormatter","getRevenuePerDay","daysWithRevenue","curr","day","format","aggregateOrdersByDay","getTime","OrderChart","x1","y1","x2","y2","offset","stopColor","stopOpacity","dataKey","scale","domain","addDays","tickFormatter","unit","strokeDasharray","cursor","formatter","Intl","NumberFormat","labelFormatter","stroke","flexColumn","leftCol","rightCol","singleCol","Spacer","VerticalSpacer","Dashboard","setState","useVersion","dataProvider","useDataProvider","fetchOrders","a","getList","date_gte","recentOrders","aggregations","stats","revenue","nbNewOrders","pendingOrders","minimumFractionDigits","maximumFractionDigits","getMany","pendingOrdersCustomers","fetchReviews","nbPendingReviews","pendingReviews","min","review","pendingReviewsCustomers","Timeline","LinkToRelatedCustomers","search","Segments","Breadcrumb","TourLauncher","useParams","useTour","running","start","visited","rightButton","newIcon","buyIcon","playedOnIndicator","Tour","tourStateActions","useTourState","playedOn","CardMedia","process","gridContainer","tourStatesActions","TourList","customEnglishMessages","mergeTranslations","englishMessages","raAuditLogLanguageEnglish","add_root","pos","configuration","language","dashboard","monthly_revenue","month_history","new_orders","pending_reviews","new_customers","items","timeline","welcome","ra_button","demo_button","github_button","my_queries","all_customers","all_reviews","bad_reviews","accepted","rejected","pending","commands","first_seen","birthday","last_visited","today","this_week","last_week","this_month","last_month","earlier","fieldGroups","change_password","delete","password_mismatch","amount","delivery","sum","unit_price","date_lte","returned","total_gte","command_id","height_gte","height_lte","stock_lte","width_gte","width_lte","description","categories","no_stock","low_stock","average_stock","enough_stock","best_sellers","average_sellers","low_sellers","never_sold","create_product","relative_to_poster","detail","accept","notification","approved_success","approved_error","rejected_success","rejected_error","compulsive","collector","ordered_once","regular","returns","reviewer","country","created_at","overlay","customFrenchMessages","frenchMessages","raAuditLogLanguageFrench","taxes","subscriptions","addRealtimeMethodsWithFakeTransport","subscribe","topic","subscriptionCallback","unsubscribe","subscription","publish","Error","addSearchMethod","query","all","searchInResource","resultsByResource","resultForResource","q","ResultBuilders","getOne","restProvider","compose","addLocksMethodsBasedOnALockResource","addTreeMethodsBasedOnChildren","simpleRestProvider","delayedDataProvider","Proxy","get","self","setTimeout","createProductEvent","product","author","changePriceEvent","ceil","previousData","changeOrderStatusEvent","newStatus","getRandomId","floor","admins","generateFakeEvents","pickRandomAuthor","pickRandomProduct","command","pickRandomOrder","now","fns","getAllChildrenCategories","parentId","parentCategory","childId","originalCategories","newCategories","generateData","serializeDate","demoData","originalCategory","c","matchingNewCategory","newCategoryId","arrayElement","mergedData","restServer","FakeRest","FetchServer","addRequestInterceptor","request","method","includes","init","toggleLogging","fetchMock","mock","getHandler","restore","messages","en","fr","i18nProvider","buildI18nProvider","enhancedDataProvider","addEventsForMutations","App","restoreFetch","fakeServer","customRoutes","loginPage","layout","Layout","Resource","ReactDOM","document","getElementById","randomCommandBuilder","round","replace","substr","getRandomInt","ms","interval","callback","intervalMs","expirationMs","intervalRef","setInterval","clearInterval","newCommandsIds","before","steps","disableBeacon","joyrideProps","beacon","after","getAttribute","click","encodeURIComponent","nameInput","querySelector","fireEvent","change","saveButton","menuOverlay","setTourPreferences","arrowColor","switcher","then","newCommand","hideBackButton","newCommand1","newCommand2","dispatch","generateIdentity","fetchResponse","lockTile","global","HTMLElement","dataset","productid","lockidentity","unlock","deleteMany","disableScrolling","scrollOffset","scrollTo","focus","defaultIdentities","identities"],"mappings":"iTAKMA,EAAcC,IAAc,CAC9BC,KAAM,OACNC,QAAS,CACLC,KAAM,aAIDC,EAAY,SACrBC,GAEA,MAAO,CAAEC,UAAWA,EAAUD,GAAQE,WAAYA,EAAWF,KAG3DC,EAAY,SAACD,GAAD,MAAiC,CAC/CG,QAAST,EACTU,UAAW,CACPC,UAAW,CAEPC,OAAQ,MAEZC,SAAU,CACNC,WAAW,aAGPC,QAAS,QACRT,EAAMU,YAAYC,KAAK,MAAQ,CAC5BF,QAAS,WAIrBG,cAAe,CACXC,KAAM,CACFC,MAAOpB,EAAYqB,OAAOC,MAC1BC,gBAAiBC,YAAKxB,EAAYqB,OAAOI,MAAO,KAChD,UAAW,CACPF,gBAAiBC,YAAKxB,EAAYqB,OAAOI,MAAO,MAEpD,UAAW,CACPF,gBAAiBC,YAAKxB,EAAYqB,OAAOI,MAAO,MAEpD,iBAAkB,CACdF,gBAAiBC,YAAKxB,EAAYqB,OAAOI,MAAO,OAGxDC,UAAW,CACPC,WAAYH,YAAKxB,EAAYqB,OAAOI,MAAO,KAC3CG,aAAc,GACd,UAAW,CACPD,WAAYH,YAAKxB,EAAYqB,OAAOI,MAAO,MAGnDI,oBAAqB,CACjBT,MAAOpB,EAAYqB,OAAOC,QAGlCQ,UAAW,CACPC,YAAa,CACTC,aAAc,GACdC,MAAO,SAGfC,mBAAoB,CAChBC,YAAa,CACTf,MAAO,SAEXgB,aAAc,CACVb,gBAAiB,YAGzBc,WAAY,CACRlB,KAAM,CACFC,MAAO,SAEXkB,KAAM,CACF,UAAW,CACPlB,MAAO,QACPG,gBAAiBgB,IAAK,QAIlCC,kBAAmB,CACfC,KAAM,CAEF,UAAW,CACPC,UAAW,KAIvBC,aAAc,CACVxB,KAAM,CACFyB,WAAY,SACZC,WAAY,IAGpBC,cAAe,CACX3B,KAAM,CACFyB,WAAY,SACZC,WAAY,GAEhBE,QAAS,CACLH,WAAY,SACZC,WAAY,EACZG,UAAW,QAEfC,QAAS,CACLD,UAAW,YAMrBE,EAAejD,IAAc,CAC/BC,KAAM,QACNC,QAAS,CACLC,KAAM,WAEV+C,UAAW,CACPC,MAAO,UACPhD,KAAM,UACNiD,KAAM,UACNC,aAAc,QAElB3B,WAAY,CACR4B,QAAS,aAIJ/C,EAAa,SAACF,GAAD,MAAiC,CACvDG,QAASyC,EACTM,MAAO,CACH5B,aAAc,IAElBlB,UAAW,CACPG,SAAU,CACNC,WAAW,aAGPC,QAAS,QACRT,EAAMU,YAAYC,KAAK,MAAQ,CAC5BF,QAAS,WAIrBG,cAAe,CACXC,KAAM,CACFC,MAAO8B,EAAaO,KAAKtD,QACzBoB,gBAAiBC,YAAK0B,EAAa7B,OAAOI,MAAO,KACjD,UAAW,CACPF,gBAAiBC,YAAK0B,EAAa7B,OAAOI,MAAO,MAErD,UAAW,CACPF,gBAAiBC,YAAK0B,EAAa7B,OAAOI,MAAO,MAErD,iBAAkB,CACdF,gBAAiBC,YAAK0B,EAAa7B,OAAOI,MAAO,OAGzDC,UAAW,CACPC,WAAYH,YAAK0B,EAAa7B,OAAOI,MAAO,KAC5CG,aAAc,GACd,UAAW,CACPD,WAAYH,YAAK0B,EAAa7B,OAAOI,MAAO,MAGpDI,oBAAqB,CACjBT,MAAO8B,EAAaO,KAAKC,OAGjCC,eAAgB,CACZxC,KAAM,CACFyC,WAAY,kBAEhBC,OAAQ,CACJD,WAAY,sBAGpB1B,mBAAoB,CAChBf,KAAM,CACFC,MAAO,UACP,UAAW,CACPA,MAAO,QACPG,gBAAiBgB,IAAK,QAIlCF,WAAY,CACRlB,KAAM,CACFC,MAAO,YAGf0C,iBAAkB,CACdC,kBAAmB,CACfxC,gBAAiB,SAGzByC,SAAU,CACNC,WAAY,CACRC,UAAW,QAEf/C,KAAM,CACFgD,OAAQ,oBACRC,eAAgB,gBAGxBC,UAAW,CACPC,UAAW,CACP/C,gBAAiB,OACjBH,MAAO,UACP8C,UAAW,SAGnBvD,UAAW,CAEPQ,KAAM,CAAEP,OAAQ,MAChB2D,eAAgB,CACZnD,MAAO,UACPG,gBAAiB,SAGzBiD,kBAAmB,CACfC,aAAc,CACVlD,gBAAiB,WAErBmD,gBAAiB,CACbnD,gBAAiB,YAGzBoD,eAAgB,CACZxD,KAAM,CACFI,gBAAiB,sBACjB,aAAc,CACVA,gBAAiB,yBAI7BO,UAAW,CACPC,YAAa,CACTC,aAAc,GACdC,MAAO,SAGfO,kBAAmB,CACfC,KAAM,CAEF,UAAW,CACPC,UAAW,KAIvBkC,aAAc,CACVzD,KAAM,CACF,UAAW,CACPI,gBAAiB,UAI7BoB,aAAc,CACVxB,KAAM,CACFyB,WAAY,SACZC,WAAY,IAGpBC,cAAe,CACX3B,KAAM,CACFyB,WAAY,SACZC,WAAY,GAEhBE,QAAS,CACLH,WAAY,SACZI,UAAW,OACXH,WAAY,GAEhBI,QAAS,CACLD,UAAW,YCpRrB6B,EAA6B,CAC/BC,MAAO,YAAmB,IAAhBC,EAAe,EAAfA,SAGN,OAFAC,aAAaC,QAAQ,WAAYF,GAE1BG,QAAQC,WAEnBC,OAAQ,WAEJ,OADAJ,aAAaK,WAAW,YACjBH,QAAQC,WAEnBG,WAAY,kBAAMJ,QAAQC,WAC1BI,UAAW,kBACPP,aAAaQ,QAAQ,YAAcN,QAAQC,UAAYD,QAAQO,UACnEC,eAAgB,kBAAMR,QAAQO,OAAO,mBACrCE,YAAa,kBAAMT,QAAQC,QAAQS,KAG1BA,EAAW,CACpBC,GAAI,OACJC,SAAU,WACVC,OACI,2oJAGOlB,I,uGCAAmB,EAvBF,SAACC,GAAD,OACT,6CAAKhE,MAAO,QAASiE,OAAQ,OAAQC,QAAQ,oBAAuBF,GAApE,aACI,oBACIG,aAAW,mBACXC,MAAO,CACHC,WAAY,MAEhBC,WAAY,IACZC,SAAU,MACVC,WAAW,mBACXC,cAAe,EACfC,YAAa,EACbC,YAAa,KACbC,KAAK,UAXT,UAaI,sBAAMC,EAAE,++JACR,sBAAMA,EAAE,u9CACR,sBAAMA,EAAE,kqLACR,sBAAMA,EAAE,gjQCrBL,GACX,CACIjB,GAAI,EACJkB,MAAO,kCACPC,MAAO,iBACPC,KAAM,iBACNC,QAAQ,4FACRC,KAAM,mCAEV,CACItB,GAAI,EACJkB,MAAO,6BACPC,MAAO,YACPC,KAAM,YACNC,QAAQ,+FACRC,KAAM,mCAEV,CACItB,GAAI,EACJkB,MAAO,4CACPC,MAAO,4BACPC,KAAM,2BACNC,QAAQ,iEACRC,KAAM,mCAEV,CACItB,GAAI,EACJkB,MAAO,+BACPC,MAAO,cACPC,KAAM,cACNC,QAAQ,6EACRC,KAAM,mCAEV,CACItB,GAAI,EACJkB,MAAO,wCACPC,MAAO,uBACPC,KAAM,uBACNC,QAAQ,wDACRC,KAAM,mCAEV,CACItB,GAAI,EACJkB,MAAO,2BACPC,MAAO,UACPC,KAAM,UACNC,QAAQ,yJACRC,KAAM,mCAEV,CACItB,GAAI,EACJkB,MAAO,+BACPC,MAAO,cACPC,KAAM,cACNC,QAAQ,uEACRC,KAAM,oCCpCDC,EAAgB,WAA0C,IAAD,EACxBC,YAAe,QAAS,IADA,mBAC3DC,EAD2D,KACzCC,EADyC,KA+BlE,MAAO,CA5BYC,EAAMC,QAAO,SAACC,EAAKT,GAElC,OADAS,EAAIT,EAAKpB,IAAMyB,EAAiBL,EAAKpB,MAAO,EACrC6B,IACR,IAEa,CACZC,aAAc,SAACC,GACX,IAAMC,EAAa,eAAQP,GAC3BO,EAAcD,GAAU,IAAIE,KAC5BP,EAAcM,IAElBE,gBAAiB,WACb,IAAMF,EAAgBL,EAAMC,QAAO,SAACC,EAAKT,GAErC,OADAS,EAAIT,EAAKpB,IAAM,IAAIiC,KACZJ,IACR,IACHH,EAAcM,IAElBG,MAAO,SAACJ,GACJ,IAAMC,EAAa,eAAQP,GAC3BO,EAAcD,QAAUK,EACxBV,EAAcM,IAElBK,SAAU,WACNX,EAAc,QC7BpBY,EAAYC,aAAW,SAAA9H,GAAK,MAAK,CACnCa,KAAM,CACFkH,SAAU,YAEdrB,MAAO,CACHsB,KAAM,EACNC,aAAc,WACdC,WAAY,SACZC,SAAU,SACVC,YAAapI,EAAMqI,QAAQ,IAE/BC,KAAM,CACFC,QAASvI,EAAMqI,QAAQ,EAAG,QAsEnBG,EAlEU,SAAA7C,GACrB,IAAM8C,EAAUZ,IACVa,EAAWC,cAEXC,EAAWC,aAAc,SAAC7I,GAAD,OAC3BA,EAAMU,YAAYC,KAAK,SALG,EAOTmG,IAAdgC,EAPuB,oBAS1BC,EAAgB,EAUpB,OATID,IACAC,EAAgBC,OAAOC,KAAKH,GAAY3B,QAAO,SAACC,EAAKE,GACjD,OAAKwB,EAAWxB,GAGTF,EAFIA,EAAM,IAGlB,IAIH,cAAC8B,EAAA,EAAD,2BAAYvD,GAAZ,IAAmBwD,UAAW,EAA9B,SACKP,EACG,qCAC2B,MAAtBF,EAASU,UACN,cAAC,EAAD,CAAMC,UAAWZ,EAAQH,OAE7B,cAACgB,EAAA,EAAD,CACIC,QAAQ,KACRzI,MAAM,UACNuI,UAAWZ,EAAQ/B,MACnBnB,GAAG,yBAIX,qCACI,cAAC,EAAD,CAAM8D,UAAWZ,EAAQH,OACzB,cAACgB,EAAA,EAAD,CACIC,QAAQ,KACRzI,MAAM,UACNuI,UAAWZ,EAAQ/B,MACnBnB,GAAG,sBAEP,cAACiE,GAAD,IACA,cAACC,EAAA,EAAD,CAAYC,GAAG,SAASC,UAAWC,IAAM9I,MAAM,UAA/C,SACI,cAAC+I,EAAA,EAAD,CACIC,aAAcf,EACdjI,MAAM,QACNyI,QAAQ,MAHZ,SAKI,cAAC,IAAD,QAGR,cAAC,IAAD,IACA,cAAC,IAAD,CACIQ,UAAW,CACP,CAAEC,OAAQ,KAAMC,KAAM,WACtB,CAAED,OAAQ,KAAMC,KAAM,gBAE1BC,gBAAgB,mB,yBC6ClCrC,EAAYC,aAAW,SAAA9H,GAAK,MAAK,CACnCa,KAAM,CACF0B,WAAYvC,EAAMqI,QAAQ,GAC1BnC,SAAU,QAGViE,SAAU,QACV7J,OAAQ,EACR,MAAO,CACH8J,cAAe,gBAKZC,EA3I+B,SAAA1E,GAC1C,IAAM8C,EAAUZ,IACVyC,EAAYC,cAEZC,EAAYF,EAAU,kBACtBG,EAAcH,EAAU,oBAC9B,OACI,eAAC,IAAD,yBAAYjB,UAAWZ,EAAQ5H,MAAU8E,GAAzC,cACI,cAAC,IAAD,CAAyB+E,UAAW,CAAC,SAAU,WAC/C,eAAC,IAAD,CACIT,KAAK,UACLU,MAAOL,EAAU,mBAAoB,GAFzC,UAII,eAAC,IAAD,CACIL,KAAK,WACLU,MAAOL,EAAU,0BAA2B,GAC5CZ,GAAG,YAHP,UAKI,cAAC,IAAD,CACIO,KAAK,OACLU,MAAO,gBAAGC,EAAH,EAAGA,OAAH,gBACAJ,EADA,YAECI,EAAM,WAAOA,EAAOC,UAAd,KAA6B,QAG3CnB,GAAI,gBAAGkB,EAAH,EAAGA,OAAH,OACAA,EAAM,UACGE,YAAa,YAAaF,EAAOrF,IADpC,SAEA,MAGd,cAAC,IAAD,CACI0E,KAAK,SACLU,MAAOF,EACPf,GAAG,wBAGX,cAAC,IAAD,CACIO,KAAK,aACLU,MAAOL,EAAU,4BAA6B,GAFlD,SAII,cAAC,IAAD,CACIL,KAAK,OACLU,MAAO,gBAAGC,EAAH,EAAGA,OAAH,gBACAJ,EADA,YAECI,EAAM,WAAOA,EAAOX,KAAd,KAAwB,eAMlD,cAAC,IAAD,CACIA,KAAK,UACLU,MAAOL,EAAU,yBAA0B,GAC3CZ,GAAG,qBAHP,SAKI,cAAC,IAAD,CACIO,KAAK,gBACLU,MAAO,gBAAGI,EAAH,EAAGA,OAAH,gBACAT,EAAU,cADV,oBACmCA,EAAU,eAAD,OAC5BS,IAFhB,UAOf,eAAC,IAAD,CAAgBd,KAAK,QAAQU,MAAOL,EAAU,iBAAkB,GAAhE,UACI,cAAC,IAAD,CACIL,KAAK,WACLU,MAAOL,EAAU,0BAA2B,GAC5CZ,GAAG,YAHP,SAKI,cAAC,IAAD,CACIO,KAAK,OACLU,MAAO,gBAAGC,EAAH,EAAGA,OAAH,gBACAJ,EADA,YAECI,EAAM,WAAOA,EAAOC,UAAd,KAA6B,QAG3CnB,GAAI,gBAAGkB,EAAH,EAAGA,OAAH,OACAA,EAAM,UACGE,YAAa,YAAaF,EAAOrF,IADpC,SAEA,QAIlB,cAAC,IAAD,CACI0E,KAAK,WACLU,MAAOL,EAAU,0BAA2B,GAC5CZ,GAAG,iBAGX,eAAC,IAAD,CACIO,KAAK,YACLU,MAAOL,EAAU,2BAA4B,GAC7CZ,GAAG,aAHP,UAKI,cAAC,IAAD,CACIO,KAAK,OACLU,MAAO,gBAAGC,EAAH,EAAGA,OAAH,gBACAJ,EADA,YAECI,EAAM,WACIA,EAAOI,WADX,YACyBJ,EAAOK,UADhC,KAEA,QAGdvB,GAAI,gBAAGkB,EAAH,EAAGA,OAAH,OACAA,EAAM,UACGE,YAAa,aAAcF,EAAOrF,IADrC,SAEA,MAGd,cAAC,IAAD,CACI0E,KAAK,SACLU,MAAOF,EACPf,GAAG,yBAGX,cAAC,IAAD,CACIO,KAAK,QACLU,MAAOL,EAAU,uBAAwB,U,sTCzHnDY,GAA0B,SAAC,GAG1B,IAAD,IAFFC,YAEE,MAFK,aAEL,MADFP,cACE,MADO,GACP,EAMF,OALAQ,qBAAU,WACN,IAAMC,EAASC,OAAOC,OAAO,WAAYX,EAAOX,MAChDkB,EAAK,2BAAKP,GAAN,IAAcX,KAAMoB,EAAQG,SAAU,GAAIC,QAAQ,OAEvD,IACI,MAmBIC,GAhByB,SAAA/F,GACpC,IAAMgG,EAAUC,eACVC,EAAWC,eAOjB,OACI,cAACC,GAAA,EAAD,2BAAYpG,GAAZ,IAAmBqG,UANL,WACdH,EAASlG,EAAMsG,UACfN,KAIA,SACI,cAAC,GAAD,CAAQhB,MAAM,sB,0QCzBbuB,GAAuB,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,KAASC,EAAW,yBACjD3D,EAAUZ,KACVyC,EAAYC,cAElB,OACI,8CAAKlB,UAAWZ,EAAQ5H,MAAUuL,GAAlC,cACI,cAACC,GAAA,EAAD,IACA,qBAAKhD,UAAWZ,EAAQ6D,SAAxB,SACI,cAAChD,EAAA,EAAD,CAAYC,QAAQ,QAAQzI,MAAM,UAAlC,SACKwJ,EAAU,0BAA2B,CAClCL,KAAMkC,EAAKG,oBAQ7BzE,GAAYC,aAAW,SAAA9H,GAAK,MAAK,CACnCa,KAAM,CACF0L,IAAK,EACLC,KAAM,EACN7K,MAAO,OACPiE,OAAQ,OACRvE,WAAY,qBACZ0G,SAAU,WACV0E,UAAW,SACX3L,MAAOd,EAAMG,QAAQY,OAAOC,MAC5BuH,QAAS,SAEb+D,SAAU,CACN/J,WAAY,WClBdsF,GAAYC,aAAW,SAAA9H,GAAK,MAAK,CACnC0M,SAAU,CACNC,OAAQ,GAEZC,KAAM,CACF7E,SAAU,YAEd8E,QAAS,CACLxL,WACI,sFAERyL,YAAa,CACT7L,gBAAiBjB,EAAMG,QAAQ8B,KAAK,KACpC2D,OAAQ,QAEZmH,MAAO,CACHtM,QAAS,SACTyF,SAAU,OAEdlE,KAAM,CACFlB,MAAO,YAITkM,GAAkB,SAACrL,GACrB,MAAc,OAAVA,EAAuB,EACb,OAAVA,EAAuB,EACb,OAAVA,EAAuB,EACb,OAAVA,EAAuB,EACpB,GAMLsL,GAAkB,SAAC,GAG8B,IANxCC,EAAoBC,EAI/BxL,EAEkD,EAFlDA,MAEkD,IADlDyL,eACkD,MADxC,GACwC,EAC5C3E,EAAUZ,KAEhB,OACI,cAAC,KAAD,CACIwF,WAAY,IACZC,KAAMN,GAAgBrL,GACtB0H,UAAWZ,EAAQiE,SAHvB,UAVOQ,EAeIE,EAfgBD,EAeP,SAAAI,GAAG,OACf,cAACC,GAAA,EAAD,UACI,qBAAKnE,UAAWZ,EAAQqE,eADTS,IAf/BE,MAAMC,KAAK,CAAEC,OAAQT,IAAc,SAACU,EAAGL,GAAJ,OAAYJ,EAAGI,UAuBhDM,GAAc,SAAC,GAA0C,IAAxCjD,EAAuC,EAAvCA,OACbnC,EAAUZ,KAEhB,OACI,cAACiG,GAAA,EAAD,CACIzE,UAAWZ,EAAQoE,QACnBnG,MAAK,OAAEkE,QAAF,IAAEA,OAAF,EAAEA,EAAQC,UACfkD,SACI,wCACKnD,QADL,IACKA,OADL,EACKA,EAAQjJ,MADb,WACqBiJ,QADrB,IACqBA,OADrB,EACqBA,EAAQhF,OAD7B,IACsC,IAClC,cAACoI,GAAA,EAAD,CACI3E,UAAWZ,EAAQsE,MACnBkB,OAAO,QACPrD,OAAQA,EACR9J,MAAM,UACNoN,QAAS,CACLnI,MAAO,WACPoI,SAAU,eAShCC,GAAiB,SAAC,GAA+C,IAA7CzM,EAA4C,EAA5CA,MAA4C,EAClC0M,eAAxBC,EAD0D,EAC1DA,IAAKC,EADqD,EACrDA,KAAMC,EAD+C,EAC/CA,SACLC,EAAUC,YAAYF,GAA5BD,KACF9F,EAAUZ,KAEV8G,EAAoBC,WAE1B,OAAKN,GAAQC,EAGT,cAAC,KAAD,CACIlB,WAAY,IACZC,KAAMN,GAAgBrL,GACtB0H,UAAWZ,EAAQiE,SACnBmC,eAAa,YAJjB,SAMKP,EAAIQ,KAAI,SAAAvJ,GACL,IAAM4G,EAAOsC,EAAMM,MAAK,SAACC,GAAD,OAAaA,EAAEC,WAAa1J,KAChD4G,IAASwC,EAAkBO,UAC3BP,EAAkBO,QAAU/C,EAAK8C,UAGrC,IAAME,EAAcR,EAAkBO,UAAY3J,EAElD,OACI,eAACiI,GAAA,EAAD,CAEI7D,UAAWwC,EAAO,OAASvC,IAC3BF,GAAIoB,YAAa,YAAavF,GAC9B8D,UAAWZ,EAAQmE,KACnBwC,iBAAgB7J,EAChB8J,oBAAmBlD,EAAOA,EAAKG,cAAW3E,EAC1C2H,cACIH,EAAc,uBAAoBxH,EAR1C,UAWI,qBAAK4H,IAAKhB,EAAKhJ,GAAIiK,UAAWC,IAAI,KAClC,cAAC,GAAD,CAAa7E,OAAQ2D,EAAKhJ,KACzB4G,GAAQ,cAAC,GAAD,CAAaA,KAAMA,MAZvB5G,QAnBC,MAmDfmK,mBAVE,SAAC,GAAwC,IAAtC/N,EAAqC,EAArCA,MAGhB,OAFmB0M,eAAXsB,OAGJ,cAAC,GAAD,CAAgBhO,MAAOA,IAEvB,cAAC,GAAD,CAAiBA,MAAOA,O,qJC3I1BkG,GAAYC,aAAW,SAAA9H,GAAK,YAAK,CACnCa,MAAI,mBACCb,EAAMU,YAAYkP,GAAG,MAAQ,CAC1BjO,MAAO,OACPkO,YAAa,MACb1H,SAAU,YAJd,cAMCnI,EAAMU,YAAYC,KAAK,MAAQ,CAC5BF,QAAS,SAPb,OAwJOqP,GA5ID,SAACnK,GAAoC,IAAD,EACSoK,aACnDpK,GADIqK,EADsC,EACtCA,WAAYC,EAD0B,EAC1BA,aAAcC,EADY,EACZA,iBAI1B3B,EAAS4B,aAAW,cAApB5B,KAEF6B,EAAO7B,EAAO8B,aAAU9B,EAAM,aAAU5G,EAExC2I,EAAsBL,EAAaM,YACnC,CAACN,EAAaM,YAAYC,YACxBJ,EACF,CAACA,EAAK,GAAG7C,UACT5F,EAEA8I,OAC2B9I,IAA7BsI,EAAaM,YACP,CAACN,EAAaM,YAAYC,YAC1B,GAiBJ/H,EAAUZ,KAChB,OACI,cAAC6I,GAAA,EAAD,CAAMrH,UAAWZ,EAAQ5H,KAAzB,SACI,eAAC8P,GAAA,EAAD,WACI,cAACC,GAAA,EAAD,IACA,cAAC,IAAD,IAEA,eAACC,GAAA,EAAD,CACIlG,MAAM,mCACNmG,KAAM,cAAC,KAAD,IAFV,UAII,cAACC,GAAA,EAAD,CACIpG,MAAM,0CACNqG,MAAO,CACHC,eAAWtJ,EACXuJ,SAAU,GACVC,WAAOxJ,KAGf,cAACoJ,GAAA,EAAD,CACIpG,MAAM,6CACNqG,MAAO,CACHC,UAAW,GACXC,SAAU,GACVC,WAAOxJ,KAGf,cAACoJ,GAAA,EAAD,CACIpG,MAAM,yCACNqG,MAAO,CACHC,UAAW,GACXC,SAAU,EACVC,WAAOxJ,KAGf,cAACoJ,GAAA,EAAD,CACIpG,MAAM,wCACNqG,MAAO,CACHC,eAAWtJ,EACXuJ,cAAUvJ,EACVwJ,MAAO,QAKnB,eAACN,GAAA,EAAD,CACIlG,MAAM,mCACNmG,KAAM,cAAC,KAAD,IAFV,UAII,cAACC,GAAA,EAAD,CACIpG,MAAM,sCACNqG,MAAO,CACHI,cAAUzJ,EACV0J,cAAU1J,EACV2J,MAAO,KAGf,cAACP,GAAA,EAAD,CACIpG,MAAM,uCACNqG,MAAO,CACHI,SAAU,GACVC,SAAU,EACVC,WAAO3J,KAGf,cAACoJ,GAAA,EAAD,CACIpG,MAAM,2CACNqG,MAAO,CACHI,SAAU,GACVC,SAAU,EACVC,WAAO3J,KAGf,cAACoJ,GAAA,EAAD,CACIpG,MAAM,0CACNqG,MAAO,CACHI,cAAUzJ,EACV0J,SAAU,GACVC,WAAO3J,QAKnB,cAACkJ,GAAA,EAAD,CACIlG,MAAM,wCACNmG,KAAM,cAAC,KAAD,IAFV,SAII,cAACS,GAAA,EAAD,CAMIC,SAAUpB,EAAOA,EAAK,GAAG5E,SAAW,GACpCiG,SA7GS,SACzBC,EADyB,GAGjB,IADNC,EACK,EADLA,cAEOpM,EADF,YACUoM,EADV,MACEpM,GAETyK,EAAW,2BAEAC,GAFD,IAGFM,YAAahL,IAEjB2K,IAmGYO,oBAAqBA,EACrBH,oBAAqBA,EACrBsB,kBAAgB,GALXC,KAAKC,kBC9H5BC,GAAuBjK,aAAW,SAAA9H,GAAK,MAAK,CAC9Ca,KAAM,CACFmR,aAAchS,EAAMqI,QAAQ,QAI9B4J,GAAc,SAAC,GAAyC,IAAvCtH,EAAsC,EAAtCA,MACbL,EAAYC,cACZ9B,EAAUsJ,KAChB,OAAO,cAACG,GAAA,EAAD,CAAM7I,UAAWZ,EAAQ5H,KAAM8J,MAAOL,EAAUK,MAG9CwH,GAAgB,SACzBxM,GADyB,OAGzB,eAAC,IAAD,2BAAoBA,GAApB,cACI,cAACyM,GAAA,EAAD,CAAanE,OAAO,IAAIoE,UAAQ,IAChC,cAACC,GAAA,EAAD,CACIrE,OAAO,cACPpD,UAAU,aACV0H,KAAM,CAAEC,MAAO,KAAMC,MAAO,OAHhC,SAKI,cAACC,GAAA,EAAD,CAAazE,OAAO,WAExB,cAAC0E,GAAA,EAAD,CAAa1E,OAAO,cACpB,cAAC0E,GAAA,EAAD,CAAa1E,OAAO,cACpB,cAAC0E,GAAA,EAAD,CAAa1E,OAAO,eACpB,cAAC0E,GAAA,EAAD,CAAa1E,OAAO,eACpB,cAAC,GAAD,CACItD,MAAM,sCACNsD,OAAO,YACP2E,aAAc,UAKpBC,GAAc,SAAC,GAEyC,IAD1DC,EACyD,EADzDA,QAEMrK,EAAUsK,KAEhB,OACI,eAACC,GAAA,EAAD,CAAY3J,UAAWZ,EAAQ5H,KAA/B,UACI,cAAC,EAAD,CAAkB0I,QAAQ,YACzBuJ,GAAW,cAAC,GAAD,CAAeG,QAAQ,WACnC,cAACC,GAAA,EAAD,CAAYC,OAAQ,CAAC,YAAa,QAAS,WAC3C,cAACC,GAAA,EAAD,CAAcnH,SAAS,cACvB,cAACoH,GAAA,EAAD,QAKNN,GAAuBjL,aAAW,SAAA9H,GAAK,MAAK,CAC9Ca,KAAM,CACFyS,cAAe,EACf/Q,WAAYvC,EAAMqI,QAAQ,QA4BrBkL,GAAkB,SAAC,GAUX,IATjBT,EASgB,EAThBA,QASgB,IARhBrQ,eAQgB,MARN,cAAC,GAAD,CAAaqQ,QAASA,IAQhB,EAPhBU,EAOgB,EAPhBA,MACA9M,EAMgB,EANhBA,MAOQ+M,EAAiBpF,eAAjBoF,aACFhL,EAAUZ,KAChB,OACI,sBAAKwB,UAAWZ,EAAQ5H,KAAxB,UACI,cAAC6S,GAAA,EAAD,CAAOhN,MAAOA,GAAS+M,IACtBhR,EACAqQ,GACG,cAACa,GAAA,EAAD,CAAKC,EAAG,EAAR,SACI,cAAC,GAAD,CAAeX,QAAQ,WAG/B,eAACU,GAAA,EAAD,CAAKlT,QAAQ,OAAb,WACe,IAAV+S,EAAkB,cAAC,GAAD,IAAY,KAC/B,eAACG,GAAA,EAAD,CACIhS,MACImR,IAAqB,IAAVU,EACL,OACA,oBAJd,UAOI,cAAC,GAAD,IACA,cAACK,GAAA,EAAD,CAAYC,mBAAoB,CAAC,GAAI,GAAI,gBAO9CC,GA/DoB,SAAC,GAA2B,IAAzBtR,EAAwB,EAAxBA,QAAYkD,EAAY,4BAC1DqO,YAAqB,oBACrB,IAAMlB,EAAUjK,aAAqB,SAAA7I,GAAK,OAAIA,EAAMU,YAAYC,KAAK,SAErE,OACI,cAACsT,GAAA,EAAD,yBACIC,QAASpB,EAAU,cAAC,GAAD,SAAoBnL,EACvCwM,QAAS,GACT5B,KAAM,CAAEC,MAAO,YAAaC,MAAO,QAC/B9M,GAJR,aAMI,cAAC,GAAD,CACIlD,QAASA,EACTqQ,QAASA,EACTU,MAAO7N,EAAM6N,MACb9M,MAAOf,EAAMe,YAkDvBmB,GAAYC,aAAW,SAAA9H,GAAK,MAAK,CACnCa,KAAM,CACFuB,WAAYpC,EAAMqI,QAAQ,QC1H5B+L,GAAgB,SAACzO,GAAqC,IAAD,MAC/B0O,cAAfC,EAD8C,oBAQvD,MALmC,MAA/B,UAAA3O,EAAMiF,cAAN,eAAcrF,GAAGiL,YACjB8D,EAAY,sBAEZA,EAAY,0BAA2B3O,GAEpC,yCAAOA,EAAMiF,cAAb,aAAO,EAAcX,QAG1BsK,GAAoB,SAAC5O,GAAoC,IACnDJ,EAAOI,EAAPJ,GADkD,EAGrBiP,aACjC,WACA,CAAEC,KAAM,EAAGN,QAAS,IACpB,CAAE3B,MAAO,YAAaC,MAAO,OAC7B,CAAElC,YAAahL,IAJXgJ,EAHkD,EAGlDA,KAAMD,EAH4C,EAG5CA,IAAKoG,EAHuC,EAGvCA,MAAO/E,EAHgC,EAGhCA,OAM1B,OACI,cAACgF,GAAA,EAAD,CACI3D,MAAO,CACHzC,OACAD,MACAoG,QACA/E,SACAnB,SAAU,WACVyB,aAAc,GACd2E,WAAY,aACZC,WAAY,aACZC,QAAS,aACTC,YAAa,CAAEvC,MAAO,YAAaC,MAAO,OAC1CgC,KAAM,EACNN,QAAS,IAbjB,SAgBI,cAAC,GAAD,CAAiBrB,SAAS,EAAOU,OAAO,EAAO/Q,SAAS,OAKrDuS,GA7DqB,SAAArP,GAChC,IAAM2E,EAAYC,cACZ9B,EAAUZ,KAEhB,OACI,qCACI,cAACoN,GAAA,EAAD,yBAAMvO,MAAO,cAAC,GAAD,KAAuBf,GAApC,aACI,cAACuP,GAAA,EAAD,UACI,cAACC,GAAA,EAAD,CAAWlH,OAAO,cAG1B,cAAC3E,EAAA,EAAD,CAAYD,UAAWZ,EAAQsF,SAAUxE,QAAQ,KAAjD,SACKe,EAAU,0BAA2B,CAAE8K,YAAa,MAEzD,cAAC,GAAD,eAAuBzP,QAiD7BkC,GAAYC,aAAW,SAAA9H,GAAK,MAAK,CACnC+N,SAAU,CACN3L,UAAWpC,EAAMqI,QAAQ,QC7ElB,IACXgN,KCIgC,SAAA1P,GAEhCqO,YAAqB,sBAFoB,IAIjCsB,EAAiBC,aAAkB,CACvC/G,SAAU7I,EAAM6I,SAChBgH,WAAY,SAFRF,aAUR,OALAlK,qBAAU,WACNkK,EAAa,CAAC,QAEf,IAGC,qCACI,cAAC,EAAD,IACA,cAACG,GAAA,EAAD,aACIC,OAAQhK,GACRiK,KAAMX,GACNQ,WAAW,OACXI,WAAS,EACTC,oBAAkB,EAClBpF,oBAAqB,CAAC,MAClB9K,QD3BhBmL,KAAMgF,M,sMEoCJjO,GAAYC,YAAW,CACzBjH,KAAM,CACFyS,cAAe,GAEnByC,UAAW,CACPxN,QAAS,UAEbyN,SAAU,CACN,WAAY,CACRzN,QAAS,WAGjB0N,cAAe,CACXtJ,OAAQ,SACR,gBAAiB,CACbvK,UAAW,GAEf,eAAgB,CACZ4P,aAAc,IAGtBkE,YAAa,CACTC,UAAW,QACXC,UAAW,OACXzJ,OAAQ,EACRtL,WAAY,UAIdgV,GAAgBC,sBAAgC,WAAeC,GAAS,IAArB/K,EAAoB,EAApBA,SAC/C/C,EAAUZ,KAEhB,OACI,qBAAK0O,IAAKA,EAAKlN,UAAWZ,EAAQwN,cAAlC,SACKzK,OAIb6K,GAAcG,YAAc,gBAE5B,IAAMC,GAGD,SAAC,GAAuC,IAArCC,EAAoC,EAApCA,cAAeC,EAAqB,EAArBA,eACblO,EAAUZ,KACV0O,EAAMK,iBAA8B,MAE1C,OACI,qCACI,cAACtN,EAAA,EAAD,CACIC,QAAQ,WACRsN,cAAY,EAEZlN,UAAU,MACV4M,IAAKA,EALT,+BAGQ,+BAMR,cAAC,IAAD,CAEIO,WAAYJ,EACZK,QAASJ,EACTtN,UAAWZ,EAAQyN,aAHf,kCAYdc,GAGD,SAAC,GAAD,IAAGC,EAAH,EAAGA,KAAMC,EAAT,EAASA,QAAT,OACD,qCACI,cAAC5N,EAAA,EAAD,CACIC,QAAQ,WACRsN,cAAY,EAEZlN,UAAU,MAJd,mBAGQ,4BAMR,eAACwN,GAAA,EAAD,WACI,cAACC,GAAA,EAAD,CACItW,MAAgB,UAATmW,EAAmB,UAAY,UACtCI,QAAS,kBAAYH,EAAQ,UAC7BvM,MAAM,QAHV,SAKI,cAAC,KAAD,MAEJ,cAACyM,GAAA,EAAD,CACItW,MAAgB,SAATmW,EAAkB,UAAY,UACrCI,QAAS,kBAAYH,EAAQ,SAC7BvM,MAAM,OAHV,SAKI,cAAC,KAAD,QAbS,+BAmBnB2M,GAaD,SAAC,GAcC,IAbHjO,EAaE,EAbFA,UACAsN,EAYE,EAZFA,eACAzC,EAWE,EAXFA,QACAqD,EAUE,EAVFA,mBAGAC,GAOE,EATFC,QASE,EARFC,QAQE,EAPFF,iBACAG,EAME,EANFA,WACAC,EAKE,EALFA,gBACAlB,EAIE,EAJFA,cACAQ,EAGE,EAHFA,QACAD,EAEE,EAFFA,KACG7K,EACD,sLAC8BwC,IAAMiJ,SAAS,MAD7C,mBACKC,EADL,KACeC,EADf,KAEItP,EAAUZ,KACVmQ,EAAOC,QAAQH,GAHnB,EAaEzJ,eARApC,EALF,EAKEA,SACA8I,EANF,EAMEA,YACA7E,EAPF,EAOEA,iBACAgI,EARF,EAQEA,SACAjI,EATF,EASEA,aACAzB,EAVF,EAUEA,SACAoG,EAXF,EAWEA,WACAF,EAZF,EAYEA,MAWEyD,EAAWZ,GAAsBC,EAEvC,OACI,eAACxE,GAAA,EAAD,yBACI3J,UAAW+O,KAAW/O,EAAWZ,EAAQ5H,OACrCwX,aAAsBjM,IAF9B,cAII,cAAC,EAAD,CAAkB7C,QAAQ,YACzB2K,GACGoE,uBAAapE,EAAS,CAClB1F,WACAoG,aACA1E,mBACAD,eACAgD,QAAS,WAEjB,cAACG,GAAA,EAAD,CAAcnH,SAAUA,IACvBiM,GACG,cAAC7E,GAAA,EAAD,CACIkF,SAAoB,IAAV7D,EACVlG,SAAUA,EACV+D,KAAMwC,EACN9E,aAAY,2BAAOA,GAAiB2H,GACpCM,SAAUA,EACVP,WAAYA,IAInBQ,GACG,qCACI,cAAC1O,EAAA,EAAD,CACI3D,aAAW,OACX0S,gBAAc,uBACdC,gBAAc,OACdpB,QA1CA,SAACqB,GACjBX,EAAYW,EAAMC,gBA0CFC,KAAK,QALT,SAOI,cAAC,KAAD,MAEJ,eAAC,KAAD,CACIrT,GAAG,uBACHuS,SAAUA,EACVe,aAAW,EACXb,KAAMA,EACNc,QAhDA,WAChBf,EAAY,OAgDItP,QAAS,CACLsQ,MAAOtQ,EAAQsN,UACfV,KAAM5M,EAAQuN,UARtB,UAWKwB,GACG,cAACnB,GAAD,UACI,cAAC,GAAD,CAAgBY,KAAMA,EAAMC,QAASA,MAG5CK,GACG,cAAClB,GAAD,UACI,cAAC,GAAD,CACIK,cAAeA,EACfC,eAAgBA,iBAgHrCqC,GA9DX,SAAArT,GAAU,IAEN0D,EAYA1D,EAZA0D,UACAqN,EAWA/Q,EAXA+Q,cAHK,EAcL/Q,EATA4R,0BALK,WAcL5R,EARAgR,sBANK,MAMY,GANZ,IAcLhR,EAPAsT,6BAPK,MAOmB,GAPnB,IAcLtT,EALA6R,uBATK,WAcL7R,EAJAuT,mBAVK,MAUS,QAVT,EAYL1N,GAEA7F,EAHAwT,iBAGAxT,EAFA6F,UACGY,EAbE,aAcLzG,EAdK,2JAeHyT,EAAiBC,YAAmB,CACtCC,YAAY,GAAD,OAAK5C,EAAL,YACXK,QAASJ,EACT4C,KAAMN,IAlBD,EAqBelS,YAAc,UAC/B2P,EAD+B,SAElCwC,GAvBK,mBAqBFjC,EArBE,KAqBIC,EArBJ,KA0BHsC,EAAmBC,mBACrB,kBAAMjO,EAAS,2BAAKY,GAAN,IAAY2K,QAASqC,EAAgBnC,YACnD,CAACmC,EAAgBnC,EAAMzL,EAAUY,IAcrC,OACI,cAAC,IAAD,2BACQA,GADR,IAEI/C,UAAWA,EACX5G,QACI,cAAC,GAAD,CACIiU,cAAa,UAAKA,EAAL,YACba,mBAAoBA,EACpBZ,eAAgBA,EAChBa,gBAAiBA,EACjBP,KAAMA,EACNC,QAASA,IAVrB,SAcKsC,MC1WE,IACX,CAAEjU,GAAI,aAAc0E,KAAM,sCAC1B,CAAE1E,GAAI,YAAa0E,KAAM,qCACzB,CAAE1E,GAAI,eAAgB0E,KAAM,wCAC5B,CAAE1E,GAAI,UAAW0E,KAAM,mCACvB,CAAE1E,GAAI,UAAW0E,KAAM,mCACvB,CAAE1E,GAAI,WAAY0E,KAAM,qCCAtBpC,GAAYC,YAAW,CACzBhI,KAAM,CACFW,QAAS,OACTiZ,SAAU,OACVtX,WAAY,EACZ4P,cAAe,GAEnB2H,KAAM,CAAEhN,OAAQ,KAGdiN,GAAgC,SAAC,GAAgB,IAAdhP,EAAa,EAAbA,OAC/BN,EAAYC,cACZ9B,EAAUZ,KAEhB,OAAO+C,EACH,sBAAMvB,UAAWZ,EAAQ3I,KAAzB,SACK8K,EAAOiP,QACJjP,EAAOiP,OAAO/K,KAAI,SAAAgL,GACd,IAAMC,EAAUC,GAASjL,MAAK,SAAAkL,GAAC,OAAIA,EAAE1U,KAAOuU,KAE5C,OAAOC,EACH,cAAC7H,GAAA,EAAD,CAEI7I,UAAWZ,EAAQkR,KACnBhP,MAAOL,EAAUyP,EAAQ9P,OAFpB8P,EAAQxU,IAIjB,UAGhB,MAGRqU,GAAcM,aAAe,CACzBC,UAAU,EACVlM,OAAQ,UAGG2L,UCrCT/R,GAAYC,YAAW,CACzBsS,MAAO,CAAEzY,MAAO,OAOd0Y,GAA0B,SAAA1U,GAC5B,IAAM2E,EAAYC,cACZ9B,EAAUZ,KAChB,OACI,cAAC6K,GAAA,EAAD,2BACQ/M,GADR,IAEI2U,QAASN,GAASlL,KAAI,SAAAiL,GAAO,MAAK,CAC9BxU,GAAIwU,EAAQxU,GACZ0E,KAAMK,EAAUyP,EAAQ9P,UAE5BZ,UAAWZ,EAAQ2R,UAK/BC,GAAaH,aAAe,CACxBjM,OAAQ,UAGGoM,U,0CCdAE,GATgB,SAAC,GAAD,IAAG3P,EAAH,EAAGA,OAAH,IAAWgO,YAAX,MAAkB,KAAlB,EAAwBvP,EAAxB,EAAwBA,UAAxB,OAC3BuB,EACI,cAAC4P,GAAA,EAAD,CACIjL,IAAG,UAAK3E,EAAOnF,OAAZ,iBAA2BmT,EAA3B,YAAmCA,GACtC7S,MAAO,CAAEpE,MAAO8Y,SAAS7B,EAAM,IAAKhT,OAAQ6U,SAAS7B,EAAM,KAC3DvP,UAAWA,IAEf,MCVFxB,GAAYC,aAAW,SAAA9H,GAAK,MAAK,CACnCa,KAAM,CACFJ,QAAS,OACTiZ,SAAU,SACVpX,WAAY,UAEhBmD,OAAQ,CACJoK,YAAa7P,EAAMqI,QAAQ,QAsB7BqS,GAAoBC,MAdO,SAAC,GAAsB,IAApB/P,EAAmB,EAAnBA,OAAQgO,EAAW,EAAXA,KAClCnQ,EAAUZ,KAChB,OAAO+C,EACH,sBAAKvB,UAAWZ,EAAQ5H,KAAxB,UACI,cAAC,GAAD,CACIwI,UAAWZ,EAAQhD,OACnBmF,OAAQA,EACRgO,KAAMA,IAEThO,EAAOI,WANZ,IAMyBJ,EAAOK,aAEhC,QAKRyP,GAAkBR,aAAe,CAC7BjM,OAAQ,YACRtD,MAAO,mCAGI+P,UCrCTE,GAA8C,SAAAjV,GAAK,OACrDA,EAAMiF,OACF,cAAChB,GAAA,EAAD,CAAMF,GAAE,qBAAgB/D,EAAMiF,OAAOrF,IAArC,SACI,cAAC,GAAD,eAAmBI,MAEvB,MAERiV,GAAkBV,aAAe,CAC7BjM,OAAQ,cACRkM,UAAU,GAGCS,UCfTC,GAAqB,SAAClV,GAAD,OACvBA,EAAMiF,QAAUjF,EAAMsI,OAClBtI,EAAMiF,OAAOjF,EAAMsI,QAAU,IACzB,sBAAMlI,MAAO,CAAEjF,MAAO,OAAtB,SACI,cAACkN,GAAA,EAAD,eAAiBrI,MAGrB,cAACqI,GAAA,EAAD,eAAiBrI,IAErB,MAERkV,GAAmBX,aAAelM,KAAYkM,aAE/BW,U,sBCGThT,GAAYC,aAAW,SAAA9H,GAAK,MAAK,CACnCa,KAAM,CAAE8L,OAAQ,OAChBmO,KAAM,CACFlV,OAAQ,OACRnF,QAAS,OACTsa,cAAe,SACfpO,OAAQ,YAEZqO,iBAAkB,CACdva,QAAS,OACTsa,cAAe,MACfzY,WAAY,SACZ2Y,eAAgB,iBAEpBC,YAAY,2BACLlb,EAAMmb,WAAWC,OADb,IAEP3a,QAAS,OACTsa,cAAe,eAyERM,GArEQ,SAAA1V,GACnB,IAAM2E,EAAYC,cACZ9B,EAAUZ,KAFY,EAGIwG,aAAe1I,GAAvC2I,EAHoB,EAGpBA,IAAKC,EAHe,EAGfA,KAAMtC,EAHS,EAGTA,SAEnB,OAAKqC,GAAQC,EAKT,qBAAKlF,UAAWZ,EAAQ5H,KAAxB,SACKyN,EAAIQ,KAAI,SAAAvJ,GAAE,OACP,eAACmL,GAAA,EAAD,CAAerH,UAAWZ,EAAQqS,KAAlC,UACI,cAACQ,GAAA,EAAD,CACI5U,MACI,sBAAK2C,UAAWZ,EAAQuS,iBAAxB,UACI,uCAAQzM,EAAKhJ,GAAIyF,WAAjB,YAA+BuD,EAAKhJ,GAAI0F,aACxC,cAAC,KAAD,CACIuD,SAAS,WACTvC,SAAUA,EACVrB,OAAQ2D,EAAKhJ,QAIzBE,OAAQ,cAAC,GAAD,CAAamF,OAAQ2D,EAAKhJ,GAAKqT,KAAK,SAEhD,eAACjI,GAAA,EAAD,CAAatH,UAAWZ,EAAQyS,YAAhC,UACI,gCACK5Q,EACG,4CAFR,OAKI,cAACiR,GAAA,EAAD,CAAW3Q,OAAQ2D,EAAKhJ,GAAK0I,OAAO,iBAExC,gCACK3D,EACG,0BACAiE,EAAKhJ,GAAIiW,aAAe,GAHhC,YAMI,cAACxN,GAAA,EAAD,CACIpD,OAAQ2D,EAAKhJ,GACb0I,OAAO,cACPtD,MAAM,2CAGd,gCACKL,EACG,0CAFR,SAIa,IACT,cAAC,GAAD,CACIM,OAAQ2D,EAAKhJ,GACb0I,OAAO,cACPC,QAAS,CAAEnI,MAAO,WAAYoI,SAAU,eAInDI,EAAKhJ,GAAIsU,QAAUtL,EAAKhJ,GAAIsU,OAAOlM,OAAS,GACzC,cAACgD,GAAA,EAAD,CAAatH,UAAWZ,EAAQyS,YAAhC,SACI,cAAC,GAAD,CAAetQ,OAAQ2D,EAAKhJ,SAhD7BA,QANZ,M,qBCjCTsC,GAAYC,aAAW,SAAA9H,GAAK,MAAK,CACnCa,KAAM,CACF8L,OAAQ,MACRlM,QAAS,OACTiZ,SAAU,OACVpX,WAAY,UACZ2Y,eAAgB,iBAEpBH,KAAM,CACFnZ,MAAO,IACPlB,QAAS,OACTsa,cAAe,SACfpO,OAAQ,YAEZqO,iBAAkB,CACdva,QAAS,OACTsa,cAAe,SACfzY,WAAY,SACZyF,SAAU,YAEd0T,WAAY,CACR1T,SAAU,WACVwE,IAAK,EACLmP,MAAO,GAEXR,YAAY,2BACLlb,EAAMmb,WAAWC,OADb,IAEP3a,QAAS,OACTsa,cAAe,eAoFRY,GA5EgB,SAAC,GAAyB,IAAvBxI,EAAsB,EAAtBA,OAAW/G,EAAW,2BAC9C9B,EAAYC,cACZ9B,EAAUZ,KAFoC,EAGpBwG,aAAejC,GAAvCkC,EAH4C,EAG5CA,IAAKC,EAHuC,EAGvCA,KAAMtC,EAHiC,EAGjCA,SAEnB,OAAKqC,GAAQC,EAKT,qBAAKlF,UAAWZ,EAAQ5H,KAAxB,SACKyN,EAAIQ,KAAI,SAAAvJ,GAAE,OACP,cAACmL,GAAA,EAAD,CAAerH,UAAWZ,EAAQqS,KAAlC,SACI,eAACnK,GAAA,EAAD,CAAatH,UAAWZ,EAAQyS,YAAhC,UACI,sBAAK7R,UAAWZ,EAAQuS,iBAAxB,UACI,cAAC,GAAD,CAAapQ,OAAQ2D,EAAKhJ,GAAKqT,KAAK,QACpC,uCAAQrK,EAAKhJ,GAAIyF,WAAjB,YAA+BuD,EAAKhJ,GAAI0F,aAExC,cAACxB,EAAA,EAAD,CACI3I,MAAM,YACNgF,aAAW,OACX6D,UAAWiS,IACXvS,UAAWZ,EAAQgT,WACnB/R,GAAIoB,YAAamB,EAAU1G,GAL/B,SAOI,cAAC,KAAD,SAGP4N,EACI0I,QACG,SAAArJ,GAAK,MAA2B,gBAAvBA,EAAM7M,MAAMsI,UAExB4N,QAAO,SAAArJ,GAAK,QAAMjE,EAAKhJ,GAAIiN,EAAM7M,MAAMsI,WACvCa,KAAI,SAAA0D,GACD,IAAMsJ,EAAYtJ,EAAM7M,MAAMsI,OAE9B,OACI,sBAEIlI,MAAO,CACHtF,QAAS,OACTiZ,SAAU,QAJlB,UAOI,qBACI3T,MAAO,CACH8J,YAAa,MACbmC,aAAc,QACd5P,UAAW,OAJnB,SAOKkI,EAAU,8BAAD,OACwBwR,MAGtC,qBACI/V,MAAO,CACHmC,WAAY,SACZ8J,aAAc,QACd5P,UAAW,OAJnB,SAOKkW,uBAAa9F,EAAO,CACjB5H,OAAQ2D,EAAKhJ,SAzBhBuW,UA1BlBvW,QANZ,M,wECnCTmL,GAAOqL,cAAW,SAAA/b,GAAK,YAAK,CAC9Ba,MAAI,GACAmb,WAAY,GADZ,cAEChc,EAAMU,YAAYkP,GAAG,MAAQ,CAC1B6C,OAAQ,EACR9Q,MAAO,OACPkO,YAAa,QALjB,cAOC7P,EAAMU,YAAYC,KAAK,MAAQ,CAC5BF,QAAS,SARb,MADKsb,CAYTE,MAoHWnM,GAlHG,kBACd,cAAC,GAAD,UACI,eAACa,GAAA,EAAD,WACI,cAACC,GAAA,EAAD,IACA,sBAAMrL,GAAG,oBAAT,SACI,cAAC,IAAD,MAEJ,eAACsL,GAAA,EAAD,CACIlG,MAAM,2CACNmG,KAAM,cAAC,KAAD,IAFV,UAII,cAACC,GAAA,EAAD,CACIpG,MAAM,oCACNqG,MAAO,CACHkL,cAAeC,4BAAiBC,cAChCC,mBAAe1U,KAGvB,cAACoJ,GAAA,EAAD,CACIpG,MAAM,wCACNqG,MAAO,CACHkL,cAAeI,uBAAY,IAAI9U,MAAQ4U,cACvCC,mBAAe1U,KAGvB,cAACoJ,GAAA,EAAD,CACIpG,MAAM,wCACNqG,MAAO,CACHkL,cAAeK,oBACXD,uBAAY,IAAI9U,MAChB,GACF4U,cACFC,cAAeC,uBAAY,IAAI9U,MAAQ4U,iBAG/C,cAACrL,GAAA,EAAD,CACIpG,MAAM,yCACNqG,MAAO,CACHkL,cAAeM,wBAAa,IAAIhV,MAAQ4U,cACxCC,mBAAe1U,KAGvB,cAACoJ,GAAA,EAAD,CACIpG,MAAM,yCACNqG,MAAO,CACHkL,cAAeO,qBACXD,wBAAa,IAAIhV,MACjB,GACF4U,cACFC,cAAeG,wBAAa,IAAIhV,MAAQ4U,iBAGhD,cAACrL,GAAA,EAAD,CACIpG,MAAM,sCACNqG,MAAO,CACHkL,mBAAevU,EACf0U,cAAeI,qBACXD,wBAAa,IAAIhV,MACjB,GACF4U,oBAKd,eAACvL,GAAA,EAAD,CACIlG,MAAM,0CACNmG,KAAM,cAAC,KAAD,IAFV,UAII,cAACC,GAAA,EAAD,CACIpG,MAAM,kBACNqG,MAAO,CACH0L,gBAAiB,EACjBC,qBAAiBhV,KAGzB,cAACoJ,GAAA,EAAD,CACIpG,MAAM,mBACNqG,MAAO,CACH0L,qBAAiB/U,EACjBgV,gBAAiB,QAK7B,eAAC9L,GAAA,EAAD,CACIlG,MAAM,6CACNmG,KAAM,cAAC,KAAD,IAFV,UAII,cAACC,GAAA,EAAD,CACIpG,MAAM,kBACNqG,MAAO,CAAE4L,gBAAgB,KAE7B,cAAC7L,GAAA,EAAD,CACIpG,MAAM,mBACNqG,MAAO,CAAE4L,gBAAgB,QAIjC,cAAC/L,GAAA,EAAD,CACIlG,MAAM,oCACNmG,KAAM,cAAC,KAAD,IAFV,SAIKkJ,GAASlL,KAAI,SAAAiL,GAAO,OACjB,cAAChJ,GAAA,EAAD,CACIpG,MAAOoP,EAAQ9P,KAEf+G,MAAO,CAAE6I,OAAQE,EAAQxU,KADpBwU,EAAQxU,eCnH/BsX,GAAoB,SAAClX,GAAD,OACtB,eAAC,IAAD,2BAAoBA,GAApB,cACI,cAACyM,GAAA,EAAD,CAAanE,OAAO,IAAIoE,UAAQ,IAChC,cAACyK,GAAA,EAAD,CAAW7O,OAAO,kBAClB,cAAC8O,GAAA,EAAD,CAAsB9O,OAAO,gBAC7B,cAAC8O,GAAA,EAAD,CAAsB9O,OAAO,iBAAiB2E,cAAY,IAC1D,cAAC,GAAD,SAIFoK,GAAoB,CACtBC,SAAU,cAAC,GAAD,IACVC,UAAW,cAAC3B,GAAA,EAAD,CAAWtN,OAAO,cAC7BuN,YAAa,cAACxN,GAAA,EAAD,CAAaC,OAAO,cAActD,MAAM,aACrDwS,YACI,cAAC,GAAD,CACIlP,OAAO,cACPC,QAAS,CAAEnI,MAAO,WAAYoI,SAAU,SAGhDiP,gBAAiB,cAAC7B,GAAA,EAAD,CAAWtN,OAAO,kBAAkBoP,UAAQ,IAC7DT,eAAgB,cAACU,GAAA,EAAD,CAAcrP,OAAO,iBAAiBtD,MAAM,UAC5DqP,SAAU,cAAC,GAAD,KA+CCuD,GA5CoB,SAAA5X,GAC/B,IAAM6X,EAAW3U,aAAqB,SAAA7I,GAAK,OACvCA,EAAMU,YAAYC,KAAK,SAE3BqT,YAAqB,aACrB,IAAMlB,EAAUjK,aAAqB,SAAA7I,GAAK,OAAIA,EAAMU,YAAYC,KAAK,SAErE,OACI,cAAC,GAAD,2BACQgF,GADR,IAEI+Q,cAAc,gBACda,oBAAkB,EAClBZ,eAAgBqG,GAChBxF,iBAAe,EACftD,QAASpB,EAAU,cAAC,GAAD,SAAoBnL,EACvC6L,MAAO,cAACiK,GAAD,IACPlL,KAAM,CAAEC,MAAO,YAAaC,MAAO,QACnC0B,QAAS,GATb,SAWK,YAQmB,IAPhB4C,EAOe,EAPfA,QACAE,EAMe,EANfA,KAKG7K,GACY,EALfsL,QAKe,EAJfD,QAIe,EAHfiG,QAGe,EAFfC,UAEe,8EACf,OAAIH,EACO,cAAC,GAAD,IAEE,SAATvG,EACO,cAAC,GAAD,CAAa9D,OAAQ4D,IAG5B,cAAC6G,GAAA,EAAD,yBAAUC,SAAS,QAAWzR,GAA9B,aACK2K,U,gCCpDnBlP,GAAYC,YAjBwB,CACtCkD,WAAY,CAAEvK,QAAS,gBACvBwK,UAAW,CAAExK,QAAS,eAAgBqd,WAAY,IAClDC,MAAO,CAAEpc,MAAO,KAChBqc,QAAS,CAAE7T,SAAU,KACrB8T,QAAS,CAAExd,QAAS,gBACpByd,KAAM,CAAEzd,QAAS,eAAgBqd,WAAY,IAC7ClX,QAAS,CACLuD,SAAU,OACVhC,SAAU,SACVF,aAAc,WACdC,WAAY,UAEhBiW,SAAU,CAAE1d,QAAS,gBACrB2d,iBAAkB,CAAE3d,QAAS,eAAgBqd,WAAY,MAKhDO,GAAoB,SAAC,GAMtB,IALRF,EAKO,EALPA,SACAC,EAIO,EAJPA,iBAKME,EAAS,GAQf,OANIH,GAAYC,GAAoBD,IAAaC,IAC7CE,EAAOF,iBAAmB,CACtB,iDAIDE,GAuDLC,GAAmB,CAACC,gBAEpBC,GAAe,SAAC,GAAgD,IAA9C9T,EAA6C,EAA7CA,MACdL,EAAYC,cAElB,OACI,cAACjB,EAAA,EAAD,CAAYC,QAAQ,KAAKsN,cAAY,EAArC,SACKvM,EAAUK,MAKjB+T,GAAY,kBAAoB,cAAC/K,GAAA,EAAD,CAAKgL,GAAG,SAE/BC,GAlEO,SAACjZ,GACnB,IAAM8C,EAAUZ,GAAUlC,GAG1B,OAFAqO,YAAqB,oBAGjB,cAACjI,GAAA,EAAD,2BAAYpG,GAAZ,aACI,eAAC,KAAD,CAAYkZ,SAAUR,GAAtB,UACI,cAAC,GAAD,CAAc1T,MAAM,6CACpB,cAACwK,GAAA,EAAD,CACIlH,OAAO,aACP6Q,cAAerW,EAAQuC,WACvB6T,SAAUN,KAEd,cAACpJ,GAAA,EAAD,CACIlH,OAAO,YACP6Q,cAAerW,EAAQwC,UACvB4T,SAAUN,KAEd,cAACpJ,GAAA,EAAD,CACIvV,KAAK,QACLqO,OAAO,QACP8Q,WAAY,CAAEhB,OAAO,GACrBiB,WAAW,EACXF,cAAerW,EAAQsV,MACvBc,SAAUN,KAEd,cAACzB,GAAA,EAAD,CAAW7O,OAAO,aAClB,cAAC,GAAD,IACA,cAAC,GAAD,CAActD,MAAM,4CACpB,cAACwK,GAAA,EAAD,CACIlH,OAAO,UACP6Q,cAAerW,EAAQuV,QACvBiB,WAAW,EACXD,WAAW,IAEf,cAAC7J,GAAA,EAAD,CAAWlH,OAAO,UAAU6Q,cAAerW,EAAQwV,UACnD,cAAC9I,GAAA,EAAD,CAAWlH,OAAO,OAAO6Q,cAAerW,EAAQyV,OAChD,cAAC,GAAD,IACA,cAAC,GAAD,CAAcvT,MAAM,6CACpB,cAACuU,GAAA,EAAD,CACIjR,OAAO,WACP6Q,cAAerW,EAAQ0V,WAE3B,cAACe,GAAA,EAAD,CACIjR,OAAO,mBACP6Q,cAAerW,EAAQ2V,0B,qJC/FrCe,GAAS,SAACvU,GAAD,OACXA,EAASA,EAAOwU,OAAOzR,OAAS,MAE9B0R,GAAuD,SAAA1Z,GAAK,OAC9D,cAAC2Z,GAAA,EAAD,2BAAmB3Z,GAAnB,IAA0BwZ,OAAQA,OAGtCE,GAAanF,aAAe,CACxBvP,MAAO,WACP8B,UAAW,SAGA4S,UCVTE,GAGD,SAAA5Z,GAAK,OACN,cAAC6Z,GAAA,EAAD,yBAAgBvR,OAAO,cAAcpD,UAAU,aAAgBlF,GAA/D,aACI,cAAC,GAAD,QAIR4Z,GAAuBrF,aAAe,CAClCC,UAAU,GAGCoF,UCRAE,GAPgC,SAAC,GAAD,IAAG7U,EAAH,EAAGA,OAAH,OAC3CA,EACI,iCACKA,EAAOoT,QADZ,KACuBpT,EAAOsT,KAD9B,IACqCtT,EAAOqT,WAE5C,MCWFyB,GAAgB5X,aAAW,SAAA9H,GAAK,MAAK,CACvC8a,KAAM,CACFlV,OAAQ,OACRnF,QAAS,OACTsa,cAAe,SACfpO,OAAQ,YAEZqO,iBAAkB,CACdva,QAAS,OACTsa,cAAe,MACfzY,WAAY,SACZ2Y,eAAgB,iBAEpBC,YAAalb,EAAMmb,WAAWC,MAC9BuE,eAAgB,CACZlf,QAAS,OACTsa,cAAe,MACfzY,WAAY,SACZqK,OAAQ,gBAUV0O,GAAkC,SAAC,GAA6B,IAA3B/M,EAA0B,EAA1BA,IAAKC,EAAqB,EAArBA,KAAMtC,EAAe,EAAfA,SAC5C3B,EAAYC,cACZ9B,EAAUiX,KAEhB,OAAKpR,GAAQC,GAAStC,EAKlB,qBAAKlG,MAAO,CAAE4G,OAAQ,OAAtB,SACK2B,EAAIQ,KAAI,SAAAvJ,GAAE,OACP,eAACmL,GAAA,EAAD,CAAerH,UAAWZ,EAAQqS,KAAlC,UACI,cAACQ,GAAA,EAAD,CACI5U,MACI,sBAAK2C,UAAWZ,EAAQuS,iBAAxB,UACI,iCACK1Q,EAAU,0BAA2B,GAD1C,QAGI,cAACsV,GAAA,EAAD,CACIhV,OAAQ2D,EAAKhJ,GACb0I,OAAO,iBAGf,cAAC,KAAD,CACIO,SAAS,WACTvC,SAAUA,EACVrB,OAAQ2D,EAAKhJ,UAK7B,eAACoL,GAAA,EAAD,CAAatH,UAAWZ,EAAQyS,YAAhC,UACI,uBAAM7R,UAAWZ,EAAQkX,eAAzB,UACKrV,EAAU,2BAA4B,GAD3C,QAEI,cAAC,GAAD,CACIM,OAAQ2D,EAAKhJ,GACb0G,SAAUA,OAGlB,uBAAM5C,UAAWZ,EAAQkX,eAAzB,UACKrV,EAAU,iCADf,QAEI,cAACiR,GAAA,EAAD,CACI3Q,OAAQ2D,EAAKhJ,GACb0I,OAAO,OACPoP,UAAQ,OAGhB,uBAAMhU,UAAWZ,EAAQkX,eAAzB,UACKrV,EACG,0CAFR,QAKI,cAAC0D,GAAA,EAAD,CACIpD,OAAQ2D,EAAKhJ,GACb0I,OAAO,QACPC,QAAS,CAAEnI,MAAO,WAAYoI,SAAU,YAGhD,uBAAM9E,UAAWZ,EAAQkX,eAAzB,UACKrV,EAAU,oCADf,QAGI,cAACsV,GAAA,EAAD,CAAW3R,OAAO,SAASrD,OAAQ2D,EAAKhJ,QAE5C,uBAAM8D,UAAWZ,EAAQkX,eAAzB,UACKrV,EAAU,sCADf,QAGI,cAACgT,GAAA,EAAD,CAAc1S,OAAQ2D,EAAKhJ,GAAK0I,OAAO,qBAvDxC1I,QANZ,MAsEf8V,GAAWnB,aAAe,CACtB3L,KAAM,GACND,IAAK,IAGM+M,UC1ETwE,GAAiD,SAAAla,GAAK,OACxD,eAACma,GAAA,EAAD,2BAAYna,GAAZ,cACI,cAACyM,GAAA,EAAD,CAAanE,OAAO,IAAIoE,UAAQ,IAChC,cAACC,GAAA,EAAD,CAAgBrE,OAAO,cAAcpD,UAAU,YAA/C,SACI,cAACkV,GAAA,EAAD,CACIC,WAAY,SAACC,GAAD,OACRA,EAAO1a,GAAP,UACS0a,EAAOjV,WADhB,YAC8BiV,EAAOhV,WAC/B,QAIlB,cAAC6R,GAAA,EAAD,CAAW7O,OAAO,aAClB,cAAC6O,GAAA,EAAD,CAAW7O,OAAO,aAClB,cAACkH,GAAA,EAAD,CAAWlH,OAAO,cAClB,cAAC8O,GAAA,EAAD,CAAsB9O,OAAO,kBAI/BiS,GAAoBpY,YAAW,CACjC4M,MAAO,CAAEzO,WAAY,UA6BnBka,GAAO,CACT,CAAE5a,GAAI,UAAW0E,KAAM,WACvB,CAAE1E,GAAI,YAAa0E,KAAM,aACzB,CAAE1E,GAAI,YAAa0E,KAAM,cAgCvBmW,GAA0C,SAAAza,GAC5C,IAAM0a,EAAchS,eACpB2F,YAAqB,kBAFgC,IAG7C1F,EAAoD+R,EAApD/R,IAAK2B,EAA+CoQ,EAA/CpQ,aAAcD,EAAiCqQ,EAAjCrQ,WAAYE,EAAqBmQ,EAArBnQ,iBACjCzH,EAAUyX,KACVtX,EAAWC,aAAqB,SAAA7I,GAAK,OACvCA,EAAMU,YAAYC,KAAK,SAN0B,EAQvBkX,mBAAuB,IARA,mBAQ9CyI,EAR8C,KAQrCC,EARqC,OASnB1I,mBAC9B,IAViD,mBAS9C2I,EAT8C,KASnCC,EATmC,OAYnB5I,mBAC9B,IAbiD,mBAY9C6I,EAZ8C,KAYnCC,EAZmC,KAe/CC,EA1CW,SAAC3Q,GAoBlB,MAAO,CACHqQ,QApB4B9L,aAC5B,WACA,CAAEL,QAAS,EAAGM,KAAM,GACpB,CAAEjC,MAAO,KAAMC,MAAO,OAHgB,YAAC,eAIlCxC,GAJiC,IAInBlF,OAAQ,aAJvB2J,MAqBJ8L,UAf8BhM,aAC9B,WACA,CAAEL,QAAS,EAAGM,KAAM,GACpB,CAAEjC,MAAO,KAAMC,MAAO,OAHkB,YAAC,eAIpCxC,GAJmC,IAIrBlF,OAAQ,eAJvB2J,MAgBJgM,UAV8BlM,aAC9B,WACA,CAAEL,QAAS,EAAGM,KAAM,GACpB,CAAEjC,MAAO,KAAMC,MAAO,OAHkB,YAAC,eAIpCxC,GAJmC,IAIrBlF,OAAQ,eAJvB2J,OA6BOmM,CAAa5Q,GAE5B7E,qBAAU,WACN,GAAIkD,GAAOA,IAAQ2B,EAAalF,OAC5B,OAAQkF,EAAalF,QACjB,IAAK,UACDwV,EAAWjS,GACX,MACJ,IAAK,YACDmS,EAAanS,GACb,MACJ,IAAK,YACDqS,EAAarS,MAI1B,CAACA,EAAK2B,EAAalF,SAEtB,IAAM+V,EAAeC,uBACjB,SAACrI,EAA6B1H,GAC1BhB,GACIA,EAAW,2BACFC,GADC,IACalF,OAAQiG,IAC3Bd,KAGZ,CAACA,EAAkBD,EAAcD,IAG/BhQ,EAAQghB,eAGRC,EA5GY,SAACC,EAAYlhB,GAAb,OAAuB,SAAC4K,GAC1C,IAAI3J,EACJ,OAAQ2J,EAAOuW,OACX,KAAKD,EACDjgB,EAC2B,UAAvBjB,EAAMG,QAAQP,KACRwhB,YAAQlgB,YAAKlB,EAAMG,QAAQkhB,KAAKve,MAAO,GAAI,KAC3Cwe,YAAOpgB,YAAKlB,EAAMG,QAAQkhB,KAAKte,KAAM,GAAI,KACnD,MACJ,KAAK,EACGme,EAAa,IACbjgB,EAC2B,UAAvBjB,EAAMG,QAAQP,KACRwhB,YAAQlgB,YAAKlB,EAAMG,QAAQkhB,KAAKve,MAAO,GAAI,KAC3Cwe,YAAOpgB,YAAKlB,EAAMG,QAAQkhB,KAAKte,KAAM,GAAI,MAEvD,MACJ,QACI9B,EAAkBjB,EAAMG,QAAQkB,WAAW0X,MAGnD,MAAO,CACH9X,oBAsFasgB,CADb9G,SAAS/V,aAAaQ,QAAQ,eAAiB,IAAK,IAAM,EACnBlF,GAErCwhB,EACsB,YAAxBvR,EAAalF,OACPuV,EACwB,cAAxBrQ,EAAalF,OACbyV,EACAE,EAEV,OACI,eAAC,WAAD,WACI,cAACe,GAAA,EAAD,CACIlY,QAAQ,YACRmY,UAAQ,EACR1Q,MAAOf,EAAalF,OACpB4W,eAAe,UACfC,SAAUd,EALd,SAOKX,GAAKrR,KAAI,SAAAmR,GAAM,OACZ,cAAC4B,GAAA,EAAD,CAEIlX,MACIiW,EAAOX,EAAOhW,MAAd,UACSgW,EAAOhW,KADhB,aACyB2W,EAAOX,EAAOhW,MADvC,KAEMgW,EAAOhW,KAEjB+G,MAAOiP,EAAO1a,IANT0a,EAAO1a,SAUxB,cAACuc,GAAA,EAAD,IACClZ,EACG,cAAC+L,GAAA,EAAD,CACI3D,MAAK,2BAAOqP,GAAP,IAAoB/R,IAAKkT,IADlC,SAGI,cAAC,GAAD,2BAAgB7b,GAAhB,IAAuB2I,IAAKkT,OAGhC,gCAC6B,YAAxBvR,EAAalF,QACV,cAAC4J,GAAA,EAAD,CACI3D,MAAK,2BAAOqP,GAAP,IAAoB/R,IAAKgS,IADlC,SAGI,eAAC1C,GAAA,EAAD,2BACQjY,GADR,IAEIoc,WAAS,EACTlE,SAAS,OACToD,SAAUA,EACV3R,cAAY,yBALhB,UAOI,cAACiM,GAAA,EAAD,CAAWtN,OAAO,OAAOoP,UAAQ,IACjC,cAACuC,GAAA,EAAD,CAAW3R,OAAO,cAClB,cAAC,GAAD,IACA,cAACuR,GAAA,EAAD,CACIvR,OAAO,cACPpD,UAAU,YACV7I,MAAM,EACN2I,MAAM,oCAJV,SAMI,cAAC,GAAD,MAEJ,cAAC,GAAD,IACA,cAACqD,GAAA,EAAD,CACIC,OAAO,QACPC,QAAS,CACLnI,MAAO,WACPoI,SAAU,OAEd9E,UAAWZ,EAAQiM,cAKV,cAAxBzE,EAAalF,QACV,cAAC4J,GAAA,EAAD,CACI3D,MAAK,2BAAOqP,GAAP,IAAoB/R,IAAKkS,IADlC,SAGI,eAAC5C,GAAA,EAAD,2BAAcjY,GAAd,IAAqBkY,SAAS,OAA9B,UACI,cAACtC,GAAA,EAAD,CAAWtN,OAAO,OAAOoP,UAAQ,IACjC,cAACuC,GAAA,EAAD,CAAW3R,OAAO,cAClB,cAAC,GAAD,IACA,cAACuR,GAAA,EAAD,CACIvR,OAAO,cACPpD,UAAU,YACV7I,MAAM,EACN2I,MAAM,oCAJV,SAMI,cAAC,GAAD,MAEJ,cAAC,GAAD,IACA,cAACqD,GAAA,EAAD,CACIC,OAAO,QACPC,QAAS,CACLnI,MAAO,WACPoI,SAAU,OAEd9E,UAAWZ,EAAQiM,QAEvB,cAAC4I,GAAA,EAAD,CAAcrP,OAAO,mBAIR,cAAxBgC,EAAalF,QACV,cAAC4J,GAAA,EAAD,CACI3D,MAAK,2BAAOqP,GAAP,IAAoB/R,IAAKoS,IADlC,SAGI,eAAC9C,GAAA,EAAD,2BAAcjY,GAAd,IAAqBkY,SAAS,OAA9B,UACI,cAACtC,GAAA,EAAD,CAAWtN,OAAO,OAAOoP,UAAQ,IACjC,cAACuC,GAAA,EAAD,CAAW3R,OAAO,cAClB,cAAC,GAAD,IACA,cAACuR,GAAA,EAAD,CACIvR,OAAO,cACPpD,UAAU,YACV7I,MAAM,EACN2I,MAAM,oCAJV,SAMI,cAAC,GAAD,MAEJ,cAAC,GAAD,IACA,cAACqD,GAAA,EAAD,CACIC,OAAO,QACPC,QAAS,CACLnI,MAAO,WACPoI,SAAU,OAEd9E,UAAWZ,EAAQiM,QAEvB,cAAC4I,GAAA,EAAD,CAAcrP,OAAO,0BAyBtC+T,GAfkB,SAAArc,GAAK,OAClC,cAAC,IAAD,2BACQA,GADR,IAEIsc,oBAAqB,CAAElX,OAAQ,WAC/BwH,KAAM,CAAEC,MAAO,OAAQC,MAAO,QAC9B0B,QAAS,GACTD,QAAS,cAAC,GAAD,IACTzR,QACI,cAAC,IAAD,CAAayf,WAAY,cAAC,EAAD,CAAkB3Y,QAAQ,cAP3D,SAUI,cAAC,GAAD,Q,sFC/TF1B,GAAYC,YAAW,CACzBqa,UAAW,CAAEC,SAAU,OAAQtE,WAAY,OAC3CuE,iBAAkB,CAAE5V,UAAW,SAC/B6V,SAAU,CAAErc,WAAY,UA6Kbsc,GA1KuB,SAAC,GAAgB,IAAd3X,EAAa,EAAbA,OAC/BnC,EAAUZ,KACVyC,EAAYC,cAFgC,EAIfiY,aAC/B,CACI5iB,KAAM,UACN4O,SAAU,WACViU,QAAS,CACLnU,IAAK1D,EAASA,EAAOwU,OAAOtQ,KAAI,SAAA4T,GAAI,OAAIA,EAAKC,cAAc,KAGnE,IACA,SAACC,GAKG,OAJmBhY,EACbA,EAAOwU,OAAOtQ,KAAI,SAAA4T,GAAI,OAAIA,EAAKC,cAC/B,IAGD7T,KACG,SAAA+T,GAAS,OACLD,EAAME,MAAMpY,UAAUqY,SAASxU,KAC3BsU,MAGXhH,QAAO,SAAAmH,GAAC,MAAiB,qBAANA,KACnB7b,QAAO,SAAC8b,EAAMC,GAEX,OADAD,EAAKC,EAAK3d,IAAM2d,EACTD,IACR,OAzBPtT,EAJ0C,EAI1CA,OAAcoT,EAJ4B,EAIlCxU,KA6BhB,OAAKoB,GAAW/E,EAGZ,cAACuY,GAAA,EAAD,CAAO9Z,UAAWZ,EAAQ0Z,UAAWhZ,UAAW,EAAhD,SACI,eAACia,GAAA,EAAD,WACI,cAACC,GAAA,EAAD,UACI,eAACC,GAAA,EAAD,WACI,cAACC,GAAA,EAAD,UACKjZ,EACG,gDAGR,cAACiZ,GAAA,EAAD,CAAWla,UAAWZ,EAAQ4Z,iBAA9B,SACK/X,EACG,iDAGR,cAACiZ,GAAA,EAAD,CAAWla,UAAWZ,EAAQ4Z,iBAA9B,SACK/X,EACG,+CAGR,cAACiZ,GAAA,EAAD,CAAWla,UAAWZ,EAAQ4Z,iBAA9B,SACK/X,EACG,iDAKhB,eAACkZ,GAAA,EAAD,WACK5Y,EAAOwU,OAAOtQ,KACX,SAAC4T,GAAD,OACIK,EAASL,EAAKC,aACV,eAACW,GAAA,EAAD,WACI,cAACC,GAAA,EAAD,UACI,cAAC3Z,GAAA,EAAD,CACIF,GAAE,oBAAegZ,EAAKC,YAD1B,SAIQI,EAASL,EAAKC,YACT9X,cAIjB,cAAC0Y,GAAA,EAAD,CACIla,UAAWZ,EAAQ4Z,iBADvB,SAGKU,EACGL,EAAKC,YACP5V,MAAM0W,oBAAe9b,EAAW,CAC9B5B,MAAO,WACPoI,SAAU,UAGlB,cAACoV,GAAA,EAAD,CACIla,UAAWZ,EAAQ4Z,iBADvB,SAGKK,EAAKgB,WAEV,cAACH,GAAA,EAAD,CACIla,UAAWZ,EAAQ4Z,iBADvB,UAIQU,EAASL,EAAKC,YAAY5V,MAC1B2V,EAAKgB,UACPD,oBAAe9b,EAAW,CACxB5B,MAAO,WACPoI,SAAU,YAlCPuU,EAAKC,eAwChC,eAACW,GAAA,EAAD,WACI,cAACC,GAAA,EAAD,CAAWI,QAAS,IACpB,cAACJ,GAAA,EAAD,UACKjZ,EAAU,0CAEf,cAACiZ,GAAA,EAAD,CAAWla,UAAWZ,EAAQ4Z,iBAA9B,SACKzX,EAAOgZ,eAAeH,oBAAe9b,EAAW,CAC7C5B,MAAO,WACPoI,SAAU,aAItB,eAACmV,GAAA,EAAD,WACI,cAACC,GAAA,EAAD,CAAWI,QAAS,IACpB,cAACJ,GAAA,EAAD,UACKjZ,EACG,+CAGR,cAACiZ,GAAA,EAAD,CAAWla,UAAWZ,EAAQ4Z,iBAA9B,SACKzX,EAAOiZ,cAAcJ,oBAAe9b,EAAW,CAC5C5B,MAAO,WACPoI,SAAU,aAItB,eAACmV,GAAA,EAAD,WACI,cAACC,GAAA,EAAD,CAAWI,QAAS,IACpB,cAACJ,GAAA,EAAD,UACKjZ,EACG,+CAGR,cAACiZ,GAAA,EAAD,CAAWla,UAAWZ,EAAQ4Z,iBAA9B,SACKzX,EAAOkZ,SAASL,oBAAe9b,EAAW,CACvC5B,MAAO,iBAInB,eAACud,GAAA,EAAD,WACI,cAACC,GAAA,EAAD,CAAWI,QAAS,IACpB,cAACJ,GAAA,EAAD,CAAWla,UAAWZ,EAAQ6Z,SAA9B,SACKhY,EACG,4CAGR,cAACiZ,GAAA,EAAD,CACIla,UAAW+O,KACP3P,EAAQ6Z,SACR7Z,EAAQ4Z,kBAHhB,SAMKzX,EAAO8J,MAAM+O,oBAAe9b,EAAW,CACpC5B,MAAO,WACPoI,SAAU,qBA/HP,MC5CtB4V,GAAc,SAACpe,GAAD,OACvB,cAAC,IAAD,aACIuc,WAAY,cAAC,EAAD,CAAkB3Y,QAAQ,aAClC5D,KCQNqe,GAAsC,SAAC,GAAgB,IAAdpZ,EAAa,EAAbA,OACrCN,EAAYC,cAElB,OAAKK,EAKD,+BACKN,EAAU,2BAA4B,CACnCO,UAAWD,EAAOC,cANnB,MAYToZ,GAAgBnc,YAAW,CAC7BjH,KAAM,CACFyB,WAAY,gBAId4hB,GAAgB,SAACve,GAEnB,OADAqO,YAAqB,sBAAuBrO,GAExC,eAAC,KAAD,2BAAgBA,GAAhB,cACI,cAACmX,GAAA,EAAD,CAAW7O,OAAO,SAClB,cAACqE,GAAA,EAAD,CAAgBrE,OAAO,cAAcpD,UAAU,YAA/C,SACI,cAACkV,GAAA,EAAD,CACIC,WAAY,SAACC,GAAD,gBACLA,EAAOjV,WADF,YACgBiV,EAAOhV,gBAI3C,cAACyH,GAAA,EAAD,CACIzE,OAAO,SACPqM,QAAS,CACL,CAAE/U,GAAI,YAAa0E,KAAM,aACzB,CAAE1E,GAAI,UAAW0E,KAAM,WACvB,CAAE1E,GAAI,YAAa0E,KAAM,aACzB,CACI1E,GAAI,UACJ0E,KAAM,UACNsO,UAAU,MAItB,cAAC4L,GAAA,EAAD,CAAclW,OAAO,kBC7DlB,IACXoH,KAAM2M,GACNrM,KDgE6B,SAAAhQ,GAC7B,IAAM8C,EAAUwb,KAChB,OACI,cAAC,IAAD,yBACIvd,MAAO,cAAC,GAAD,IACP8M,MAAO,cAAC,GAAD,IACP/K,QAASA,EACThG,QAAS,cAAC,GAAD,KACLkD,GALR,aAOI,cAAC,GAAD,QCzERmL,KAAMsT,M,yGCoDKC,GA/Cc,WACzB,IAAMC,EAASC,eACTC,EAAa1Y,eACb2Y,EAAcC,aAAe,WAC3BlD,EAAgBnT,eAAhBmT,YAJuB,EAMAmD,aAC3B,UACAnD,EACA,CAAEzW,OAAQ,YACV,CACI6Z,OAAQC,KACRC,UAAU,EACV9Y,UAAW,WACPsY,EACI,kDACA,OACA,IACA,GAEJE,EAAW,YACXC,KAEJM,UAAW,WACPT,EACI,gDACA,cA1Be,mBAMxBU,EANwB,KAMbC,EANa,KAMbA,QA0BlB,OACI,cAAC7N,GAAA,EAAD,CACIzM,MAAM,kCACN0M,QAAS2N,EACTzM,SAAU0M,EAHd,SAKI,cAAC,KAAD,O,qBCSGC,GA/Cc,WACzB,IAAMZ,EAASC,eACTC,EAAa1Y,eACb2Y,EAAcC,aAAe,WAC3BlD,EAAgBnT,eAAhBmT,YAJuB,EAMDmD,aAC1B,UACAnD,EACA,CAAEzW,OAAQ,YACV,CACI6Z,OAAQC,KACRC,UAAU,EACV9Y,UAAW,WACPsY,EACI,kDACA,OACA,IACA,GAEJE,EAAW,YACXC,KAEJM,UAAW,WACPT,EACI,gDACA,cA1Be,mBAMxBnf,EANwB,KAMd8f,EANc,KAMdA,QA0BjB,OACI,cAAC7N,GAAA,EAAD,CACIzM,MAAM,kCACN0M,QAASlS,EACToT,SAAU0M,EAHd,SAKI,cAAC,KAAD,O,gCC5BNpd,GAAYC,YAAW,CACzBjH,KAAM,CACFc,MAAO,SAEXK,KAAM,CACFmjB,eAAgB,OAChBrkB,MAAO,WAEXskB,OAAQ,CACJ3kB,QAAS,YAIX4kB,GAAuB,WACzB,IAAM5c,EAAUZ,KADe,EAEPwM,cAAfC,EAFsB,oBAGzBgR,EAAmBC,cAHM,EAW3BlX,eANApC,EAL2B,EAK3BA,SACAsC,EAN2B,EAM3BA,KACAD,EAP2B,EAO3BA,IACA2W,EAR2B,EAQ3BA,QACAvQ,EAT2B,EAS3BA,MACAzE,EAV2B,EAU3BA,aAGEuV,EAAmBC,KAAKC,UAAU,CACpCJ,mBACAzJ,OAAQ5L,IAWZ,OATA7E,qBAAU,WAAO,IACLL,EAAWkF,EAAXlF,OACc,qBAAXA,EACPuJ,EAAY,wBAAyB,CAAEvJ,WAEvCuJ,EAAY,aAGjB,CAACA,EAAakR,IACVP,GAAWvQ,EAAQ,EACtB,cAACiR,GAAA,EAAD,CAAMtc,UAAWZ,EAAQ5H,KAAzB,SACKyN,EAAIQ,KAAI,SAAAvJ,GAAE,OACP,cAAC,IAAD,CACImE,GAAIoB,YAAamB,EAAU1G,GAC3B8D,UAAWZ,EAAQzG,KAFvB,SAKI,eAAC4jB,GAAA,EAAD,CAAUC,QAAM,EAAhB,UACI,cAACC,GAAA,EAAD,UACI,cAACtG,GAAA,EAAD,CACI5U,OAAQ2D,EAAKhJ,GACb0I,OAAO,cACPpD,UAAU,YACVoB,SAAUA,EACV8Z,UAAU,EALd,SAOI,cAAC,GAAD,CAAanN,KAAK,WAG1B,cAACoN,GAAA,EAAD,CACInmB,QACI,qCACI,cAAC2f,GAAA,EAAD,CACI5U,OAAQ2D,EAAKhJ,GACb0I,OAAO,cACPpD,UAAU,YACVoB,SAAUA,EACV8Z,UAAU,EALd,SAOI,cAACzG,GAAA,EAAD,CACIH,OAAQ,SAACvU,GAAD,OACJA,EAAM,UACGA,EAAOI,WADV,YACwBJ,EAAOK,WAC/B,IAEV1B,QAAQ,YACRF,UAAWZ,EAAQ2c,WAET,IAjBtB,KAkBO,IACH,cAAC5F,GAAA,EAAD,CACI5U,OAAQ2D,EAAKhJ,GACb0I,OAAO,aACPpD,UAAU,WACVoB,SAAUA,EACV8Z,UAAU,EALd,SAOI,cAACnG,GAAA,EAAD,CACI3R,OAAO,YACP1E,QAAQ,YACRF,UAAWZ,EAAQ2c,cAKnCviB,UAAW0L,EAAKhJ,GAAIqB,QACpBqf,yBAA0B,CAAEC,QAAQ,SAnDvC3gB,QAyDjB,MAqBR8f,GAAiBnL,aAAe,CAC5B6L,SAAU,OACVI,gBAAgB,EAChB3E,YAAa,IAGF6D,UCrJTe,GAGD,SAAAzgB,GAAK,OACN,cAAC6Z,GAAA,EAAD,yBACI7U,MAAM,UACNsD,OAAO,aACPpD,UAAU,YACNlF,GAJR,aAMI,cAACia,GAAA,EAAD,CAAW3R,OAAO,kBAI1BmY,GAAsBlM,aAAe,CACjCC,UAAU,GAGCiM,U,qBCfTve,GAAYC,YAAW,CACzBjH,KAAM,CACFwlB,QAAS,IACTne,WAAY,UAEhBoe,MAAO,CACH3kB,MAAO,GACPiE,OAAQ,IAEZ2gB,MAAO,CACH5kB,MAAO,GACPiE,OAAQ,MAQV4gB,GAA6C,SAAC,GAG7C,IAFH5b,EAEE,EAFFA,OAEE,IADFgO,YACE,MADK,QACL,EACInQ,EAAUZ,KAChB,OAAO+C,EACH,+BACK6C,MAAM7C,EAAO6b,QACTlgB,MAAK,GACLuI,KAAI,SAAClB,EAAG8Y,GAAJ,OACD,cAAC,KAAD,CAEIrd,UACa,UAATuP,EAAmBnQ,EAAQ6d,MAAQ7d,EAAQ8d,OAF1CG,QAOrB,MAGRF,GAAgBtM,aAAe,CAC3BvP,MAAO,kCACPsD,OAAQ,SACRkM,UAAU,GAGCqM,U,+DCVAvF,GApCE,SAAC0F,EAAiC3mB,GAAlC,OAAmD,SAChE4K,EACAgc,GAEO,IADPC,EACM,uDADS,GAEX9gB,EAAQ8gB,EAOZ,OANIF,IAAgB/b,EAAOrF,KACvBQ,EAAK,2BACEA,GADF,IAED9E,gBAAiBjB,EAAMG,QAAQykB,OAAOkC,YAGxB,aAAlBlc,EAAOG,OACA,2BACAhF,GADP,IAEIghB,gBAAiBC,KAAM,KACvBC,gBAAiB,EACjBC,gBAAiB,UAEH,YAAlBtc,EAAOG,OACA,2BACAhF,GADP,IAEIghB,gBAAiBI,KAAO,KACxBF,gBAAiB,EACjBC,gBAAiB,UAEH,aAAlBtc,EAAOG,OACA,2BACAhF,GADP,IAEIghB,gBAAiBK,KAAI,KACrBH,gBAAiB,EACjBC,gBAAiB,UAElBnhB,IC1BL2Z,GAAgB5X,YAAW,CAC7Buf,UAAW,CACPN,gBAAiB,QACjBE,gBAAiB,EACjBC,gBAAiB,SAErBI,WAAY,CACR/e,QAAS,mBAEbgf,QAAS,CACLhf,QAAS,mBAEb3B,QAAS,CACLuD,SAAU,OACVhC,SAAU,SACVF,aAAc,WACdC,WAAY,YAiDLsf,GA7CgD,SAAC,GAGzD,IAFHb,EAEE,EAFFA,YACGhhB,EACD,gCACI8C,EAAUiX,KACV1f,EAAQghB,eAFZ,EAGsB3M,cAAfC,EAHP,oBAIIgR,EAAmBC,cACjBtV,EAAiB5B,eAAjB4B,aAEFuV,EAAmBC,KAAKC,UAAU,CACpCJ,mBACAzJ,OAAQ5L,IAWZ,OATA7E,qBAAU,WAAO,IACLL,EAAWkF,EAAXlF,OACc,qBAAXA,EACPuJ,EAAY,wBAAyB,CAAEvJ,WAEvCuJ,EAAY,aAGjB,CAACA,EAAakR,IAEb,eAAC5H,GAAA,EAAD,yBACIC,SAAS,OACToD,SAAUA,GAAS0F,EAAa3mB,GAChCyI,QAAS,CACL4e,UAAW5e,EAAQ4e,UACnBC,WAAY7e,EAAQ6e,WACpBC,QAAS9e,EAAQ8e,SAErBxF,WAAS,GACLpc,GATR,cAWI,cAAC4V,GAAA,EAAD,CAAWtN,OAAO,SAClB,cAAC,GAAD,CAAwBjM,MAAM,IAC9B,cAAC,GAAD,CAAuBA,MAAM,IAC7B,cAAC,GAAD,CAAiB4W,KAAK,UACtB,cAACgH,GAAA,EAAD,CAAW3R,OAAO,UAAUwZ,cAAehf,EAAQ7B,UACnD,cAACgZ,GAAA,EAAD,CAAW3R,OAAO,gBC5DxByZ,GAAkB5f,YAAW,CAC/BiD,OAAQ,CAAEpJ,MAAO,OAiCNgmB,GA9BgC,SAAAhiB,GAC3C,IAAM8C,EAAUif,KAChB,OACI,eAAC5H,GAAA,EAAD,2BAAYna,GAAZ,cACI,cAACyM,GAAA,EAAD,CAAanE,OAAO,IAAIoE,UAAQ,IAChC,cAACK,GAAA,EAAD,CACIzE,OAAO,SACPqM,QAAS,CACL,CAAE/U,GAAI,WAAY0E,KAAM,wBACxB,CAAE1E,GAAI,UAAW0E,KAAM,uBACvB,CAAE1E,GAAI,WAAY0E,KAAM,yBAE5BZ,UAAWZ,EAAQsC,SAEvB,cAACuH,GAAA,EAAD,CAAgBrE,OAAO,cAAcpD,UAAU,YAA/C,SACI,cAACkV,GAAA,EAAD,CACIC,WAAY,SAACC,GAAD,gBACLA,EAAOjV,WADF,YACgBiV,EAAOhV,gBAI3C,cAACqH,GAAA,EAAD,CAAgBrE,OAAO,aAAapD,UAAU,WAA9C,SACI,cAACkV,GAAA,EAAD,CAAmBC,WAAW,gBAElC,cAAClD,GAAA,EAAD,CAAW7O,OAAO,aAClB,cAAC6O,GAAA,EAAD,CAAW7O,OAAO,kB,oFCqBf2Z,GAjD8B,SAAC,GAAgB,IAAdhd,EAAa,EAAbA,OACtCN,EAAYC,cACZ+Z,EAASC,eACTC,EAAa1Y,eAHsC,EAK1B+b,aAC3B,UACAjd,EAAOrF,GACP,CAAEwF,OAAQ,YACVH,EACA,CACIka,UAAU,EACV9Y,UAAW,WACPsY,EACI,kDACA,OACA,IACA,GAEJE,EAAW,aAEfO,UAAW,WACPT,EACI,gDACA,cAxByC,mBAKlDU,EALkD,KAKvCC,EALuC,KAKvCA,QAyBlB,OAAOra,GAA4B,YAAlBA,EAAOG,OACpB,eAAC,KAAD,CACIxB,QAAQ,WACRzI,MAAM,UACN8X,KAAK,QACLvB,QAAS2N,EACTzM,SAAU0M,EALd,UAOI,cAAC,KAAD,CACInkB,MAAM,UACNiF,MAAO,CAAErE,aAAc,QAASZ,MAAO,WAE1CwJ,EAAU,sCAGf,0BCIOwd,GAjD8B,SAAC,GAAgB,IAAdld,EAAa,EAAbA,OACtCN,EAAYC,cACZ+Z,EAASC,eACTC,EAAa1Y,eAHsC,EAK3B+b,aAC1B,UACAjd,EAAOrF,GACP,CAAEwF,OAAQ,YACVH,EACA,CACIka,UAAU,EACV9Y,UAAW,WACPsY,EACI,kDACA,OACA,IACA,GAEJE,EAAW,aAEfO,UAAW,WACPT,EACI,gDACA,cAxByC,mBAKlDnf,EALkD,KAKxC8f,EALwC,KAKxCA,QAyBjB,OAAOra,GAA4B,YAAlBA,EAAOG,OACpB,eAAC,KAAD,CACIxB,QAAQ,WACRzI,MAAM,UACN8X,KAAK,QACLvB,QAASlS,EACToT,SAAU0M,EALd,UAOI,cAAC,KAAD,CACInkB,MAAM,UACNiF,MAAO,CAAErE,aAAc,QAASZ,MAAO,SAE1CwJ,EAAU,sCAGf,0BCnDFzC,GAAYC,aAAW,SAAA9H,GAAK,MAAK,CACnCa,KAAM,CACFI,gBAAiBjB,EAAMG,QAAQkB,WAAW0X,MAC1CtY,QAAS,OACTwa,eAAgB,qBA4CT8M,GAxC6B,SAAC,GAOtC,IANH9b,EAME,EANFA,SACA+b,EAKE,EALFA,yBACAC,EAIE,EAJFA,QACArd,EAGE,EAHFA,OACA4D,EAEE,EAFFA,SACA0Z,EACE,EADFA,OAEMzf,EAAUZ,KAChB,OAAK+C,EAKD,cAAC,KAAD,CAAYvB,UAAWZ,EAAQ5H,KAA/B,SACuB,YAAlB+J,EAAOG,OACJ,eAAC,WAAD,WACI,cAAC,GAAD,CAAcH,OAAQA,IACtB,cAAC,GAAD,CAAcA,OAAQA,OAG1B,eAAC,WAAD,WACI,cAACud,GAAA,EAAD,CACIH,yBAA0BA,EAC1BC,QAASA,EACTC,OAAQA,EACRrc,SAAS,OACTuc,eAAe,IAEnB,cAACC,GAAA,EAAD,CACIpc,SAAUA,EACVrB,OAAQA,EACR4D,SAAUA,SAtBnB,MCPT3G,GAAYC,aAAW,SAAA9H,GAAK,YAAK,CACnCa,KAAM,CACF0B,WAAY,IAEhBmE,MAAO,CACHjG,QAAS,OACT6B,WAAY,SACZ2Y,eAAgB,gBAChBtO,OAAQ,OAEZ2b,MAAI,mBACCtoB,EAAMU,YAAYkP,GAAG,MAAQ,CAC1BjO,MAAO,MAFX,cAIC3B,EAAMU,YAAYC,KAAK,MAAQ,CAC5BgB,MAAO,QACPS,WAAY,KANhB,GASJmmB,YAAa,CACT9nB,QAAS,eACTkB,MAAO,WAmDA6mB,GA/C+C,SAAC,GAGxD,IAFHC,EAEE,EAFFA,SACG9iB,EACD,6BACI8C,EAAUZ,KACV6gB,EAAkBC,aAAkBhjB,GACpC2E,EAAYC,cAClB,OAAKme,EAAgB9d,OAIjB,sBAAKvB,UAAWZ,EAAQ5H,KAAxB,UACI,sBAAKwI,UAAWZ,EAAQ/B,MAAxB,UACI,cAAC4C,EAAA,EAAD,CAAYC,QAAQ,KAApB,SACKe,EAAU,8BAEf,cAACb,EAAA,EAAD,CAAY4N,QAASoR,EAArB,SACI,cAAC,KAAD,SAGR,eAAC,KAAD,CACIpf,UAAWZ,EAAQ6f,KACnBrc,SAAUyc,EAAgBzc,SAC1BrB,OAAQ8d,EAAgB9d,OACxBO,KAAMud,EAAgBvd,KACtByd,QAASF,EAAgBE,QACzB/c,SAAS,OACT2C,SAAS,UACT7L,QAAS,cAAC,GAAD,IARb,UAUI,cAAC,GAAD,CACIgI,MAAM,uCACNmU,cAAerW,EAAQ8f,cAG3B,cAAC,GAAD,CACI5d,MAAM,sCACNmU,cAAerW,EAAQ8f,cAE3B,cAAChN,GAAA,EAAD,CAAWtN,OAAO,OAAO6Q,cAAerW,EAAQ8f,cAChD,cAAC,GAAD,CAAiBzJ,cAAerW,EAAQ8f,cACxC,cAACpT,GAAA,EAAD,CAAWlH,OAAO,UAAU4a,QAAS,GAAI5J,WAAS,EAACD,WAAS,UAjC7D,MCtCT8J,GAA+B,SAAC,GAAD,EAAGtd,SAAH,IAAgB7F,EAAhB,oCACjC,eAAC,WAAD,WACI,cAAC,GAAD,eAAsBA,IACtB,cAAC,GAAD,eAAsBA,IACtB,cAACojB,GAAA,EAAD,eAAsBpjB,QAIxBkC,GAAYC,aAAW,SAAA9H,GAAK,MAAK,CACnCa,KAAM,CACFJ,QAAS,QAEb4U,KAAM,CACF2T,SAAU,EACVC,WAAYjpB,EAAMkpB,YAAYxT,OAAO,CAAC,OAAQ,CAC1CyT,SAAUnpB,EAAMkpB,YAAYC,SAASC,iBAEzCvZ,YAAa,GAEjBwZ,eAAgB,CACZxZ,YAAa,KAEjBpO,YAAa,CACTnB,OAAQ,SAkFDgpB,GA9EmB,SAAA3jB,GAC9B,IAAM8C,EAAUZ,KACVe,EAAWC,aAAqB,SAAA7I,GAAK,OACvCA,EAAMU,YAAYC,KAAK,SAErB4oB,EAAUC,cAEVC,EAAc1I,uBAAY,WAC5BwI,EAAQG,KAAK,cACd,CAACH,IAEJ,OACI,qBAAKlgB,UAAWZ,EAAQ5H,KAAxB,SACI,cAAC,IAAD,CAAO8oB,KAAK,eAAZ,SACK,YAA8B,IAA3BC,EAA0B,EAA1BA,MACMC,KACFD,IACAA,EAAME,QACc,WAApBF,EAAME,OAAOvkB,IAGjB,OACI,eAAC,WAAD,WACI,cAAC,IAAD,2BACQI,GADR,IAEI0D,UAAW+O,KAAW3P,EAAQ4M,KAAT,eAChB5M,EAAQ4gB,eAAiBQ,IAE9BE,kBAAmB,cAAC,GAAD,IACnB7V,QAAS,cAAC,GAAD,IACTzR,QACI,cAAC,IAAD,CACIyf,WACI,cAAC,EAAD,CAAkB3Y,QAAQ,cAItC4K,QAAS,GACT5B,KAAM,CAAEC,MAAO,OAAQC,MAAO,QAflC,SAiBK7J,EACG,cAACohB,GAAD,IAEA,cAAC,GAAD,CACIrD,YACIkD,KACED,GACFnP,SAASmP,EAAME,OAAOvkB,GAAI,SAK1C,cAAC0kB,GAAA,EAAD,CACI1gB,QAAQ,aACRyO,KAAM6R,EACNK,OAAO,QACPpR,QAAS2Q,EACThhB,QAAS,CACLsQ,MAAOtQ,EAAQhH,aANvB,SAUKooB,GAAaD,EACV,cAAC,GAAD,aACIrkB,GAAIqkB,EAAME,OAAOvkB,GACjBkjB,SAAUgB,GACN9jB,IAER,gBC1GrB,IACXmL,KAAMqZ,KACN9U,KAAMiU,IC8BJc,GAAiBtiB,aAAW,SAAA9H,GAAK,MAAK,CACxCa,KAAK,aACDc,MAAO,KACN3B,EAAMU,YAAYC,KAAK,MAAQ,CAC5BF,QAAS,aAsBf4pB,GAAmD,SAAC,GAGnD,IAFHzf,EAEE,EAFFA,OACAqB,EACE,EADFA,SAEM3B,EAAYC,cADhB,EAEsCiK,aACpC,WACA,CAAEC,KAAM,EAAGN,QAAS,KACpB,CAAE3B,MAAO,OAAQC,MAAO,QACxB,CAAE6X,YAAa1f,GAAUA,EAAOrF,KAJtBglB,EAFZ,EAEMhc,KAAmBic,EAFzB,EAEoBlc,IAFpB,EAQwCkG,aACtC,UACA,CAAEC,KAAM,EAAGN,QAAS,KACpB,CAAE3B,MAAO,OAAQC,MAAO,QACxB,CAAE6X,YAAa1f,GAAUA,EAAOrF,KAJtBklB,EARZ,EAQMlc,KAAoBmc,EAR1B,EAQqBpc,IAOvB,IAAKic,IAAWE,IAAYD,IAAaE,EACrC,OAAO,KAGX,IAAMC,EAASC,GAAoBL,EAAQC,EAAUC,EAASC,GAE9D,OACI,qCACI,cAAC/W,GAAA,EAAD,CAAKC,EAAE,cAAP,SACI,cAAClD,GAAA,EAAD,UACI,eAACC,GAAA,EAAD,WACI,cAACrH,EAAA,EAAD,CAAYC,QAAQ,KAAKsN,cAAY,EAArC,SACKvM,EACG,6CAGR,eAACqJ,GAAA,EAAD,CAAKlT,QAAQ,OAAb,UACI,eAACkT,GAAA,EAAD,CAAKqV,SAAU,EAAf,UACI,eAACrV,GAAA,EAAD,CAAKlT,QAAQ,OAAOoqB,GAAG,MAAvB,UACI,cAAClX,GAAA,EAAD,CAAKmX,GAAG,MAAR,SACI,cAAC,KAAD,CACI5kB,SAAS,QACTpF,MAAM,eAGd,eAAC6S,GAAA,EAAD,CAAKqV,SAAU,EAAf,UACI,cAAC1f,EAAA,EAAD,UACKgB,EACG,2CAGR,cAACiR,GAAA,EAAD,CACI3Q,OAAQA,EACRqD,OAAO,qBAIlBuc,EAAS7c,OAAS,GACf,eAACgG,GAAA,EAAD,CAAKlT,QAAQ,OAAb,UACI,cAACkT,GAAA,EAAD,CAAKmX,GAAG,MAAR,SACI,cAAC,GAAMha,KAAP,CACI5K,SAAS,QACTpF,MAAM,eAGd,cAAC6S,GAAA,EAAD,CAAKqV,SAAU,EAAf,SACI,cAAC1f,EAAA,EAAD,UACKgB,EACG,4BACA,CACI8K,YACIoV,EAAS7c,mBAQzC,eAACgG,GAAA,EAAD,CAAKqV,SAAU,EAAf,UACI,eAACrV,GAAA,EAAD,CAAKlT,QAAQ,OAAOoqB,GAAG,MAAvB,UACI,cAAClX,GAAA,EAAD,CAAKmX,GAAG,MAAR,SACI,cAAC,KAAD,CACI5kB,SAAS,QACTpF,MAAM,eAGd,eAAC6S,GAAA,EAAD,CAAKqV,SAAU,EAAf,UACI,cAAC1f,EAAA,EAAD,UACKgB,EACG,0CAGR,cAACiR,GAAA,EAAD,CACI3Q,OAAQA,EACRqD,OAAO,oBAIlByc,EAAU/c,OAAS,GAChB,eAACgG,GAAA,EAAD,CAAKlT,QAAQ,OAAb,UACI,cAACkT,GAAA,EAAD,CAAKmX,GAAG,MAAR,SACI,cAAC,GAAOha,KAAR,CACI5K,SAAS,QACTpF,MAAM,eAGd,cAAC6S,GAAA,EAAD,CAAKqV,SAAU,EAAf,SACI,cAAC1f,EAAA,EAAD,UACKgB,EACG,2BACA,CACI8K,YACIsV,EAAU/c,6BAazDgd,EAAO7b,KAAI,SAAA4J,GAAK,MACE,UAAfA,EAAM9Y,KACF,cAAC,GAAD,CACIgL,OAAQ8N,EAAMnK,KAEdtC,SAAUA,GAHd,gBAEkByM,EAAMnK,KAAKhJ,KAI7B,cAAC,GAAD,CACIqF,OAAQ8N,EAAMnK,KAEdtC,SAAUA,GAHd,iBAEmByM,EAAMnK,KAAKhJ,YAe5CqlB,GAAsB,SACxBL,EACAC,EACAC,EACAC,GAEA,IAAMK,EAAmBP,EAAS1b,KAAsB,SAAAvJ,GAAE,MAAK,CAC3D3F,KAAM,QACNorB,KAAMT,EAAOhlB,GAAIylB,KACjBzc,KAAMgc,EAAOhlB,OAGX0lB,EAAoBP,EAAU5b,KAAsB,SAAAvJ,GAAE,MAAK,CAC7D3F,KAAM,SACNorB,KAAMP,EAAQllB,GAAIylB,KAClBzc,KAAMkc,EAAQllB,OAGZolB,EAAM,uBAAOI,GAAP,aAA4BE,IAIxC,OAHAN,EAAOpY,MACH,SAAC2Y,EAAIC,GAAL,OAAY,IAAI3jB,KAAK0jB,EAAGF,MAAMI,UAAY,IAAI5jB,KAAK2jB,EAAGH,MAAMI,aAEzDT,GAGLU,GAAiBvjB,YAAW,CAC9BgT,KAAM,CACFnO,OAAQ,eAEZ2e,WAAY,CACRhpB,WAAY,cAEhBipB,MAAO,CACH9qB,QAAS,cACT,qBAAsB,EACtB,qBAAsB,WACtB0H,SAAU,YAIZqjB,GAA2D,SAAC,GAG3D,IAFH5gB,EAEE,EAFFA,OACAqB,EACE,EADFA,SAEM3B,EAAYC,cACZ9B,EAAU4iB,KAEhB,OAAKzgB,EAKD,cAAC8F,GAAA,EAAD,CAAMrH,UAAWZ,EAAQqS,KAAzB,SACI,cAACQ,GAAA,EAAD,CACIjS,UAAWZ,EAAQ6iB,WACnB7lB,OACI,cAAC+U,GAAA,EAAD,CACI1U,aAAYwE,EAAU,0BAA2B,CAC7C8K,YAAa,IAFrB,SAKI,cAAC,GAAMtE,KAAP,MAGR8T,OAAQ,cAAC,GAAD,CAAYha,OAAQA,EAAQqB,SAAS,cAC7CvF,MAAK,UAAK4D,EAAU,0BAA2B,CAC3C8K,YAAa,IADZ,aAEExK,EAAOC,WACd4gB,UACI,qCACI,cAACniB,EAAA,EAAD,CAAYC,QAAQ,QAApB,SAA6BqB,EAAOogB,OACpC,eAAC1hB,EAAA,EAAD,CAAYC,QAAQ,QAAQzI,MAAM,gBAAlC,UACKwJ,EAAU,8BAA+B,CACtC8K,YAAaxK,EAAOwU,OAAOzR,OAC3BC,EAAG,qCAHX,YAMI,cAACI,GAAA,EAAD,CACIC,OAAO,QACPC,QAAS,CACLnI,MAAO,WACPoI,SAAU,OAEdvD,OAAQA,EACRqB,SAAUA,IAblB,YAgBI,cAAC2T,GAAA,EAAD,CACI3R,OAAO,SACPrD,OAAQA,EACRqB,SAAUA,cA1C3B,MAoDTyf,GAA4D,SAAC,GAG5D,IAFH9gB,EAEE,EAFFA,OACAqB,EACE,EADFA,SAEM3B,EAAYC,cACZ9B,EAAU4iB,KAEhB,OAAKzgB,EAKD,cAAC8F,GAAA,EAAD,CAAMrH,UAAWZ,EAAQqS,KAAzB,SACI,cAACQ,GAAA,EAAD,CACIjS,UAAWZ,EAAQ6iB,WACnB7lB,OACI,cAAC+U,GAAA,EAAD,CACI1U,aAAYwE,EAAU,yBAA0B,CAC5C8K,YAAa,IAFrB,SAKI,cAAC,GAAOtE,KAAR,MAGR8T,OAAQ,cAAC,GAAD,CAAYha,OAAQA,EAAQqB,SAAS,aAC7CvF,MACI,iCACK4D,EAAU,wCAAyC,IACpD,cAAC,GAAD,CACIkE,SAAS,UACT5D,OAAQA,EACRqB,SAAUA,OAItBwf,UACI,qCACI,cAACniB,EAAA,EAAD,CAAYC,QAAQ,QAApB,SAA6BqB,EAAOogB,OACpC,cAAC,GAAD,CAAiBpgB,OAAQA,IACzB,cAACtB,EAAA,EAAD,CAAYC,QAAQ,UAAUF,UAAWZ,EAAQ8iB,MAAjD,SACK3gB,EAAOhE,iBAhCrB,MAyCT+kB,GAA2D,SAAC,GAG3D,IAFH/gB,EAEE,EAFFA,OACAqB,EACE,EADFA,SAEM3B,EAAYC,cAClB,OACI,cAACqhB,GAAA,EAAD,CAASllB,MAAO4D,EAAU,kBAA1B,SACI,cAACb,EAAA,EAAD,CACI3D,aAAYwE,EAAU,kBACtBX,UAAWC,IACXF,GAAIoB,YAAamB,EAAUrB,GAAUA,EAAOrF,IAHhD,SAKI,cAAC,KAAD,SAMDuK,GA7U6C,SAAC,GAGtD,IAFHlF,EAEE,EAFFA,OACAqB,EACE,EADFA,SAEMxD,EAAU2hB,KAChB,OACI,qBAAK/gB,UAAWZ,EAAQ5H,KAAxB,SACK+J,GAAU,cAAC,GAAD,CAAWA,OAAQA,EAAQqB,SAAUA,O,WC1CtD4f,GAA2B,SAAC,GAA0B,EAAxBC,SAAyB,IAAZ1f,EAAW,6BAClD9B,EAAYC,cAClB,OACI,cAACwhB,GAAA,EAAD,2BACQ3f,GADR,IAEIkO,QAASN,GAASlL,KAAI,SAAAiL,GAAO,MAAK,CAC9BxU,GAAIwU,EAAQxU,GACZ0E,KAAMK,EAAUyP,EAAQ9P,cAMxC4hB,GAAc3R,aAAe,CACzB4R,UAAU,EACV7d,OAAQ,SACRO,SAAU,aAGCqd,UCYTG,GAAe,SAACrmB,GAElB,OADAqO,YAAqB,iBAAkBrO,GAChCA,EAAMiF,OACT,cAAC,GAAD,CAAeA,OAAQjF,EAAMiF,OAAQgO,KAAK,OAC1C,MAGFqT,GAAc,SAACtmB,GACjB,IAAM2E,EAAYC,cAElB,OACI,cAAC2hB,GAAA,EAAD,2BACQvmB,GADR,IAEIkZ,SAAUR,GACVc,OAAQ,SAACgN,GAAD,OACJ,cAACzb,GAAA,EAAD,UACI,iCACI,cAACC,GAAA,EAAD,UACI,eAACgD,GAAA,EAAD,CAAKlT,QAAS,CAAE2rB,GAAI,QAASC,GAAI,QAAjC,UACI,eAAC1Y,GAAA,EAAD,CAAK3L,KAAM,EAAG8iB,GAAI,CAAEsB,GAAI,EAAGC,GAAI,OAA/B,UACI,cAAC/iB,EAAA,EAAD,CAAYC,QAAQ,KAAKsN,cAAY,EAArC,SACKvM,EACG,8CAGR,eAACqJ,GAAA,EAAD,CAAKlT,QAAS,CAAE6rB,GAAI,QAASC,GAAI,QAAjC,UACI,cAAC5Y,GAAA,EAAD,CACI3L,KAAM,EACN8iB,GAAI,CAAEwB,GAAI,EAAGC,GAAI,SAFrB,SAII,cAACpX,GAAA,EAAD,CACIlH,OAAO,aACPO,SAAS,YACTwQ,WAAS,MAGjB,cAACrL,GAAA,EAAD,CACI3L,KAAM,EACNwkB,GAAI,CAAEF,GAAI,EAAGC,GAAI,SAFrB,SAII,cAACpX,GAAA,EAAD,CACIlH,OAAO,YACPO,SAAS,YACTwQ,WAAS,SAIrB,cAAC7J,GAAA,EAAD,CACIvV,KAAK,QACLqO,OAAO,QACPO,SAAS,YACTuQ,WAAY,CAAEhB,OAAO,GACrBiB,WAAS,IAEb,eAACrL,GAAA,EAAD,CAAKlT,QAAS,CAAE6rB,GAAI,QAASC,GAAI,QAAjC,UACI,cAAC5Y,GAAA,EAAD,CACI3L,KAAM,EACN8iB,GAAI,CAAEwB,GAAI,EAAGC,GAAI,SAFrB,SAII,cAACzP,GAAA,EAAD,CACI7O,OAAO,WACPO,SAAS,YACTwQ,WAAS,MAGjB,cAACrL,GAAA,EAAD,CACI3L,KAAM,EACNwkB,GAAI,CAAEF,GAAI,EAAGC,GAAI,cAIzB,cAAC5Y,GAAA,EAAD,CAAK8Y,GAAG,QAER,cAACnjB,EAAA,EAAD,CAAYC,QAAQ,KAAKsN,cAAY,EAArC,SACKvM,EACG,6CAGR,cAAC6K,GAAA,EAAD,CACIlH,OAAO,UACPO,SAAS,YACTyQ,WAAS,EACTD,WAAS,IAEb,eAACrL,GAAA,EAAD,CAAKlT,QAAS,CAAE6rB,GAAI,QAASC,GAAI,QAAjC,UACI,cAAC5Y,GAAA,EAAD,CACI3L,KAAM,EACN8iB,GAAI,CAAEwB,GAAI,EAAGC,GAAI,SAFrB,SAII,cAACpX,GAAA,EAAD,CACIlH,OAAO,UACPO,SAAS,YACTwQ,WAAS,MAGjB,cAACrL,GAAA,EAAD,CACI3L,KAAM,EACNwkB,GAAI,CAAEF,GAAI,EAAGC,GAAI,SAFrB,SAII,cAACpX,GAAA,EAAD,CACIlH,OAAO,OACPO,SAAS,YACTwQ,WAAS,SAKrB,cAACrL,GAAA,EAAD,CAAK8Y,GAAG,QAER,cAACnjB,EAAA,EAAD,CAAYC,QAAQ,KAAKsN,cAAY,EAArC,SACKvM,EACG,qDAGR,eAACqJ,GAAA,EAAD,CAAKlT,QAAS,CAAE6rB,GAAI,QAASC,GAAI,QAAjC,UACI,cAAC5Y,GAAA,EAAD,CACI3L,KAAM,EACN8iB,GAAI,CAAEwB,GAAI,EAAGC,GAAI,SAFrB,SAII,cAACrN,GAAA,EAAD,CACIjR,OAAO,WACPO,SAAS,YACTwQ,WAAS,MAGjB,cAACrL,GAAA,EAAD,CACI3L,KAAM,EACNwkB,GAAI,CAAEF,GAAI,EAAGC,GAAI,SAFrB,SAII,cAACrN,GAAA,EAAD,CACIjR,OAAO,mBACPO,SAAS,YACTwQ,WAAS,YAKzB,eAACrL,GAAA,EAAD,CACI3L,KAAM,EACNwkB,GAAI,CAAEF,GAAI,EAAGD,GAAI,OACjBI,GAAI,CAAEH,GAAI,MAAOD,GAAI,GAHzB,UAKI,cAAC/iB,EAAA,EAAD,CAAYC,QAAQ,KAAKsN,cAAY,EAArC,SACKvM,EACG,2CAGR,8BACI,cAAC,GAAD,CAAe0U,WAAS,MAE5B,8BACI,cAACjC,GAAA,EAAD,CACI9O,OAAO,iBACPO,SAAS,wBAM7B,cAACke,GAAA,EAAD,CACI9hB,OAAQuhB,EAAUvhB,OAClBqB,SAAUkgB,EAAUlgB,SACpB6Y,UAAU,EACVmD,QAASkE,EAAUlE,QACnB0E,aAAcR,EAAUQ,aACxBzE,OAAQiE,EAAUjE,OAClB1Z,SAAS,wBCxMtB,IACX6G,KAAMkI,GACN7H,OAAQkJ,GACRjJ,KDagB,SAAChQ,GACjB,OACI,cAAC,IAAD,yBACIe,MAAO,cAAC,GAAD,IACP8M,MAAO,cAAC,GAAD,IACP/Q,QACI,cAAC,IAAD,CACIyf,WAAY,cAAC,EAAD,CAAkB3Y,QAAQ,cAG9CI,UAAU,OACNhE,GATR,aAWI,cAAC,GAAD,QCzBRmL,KAAM8b,M,2CCMJC,GAAgB,SAAC,GAAD,IAAGjiB,EAAH,EAAGA,OAAH,OAClBA,EACI,eAACtB,EAAA,EAAD,WACKsB,EAAOI,WADZ,IACyBJ,EAAOK,UAC5B,uBACCL,EAAOoT,QACR,uBACCpT,EAAOsT,KALZ,KAKoBtT,EAAOqT,WAE3B,MAqFO6O,GAnFoB,SAAAnnB,GAAU,IACjCiF,EAAWmiB,aAAkBpnB,GAA7BiF,OACFnC,EAAUZ,KAEhB,OAAK+C,EAED,cAAC8F,GAAA,EAAD,CAAMrH,UAAWZ,EAAQ5H,KAAzB,SACI,eAAC8P,GAAA,EAAD,WACI,eAACqc,GAAA,EAAD,CAAM7K,WAAS,EAAC9Z,QAAS,EAAzB,UACI,cAAC2kB,GAAA,EAAD,CAAMtK,MAAI,EAAC4J,GAAI,EAAf,SACI,cAAChjB,EAAA,EAAD,CAAYC,QAAQ,KAAKsN,cAAY,EAArC,8BAIJ,cAACmW,GAAA,EAAD,CAAMtK,MAAI,EAAC4J,GAAI,EAAf,SACI,eAAChjB,EAAA,EAAD,CAAYC,QAAQ,KAAKsN,cAAY,EAACoW,MAAM,QAA5C,qBACariB,EAAOrF,WAI5B,cAACynB,GAAA,EAAD,CAAM7K,WAAS,EAAC9Z,QAAS,EAAzB,SACI,cAAC2kB,GAAA,EAAD,CAAMtK,MAAI,EAAC4J,GAAI,GAAInK,WAAS,EAAC+K,aAAa,WAA1C,SACI,cAAC1N,GAAA,EAAD,CACIhR,SAAS,WACT3D,UAAU,YACVoD,OAAO,cACPhC,SAAS,YACTrB,OAAQA,EACR5I,MAAM,EANV,SAQI,cAAC,GAAD,UAIZ,qBAAKqH,UAAWZ,EAAQ0kB,OAAxB,kBACA,eAACH,GAAA,EAAD,CAAM7K,WAAS,EAAC9Z,QAAS,EAAzB,UACI,eAAC2kB,GAAA,EAAD,CAAMtK,MAAI,EAAC4J,GAAI,EAAf,UACI,eAAChjB,EAAA,EAAD,CAAYC,QAAQ,KAAKsN,cAAY,EAACoW,MAAM,SAA5C,iBACS,OAET,cAAC3jB,EAAA,EAAD,CAAYuN,cAAY,EAACoW,MAAM,SAA/B,SACK,IAAIzlB,KAAKoD,EAAOogB,MAAMoC,0BAI/B,eAACJ,GAAA,EAAD,CAAMtK,MAAI,EAAC4J,GAAI,EAAf,UACI,cAAChjB,EAAA,EAAD,CAAYC,QAAQ,KAAKsN,cAAY,EAACoW,MAAM,SAA5C,mBAGA,cAACzN,GAAA,EAAD,CACIhR,SAAS,WACT3D,UAAU,WACVoD,OAAO,aACPhC,SAAS,YACTrB,OAAQA,EACR5I,MAAM,EANV,SAQI,cAAC4d,GAAA,EAAD,CACI3R,OAAO,YACPgf,MAAM,SACNtjB,UAAU,IACVkN,cAAY,YAK5B,qBAAKxN,UAAWZ,EAAQ4kB,SAAxB,SACI,cAAC7N,GAAA,EAAD,CACIhR,SAAS,WACT3D,UAAU,WACVoD,OAAO,aACPhC,SAAS,YACTrB,OAAQA,EACR5I,MAAM,EANV,SAQI,cAAC,GAAD,aAvEA,MAiFlB6F,GAAYC,aAAW,SAAA9H,GAAK,MAAK,CACnCa,KAAM,CACFc,MAAO,IACPgL,OAAQ,OACR2gB,YAAa,QACbC,YAAa,EACbC,YAC2B,UAAvBxtB,EAAMG,QAAQP,KACRwhB,YAAQlgB,YAAKlB,EAAMG,QAAQstB,QAAS,GAAI,KACxCnM,YAAOpgB,YAAKlB,EAAMG,QAAQstB,QAAS,GAAI,MAErDN,OAAQ,CAAEvnB,OAAQ,IAClBynB,SAAU,CAAE1gB,OAAQ,cCzGlB+gB,GAAc,SAAC/nB,GAAD,OAChB,eAACma,GAAA,EAAD,2BAAYna,GAAZ,cACI,cAACmX,GAAA,EAAD,CAAW7O,OAAO,WAAWoE,UAAQ,IACrC,cAACyK,GAAA,EAAD,CAAW7O,OAAO,WAAWoE,UAAQ,SAIvCsb,GAAmB,kBACrB,eAAC/P,GAAA,EAAD,CAAUC,SAAS,SAAS+P,OAAQ,cAAC,GAAD,IAApC,UACI,cAAChO,GAAA,EAAD,CAAW3R,OAAO,OAClB,cAACsN,GAAA,EAAD,CAAWtN,OAAO,SAClB,cAACuR,GAAA,EAAD,CAAgBvR,OAAO,cAAcpD,UAAU,YAA/C,SACI,cAAC,GAAD,MAEJ,cAAC2U,GAAA,EAAD,CACIvR,OAAO,cACPpD,UAAU,YACV7I,MAAM,EACN2I,MAAM,oCAJV,SAMI,cAAC,GAAD,MAEJ,cAAC6U,GAAA,EAAD,CAAgBvR,OAAO,aAAapD,UAAU,WAA9C,SACI,cAAC+U,GAAA,EAAD,CAAW3R,OAAO,gBAEtB,cAACD,GAAA,EAAD,CAAaC,OAAO,mBACpB,cAACD,GAAA,EAAD,CAAaC,OAAO,kBACpB,cAACD,GAAA,EAAD,CAAaC,OAAO,UACpB,cAACD,GAAA,EAAD,CAAaC,OAAO,cC3Cb,IACXoH,KD8CgB,SAAC1P,GAEjB,OADAqO,YAAqB,kBAEjB,cAAC,IAAD,2BACQrO,GADR,IAEIwO,QAAS,GACTD,QAAS,cAAC,GAAD,IACTzR,QACI,cAAC,IAAD,CACIyf,WAAY,cAAC,EAAD,CAAkB3Y,QAAQ,cANlD,SAUI,cAAC,GAAD,QC1DRuH,KAAM+c,M,oFCCJhmB,GAAYC,YAAW,CACzBjH,KAAM,CAAEJ,QAAS,eAAgB2B,UAAW,MAAO9B,OAAQ,GAC3DwtB,QAAS,CAAEvlB,QAAS,EAAG,eAAgB,CAAEA,QAAS,IAClDwlB,IAAK,CACDpsB,MAAO,UACPygB,SAAU,UACVjY,SAAU,OACVgM,UAAW,UAkBJ6X,GAdyB,SAAC,GAAgB,IAAdpjB,EAAa,EAAbA,OACjCnC,EAAUZ,KAEhB,OAAK+C,EAGD,cAAC8F,GAAA,EAAD,CAAMrH,UAAWZ,EAAQ5H,KAAzB,SACI,cAAC8P,GAAA,EAAD,CAAatH,UAAWZ,EAAQqlB,QAAhC,SACI,qBAAKve,IAAK3E,EAAOnE,MAAOgJ,IAAI,GAAGpG,UAAWZ,EAAQslB,UAL1C,M,sBCbXE,GAAgB,SAACtoB,GAAD,OACzB,cAAC,IAAD,aACIuc,WAAY,cAAC,EAAD,CAAkB3Y,QAAQ,aAClC5D,KCOCuoB,GAAS,CAClBnhB,MAAO,CAAEpL,MAAO,OAChBA,MAAO,CAAEA,MAAO,OAChBiE,OAAQ,CAAEjE,MAAO,OACjB2P,MAAO,CAAE3P,MAAO,OAChBwsB,eAAgB,CAAE1tB,QAAS,gBAC3B2tB,gBAAiB,CAAE3tB,QAAS,eAAgBqd,WAAY,KAGtDjW,GAAYC,YAAWomB,IAgFdG,GA9EwB,SAAA1oB,GACnCqO,YAAqB,2BACrB,IAAMvL,EAAUZ,KAChB,OACI,cAAC,IAAD,yBAAQpF,QAAS,cAAC,GAAD,KAAuBkD,GAAxC,aACI,eAAC2oB,GAAA,EAAD,WACI,eAACC,GAAA,EAAD,CAAS5jB,MAAM,gCAAf,UACI,cAACwK,GAAA,EAAD,CAAWlH,OAAO,QAAQ+Q,WAAS,EAACH,SAAUL,iBAC9C,cAACrJ,GAAA,EAAD,CACIlH,OAAO,YACP+Q,WAAS,EACTH,SAAUL,oBAGlB,eAAC+P,GAAA,EAAD,CAAS5jB,MAAM,kCAAkCgf,KAAK,UAAtD,UACI,cAACxU,GAAA,EAAD,CAAWlH,OAAO,YAAY4Q,SAAUL,iBACxC,cAAC7L,GAAA,EAAD,CACI1E,OAAO,QACP4Q,SAAUL,eACVnV,UAAWZ,EAAQsE,MACnByhB,WAAY,CACRC,eACI,cAACC,GAAA,EAAD,CAAgB3mB,SAAS,QAAzB,uBAMZ,cAAC4K,GAAA,EAAD,CACI1E,OAAO,QACP4Q,SAAUL,eACVnV,UAAWZ,EAAQ9G,MACnBmd,cAAerW,EAAQ0lB,eACvBK,WAAY,CACRG,aACI,cAACD,GAAA,EAAD,CAAgB3mB,SAAS,QAAzB,mBAMZ,cAAC4K,GAAA,EAAD,CACI1E,OAAO,SACP4Q,SAAUL,eACVnV,UAAWZ,EAAQ7C,OACnBkZ,cAAerW,EAAQ2lB,gBACvBI,WAAY,CACRG,aACI,cAACD,GAAA,EAAD,CAAgB3mB,SAAS,QAAzB,mBAMZ,cAACuK,GAAA,EAAD,CACIrE,OAAO,cACPpD,UAAU,aACV+jB,YAAU,EAHd,SAKI,cAAClc,GAAA,EAAD,CAAazE,OAAO,WAExB,cAAC0E,GAAA,EAAD,CACI1E,OAAO,QACP4Q,SAAUL,eACVnV,UAAWZ,EAAQ6I,WAG3B,cAACid,GAAA,EAAD,CACI5jB,MAAM,sCACNgf,KAAK,cAFT,SAII,cAAC,KAAD,CAAe1b,OAAO,cAActD,MAAM,cC/FxD9C,GAAYC,aAAW,SAAA9H,GAAK,MAAK,CACnCmiB,UAAW,CACP1hB,QAAS,OACTsa,cAAe,SACfxS,QAAS,SACT5G,MAAO,IACP,QAAS,CACLuE,SAAU,GACVpF,MAAOd,EAAMG,QAAQgD,KAAKtD,QAC1B4M,UAAW,SAGf,2BAA4B,CACxB3L,MAC2B,UAAvBd,EAAMG,QAAQP,KACRwhB,YAAQphB,EAAMG,QAAQgD,KAAKtD,QAAS,KACpCyhB,YAAOthB,EAAMG,QAAQgD,KAAKtD,QAAS,OAGrDwhB,KAAM,CACF9Y,QAASvI,EAAMqI,QAAQ,EAAG,GAC1B,OAAQ,CACJnC,SAAU,GACVpF,MAAOd,EAAMG,QAAQgD,KAAKtD,QAC1BoG,WAAY,UAEhB,OAAQ,CACJC,SAAU,GACVpF,MAC2B,UAAvBd,EAAMG,QAAQP,KACRwhB,YAAQphB,EAAMG,QAAQgD,KAAKtD,QAAS,KACpCyhB,YAAOthB,EAAMG,QAAQgD,KAAKtD,QAAS,KAC7CoG,WAAY,UAEhB,yBAA0B,CACtB0G,OAAQ,EACR,UAAW,CACPpE,QAAS,KAIrBsmB,QAAS,CACLpuB,QAAS,OACTsa,cAAe,UAEnB+T,QAAS,CACLvmB,QAASvI,EAAMqI,QAAQ,IAE3B0mB,MAAO,CACHhnB,SAAU,WACVpG,MAAO,OACP2R,cAAe,QACfjS,WAAYrB,EAAMG,QAAQY,OAAOI,MACjCyC,UAAW,sCAEforB,IAAK,CACDjnB,SAAU,WACV1G,WAAYrB,EAAMG,QAAQkB,WAAW0X,MACrCxM,IAAK,UACL0iB,OAAQ,UACRziB,KAAM,OACNkP,MAAO,OACP9X,UAAW,0CAEfsrB,IAAK,CACDnnB,SAAU,WACVwE,IAAK,UACL0iB,OAAQ,UACRziB,KAAM,UACNkP,MAAO,UACP,QAAS,CACL/Z,MAAO,aAkCJwtB,GA7BsB,SAAC,GAAgB,IAAdvkB,EAAa,EAAbA,OAC5BnE,EAA2CmE,EAA3CnE,MAAOb,EAAoCgF,EAApChF,OAAQjE,EAA4BiJ,EAA5BjJ,MAAOoL,EAAqBnC,EAArBmC,MAAOlC,EAAcD,EAAdC,UAC/BpC,EAAUZ,KAEhB,OACI,sBAAKwB,UAAWZ,EAAQ0Z,UAAxB,UACI,qBAAK9Y,UAAWZ,EAAQqmB,QAAxB,SACI,qBAAKzlB,UAAWZ,EAAQsmB,MAAxB,SACI,qBAAK1lB,UAAWZ,EAAQumB,IAAxB,SACI,qBAAK3lB,UAAWZ,EAAQymB,IAAxB,SACI,qBAAK3f,IAAK9I,EAAOgJ,IAAI,aAKrC,sBAAKpG,UAAWZ,EAAQ4Y,KAAxB,UACI,cAAC/X,EAAA,EAAD,CAAYC,QAAQ,KAApB,SAA0BsB,IAC1B,sBAAKxB,UAAWZ,EAAQomB,QAAxB,UACI,eAACvlB,EAAA,EAAD,CAAYC,QAAQ,UAApB,UACK5H,EADL,MACeiE,EADf,SAGA,eAAC0D,EAAA,EAAD,CAAYC,QAAQ,UAApB,UAA+BwD,EAA/B,eAEJ,cAAC,KAAD,CAAenC,OAAQA,EAAQD,MAAM,GAAGsD,OAAO,uBCzDzDmhB,GAAsC,SAAC,GAAD,IAAGxkB,EAAH,EAAGA,OAAH,OACxCA,EAAS,4CAAeA,EAAOC,aAAoB,MAEjDhD,GAAYC,YAAW,2BACtBunB,IADqB,IAExBzoB,QAAS,CACLuB,SAAU,SACVF,aAAc,WACdC,WAAY,SACZiC,SAAU,KAEdgY,UAAW,CACP1hB,QAAS,OACT,mBAAoB,CAChBuH,KAAM,EACNoa,SAAU,MACVjY,SAAU,OAEd,kBAAmB,CACfxI,MAAO,MACPqa,WAAY,IAGpBnb,KAAM,CACF0H,QAAS,eACT3C,OAAQ,OACRnF,QAAS,OACTsa,cAAe,SACf,iBAAkB,CACdta,QAAS,OACTsa,cAAe,SACf/S,KAAM,GAEV,aAAc,CACV5F,UAAW,YAKjBktB,GAAmD,SAAC,GAGnD,IAFH9jB,EAEE,EAFFA,SACG7F,EACD,6BACI8C,EAAUZ,KAEhB,OADAmM,YAAqB,wBAAyBrO,GAE1C,cAACumB,GAAA,EAAD,2BACQvmB,GADR,IAEIwZ,OAAQ,SAACgN,GACL,OACI,sBAAK9iB,UAAWZ,EAAQ0Z,UAAxB,UACI,cAACzR,GAAA,EAAD,UACI,cAACC,GAAA,EAAD,CAAatH,UAAWZ,EAAQ5H,KAAhC,SACI,cAAC,KAAD,2BAAgBsrB,GAAhB,aACK3gB,SAIb,qBAAK8D,cAAY,uBAAjB,SACI,cAACigB,GAAA,EAAD,UACK,YAAgC,IAA7BC,EAA4B,EAA5BA,SACA,OAAO,cAACC,GAAD,CAAgB7kB,OAAQ4kB,iBA6H7DE,GAAyB,SAAA/pB,GAAU,IAC7B6I,EAAqB7I,EAArB6I,SAAU5D,EAAWjF,EAAXiF,OAEJuB,EAASwjB,YAAWnhB,EAAU5D,EAAOrF,IAA3CgJ,KACFqhB,EAAgC,kBAAf,OAAJzjB,QAAI,IAAJA,OAAA,EAAAA,EAAMG,UAEzB,OACI,eAACogB,GAAA,EAAD,2BAAa/mB,GAAb,cACI,cAACwiB,GAAA,EAAD,CAAY5P,UAAWqX,KACrBA,GAAc,cAAC,GAAD,CAAatjB,SAAQ,OAAEH,QAAF,IAAEA,OAAF,EAAEA,EAAMG,gBAKnDujB,GAAuB/nB,aAAW,SAAA9H,GAAK,MAAK,CAC9Ca,KAAM,CACF0H,QAASvI,EAAMqI,QAAQ,EAAG,QAI5BynB,GAAuB,SAAAnqB,GAAU,IAC3B2G,EAAgC3G,EAAhC2G,SAD0B,EACM3G,EAAtB4D,eADgB,MACN,QADM,EAE5Bd,EAAUonB,GAAqBlqB,GAErC,OACI,eAAC2D,EAAA,EAAD,CAAYD,UAAWZ,EAAQ5H,KAAM0I,QAASA,EAA9C,oDAC4C+C,EAD5C,QAMOyjB,GAjJoB,SAAApqB,GAAU,IACjC6I,EAAiB7I,EAAjB6I,SAAUjJ,EAAOI,EAAPJ,GAEZkD,EAAUZ,KACVyc,EAASC,eAaf,OAXoByL,YAChBxhB,EACAjJ,EACA,eACA,CACIwf,UAAW,WACPT,EAAO,wDANXW,QAYG,cAACgL,GAAA,EAAD,IAIP,cAAC,IAAD,2BACQtqB,GADR,IAEI0D,UAAWZ,EAAQ5H,KACnB6F,MAAO,cAAC,GAAD,IACPjE,QAAS,cAAC,GAAD,IACTkH,UAAU,MALd,SAOI,eAAC,GAAD,CAA4BhH,QAAS,cAAC,GAAD,IAArC,UACI,cAAC,GAAD,IACA,cAACwS,GAAA,EAAD,CAAWlH,OAAO,QAAQ+Q,WAAS,IACnC,cAAC7J,GAAA,EAAD,CAAWlH,OAAO,YAAY+Q,WAAS,IACvC,cAAC,KAAD,CACIrU,MAAM,sCACNkE,eAAa,kBACbmQ,WAAS,EAHb,SAKI,cAAC,KAAD,CAAe/Q,OAAO,cAActD,MAAM,OAE9C,eAAC,KAAD,CACIA,MAAM,kCACNqU,WAAS,EAFb,UAII,cAAC7J,GAAA,EAAD,CAAWlH,OAAO,cAClB,cAAC0E,GAAA,EAAD,CACI1E,OAAO,QACP5E,UAAWZ,EAAQsE,MACnByhB,WAAY,CACRC,eACI,cAACC,GAAA,EAAD,CAAgB3mB,SAAS,QAAzB,uBAMZ,cAAC4K,GAAA,EAAD,CACI1E,OAAO,QACP5E,UAAWZ,EAAQ9G,MACnBmd,cAAerW,EAAQ0lB,eACvBK,WAAY,CACRG,aACI,cAACD,GAAA,EAAD,CAAgB3mB,SAAS,QAAzB,mBAMZ,cAAC4K,GAAA,EAAD,CACI1E,OAAO,SACP5E,UAAWZ,EAAQ7C,OACnBkZ,cAAerW,EAAQ2lB,gBACvBI,WAAY,CACRG,aACI,cAACD,GAAA,EAAD,CAAgB3mB,SAAS,QAAzB,mBAMZ,cAACuK,GAAA,EAAD,CAAgBrE,OAAO,cAAcpD,UAAU,aAA/C,SACI,cAAC6H,GAAA,EAAD,CAAazE,OAAO,WAExB,cAAC0E,GAAA,EAAD,CAAa1E,OAAO,QAAQ5E,UAAWZ,EAAQ6I,WAEnD,cAAC,KAAD,CACI3G,MAAM,kCACNqU,WAAS,EAFb,SAII,cAACkR,GAAA,EAAD,CACIvlB,MAAM,GACNE,UAAU,UACVslB,OAAO,aACPC,WAAY,cAAC,GAAD,IACZpR,WAAS,EALb,SAOI,eAACpB,GAAA,EAAD,WACI,cAACrC,GAAA,EAAD,CAAWtN,OAAO,SAClB,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC2R,GAAA,EAAD,CACI3R,OAAO,UACPwZ,cAAehf,EAAQ7B,UAE3B,cAACgZ,GAAA,EAAD,CAAW3R,OAAO,WAClB,cAAC,KAAD,kBA6CtBoiB,GAAmC,SAAC,GAQpC,EAPFlW,SAOE,EANF6E,UAMG,IALArZ,EAKD,yCACF,OAAO,cAACkO,GAAA,EAAD,eAAgBlO,KCjRZ,IACX0P,KAAMtB,GACN2B,OAAQ2Y,GACR1Y,KAAMoa,GACNjf,KAAMwf,M,UCIJC,GAAgB,SAAA5qB,GAAK,OACvB,eAAC,KAAD,2BAAaA,GAAb,cACI,cAACia,GAAA,EAAD,CAAW3R,OAAO,OAElB,cAACkH,GAAA,EAAD,CAAWlH,OAAO,OAAOuiB,WAAS,IAClC,cAACrb,GAAA,EAAD,CAAWlH,OAAO,YAClB,cAACkH,GAAA,EAAD,CAAWlH,OAAO,YAClB,cAAC6O,GAAA,EAAD,CAAW7O,OAAO,oBAIpBwiB,GAAuB,SAAA9qB,GAAK,OAC9B,cAAC,IAAD,2BACQA,GADR,IAEIuc,WAAY,cAAC,EAAD,CAAkB3Y,QAAQ,gB,UCxB/B,IACXuH,K,QAAM4f,EACNrb,KD0BoC,SAAA1P,GAAK,OACzC,cAAC,IAAD,2BACQA,GADR,IAEIlD,QAAS,cAAC,GAAD,IACTkb,WAAS,EACTgT,OAAO,EACPxc,QAAS,GALb,SAOI,eAAC,KAAD,CACI7E,cAAY,iBACZuO,SAAS,OACT+S,WAAY,cAAC,GAAD,IACZC,SAAU,cAAC,GAAD,IAJd,UAMI,cAACjR,GAAA,EAAD,CAAW3R,OAAO,OAClB,cAAC2R,GAAA,EAAD,CAAW3R,OAAO,SAClB,cAAC2R,GAAA,EAAD,CAAW3R,OAAO,YAClB,cAAC2R,GAAA,EAAD,CAAW3R,OAAO,YAClB,cAACsN,GAAA,EAAD,CAAWtN,OAAO,uBEjDjB+L,GAAW,CACpB,aACA,YACA,eACA,UACA,UACA,YAOWA,GAASlL,KAAI,SAAAiL,GAAO,MAAK,CACpCxU,GAAIwU,EACJ9P,MAN2B6mB,EAMC/W,EALrB+W,EAAOC,OAAO,GAAGC,cAAgBF,EAAOG,MAAM,KADzD,IAA+BH,KAIhB9W,ICqOAkX,GA7MV,SAAC,GAA6B,IAA3BpsB,EAA0B,EAA1BA,OAAQqsB,EAAkB,EAAlBA,YACN1oB,EAAUZ,KACVyC,EAAYC,cAFY,EAGIsN,mBAAS,CACvC1G,OAAO,EACPigB,SAAS,EACTC,WAAW,EACXrX,UAAU,EACVyQ,SAAS,IARiB,mBAGvB6G,EAHuB,KAGZC,EAHY,KAUxBvZ,EAAOwZ,aAAY,SAAC5O,GAAD,OAAqBA,EAAME,MAAM2O,GAAGC,eACvDC,EAAe,SACjBC,GAEAL,GAAa,SAAA3O,GAAK,kCAAUA,GAAV,kBAAkBgP,GAAQhP,EAAMgP,SAGtD,OACI,qBAAKvoB,UAAWZ,EAAQmpB,KAAxB,SACI,eAAC,IAAD,WACI,cAAC,IAAD,CACI3nB,KAAK,YACLP,GAAG,IACHmoB,OAAK,EACLlnB,MAAM,oBACNmG,KAAM,cAAC,IAAD,IACNuG,QAAS8Z,IAEb,eAAC,GAAD,CACIrgB,KAAM,cAAC,GAASA,KAAV,IACN6gB,aAAc,kBAAYA,EAAa,UACvCG,OAAQR,EAAUngB,MAClB7B,cAAY,gBACZyiB,cAAe/Z,EACfrN,MAAOL,EAAU,kBANrB,UAQI,cAAC,IAAD,CACIL,KAAK,WACLP,GAAG,YACHoH,KAAM,cAAC,GAAOA,KAAR,IACNuG,QAAS8Z,EACTxmB,MAAOL,EAAU,0BAA2B,CACxC8K,YAAa,MAGrB,cAAC,IAAD,CACInL,KAAK,WACLP,GAAG,sBACHoH,KAAM,cAACuc,GAASvc,KAAV,IACNuG,QAAS8Z,EACTxmB,MAAOL,EAAU,0BAA2B,CACxC8K,YAAa,SAIzB,eAAC,GAAD,CACItE,KAAM,cAAC,GAASA,KAAV,IACN6gB,aAAc,kBAAYA,EAAa,YACvCG,OAAQR,EAAUF,QAClBW,cAAe/Z,EACfrN,MAAOL,EAAU,oBALrB,UAOI,cAAC,IAAD,CACIL,KAAK,WACLP,GAAG,YACHoH,KAAM,cAAC,GAASA,KAAV,IACNuG,QAAS8Z,EACTxmB,MAAOL,EAAU,0BAA2B,CACxC8K,YAAa,MAGrB,cAAC,IAAD,CACInL,KAAK,aACLP,GAAG,gBACHoH,KAAM,cAAC,GAAWA,KAAZ,IACNuG,QAAS8Z,EACTxmB,MAAOL,EAAU,4BAA6B,CAC1C8K,YAAa,SAIzB,eAAC,GAAD,CACItE,KAAM,cAAC,GAASA,KAAV,IACN6gB,aAAc,kBAAYA,EAAa,cACvCG,OAAQR,EAAUD,UAClBU,cAAe/Z,EACfrN,MAAOL,EAAU,sBALrB,UAOI,cAAC,IAAD,CACIjB,UAAWZ,EAAQupB,cACnB/nB,KAAK,0BACLP,GAAE,uBACF2N,QAAS8Z,EACTxmB,MAAOL,EAAU,yBAA0B,CACvC8K,YAAa,MAGrB,cAAC,IAAD,CACI/L,UAAWZ,EAAQupB,cACnB/nB,KAAK,sBACLP,GAAE,4BAAuB+b,KAAKC,UAC1BuM,KAEJ5a,QAAS8Z,EACTxmB,MAAOL,EAAU,yBAA0B,CACvC8K,YAAa,MAGrB,cAAC,IAAD,CACI/L,UAAWZ,EAAQupB,cACnB/nB,KAAK,qBACLP,GAAE,4BAAuB+b,KAAKC,UAC1BwM,KAEJ7a,QAAS8Z,EACTxmB,MAAOL,EAAU,oBAAqB,CAClC8K,YAAa,MAGrB,cAAC,GAAD,CACItE,KAAM,cAAC,GAASA,KAAV,IACN6gB,aAAc,kBAAYA,EAAa,aACvCG,OAAQR,EAAUtX,SAClB+X,cAAe/Z,EACfrN,MAAOL,EAAU,2BALrB,SAOK0P,GAASlL,KAAI,SAAAiL,GAAO,OACjB,cAAC,IAAD,CACI1Q,UAAWZ,EAAQupB,cAEnB/nB,KAAI,mBAAc8P,GAClBrQ,GAAE,wCAAmCqQ,EAAnC,MACF1C,QAAS8Z,EACTxmB,MAAOL,EAAU,2BAAD,OACeyP,GAC3B,CACI3E,YAAa,KAPhB2E,WAcrB,eAAC,GAAD,CACIjJ,KAAM,cAAC,GAAQA,KAAT,IACN6gB,aAAc,kBAAYA,EAAa,YACvCG,OAAQR,EAAU7G,QAClBsH,cAAe/Z,EACfrN,MAAOL,EAAU,yBAA0B,CACvC8K,YAAa,IANrB,UASI,cAAC,IAAD,CACInL,KAAK,cACLP,GAAI,qBACJoH,KAAM,cAAC,KAAD,IACNuG,QAAS8Z,EACTxmB,MAAM,yBAEV,cAAC,IAAD,CACIV,KAAK,kBACLP,GAAI,wCACJoH,KAAM,cAAC,KAAD,IACNuG,QAAS8Z,EACTxmB,MAAM,6BAEV,cAAC,IAAD,CACIV,KAAK,cACLP,GAAI,sCACJoH,KAAM,cAAC,KAAD,IACNuG,QAAS8Z,EACTxmB,MAAM,4BAGd,cAAC,IAAD,CACIV,KAAK,SACLP,GAAG,UACHoH,KAAM,cAACqhB,GAAOrhB,KAAR,IACNuG,QAAS8Z,EACTxmB,MAAOL,EAAU,wBAAyB,CACtC8K,YAAa,MAGrB,cAAC,IAAD,CACInL,KAAK,QACLP,GAAG,SACHoH,KAAM,cAAC,IAAD,IACNuG,QAAS8Z,EACTxmB,MAAM,UAEV,cAAC,IAAD,CACIV,KAAK,SACLP,GAAG,UACHoH,KAAM,cAAC,IAAD,IACNuG,QAAS8Z,EACTxmB,MAAOL,EAAU,wBAAyB,CACtC8K,YAAa,MAGrB,sBAAMrP,MAAO,CAAEqC,YAAa,GAA5B,SAAkCtD,UAQ5CstB,GAOD,SAAC,GAQC,IAPHT,EAOE,EAPFA,aACAI,EAME,EANFA,cACAD,EAKE,EALFA,OACAhhB,EAIE,EAJFA,KACAnG,EAGE,EAHFA,MACAa,EAEE,EAFFA,SAEE,IADF6mB,aACE,SACI5pB,EAAUZ,KAEVyqB,EACF,eAAC,KAAD,CACIjpB,UAAWZ,EAAQ8pB,YACnBF,MAAOA,EACPxM,QAAM,EACNxO,QAASsa,EAJb,UAMI,cAACa,GAAA,EAAD,CAAcnpB,UAAWZ,EAAQqI,KAAjC,SACKghB,EAAS,cAAC,KAAD,IAAiBhhB,IAE/B,cAACxH,EAAA,EAAD,CAAYC,QAAQ,UAAUzI,MAAM,gBAApC,SACK6J,OAKb,OACI,qCACKonB,GAAiBD,EACdQ,EAEA,cAAC1G,GAAA,EAAD,CAASllB,MAAOiE,EAAO8nB,UAAU,QAAjC,SACKH,IAGT,cAACI,GAAA,EAAD,CAAUC,GAAIb,EAAQc,QAAQ,OAAOC,eAAa,EAAlD,SACI,cAAClN,GAAA,EAAD,CACItc,UAAWZ,EAAQqqB,iBACnBT,MAAOA,EACP1oB,UAAU,MACVopB,gBAAc,EAJlB,SAMKvnB,UAOf3D,GAAYC,aAAW,SAAA9H,GAAK,MAAK,CACnC4xB,KAAM,CACFxP,SAAU,QAEdtR,KAAM,CACFsR,SAAUpiB,EAAMqI,QAAQ,GACxB5H,QAAS,cACT6B,WAAY,SACZ2Y,eAAgB,UAEpBsX,YAAa,CACThqB,QAAQ,GAAD,OAAKvI,EAAMqI,QAAQ,KAAnB,cAA6BrI,EAAMqI,QAAQ,GAA3C,OAEXyqB,iBAAkB,CACd1qB,YAAapI,EAAMqI,QAAQ,MAE/B2pB,cAAe,CACX5pB,YAAapI,EAAMqI,QAAQ,QC/QtB4pB,GAAoB,CAAE/V,cAAe,4BACrCgW,GAAiB,CAAEvV,gBAAiB,GAqC3CqW,GAAqBjX,cAAW,SAAA/b,GAAK,MAAK,CAC5CizB,MAAO,CACH1mB,IAAK,GACLmP,MAAO,GACP7X,OAAO,aAAD,OAAe7D,EAAMG,QAAQkB,WAAW0X,OAC9CxQ,QAAS,YALUwT,CAOvBlS,KAeWqpB,GAbS,SAAC,GAA6B,IAA3BpuB,EAA0B,EAA1BA,OAAQqsB,EAAkB,EAAlBA,YAM/B,OALAK,aAAY,SAAC5O,GAAD,OAAqBA,EAAM5iB,SACtB6I,aAAc,SAAC7I,GAAD,OAC3BA,EAAMU,YAAYC,KAAK,SAIvB,cAAC,GAAD,CAAYmE,OAAQA,EAAQqsB,YAAaA,IAEzC,cAAC,GAAD,CAAaA,YAAaA,KAM5BgC,GAAyB,SAAC,GAAqB,IAAnBhC,EAAkB,EAAlBA,YACxB7mB,EAAYC,cACZ6oB,EA7DuB,SAAC5kB,GAC9B,IAAMob,EAAQyJ,cACR3qB,EAAW6c,cAF0C,EAGvB1N,mBAAS,GAHc,mBAGpDyb,EAHoD,KAGxCC,EAHwC,KAgC3D,OA3BAC,YAAyBhlB,GAAU,YAAkB,IAAfiU,EAAc,EAAdA,QAClC,GAAKA,GAAYA,EAAQnU,IAAzB,CAIA,IAAImlB,EAAQhR,EAAQnU,IAAIX,OAExB,GAAIjF,GAAYkhB,EAAMpb,GAAW,CAAC,IACtB5D,GAAWlC,IAAaA,EAASgrB,QAAU,KAA3C9oB,OACR,IAAKA,GAAuB,MAAbA,EAAOrF,GAClB,OAGJkuB,EAAQhR,EAAQnU,IAAIuN,QAAO,SAAAtW,GAAE,OAAIA,IAAOqF,EAAOrF,MAAIoI,OAGnD8lB,GACAF,GAAc,SAAAI,GAAQ,OAAIA,EAAWF,SAI7CroB,qBAAU,WACFwe,EAAMpb,IACN+kB,EAAc,KAEnB,CAAC3J,EAAOpb,IAEJ8kB,EA6BqBM,CAAyB,YAErD,OACI,eAAC,IAAD,CAAgBrqB,QAAQ,aAAxB,UACI,cAAC,IAAD,CACIU,KAAK,YACLP,GAAG,IACHmoB,OAAK,EACL/gB,KAAM,cAAC,IAAD,IACNuG,QAAS8Z,EACTxmB,MAAM,sBAEV,cAACqoB,GAAD,CACIlpB,aAAcspB,EACdtyB,MAAM,UAFV,SAII,cAAC,IAAD,CACImJ,KAAK,QACL6G,KAAM,cAAC,GAASA,KAAV,IACNuG,QAAS8Z,EACTxmB,MAAOL,EAAU,iBAAkB,CAAE8K,YAAa,IAClD9F,cAAY,gBALhB,SAOI,eAACqB,GAAA,EAAD,WACI,cAACrH,EAAA,EAAD,CAAYC,QAAQ,KAAKsN,cAAY,EAArC,SACKvM,EAAU,iBAAkB,CAAE8K,YAAa,MAEhD,eAAC,IAAD,WACI,cAAC4d,GAAD,CACIlpB,aAAcspB,EACdtyB,MAAM,UAFV,SAII,cAAC,IAAD,CACImJ,KAAK,WACLP,GAAG,YACHoH,KAAM,cAAC,GAAOA,KAAR,IACNuG,QAAS8Z,EACTxmB,MAAOL,EAAU,0BAEb,CACI8K,YAAa,QAK7B,cAAC,IAAD,CACInL,KAAK,WACLP,GAAG,sBACHoH,KAAM,cAACuc,GAASvc,KAAV,IACNuG,QAAS8Z,EACTxmB,MAAOL,EAAU,0BAA2B,CACxC8K,YAAa,gBAOrC,cAAC,IAAD,CACInL,KAAK,UACL6G,KAAM,cAAC,GAASA,KAAV,IACNuG,QAAS8Z,EACTxmB,MAAOL,EAAU,mBAAoB,CAAE8K,YAAa,IAJxD,SAMI,cAACzE,GAAA,EAAD,UACI,cAAC,GAAD,CAAawgB,YAAaA,QAGlC,cAAC,IAAD,CACIlnB,KAAK,YACL6G,KAAM,cAAC,GAASA,KAAV,IACNuG,QAAS8Z,EACTxmB,MAAOL,EAAU,qBAAsB,CAAE8K,YAAa,IAJ1D,SAMI,cAAC,GAAD,CAAe+b,YAAaA,MAEhC,cAAC,IAAD,CACIlnB,KAAK,UACL6G,KAAM,cAAC,GAAQA,KAAT,IACNuG,QAAS8Z,EACTxmB,MAAOL,EAAU,yBAA0B,CAAE8K,YAAa,IAJ9D,SAMI,eAACzE,GAAA,EAAD,WACI,cAACrH,EAAA,EAAD,CAAYC,QAAQ,KAAKsN,cAAY,EAArC,SACKvM,EAAU,yBAA0B,CACjC8K,YAAa,MAEP,IACd,eAAC,IAAD,WACI,cAAC,IAAD,CACInL,KAAK,cACLP,GAAI,qBACJoH,KAAM,cAAC,KAAD,IACNuG,QAAS8Z,EACTxmB,MAAM,yBAEV,cAAC,IAAD,CACIV,KAAK,kBACLP,GAAI,wCACJoH,KAAM,cAAC,KAAD,IACNuG,QAAS8Z,EACTxmB,MAAM,6BAEV,cAAC,IAAD,CACIV,KAAK,cACLP,GAAI,sCACJoH,KAAM,cAAC,KAAD,IACNuG,QAAS8Z,EACTxmB,MAAM,iCAKtB,cAAC,IAAD,CACIV,KAAK,SACLP,GAAG,UACHoH,KAAM,cAACqhB,GAAOrhB,KAAR,IACNuG,QAAS8Z,EACTxmB,MAAOL,EAAU,wBAAyB,CAAE8K,YAAa,MAE7D,cAAC,IAAD,CACInL,KAAK,SACLP,GAAG,UACHoH,KAAM,cAAC,IAAD,IACNuG,QAAS8Z,EACTxmB,MAAOL,EAAU,wBAAyB,CAAE8K,YAAa,UAMnEye,GAA+D,SAAC,GAE/D,IADH1C,EACE,EADFA,YAEM7mB,EAAYC,cACZupB,EAAwBC,GAAwB,aAEtD,OACI,cAACpjB,GAAA,EAAD,UACI,eAACgD,GAAA,EAAD,CAAKlT,QAAQ,OAAOwa,eAAe,gBAAnC,UACI,eAACtH,GAAA,EAAD,CAAK9D,YAAa,EAAlB,UACI,cAACvG,EAAA,EAAD,CAAYC,QAAQ,KAAKsN,cAAY,EAArC,SACKvM,EAAU,2BAA4B,CACnC8K,YAAa,MAGrB,eAAC,IAAD,WACI,cAAC,IAAD,CACInL,KAAK,0BACLP,GAAE,uBACF2N,QAAS8Z,EACTxmB,MAAOL,EAAU,yBAA0B,CACvC8K,YAAa,MAGrB,cAAC,IAAD,CACInL,KAAK,sBACLP,GAAE,4BAAuB+b,KAAKC,UAC1BuM,KAEJ5a,QAAS8Z,EACTxmB,MAAOL,EAAU,yBAA0B,CACvC8K,YAAa,MAGrB,cAAC,IAAD,CACInL,KAAK,qBACLP,GAAE,4BAAuB+b,KAAKC,UAC1BwM,KAEJ7a,QAAS8Z,EACTxmB,MAAOL,EAAU,oBAAqB,CAClC8K,YAAa,SAIzB,cAAC9L,EAAA,EAAD,CAAYC,QAAQ,KAAKsN,cAAY,EAArC,SACKvM,EAAU,0BAA2B,CAClC8K,YAAa,MAGrB,cAAC,IAAD,UACK4E,GAASlL,KAAI,SAAAiL,GAAO,OACjB,cAAC,IAAD,CAEI9P,KAAI,mBAAc8P,GAClBrQ,GAAE,wCAAmCqQ,EAAnC,MACF1C,QAAS8Z,EACTxmB,MAAOL,EAAU,2BAAD,OACeyP,GAC3B,CACI3E,YAAa,KAPhB2E,WAcpB+Z,EAAsBnmB,OAAS,GAC5B,eAACgG,GAAA,EAAD,WACI,cAACrK,EAAA,EAAD,CAAYC,QAAQ,KAAKsN,cAAY,EAArC,SACKvM,EAAU,sBAAuB,CAC9B8K,YAAa,MAGrB,cAAC,IAAD,UACK0e,EAAsBhlB,KAAI,gBAAGnE,EAAH,EAAGA,MAAOjB,EAAV,EAAUA,GAAV,OACvB,cAAC,IAAD,CAEIO,KAAK,YACLP,GAAIA,EACJ2N,QAAS8Z,EACTxmB,MAAOA,GAJFA,iBAenCqpB,GAAc,SAACruB,GAEA,IACTwrB,EAAgBxrB,EAAhBwrB,YACF7mB,EAAYC,cACZupB,EAAwBC,GAAwB,YAEtD,OACI,eAACpgB,GAAA,EAAD,CAAKlT,QAAQ,OAAOwa,eAAe,gBAAnC,UACI,eAACtH,GAAA,EAAD,CAAK9D,YAAaikB,EAAsBnmB,OAAS,EAAI,EAAI,EAAzD,UACI,cAACrE,EAAA,EAAD,CAAYC,QAAQ,KAAKsN,cAAY,EAArC,SACKvM,EAAU,mBAAoB,CAC3B8K,YAAa,MAGrB,eAAC,IAAD,WACI,cAAC,IAAD,CACInL,KAAK,WACLP,GAAG,YACHoH,KAAM,cAAC,GAASA,KAAV,IACNuG,QAAS8Z,EACTxmB,MAAOL,EAAU,0BAA2B,CACxC8K,YAAa,MAGrB,cAAC,IAAD,CACInL,KAAK,aACLP,GAAG,gBACHoH,KAAM,cAAC,GAAWA,KAAZ,IACNuG,QAAS8Z,EACTxmB,MAAOL,EAAU,4BAA6B,CAC1C8K,YAAa,YAK5B0e,EAAsBnmB,OAAS,GAC5B,eAACgG,GAAA,EAAD,WACI,cAACrK,EAAA,EAAD,CAAYC,QAAQ,KAAKsN,cAAY,EAArC,SACKvM,EAAU,sBAAuB,CAC9B8K,YAAa,MAGrB,cAAC,IAAD,UACK0e,EAAsBhlB,KAAI,gBAAGnE,EAAH,EAAGA,MAAOjB,EAAV,EAAUA,GAAV,OACvB,cAAC,IAAD,CAEIO,KAAK,WACLP,GAAIA,EACJ2N,QAAS8Z,EACTxmB,MAAOA,GAJFA,eAc/BopB,GAA0B,SAC5BvlB,GACmC,IAAD,EACXylB,YAAgBzlB,GAavC,OAdkC,oBAESM,KAAI,oBAAGnE,EAAH,EAAGA,MAAOqG,EAAV,EAAUA,MAAV,MAAuB,CAClErG,QACAjB,GAAG,IAAD,OAAM8E,EAAN,YAAkB0lB,KAAYxO,UAAU,CACtC7J,OAAQ4J,KAAKC,UAAU1U,EAAM6K,QAC7BtJ,KAAI,OAAEvB,QAAF,IAAEA,GAAF,UAAEA,EAAOuB,YAAT,aAAE,EAAaC,MACnBC,MAAK,OAAEzB,QAAF,IAAEA,GAAF,UAAEA,EAAOuB,YAAT,aAAE,EAAaE,MACpBgC,KAAM,EACNN,QAASnD,EAAMmD,QACfjE,iBAAkBc,EAAMd,yB,UC1YrBikB,GAJM,SAACxuB,GAClB,OAAO,cAAC,IAAD,2BAAYA,GAAZ,IAAmByuB,OAAQlrB,EAAQ0oB,KAAMsB,GAAMhsB,MAAOA,S,6FCS3DW,GAAYC,aAAW,SAAA9H,GAAK,MAAK,CACnCF,KAAM,CACFW,QAAS,OACTsa,cAAe,SACfrY,UAAW,QACXJ,WAAY,SACZ2Y,eAAgB,aAChB5Z,WAAY,mDACZgzB,iBAAkB,YAClBC,eAAgB,SAEpBxZ,KAAM,CACFsH,SAAU,IACVhgB,UAAW,OAEfqD,OAAQ,CACJkH,OAAQ,MACRlM,QAAS,OACTwa,eAAgB,UAEpBnK,KAAM,CACF7P,gBAAiBjB,EAAMG,QAAQ0C,UAAU/C,MAE7CsD,KAAM,CACFhB,UAAW,MACX3B,QAAS,OACTwa,eAAgB,SAChBna,MAAOd,EAAMG,QAAQ8B,KAAK,MAE9BqmB,KAAM,CACF/f,QAAS,iBAEb6R,MAAO,CACHhY,UAAW,OAEfK,QAAS,CACL8F,QAAS,qBAIXgsB,GAAc,SAAC,GAAD,QAChBC,KAAQC,GADQ,aACW,CAAEA,SAAS,EAAOC,WAAO/sB,GADpC,GACR8sB,QAASC,EADD,EACCA,MACLC,EAFI,mBAEhBva,OACGzU,EAHa,wCAKhB,cAAC,KAAD,qCACI+uB,SAAUD,IAAWC,GACrBE,WAAYH,GAAWC,GACnBC,GACAhvB,GAJR,IAKIqZ,WAAS,MAST6V,GAASC,eAATD,KAEFE,GAAQ,WAAqB,IAAD,EACAld,oBAAS,GADT,mBACvBoN,EADuB,KACd+P,EADc,KAExB1qB,EAAYC,cACZ9B,EAAUZ,KACVyc,EAASC,eACT/f,EAAQywB,eACRvsB,EAAWC,cA8BjB,OACI,cAACksB,GAAD,CACIK,SA9Ba,SAACC,GAClBH,GAAW,GACXxwB,EAAM2wB,EAAMzsB,EAASka,MAAQla,EAASka,MAAMwS,aAAe,KAAKC,OAC5D,SAACX,GACGM,GAAW,GACX1Q,EACqB,kBAAVoQ,EACDA,EACiB,qBAAVA,GAA0BA,EAAMY,QAEvCZ,EAAMY,QADN,wBAEN,eAoBRzW,SAdS,SAAC6U,GACd,IAAMpV,EAAqB,GAO3B,OANKoV,EAAOjvB,WACR6Z,EAAO7Z,SAAW6F,EAAU,2BAE3BopB,EAAOvV,WACRG,EAAOH,SAAW7T,EAAU,2BAEzBgU,GAOHa,OAAQ,gBAAGwN,EAAH,EAAGA,aAAH,OACJ,sBAAMuI,SAAUvI,EAAc4I,YAAU,EAAxC,SACI,sBAAKlsB,UAAWZ,EAAQ3I,KAAxB,UACI,eAAC4Q,GAAA,EAAD,CAAMrH,UAAWZ,EAAQqS,KAAzB,UACI,qBAAKzR,UAAWZ,EAAQhD,OAAxB,SACI,cAAC+U,GAAA,EAAD,CAAQnR,UAAWZ,EAAQqI,KAA3B,SACI,cAAC,KAAD,QAGR,qBAAKzH,UAAWZ,EAAQrF,KAAxB,+BAGA,sBAAKiG,UAAWZ,EAAQ6f,KAAxB,UACI,qBAAKjf,UAAWZ,EAAQ2R,MAAxB,SACI,cAAC,KAAD,CACInQ,KAAK,WACLN,UAAW4qB,GACX5pB,MAAOL,EAAU,oBACjBiO,SAAU0M,MAGlB,qBAAK5b,UAAWZ,EAAQ2R,MAAxB,SACI,cAAC,KAAD,CACInQ,KAAK,WACLN,UAAW4qB,GACX5pB,MAAOL,EAAU,oBACjB1K,KAAK,WACL2Y,SAAU0M,SAItB,cAACuQ,GAAA,EAAD,CAAansB,UAAWZ,EAAQhG,QAAhC,SACI,eAAC,KAAD,CACI8G,QAAQ,YACR3J,KAAK,SACLkB,MAAM,UACNyX,SAAU0M,EACVjG,WAAS,EALb,UAOKiG,GACG,cAACgL,GAAA,EAAD,CACIrX,KAAM,GACN6c,UAAW,IAGlBnrB,EAAU,2BAIvB,cAACorB,GAAA,EAAD,aA0BTC,GAVQ,SAAChwB,GACpB,IAAM3F,EAAQghB,eACN9gB,EAAeH,EAAUC,GAAzBE,WACR,OACI,cAAC01B,GAAA,EAAD,CAAe51B,MAAO61B,aAAe31B,GAArC,SACI,cAAC,GAAD,eAAWyF,O,+DCxLVmwB,GAA8Bxf,sBAAW,SAAC3Q,EAAO4Q,GAAS,IAC3DhI,EAA2B5I,EAA3B4I,KAAM8I,EAAqB1R,EAArB0R,QAAYjL,EADwC,aAC/BzG,EAD+B,oBAGlE,OACI,cAAC,KAAD,aACIgE,UAAWiS,IACXlS,GAAI6E,EAAKwnB,IACT1e,QAASA,EACTd,IAAKA,GACDnK,OAKhB0pB,GAAmBtf,YAAc,qBCH1B,IAAMwf,GAA2B,SAAArwB,GAAU,IACtC4I,EAAkB5I,EAAlB4I,KAAM8I,EAAY1R,EAAZ0R,QACNyW,EAAYvf,EAAZuf,QAEFrlB,EAAUwtB,KACV3rB,EAAYC,cAElB,OAAKujB,EAKD,eAAClI,GAAA,EAAD,CACIC,QAAM,EACNlc,UAAWmsB,GACXvnB,KAAMA,EACN8I,QAASA,EACT/U,WAAW,aALf,UAOI,cAACwjB,GAAA,EAAD,CAAgBzc,UAAWZ,EAAQhD,OAAnC,SACI,cAAC+U,GAAA,EAAD,CAAQ/K,IAAKqe,EAAQjjB,UAArB,SACI,cAAC,KAAD,CAAkB3E,SAAS,cAGnC,cAAC8mB,GAAA,EAAD,CAAM3jB,UAAWZ,EAAQ5H,KAAMshB,WAAS,EAAC9Z,QAAS,EAAlD,SACI,eAAC2kB,GAAA,EAAD,CAAM7K,WAAS,EAACO,MAAI,EAAC4J,IAAE,EAAvB,UACI,cAACU,GAAA,EAAD,CAAMtK,MAAI,EAAC4J,GAAI,EAAf,SACI,eAAChjB,EAAA,EAAD,CACIC,QAAQ,QACRzI,MAAM,cACN+V,cAAY,EAHhB,kBAKUiX,EAAQjjB,eAGtB,cAACmiB,GAAA,EAAD,CAAMtK,MAAI,EAAC4J,GAAI,EAAf,SACI,cAAC,GAAD,CAAevhB,OAAQ+iB,EAAQ/iB,WAEnC,cAACiiB,GAAA,EAAD,CAAMtK,MAAI,EAAC4J,GAAI,GAAf,SACI,eAAChjB,EAAA,EAAD,CACIC,QAAQ,QACRzI,MAAM,cACN+V,cAAY,EAHhB,UAKK,IAAIrP,KAAKsmB,EAAQ9C,MAAMoC,qBAL5B,sBAOQU,EAAQ7Q,SAASjS,WAPzB,YAOuC8iB,EAAQ7Q,SAAShS,WAPxD,sBASQX,EACA,0CAVR,YAWSwjB,EAAQpZ,OAXjB,sBA/BT,MAoDTuhB,GAA2BnuB,aAAW,SAAA9H,GAAK,MAAK,CAClDyF,OAAQ,CACJqY,WAAY9d,EAAMqI,QAAQ,GAC1BwH,YAAa7P,EAAMqI,QAAQ,GAC3B,QAAS,CACL1G,MAAO,GACPiE,OAAQ,KAGhB/E,KAAM,CACF0H,QAASvI,EAAMqI,QAAQ,EAAG,IAE9BqM,MAAO,CACHzO,WAAYjG,EAAMmb,WAAW+a,oBAI/BC,GAAwC,SAAC,GAAgB,IAAD,EAAbprB,EAAa,EAAbA,OACvCtC,EAAU2tB,KAEhB,OACI,qBACI/sB,UAAW+O,KAAW3P,EAAQ5H,MAAT,mBAChB4H,EAAQ6X,QAAqB,YAAXvV,GADF,cAEhBtC,EAAQ+X,UAAuB,cAAXzV,GAFJ,cAGhBtC,EAAQiY,UAAuB,cAAX3V,GAHJ,IADzB,SAOI,cAACzB,EAAA,EAAD,CAAYD,UAAWZ,EAAQsC,OAAQxB,QAAQ,UAA/C,SACKwB,OAMXqrB,GAAyBtuB,aAAW,SAAA9H,GAAK,MAAK,CAChDa,KAAM,CACFsJ,SAAU,GACV5B,QAASvI,EAAMqI,QAAQ,IAAM,GAC7B/G,aAActB,EAAMkD,MAAM5B,aAC1BmL,UAAW,UAEf6T,QAAS,CACLrf,gBAAiBmgB,YAAQiV,KAAK,KAAM,IACpCv1B,MAAOd,EAAMG,QAAQm2B,gBAAgBlV,YAAQiV,KAAK,KAAM,MAE5D7V,UAAW,CACPvf,gBAAiBmgB,YAAQphB,EAAMG,QAAQo2B,QAAQz2B,KAAM,IACrDgB,MAAOd,EAAMG,QAAQm2B,gBACjBlV,YAAQphB,EAAMG,QAAQo2B,QAAQz2B,KAAM,MAG5C4gB,UAAW,CACPzf,gBAAiBmgB,YAAQphB,EAAMG,QAAQu0B,MAAM50B,KAAM,IACnDgB,MAAOd,EAAMG,QAAQm2B,gBACjBlV,YAAQphB,EAAMG,QAAQu0B,MAAM50B,KAAM,MAG1CiL,OAAQ,CACJjK,MAAO,UACP01B,cAAe,kBClIjB3uB,GAAYC,aACd,SAAC9H,GAAD,MAAmB,CACfa,KAAM,CACFS,aAAc,MACdiH,QAAS,EACT5G,MAAO,IACP,UAAW,CACPV,gBAAiBjB,EAAMG,QAAQkB,WAAW4B,UAGlDjB,KAAM,CACFlB,MAAO,UACP,UAAW,CACPqkB,eAAgB,YAI5B,CACIlb,KAAM,iBAIDwsB,GAAa,SAAC,GAWK,IAV5BjrB,EAU2B,EAV3BA,SACAb,EAS2B,EAT3BA,MACAmG,EAQ2B,EAR3BA,KACApH,EAO2B,EAP3BA,GACG0C,EAMwB,iDACrB3D,EAAUZ,KAChB,OACI,cAAC,KAAD,CAAM8B,UAAWiS,IAAYlS,GAAIA,EAAIL,UAAWZ,EAAQzG,KAAxD,SACI,eAAC2R,GAAA,EAAD,yBACIhK,UAAU,KACVlJ,QAAQ,OACR6B,WAAW,SACX2Y,eAAe,SACfF,cAAc,SACd1R,UAAWZ,EAAQ5H,MACfuL,GAPR,cASI,eAACuH,GAAA,EAAD,CAAKlT,QAAQ,OAAO6B,WAAW,SAA/B,UACI,cAACqR,GAAA,EAAD,CAAK9D,YAAa,EAAlB,SAAsBiB,IACtB,cAACxH,EAAA,EAAD,CAAYK,UAAU,OAAtB,SAA8B6B,OAElC,cAAClC,EAAA,EAAD,CAAYC,QAAQ,UAApB,SAA+BoB,WCtCzCsb,GAA2B,CAC7Btc,UAAW,OAGF+sB,GAA4B,SAAA/wB,GAAU,IACvC4I,EAAkB5I,EAAlB4I,KAAM8I,EAAY1R,EAAZ0R,QACNyW,EAAYvf,EAAZuf,QAEFrlB,EAAUZ,KACVyC,EAAYC,cAElB,IAAKujB,EACD,OAAO,KAGX,IAAM6I,EAAQ,UAAM7I,EAAQ9iB,WAAd,YAA4B8iB,EAAQ7iB,WAElD,OACI,eAAC2a,GAAA,EAAD,CACIC,QAAM,EACNlc,UAAWmsB,GACXvnB,KAAMA,EACN8I,QAASA,EACT/U,WAAW,aACX+G,UAAWZ,EAAQ5H,KACnByO,cAAY,WAPhB,UASI,cAACwW,GAAA,EAAD,CAAgBzc,UAAWZ,EAAQhD,OAAnC,SACI,cAAC+U,GAAA,EAAD,CAAQ/K,IAAKknB,EAAUpnB,IAAKue,EAAQroB,WAExC,cAACugB,GAAA,EAAD,CACInmB,QACI,cAACyJ,EAAA,EAAD,CAAYxI,MAAM,cAAlB,SAAiC61B,IAErC9zB,UACI,eAAC8Q,GAAA,EAAD,CACIhK,UAAU,KACVlJ,QAAQ,OACRwa,eAAe,aACf1S,QAAS,EACTnG,UAAW,EACX4P,aAAc,EANlB,UAQK8b,EAAQ8I,eAAiB,EACtB,cAAC,GAAD,CACI9lB,KAAM,cAAC,KAAD,IACNnG,MAAOL,EAAU,0BAA2B,CACxC8K,YAAa,IAEjB1L,GAAE,qEAAgEokB,EAAQvoB,GAAxE,OALN,SAOKuoB,EAAQ8I,iBAEb,KAEH9I,EAAQ3Q,YAAc,EACnB,cAAC,GAAD,CACIrM,KAAM,cAAC,KAAD,IACNnG,MAAOL,EACH,0CAEJZ,GAAE,uEAAkEokB,EAAQvoB,GAA1E,OALN,SAOKuoB,EAAQ3Q,YAAYsG,mBAEzB,KACHqK,EAAQrD,QAAU,EACf,cAAC,GAAD,CACI3Z,KAAM,cAAC,KAAD,IACNnG,MAAOL,EAAU,yBAA0B,CACvC8K,YAAa,IAEjB1L,GAAE,6CAAwCokB,EAAQvoB,GAAhD,OALN,SAOKuoB,EAAQrD,UAEb,QAIZxE,yBAA0BA,SAMpCpe,GAAYC,aAAW,SAAA9H,GAAK,MAAK,CACnCa,KAAM,CACFskB,eAAgB,OAChB,UAAW,CACPA,eAAgB,QAEpB,MAAO,CACHA,eAAgB,QAEpB,YAAa,CACTA,eAAgB,SAGxB1f,OAAQ,CACJqY,WAAY9d,EAAMqI,QAAQ,GAC1BwH,YAAa7P,EAAMqI,QAAQ,GAC3B,QAAS,CACL1G,MAAO,GACPiE,OAAQ,SC3GdqgB,GAA2B,CAC7Btc,UAAW,OAGFktB,GAA2B,SAAAlxB,GAAU,IACtC4I,EAAkB5I,EAAlB4I,KAAM8I,EAAY1R,EAAZ0R,QACNyW,EAAYvf,EAAZuf,QAEFrlB,EAAUquB,KACVxsB,EAAYC,cAElB,OAAKujB,EAKD,eAAClI,GAAA,EAAD,CACIC,QAAM,EACNlc,UAAWmsB,GACXvnB,KAAMA,EACN8I,QAASA,EACT/U,WAAW,aACX+G,UAAWZ,EAAQ5H,KANvB,UAQI,cAACilB,GAAA,EAAD,CAAgBzc,UAAWZ,EAAQhD,OAAnC,SACI,qBAAK4D,UAAWZ,EAAQymB,IAAxB,SACI,qBAAK3f,IAAKue,EAAQte,UAAWC,IAAKqe,EAAQjjB,gBAGlD,cAACmb,GAAA,EAAD,CACInmB,QACI,cAACyJ,EAAA,EAAD,CAAYxI,MAAM,cAAlB,SACKgtB,EAAQjjB,YAGjBhI,UACIirB,EAAQrD,QAAU,EACd,cAAC9W,GAAA,EAAD,CACIhK,UAAU,KACVlJ,QAAQ,OACRwa,eAAe,gBACf1S,QAAS,EACTnG,UAAW,EACX4P,aAAc,EANlB,SAQI,cAAC,GAAD,CACIlB,KAAM,cAAC,KAAD,IACNnG,MAAOL,EAAU,yBAA0B,CACvC8K,YAAa,IAEjB1L,GAAE,4CAAuCokB,EAAQvoB,GAA/C,OALN,SAOKuoB,EAAQrD,iBAGjB9iB,EAGRse,yBAA0BA,QA9C3B,MAoDT6Q,GAA2BhvB,aAAW,SAAA9H,GAAK,MAAK,CAClDa,KAAM,CACFskB,eAAgB,OAChB,UAAW,CACPA,eAAgB,QAEpB,MAAO,CACHA,eAAgB,QAEpB,YAAa,CACTA,eAAgB,SAGxB1f,OAAQ,CACJ9D,MAAO,GACPiE,OAAQ,GACRlE,aAAc1B,EAAMqI,QAAQ,IAEhC2mB,IAAK,CACD3tB,WAAYrB,EAAMG,QAAQkB,WAAW0X,MACrCnV,UAAW,yCAEfsrB,IAAK,CACD,QAAS,CACLvtB,MAAO,a,WCxFbskB,GAA2B,CAC7Btc,UAAW,OAGFotB,GAA0B,SAAApxB,GAAU,IACrC4I,EAAkB5I,EAAlB4I,KAAM8I,EAAY1R,EAAZ0R,QACR5O,EAAUZ,KACRimB,EAAYvf,EAAZuf,QAER,OAAKA,EAKD,eAAClI,GAAA,EAAD,CACIC,QAAM,EACNlc,UAAWmsB,GACXvnB,KAAMA,EACN8I,QAASA,EACT/U,WAAW,aALf,UAOI,cAACwjB,GAAA,EAAD,CAAgBzc,UAAWZ,EAAQhD,OAAnC,SACI,cAAC+U,GAAA,EAAD,CAAQ/K,IAAKqe,EAAQjjB,UAArB,SACI,cAAC,KAAD,CAAa3E,SAAS,cAG9B,cAAC8f,GAAA,EAAD,CACInmB,QAAS,cAACm3B,GAAA,EAAD,CAAQhmB,MAAO8c,EAAQrH,OAAQwQ,UAAQ,IAChDp0B,UAAW,cAAC,GAAD,CAAe+D,QAASknB,EAAQlnB,UAE3Cqf,yBAA0BA,QApB3B,MA0BTiR,GAAyC,SAAC,GAAiB,IAAftwB,EAAc,EAAdA,QAC9C,OACI,8BACKA,EAAQ+G,QAAU,IACf,cAACrE,EAAA,EAAD,CAAYC,QAAQ,UAAUzI,MAAM,cAApC,SACK8F,IAGL,cAACglB,GAAA,EAAD,CAASllB,MAAOE,EAAhB,SACI,cAAC0C,EAAA,EAAD,CAAYC,QAAQ,UAAUzI,MAAM,cAApC,SACKq2B,GAAevwB,EAAS,YAQ1C,SAASuwB,GAAeh0B,EAAci0B,GAGzC,OAAIj0B,EAAKwK,QAAUypB,EACRj0B,EAGJA,EAAK8tB,MAAM,EAAGmG,GAAO,MAGhC,IAAMvvB,GAAYC,aAAW,SAAA9H,GAAK,MAAK,CACnCyF,OAAQ,CACJ9D,MAAO,GACPiE,OAAQ,GACRlE,aAAc1B,EAAMqI,QAAQ,GAE5B,QAAS,CACL1G,MAAO,OACPiE,OAAQ,aCpDLyxB,GAVuB,SAAA1xB,GAClC,OACI,qBAAK2J,cAAY,SAAjB,SACI,cAAC,KAAD,2BAAY3J,GAAZ,aACI,cAAC,GAAD,UAQV2xB,GAA0C,SAAA3xB,GAC5C,IAAM2E,EAAYC,cACZ9B,EAAU8uB,GAA2B5xB,GAFU,EAI3B6xB,eAAlBjpB,EAJ6C,EAI7CA,KAAMuK,EAJuC,EAIvCA,QAEd,IAAKvK,GAAwB,IAAhBA,EAAKZ,OACd,OACI,cAACgY,GAAA,EAAD,yBAAMrW,cAAY,eAAe+iB,OAAK,GAAK1sB,GAA3C,aACI,cAACigB,GAAA,EAAD,UACI,cAACI,GAAA,EAAD,CACInmB,QAASyK,EAAU,mCAMvC,IAAMmtB,EAAcC,aAA6BnpB,EAAMjE,GAEvD,OACI,cAACqb,GAAA,EAAD,yBACIrW,cAAY,eACZ+iB,OAAK,EACLhpB,UAAWZ,EAAQ5H,MACf8E,GAJR,aAMK8xB,EAAY3oB,KAAI,SAAA6oB,GAAK,OAClB,eAAC,WAAD,WACI,cAACC,GAAA,EAAD,CACIC,KAAK,eACLxuB,UAAWZ,EAAQ6pB,OACnBwF,eAAa,EAHjB,SAKI,qCACI,cAACxuB,EAAA,EAAD,CACID,UAAWZ,EAAQsvB,YACnBxuB,QAAQ,YAFZ,SAIKe,EAAUqtB,EAAMhtB,MAAM6F,WAAY,CAC/B5C,EAAG+pB,EAAMhtB,UAGjB,cAACrB,EAAA,EAAD,CACID,UAAWZ,EAAQuvB,YACnBzuB,QAAQ,YAFZ,SAIKe,EAAU,mBAAoB,CAC3B8K,YAAauiB,EAAMppB,KAAKZ,gBAKvCgqB,EAAMppB,KAAKO,KAAI,SAAAmpB,GAAgB,OAC5B,cAAC,GAAD,CAEI1pB,KAAM0pB,EACNnf,QAASA,GAFJmf,EAAiB1yB,SA3BnBoyB,EAAMhtB,cAsC/B4sB,GAA6BzvB,aAAW,SAAA9H,GAAK,MAAK,CACpDa,KAAM,CACFsV,UAAW,sBACXhM,SAAU,IACV+tB,UAAW,UAEf5F,OAAQ,CACJ7xB,QAAS,OACT6B,WAAY,SACZ2Y,eAAgB,gBAChB1S,QAASvI,EAAMqI,QAAQ,EAAG,IAE9B0vB,YAAa,CACTvB,cAAe,cAEnBwB,YAAa,CACTxB,cAAe,iBAIjB2B,GAAkC,SAAAxyB,GAAU,IACtC4I,EAA2B5I,EAA3B4I,KAAMuK,EAAqBnT,EAArBmT,QAAY1M,EADmB,aACVzG,EADU,oBAG7C,IAAK4I,EACD,OAAO,KAGX,OAAQA,EAAK3O,MACT,IAAK,YACD,OAAO,cAAC,GAAD,2BAAsBwM,GAAtB,IAA4BmC,KAAMA,EAAM8I,QAASyB,KAC5D,IAAK,WACD,OAAO,cAAC,GAAD,2BAAqB1M,GAArB,IAA2BmC,KAAMA,EAAM8I,QAASyB,KAC3D,IAAK,WACD,OAAO,cAAC,GAAD,2BAAqB1M,GAArB,IAA2BmC,KAAMA,EAAM8I,QAASyB,KAC3D,IAAK,UACD,OAAO,cAAC,GAAD,2BAAoB1M,GAApB,IAA0BmC,KAAMA,EAAM8I,QAASyB,KAC1D,QACI,OAAO,O,iDCrHJsf,GAjBI,WACf,IAAM9tB,EAAYC,cADiB,EAEFiK,aAC7B,SACA,CAAEL,QAAS,IAAKM,KAAM,GACtB,CAAEjC,MAAO,OAAQC,MAAO,QACxB,IAJUkY,EAFqB,EAE3Bpc,KAAcoB,EAFa,EAEbA,OAMhB0oB,EAAUrvB,OAAO0qB,OAAO/I,GAC9B,OACI,qCACI,cAACrP,GAAA,EAAD,CAAY5U,MAAO4D,EAAU,4BAC7B,cAAC,IAAD,CAAUqF,OAAQA,EAAQ0oB,QAASA,Q,0CCjBhC,OAA0B,iDCWnCxwB,GAAYC,aAAW,SAAA9H,GAAK,MAAK,CACnCa,KAAM,CACFQ,WAC2B,SAAvBrB,EAAMG,QAAQP,KACR,UADN,mHAGJkB,MAAO,OACPyH,QAAS,GACTnG,UAAWpC,EAAMqI,QAAQ,GACzB2J,aAAc,OAElBsmB,MAAO,CACHj3B,WAAW,OAAD,OAASk3B,GAAT,uBACVza,WAAY,QAEhBrb,QAAQ,eACHzC,EAAMU,YAAYC,KAAK,MAAQ,CAC5B4H,QAAS,EACTmR,SAAU,OACV,MAAO,CACHtX,UAAW,MACX0b,WAAY,cACZjO,YAAa,aA2Dd2oB,GArDK,WAChB,IAAMluB,EAAYC,cACZ9B,EAAUZ,KAChB,OACI,cAAC6I,GAAA,EAAD,CAAMrH,UAAWZ,EAAQ5H,KAAzB,SACI,eAAC8S,GAAA,EAAD,CAAKlT,QAAQ,OAAb,UACI,eAACkT,GAAA,EAAD,CAAK3L,KAAK,IAAV,UACI,cAACsB,EAAA,EAAD,CAAYC,QAAQ,KAAKI,UAAU,KAAKkN,cAAY,EAApD,SACKvM,EAAU,iCAEf,cAACqJ,GAAA,EAAD,CAAKxJ,SAAS,OAAd,SACI,cAACb,EAAA,EAAD,CAAYC,QAAQ,QAAQI,UAAU,IAAIkN,cAAY,EAAtD,SACKvM,EAAU,sCAGnB,eAACkrB,GAAA,EAAD,CAAansB,UAAWZ,EAAQhG,QAAhC,UACI,cAAC,KAAD,CACI8G,QAAQ,YACR1C,KAAK,UACL4xB,UAAW,cAAC,IAAD,IAHf,SAKKnuB,EAAU,uCAEf,cAAC,KAAD,CACIf,QAAQ,YACR1C,KAAK,sCACL4xB,UAAW,cAAC,KAAD,IAHf,SAKKnuB,EAAU,qCAEf,cAAC,KAAD,CACIf,QAAQ,YACR1C,KAAK,iDACLspB,OAAO,mBACPsI,UAAW,cAAC,KAAD,IAJf,SAMKnuB,EAAU,+CAKvB,cAACqJ,GAAA,EAAD,CACIlT,QAAS,CAAE6rB,GAAI,OAAQC,GAAI,OAAQH,GAAI,SACvC/iB,UAAWZ,EAAQ6vB,MACnB32B,MAAM,OACNiE,OAAO,MACPuC,SAAS,iBCrEvBN,GAAYC,aAAW,SAAA9H,GAAK,MAAK,CACnC8a,KAAM,CACFpY,UAAW,GACXsF,KAAM,IACN,MAAO,CACHmd,eAAgB,OAChBrkB,MAAO,YAGfhB,KAAM,CACFqI,SAAU,UACVI,QAAS,GACTlH,WAAW,OAAD,OACiB,SAAvBrB,EAAMG,QAAQP,KC7BX,6+CCAA,6+CF4BG,eAGVa,QAAS,OACTwa,eAAgB,gBAChB3Y,WAAY,SACZ,UAAW,CACPxB,MAA8B,SAAvBd,EAAMG,QAAQP,KAAkB,UAAY,YAG3D8G,MAAO,OAgCIgyB,GA7BiB,SAAA/yB,GAAU,IAC9BmL,EAAwCnL,EAAxCmL,KAAMpK,EAAkCf,EAAlCe,MAAOqH,EAA2BpI,EAA3BoI,SAAUrE,EAAiB/D,EAAjB+D,GAAI8B,EAAa7F,EAAb6F,SAC7B/C,EAAUZ,GAAUlC,GAC1B,OACI,eAAC+K,GAAA,EAAD,CAAMrH,UAAWZ,EAAQqS,KAAzB,UACI,cAAC,IAAD,CAAMpR,GAAIA,EAAV,SACI,sBAAKL,UAAWZ,EAAQ3I,KAAxB,UACI,cAAC6T,GAAA,EAAD,CAAKhS,MAAM,MAAM0H,UAAU,OAA3B,SACKsvB,wBAAc7nB,EAAM,CAAE5K,SAAU,YAErC,eAACyN,GAAA,EAAD,CAAKlH,UAAU,QAAf,UACI,cAACnD,EAAA,EAAD,CACID,UAAWZ,EAAQ/B,MACnB5F,MAAM,gBAFV,SAIK4F,IAEL,cAAC4C,EAAA,EAAD,CAAYC,QAAQ,KAAKI,UAAU,KAAnC,SACKoE,GAAY,mBAK5BvC,GAAY,cAACsW,GAAA,EAAD,IACZtW,MG1CEotB,GAZmB,SAAC,GAAe,IAAb5nB,EAAY,EAAZA,MAC3B1G,EAAYC,cAClB,OACI,cAAC,GAAD,CACIb,GAAG,YACHoH,KAAM+nB,KACNnyB,MAAO4D,EAAU,iCACjByD,SAAUiD,KCKP8nB,GAZgB,SAAC,GAAe,IAAb9nB,EAAY,EAAZA,MACxB1G,EAAYC,cAClB,OACI,cAAC,GAAD,CACIb,GAAG,YACHoH,KAAMioB,KACNryB,MAAO4D,EAAU,4BACjByD,SAAUiD,K,WCEhBnJ,GAAYC,aAAW,SAAA9H,GAAK,MAAK,CACnCa,KAAM,CACFmH,KAAM,GAEVgxB,KAAM,CACFnpB,YAAa,MACb/O,MAAOd,EAAMG,QAAQgD,KAAKtD,aA2DnBo5B,GAvDkB,SAAC,GAAqC,IAAD,IAAlC1O,cAAkC,MAAzB,GAAyB,MAArB8G,iBAAqB,MAAT,GAAS,EAC5D5oB,EAAUZ,KACVyC,EAAYC,cAClB,OACI,eAACmG,GAAA,EAAD,CAAMrH,UAAWZ,EAAQ5H,KAAzB,UACI,cAACya,GAAA,EAAD,CAAY5U,MAAO4D,EAAU,kCAC7B,cAACqb,GAAA,EAAD,CAAM0M,OAAO,EAAb,SACK9H,EAAOzb,KAAI,SAAAlE,GAAM,OACd,eAACgb,GAAA,EAAD,CAEIC,QAAM,EACNlc,UAAWC,IACXF,GAAE,oBAAekB,EAAOrF,IAJ5B,UAMI,cAACugB,GAAA,EAAD,UACKuL,EAAUzmB,EAAO0f,aACd,cAAC9P,GAAA,EAAD,CACIjL,IAAG,UACC8hB,EAAUzmB,EAAO0f,aAAa7kB,OAD/B,iBAKP,cAAC+U,GAAA,EAAD,MAGR,cAACwL,GAAA,EAAD,CACInmB,QAAS,IAAI2H,KAAKoD,EAAOogB,MAAMvH,eAC3B,SAEJ5gB,UAAWyH,EAAU,4BAA6B,CAC9C8K,YAAaxK,EAAOwU,OAAOzR,OAC3BurB,SAAUtuB,EAAOwU,OAAOzR,OACxBwrB,cAAe9H,EAAUzmB,EAAO0f,aAAjB,UAEL+G,EAAUzmB,EAAO0f,aACZtf,WAHA,YAKLqmB,EAAUzmB,EAAO0f,aACZrf,WAET,OAGd,cAACmuB,GAAA,EAAD,UACI,uBAAM/vB,UAAWZ,EAAQuwB,KAAzB,UACKpuB,EAAO8J,MADZ,WAnCC9J,EAAOrF,aCpB9BsC,GAAYC,aAAW,SAAA9H,GAAK,MAAK,CACnCyF,OAAQ,CACJpE,WAAYrB,EAAMG,QAAQkB,WAAW0X,OAEzCsgB,aAAc,CACVjjB,UAAW,SACXxQ,OAAQ,MACRnF,QAAS,cACT64B,gBAAiB,EACjBC,gBAAiB,YAErB14B,KAAM,CACFmH,KAAM,OAIDwxB,GAAmB,SAAC,GAIN,IAHvBxoB,EAGsB,EAHtBA,MAIM1G,EAAYC,cAElB,OACI,cAAC,GAAD,CACIb,GAAG,WACHoH,KAAM2oB,KACN/yB,MAAO4D,EAAU,iCACjByD,SAAUiD,KAoDP0oB,GA/CQ,SAAC,GAMG,IAAD,IALtBjP,eAKsB,MALZ,GAKY,MAJtB4G,iBAIsB,MAJV,GAIU,EAChB5oB,EAAUZ,KACVyC,EAAYC,cAClB,OACI,eAACmG,GAAA,EAAD,CAAMrH,UAAWZ,EAAQ5H,KAAzB,UACI,cAACya,GAAA,EAAD,CAAY5U,MAAO4D,EAAU,mCAC7B,cAACqb,GAAA,EAAD,UACK8E,EAAQ3b,KAAI,SAAClE,GAAD,OACT,eAACgb,GAAA,EAAD,CAEIC,QAAM,EACNlc,UAAWC,IACXF,GAAE,mBAAckB,EAAOrF,IACvBjD,WAAW,aALf,UAOI,cAACwjB,GAAA,EAAD,UACKuL,EAAUzmB,EAAO0f,aACd,cAAC9P,GAAA,EAAD,CACIjL,IAAG,UACC8hB,EAAUzmB,EAAO0f,aAAa7kB,OAD/B,eAGH4D,UAAWZ,EAAQhD,SAGvB,cAAC+U,GAAA,EAAD,MAIR,cAACwL,GAAA,EAAD,CACInmB,QAAS,cAAC,GAAD,CAAiB+K,OAAQA,IAClC/H,UAAW+H,EAAOhE,QAClByC,UAAWZ,EAAQ4wB,aACnBtzB,MAAO,CAAErE,aAAc,OAvBtBkJ,EAAOrF,a,qBC9CvBo0B,GAAiB,WAC1B,IAAMrvB,EAAYC,cACZqvB,EAAYngB,mBAAQ,WACtB,IAAMuR,EAAO,IAAIxjB,KAMjB,OALAwjB,EAAK6O,QAAQ7O,EAAK8O,UAAY,IAC9B9O,EAAK+O,SAAS,GACd/O,EAAKgP,WAAW,GAChBhP,EAAKiP,WAAW,GAChBjP,EAAKkP,gBAAgB,GACdlP,IACR,IAV2C,EAYXxI,aAAkB,CACjD5iB,KAAM,UACN4O,SAAU,YACViU,QAAS,CACL5G,OAAQ,CACJse,aAAa,EACbC,eAAgBR,EAAUxd,eAE9B7J,KAAM,CAAEC,MAAO,aAAcC,MAAO,QACpC2d,WAAY,CAAE3b,KAAM,EAAGN,QAAS,QAThCxE,EAZsC,EAYtCA,OAAc0qB,EAZwB,EAY9B9rB,KAahB,IAAKoB,EACD,OAAO,cAAC,KAAD,IAGX,IAAM2qB,EAAKD,EAAWA,EAASlzB,QAAO,SAACmzB,GAAD,QAAkBA,IAAI,GAAK,EAEjE,OACI,cAAC,GAAD,CACI5wB,GAAG,aACHoH,KAAMypB,KACN7zB,MAAO4D,EAAU,+BACjByD,SAAUusB,KA4DhBzyB,GAAYC,YAAW,CACzBjH,KAAM,CACFmH,KAAM,KAICwyB,GA7DM,WACjB,IAAMlwB,EAAYC,cACZ9B,EAAUZ,KACV+xB,EAAYngB,mBAAQ,WACtB,IAAMuR,EAAO,IAAIxjB,KAMjB,OALAwjB,EAAK6O,QAAQ7O,EAAK8O,UAAY,IAC9B9O,EAAK+O,SAAS,GACd/O,EAAKgP,WAAW,GAChBhP,EAAKiP,WAAW,GAChBjP,EAAKkP,gBAAgB,GACdlP,IACR,IAXkC,EAaFxI,aAAkB,CACjD5iB,KAAM,UACN4O,SAAU,YACViU,QAAS,CACL5G,OAAQ,CACJse,aAAa,EACbC,eAAgBR,EAAUxd,eAE9B7J,KAAM,CAAEC,MAAO,aAAcC,MAAO,QACpC2d,WAAY,CAAE3b,KAAM,EAAGN,QAAS,QAThCxE,EAb6B,EAa7BA,OAAc0qB,EAbe,EAarB9rB,KAahB,OAAKoB,EAID,eAACe,GAAA,EAAD,CAAMrH,UAAWZ,EAAQ5H,KAAzB,UACI,cAACya,GAAA,EAAD,CAAY5U,MAAO4D,EAAU,iCAC7B,cAACqb,GAAA,EAAD,UACK0U,EACKA,EAASvrB,KAAI,SAAClE,GAAD,OACT,eAACgb,GAAA,EAAD,CACIC,QAAM,EACNnc,GAAE,qBAAgBkB,EAAOrF,IACzBoE,UAAWC,IAHf,UAMI,cAACkc,GAAA,EAAD,UACI,cAACtL,GAAA,EAAD,CAAQjL,IAAG,UAAK3E,EAAOnF,OAAZ,mBAEf,cAACugB,GAAA,EAAD,CACInmB,QAAO,UAAK+K,EAAOI,WAAZ,YAA0BJ,EAAOK,eANvCL,EAAOrF,OAUpB,UAtBP,cAAC,KAAD,K,UCxETk1B,GAAU,IAAIjzB,KACdkzB,GAAgBjtB,MAAMC,KAAK,CAAEC,OAAQ,KAAM,SAACC,EAAG8Y,GAAJ,OAAUiU,mBAAQF,GAAS/T,MACtEkT,GAAYe,mBAAQ,IAAInzB,KAAQ,IAEhCozB,GAAgB,SAAC5P,GAAD,OAClB,IAAIxjB,KAAKwjB,GAAMoC,sBAcbyN,GAAmB,SAACtQ,GACtB,IAAMuQ,EAbmB,SAACvQ,GAAD,OACzBA,EACK1O,QAAO,SAACpJ,GAAD,MAAmC,cAAjBA,EAAM1H,UAC/B5D,QAAO,SAACC,EAAK2zB,GACV,IAAMC,EAAMC,kBAAOF,EAAK/P,KAAM,cAK9B,OAJK5jB,EAAI4zB,KACL5zB,EAAI4zB,GAAO,GAEf5zB,EAAI4zB,IAAQD,EAAKrmB,MACVtN,IACR,IAGiB8zB,CAAqB3Q,GAC7C,OAAOmQ,GAAc5rB,KAAI,SAAAkc,GAAI,MAAK,CAC9BA,KAAMA,EAAKmQ,UACXzmB,MAAOomB,EAAgBG,kBAAOjQ,EAAM,gBAAkB,OAgF/CoQ,GA5E8B,SAAC,GAAgB,IAAd7Q,EAAa,EAAbA,OACtCjgB,EAAYC,cAClB,OAAKggB,EAGD,eAAC7Z,GAAA,EAAD,WACI,cAAC4K,GAAA,EAAD,CAAY5U,MAAO4D,EAAU,iCAC7B,cAACqG,GAAA,EAAD,UACI,qBAAK5K,MAAO,CAAEpE,MAAO,OAAQiE,OAAQ,KAArC,SACI,cAAC,KAAD,UACI,eAAC,KAAD,CAAW2I,KAAMssB,GAAiBtQ,GAAlC,UACI,+BACI,iCACIhlB,GAAG,UACH81B,GAAG,IACHC,GAAG,IACHC,GAAG,IACHC,GAAG,IALP,UAOI,sBACIC,OAAO,KACPC,UAAU,UACVC,YAAa,KAEjB,sBACIF,OAAO,MACPC,UAAU,UACVC,YAAa,SAIzB,cAAC,KAAD,CACIC,QAAQ,OACR3xB,KAAK,OACLrK,KAAK,SACLi8B,MAAM,OACNC,OAAQ,CACJC,mBAAQnC,GAAW,GAAGuB,WACtB,IAAI3zB,MAAO2zB,WAEfa,cAAepB,KAEnB,cAAC,KAAD,CAAOgB,QAAQ,QAAQ3xB,KAAK,UAAUgyB,KAAK,WAC3C,cAAC,KAAD,CAAeC,gBAAgB,QAC/B,cAAC,KAAD,CACIC,OAAQ,CAAED,gBAAiB,OAC3BE,UAAW,SAACprB,GAAD,OACP,IAAIqrB,KAAKC,kBAAa30B,EAAW,CAC7B5B,MAAO,WACPoI,SAAU,QACX8sB,OAAOjqB,IAEdurB,eAAgB,SAAC5xB,GAAD,OACZiwB,GAAcjwB,MAGtB,cAAC,KAAD,CACI/K,KAAK,WACLg8B,QAAQ,QACRY,OAAO,UACPl2B,YAAa,EACbC,KAAK,8BA3Db,MCHlB2nB,GAAS,CACXlmB,KAAM,CAAEvH,QAAS,QACjBg8B,WAAY,CAAEh8B,QAAS,OAAQsa,cAAe,UAC9C2hB,QAAS,CAAE10B,KAAM,EAAG6H,YAAa,SACjC8sB,SAAU,CAAE7e,WAAY,QAAS3T,SAAU,QAC3CyyB,UAAW,CAAEx6B,UAAW,MAAO4P,aAAc,QAG3C6qB,GAAS,kBAAoB,sBAAM92B,MAAO,CAAEpE,MAAO,UACnDm7B,GAAiB,kBAAoB,sBAAM/2B,MAAO,CAAEH,OAAQ,UClDrDm3B,GDoDK,WAAqB,IAAD,EACRllB,mBAAgB,IADR,mBAC3B+K,EAD2B,KACpBoa,EADoB,KAE5BpU,EAAUqU,eACVC,EAAeC,eACfv0B,EAAWC,aAAc,SAAC7I,GAAD,OAC3BA,EAAMU,YAAYC,KAAK,SAErBmS,EAAUjK,aAAc,SAAC7I,GAAD,OAC1BA,EAAMU,YAAYC,KAAK,SAGrBy8B,EAAcrc,sBAAW,wBAAC,uCAAAsc,EAAA,6DACtBzD,EAAY,IAAIpyB,MACZqyB,QAAQD,EAAUE,UAAY,IAFZ,SAGSoD,EAAaI,QAC9C,WACA,CACIzhB,OAAQ,CAAE0hB,SAAU3D,EAAUxd,eAC9B7J,KAAM,CAAEC,MAAO,OAAQC,MAAO,QAC9B2d,WAAY,CAAE3b,KAAM,EAAGN,QAAS,MARZ,uBAGdqpB,EAHc,EAGpBjvB,KAQFkvB,EAAeD,EAChB3hB,QAAO,SAAApJ,GAAK,MAAqB,cAAjBA,EAAM1H,UACtB5D,QACG,SAACu2B,EAAmBjrB,GAQhB,MAPqB,cAAjBA,EAAM1H,SACN2yB,EAAMC,SAAWlrB,EAAMiC,MACvBgpB,EAAME,eAEW,YAAjBnrB,EAAM1H,QACN2yB,EAAMG,cAAcnU,KAAKjX,GAEtBirB,IAEX,CACIC,QAAS,EACTC,YAAa,EACbC,cAAe,KAG3Bb,GAAS,SAAApa,GAAK,kCACPA,GADO,IAEV4a,eACAG,QAASF,EAAaE,QAAQla,oBAAe9b,EAAW,CACpD5B,MAAO,WACPoI,SAAU,MACV2vB,sBAAuB,EACvBC,sBAAuB,IAE3BH,YAAaH,EAAaG,YAC1BC,cAAeJ,EAAaI,mBAxCJ,UA0CMX,EAAac,QAC3C,YACA,CACI1vB,IAAKmvB,EAAaI,cAAc/uB,KAC5B,SAAC2D,GAAD,OAAkBA,EAAM6X,iBA9CR,iBA0Cd+G,EA1Cc,EA0CpB9iB,KAQRyuB,GAAS,SAAApa,GAAK,kCACPA,GADO,IAEVqb,uBAAwB5M,EAAUlqB,QAC9B,SAAC8b,EAAoBhG,GAEjB,OADAgG,EAAKhG,EAAS1X,IAAM0X,EACbgG,IAEX,SAzDoB,4CA4D7B,CAACia,IAEEgB,EAAend,sBAAW,wBAAC,uCAAAsc,EAAA,sEACGH,EAAaI,QACzC,UACA,CACIzhB,OAAQ,CAAE9Q,OAAQ,WAClBwH,KAAM,CAAEC,MAAO,OAAQC,MAAO,QAC9B2d,WAAY,CAAE3b,KAAM,EAAGN,QAAS,OANX,uBACfsW,EADe,EACrBlc,KAQF4vB,EAAmB1T,EAAQtjB,QAAO,SAACmzB,GAAD,QAAkBA,IAAI,GACxD8D,EAAiB3T,EAAQwG,MAAM,EAAGpf,KAAKwsB,IAAI,GAAI5T,EAAQ9c,SAC7DqvB,GAAS,SAAApa,GAAK,kCAAUA,GAAV,IAAiBwb,iBAAgBD,wBAXlB,SAYKjB,EAAac,QAC3C,YACA,CACI1vB,IAAK8vB,EAAetvB,KAAI,SAACwvB,GAAD,OAAoBA,EAAOhU,iBAf9B,gBAYf+G,EAZe,EAYrB9iB,KAMRyuB,GAAS,SAAApa,GAAK,kCACPA,GADO,IAEV2b,wBAAyBlN,EAAUlqB,QAC/B,SAAC8b,EAAoBhG,GAEjB,OADAgG,EAAKhG,EAAS1X,IAAM0X,EACbgG,IAEX,SAzBqB,4CA4B9B,CAACia,IAEJ9xB,qBAAU,WACNgyB,IACAc,MACD,CAACtV,IA1G8B,IA6G9BgV,EAQAhb,EARAgb,YACAO,EAOAvb,EAPAub,iBACAN,EAMAjb,EANAib,cACAI,EAKArb,EALAqb,uBACAG,EAIAxb,EAJAwb,eACAG,EAGA3b,EAHA2b,wBACAZ,EAEA/a,EAFA+a,QACAH,EACA5a,EADA4a,aAEJ,OAAO50B,EACH,8BACI,sBAAK7C,MAAOmoB,GAAOuO,WAAnB,UACI,cAAC,GAAD,IACA,cAAC,GAAD,CAAgBzrB,MAAO2sB,IACvB,cAAC,GAAD,IACA,cAAC,GAAD,CAAa3sB,MAAO4sB,IACpB,cAAC,GAAD,IACA,cAAC,GAAD,CACIrT,OAAQsT,EACRxM,UAAW4M,IAEf,cAAC,GAAD,IACA,cAACO,GAAD,SAGR1rB,EACA,sBAAK/M,MAAOmoB,GAAOuO,WAAnB,UACI,qBAAK12B,MAAOmoB,GAAO0O,UAAnB,SACI,cAAC,GAAD,MAEJ,sBAAK72B,MAAOmoB,GAAOlmB,KAAnB,UACI,cAAC,GAAD,CAAgBgJ,MAAO2sB,IACvB,cAAC,GAAD,IACA,cAAC,GAAD,CAAa3sB,MAAO4sB,OAExB,qBAAK73B,MAAOmoB,GAAO0O,UAAnB,SACI,cAAC,GAAD,CAAYrS,OAAQiT,MAExB,qBAAKz3B,MAAOmoB,GAAO0O,UAAnB,SACI,cAAC,GAAD,CACIrS,OAAQsT,EACRxM,UAAW4M,MAGnB,qBAAKl4B,MAAOmoB,GAAO0O,UAAnB,SACI,cAAC4B,GAAD,SAIR,qCACI,cAAC,GAAD,IACA,sBAAKz4B,MAAOmoB,GAAOlmB,KAAnB,UACI,sBAAKjC,MAAOmoB,GAAOwO,QAAnB,UACI,sBAAK32B,MAAOmoB,GAAOlmB,KAAnB,UACI,cAAC,GAAD,CAAgBgJ,MAAO2sB,IACvB,cAAC,GAAD,IACA,cAAC,GAAD,CAAa3sB,MAAO4sB,IACpB,cAAC,GAAD,IACA,cAAC,GAAD,CAAkB5sB,MAAOmtB,IACzB,cAAC,GAAD,IACA,cAAC,GAAD,OAEJ,qBAAKp4B,MAAOmoB,GAAO0O,UAAnB,SACI,cAAC,GAAD,CAAYrS,OAAQiT,MAExB,sBAAKz3B,MAAOmoB,GAAOlmB,KAAnB,UACI,cAAC,GAAD,CACIuiB,OAAQsT,EACRxM,UAAW4M,IAEf,cAAC,GAAD,IACA,cAAC,GAAD,CACIxT,QAAS2T,EACT/M,UAAWkN,IAEf,cAAC,GAAD,IACA,cAAC,GAAD,UAGR,qBAAKx4B,MAAOmoB,GAAOyO,SAAnB,SACI,cAAC6B,GAAD,aE1Od32B,GAAYC,YAAW,CACzBgJ,KAAM,CAAEpP,aAAc,SACtBM,KAAM,CACFvB,QAAS,cACT6B,WAAY,YA4BLm8B,GAxB6C,SAAC,GAAiB,IAAf1kB,EAAc,EAAdA,QACrDzP,EAAYC,cACZ9B,EAAUZ,KAChB,OACI,eAAC,KAAD,CACI+Q,KAAK,QACL9X,MAAM,UACN6I,UAAWC,IACXF,GAAI,CACAN,SAAU,aACVs1B,OAAQhZ,qBAAU,CACdjR,KAAM,EACNN,QAAS,GACT0H,OAAQ4J,KAAKC,UAAU,CAAE7L,OAAQE,OAGzC1Q,UAAWZ,EAAQzG,KAZvB,UAcI,cAAC,GAAS8O,KAAV,CAAezH,UAAWZ,EAAQqI,OACjCxG,EAAU,2CCrBjBzC,GAAYC,YAAW,CACzBjH,KAAM,CACFuB,UAAW,MAwCJu8B,GApCM,WACjB,IAAMr0B,EAAYC,cACZ9B,EAAUZ,KAEhB,OADAmM,YAAqB,sBAEjB,qCACI,cAAC4qB,EAAD,IACA,eAACluB,GAAA,EAAD,CAAMrH,UAAWZ,EAAQ5H,KAAzB,UACI,cAAC6S,GAAA,EAAD,CAAOhN,MAAO4D,EAAU,6BACxB,eAAC8Y,GAAA,EAAD,CAAOxK,KAAK,QAAZ,UACI,cAACyK,GAAA,EAAD,UACI,eAACC,GAAA,EAAD,WACI,cAACC,GAAA,EAAD,UACKjZ,EAAU,oCAEf,cAACiZ,GAAA,EAAD,SAGR,cAACC,GAAA,EAAD,UACKxJ,GAASlL,KAAI,SAAAiL,GAAO,OACjB,eAACuJ,GAAA,EAAD,WACI,cAACC,GAAA,EAAD,UAAYjZ,EAAUyP,EAAQ9P,QAC9B,cAACsZ,GAAA,EAAD,UACI,cAAC,GAAD,CACIxJ,QAASA,EAAQxU,SAJdwU,EAAQxU,mB,UCvBpCs5B,GAdU,WAAO,IACpBl4B,EAASm4B,cAATn4B,KADmB,EAEMo4B,eAFN,mBAElBC,EAFkB,KAElBA,QAAaC,EAFK,KAELA,MAStB,OAPA7zB,qBAAU,YACF6zB,GAAUD,GACVC,EAAMt4B,MAKPq4B,EAAU,cAAC,IAAD,CAAUt1B,GAAG,MAAS,M,+FCArC7B,GAAYC,YAAW,CACzBjH,KAAM,CACFsJ,SAAU,IACVgyB,OAAQ,UACRxvB,OAAQ,GACR0Z,QAAS,GACT4C,WAAY,2BACZ,yBAA0B,CACtB5C,QAAS,IAGjB6Y,QAAS,CACL7Y,QAAS,IAEbiS,MAAO,CACH1yB,OAAQ,KAEZu5B,YAAa,CACTrhB,WAAY,QAEhBgQ,QAAS,CACL/lB,SAAU,WACVrF,UAAW,KAEf08B,QAAS,CACLr3B,SAAU,WACVwE,IAAK,GACLmP,MAAO,IAEXjZ,QAAS,CACL6Q,cAAe,GAEnB+rB,QAAS,CACLvhB,WAAY,mBAEhBwhB,kBAAmB,CACfl3B,YAAa,GACb7F,WAAY,EACZ+Q,cAAe,MAkERisB,GA9DsB,SAAC,GAAgB,IAAd30B,EAAa,EAAbA,OAC9BnC,EAAUZ,KADiC,E3FJzB,SACxBP,GACoC,IAAD,EACIR,IADJ,mBAC5BgC,EAD4B,KAChB02B,EADgB,KASnC,MAAO,CAPW12B,EAAWxB,GAEb,CACZD,aAAc,kBAAMm4B,EAAiBn4B,aAAaC,IAClDI,MAAO,kBAAM83B,EAAiB93B,MAAMJ,M2FFHm4B,CAAa70B,EAAOrF,GAAGiL,YAFX,mBAE1CkvB,EAF0C,KAEhCF,EAFgC,OAI1BT,eAJ0B,mBAIrCE,GAJqC,UAIrCA,OASZ,OACI,eAACvuB,GAAA,EAAD,CACIrH,UAAW+O,KAAW3P,EAAQ5H,KAAT,eAChB4H,EAAQy2B,UAAYQ,IAEzBroB,QAZkB,WAClB4nB,GACAA,EAAMr0B,EAAOjE,MAEjB64B,EAAiBn4B,gBAIjB,UAMI,cAACs4B,GAAA,EAAD,CACIt2B,UAAWZ,EAAQ6vB,MACnB7xB,MAAK,UAAKm5B,sBAAL,YAA+Bh1B,EAAOnE,OAC3CC,MAAOkE,EAAOlE,QAElB,eAACiK,GAAA,EAAD,CAAatH,UAAWZ,EAAQqlB,QAAhC,WACMljB,EAAO80B,UACL,cAAC,KAAD,CACI5+B,MAAM,QACNoF,SAAS,QACTmD,UAAWZ,EAAQ22B,UAG3B,cAAC91B,EAAA,EAAD,CAAYC,QAAQ,KAAKI,UAAU,KAAKkN,cAAY,EAApD,SACKjM,EAAOlE,QAEZ,cAAC4C,EAAA,EAAD,CAAYC,QAAQ,QAAQsN,cAAY,EAAxC,SACKjM,EAAOhE,aAGhB,cAAC4uB,GAAA,EAAD,CAAansB,UAAWZ,EAAQhG,QAAhC,SACI,cAAC,KAAD,CAAQmW,KAAK,QAAQ6f,UAAW,cAAC,KAAD,IAAc33B,MAAM,UAApD,oBAIJ,qBAAKuI,UAAWZ,EAAQ62B,kBAAxB,SACI,cAACh2B,EAAA,EAAD,CACIC,QAAQ,UACR9I,QAAQ,QACRK,MAAM,gBAHV,SAKO4+B,EAAF,yBACuB,IAAIl4B,KAClBk4B,GACFjc,kBAHP,8BCjGf/D,GAAgB5X,YAAW,CAC7B+3B,cAAe,CACXp/B,QAAS,OACTiZ,SAAU,OACVoE,WAAY,QACZjO,YAAa,WAIfgD,GAAc,WAAqB,IAAD,EACL/L,IADK,mBAC1Bg5B,GAD0B,WAGpC,OACI,eAAC9sB,GAAA,EAAD,WACI,cAACoE,GAAA,EAAD,CACIzM,MAAM,qBACN0M,QAAS,kBAAYyoB,EAAkBr4B,mBAF3C,SAII,cAAC,KAAD,MAEJ,cAAC2P,GAAA,EAAD,CACIzM,MAAM,QACN0M,QAAS,kBAAYyoB,EAAkBl4B,YAF3C,SAII,cAAC,KAAD,UAqBDm4B,GAfE,WACb,IAAMt3B,EAAUiX,KAEhB,OADA1L,YAAqB,SAEjB,qCACI,cAAC,GAAD,IACA,qBAAK3K,UAAWZ,EAAQo3B,cAAxB,SACK34B,EAAM4H,KAAI,SAAAnI,GAAI,OACX,cAAC,GAAD,CAAoBiE,OAAQjE,GAAjBA,EAAKpB,aC3CrB,IACX,cAAC,IAAD,CAAsBssB,OAAK,EAAClI,KAAK,YAAYxK,OAAQ,kBAAM,cAAC,GAAD,MAAhD,YACX,cAAC,IAAD,CAAmBwK,KAAK,SAASxK,OAAQ,kBAAM,cAAC,GAAD,MAApC,SACX,cAAC,IAAD,CAEIwK,KAAK,eACLxK,OAAQ,kBAAM,cAAC,GAAD,MAFV,kB,oBCuQG6gB,GArQoCC,aAC/CC,KACAC,IACA,CACI,UAAW,CACPvb,OAAQ,CACJwb,SAAU,+BAGlB,YAAa,CACT/0B,OAAO,wCAEXg1B,IAAK,CACD3B,OAAQ,SACR4B,cAAe,gBACfC,SAAU,WACVvgC,MAAO,CACHiK,KAAM,QACNnH,MAAO,QACPC,KAAM,QAEV8Y,OAAQ,cACR2kB,UAAW,CACPC,gBAAiB,kBACjBC,cAAe,yBACfC,WAAY,aACZC,gBAAiB,kBACjBC,cAAe,gBACfjK,eAAgB,iBAChBnkB,MAAO,CACHquB,MACI,6EAERC,SAAU,WACVC,QAAS,CACLt6B,MAAO,qDACPqH,SACI,kNACJkzB,UAAW,sCACXC,YAAa,mBACbC,cAAe,wBAGvBvP,KAAM,CACFzgB,MAAO,QACPigB,QAAS,UACTgQ,WAAY,aACZ/P,UAAW,YACXwP,cAAe,gBACfQ,cAAe,gBACfhH,SAAU,WACViH,YAAa,cACbV,gBAAiB,kBACjBW,YAAa,eAEjB9W,QAAS,CACL+W,SAAU,WACVC,SAAU,WACVC,QAAS,YAGjBh3B,UAAW,CACP2mB,UAAW,CACPpnB,KAAM,0BACNkJ,OAAQ,CACJwuB,SAAU,SACVC,WAAY,aACZ/nB,OAAQ,WACRqD,UAAW,YACXhB,cAAe,gBACfjS,KAAM,OACNkT,YAAa,cACbgB,SAAU,WACVC,iBAAkB,mBAClBJ,QAAS,UACT6jB,SAAU,WACV3jB,KAAM,OACNlT,WAAY,aACZ4R,eAAgB,iBAChBud,YAAa,cACblvB,UAAW,YACXmS,gBAAiB,kBACjBa,QAAS,cACTzC,YAAa,UAEjBtH,QAAS,CACL4tB,aAAc,eACdC,MAAO,QACPC,UAAW,YACXC,UAAW,YACXC,WAAY,aACZC,WAAY,aACZC,QAAS,UACTjI,YAAa,cACbvd,eAAgB,iBAChB+a,MAAO,WAEX0K,YAAa,CACT/1B,SAAU,WACV0R,QAAS,UACT0f,MAAO,QACPnU,QAAS,UACTpL,SAAU,WACVmkB,gBAAiB,mBAErB7tB,KAAM,CACF8tB,OAAQ,mBAEZjkB,OAAQ,CACJkkB,kBACI,+DAGZb,SAAU,CACN13B,KAAM,oBACNw4B,OAAQ,qCACR/7B,MAAO,qBACPyM,OAAQ,CACJiM,OAAQ,CACJsjB,SAAU,WACV73B,UAAW,YACX6Y,SAAU,WACVif,IAAK,MACL7e,SAAU,WACVpP,MAAO,QACPkuB,WAAY,cAEhB5kB,QAAS,UACTsM,YAAa,WACbiT,SAAU,eACVsF,SAAU,gBACV3J,SAAU,cACVruB,UAAW,kBACXi4B,SAAU,WACV/3B,OAAQ,SACRg4B,UAAW,eAGnB1V,SAAU,CACNpjB,KAAM,wBACNkJ,OAAQ,CACJ6X,KAAM,eACNV,YAAa,WACb0Y,WAAY,QACZzF,SAAU,eACVsF,SAAU,gBACVE,UAAW,aACX/kB,QAAS,YAGjB+E,SAAU,CACN9Y,KAAM,sBACNkJ,OAAQ,CACJ5N,GAAI,aACJgL,YAAa,WACb0yB,WAAY,aACZC,WAAY,aACZt9B,OAAQ,SACRa,MAAO,QACPsG,MAAO,QACPlC,UAAW,YACXsG,MAAO,QACPgyB,UAAW,YACX7xB,MAAO,QACP9B,UAAW,YACX4zB,UAAW,YACXC,UAAW,YACX1hC,MAAO,SAEXwe,KAAM,CACF1Z,MAAO,QACPooB,QAAS,UACTyU,YAAa,cACb7Y,QAAS,WAEbvW,QAAS,CACLqvB,WAAY,aACZjyB,MAAO,QACPkyB,SAAU,eACVC,UAAW,cACXC,cAAe,gBACfC,aAAc,kBACdxyB,MAAO,QACPyyB,aAAc,eACdC,gBAAiB,UACjBC,YAAa,MACbC,WAAY,eAGpBR,WAAY,CACRt5B,KAAM,2BACNkJ,OAAQ,CACJ4P,SAAU,YAEdtgB,QAAS,CACLuhC,eAAgB,kBAGxBvZ,QAAS,CACLxgB,KAAM,sBACNw4B,OAAQ,uCACRwB,mBAAoB,mBACpBC,OAAQ,gBACR/wB,OAAQ,CACJmX,YAAa,WACb0Y,WAAY,QACZrgB,WAAY,UACZ4a,SAAU,eACVsF,SAAU,gBACV7X,KAAM,OACNpkB,QAAS,UACT6f,OAAQ,UAEZ7B,OAAQ,CACJuf,OAAQ,SACRh/B,OAAQ,UAEZi/B,aAAc,CACVC,iBAAkB,kBAClBC,eAAgB,6BAChBC,iBAAkB,kBAClBC,eAAgB,+BAGxBxqB,SAAU,CACN/P,KAAM,WACNkJ,OAAQ,CACJke,UAAW,YACXpnB,KAAM,QAEVsE,KAAM,CACFk2B,WAAY,aACZC,UAAW,YACXC,aAAc,eACdC,QAAS,UACTC,QAAS,UACTC,SAAU,aAGlB3S,OAAQ,CACJloB,KAAM,SACNkJ,OAAQ,CACJ+K,KAAM,OACN6mB,QAAS,UACT/mB,QAAS,UACTgnB,WAAY,eAGpB99B,MAAO,CACH+C,KAAM,SAEVwE,MAAO,CACHw2B,QAAS,+BAEbta,OAAQ,CACJ1gB,KAAM,a,UCYPi7B,GA3QmCjF,aAC9CkF,KACAC,IACA,CACI,UAAW,CACPxgB,OAAQ,CACJwb,SAAU,yCAGlB,YAAa,CACT/0B,OAAO,kDAEXg1B,IAAK,CACD3B,OAAQ,aACR4B,cAAe,gBACfC,SAAU,SACVvgC,MAAO,CACHiK,KAAM,QACNnH,MAAO,QACPC,KAAM,UAEV8Y,OAAQ,gBACR2kB,UAAW,CACPC,gBAAiB,mBACjBC,cAAe,iCACfC,WAAY,sBACZC,gBAAiB,+BACjBC,cAAe,mBACfjK,eAAgB,yBAChBnkB,MAAO,CACHquB,MACI,kFAERC,SAAU,WACVC,QAAS,CACLt6B,MACI,6DACJqH,SACI,gTACJkzB,UAAW,qCACXC,YAAa,wBACbC,cAAe,wBAGvBvP,KAAM,CACFzgB,MAAO,SACPigB,QAAS,YACTgQ,WAAY,iBACZ/P,UAAW,UACXwP,cAAe,mBACfQ,cAAe,mBACfhH,SAAU,YACViH,YAAa,gBACbV,gBAAiB,gCACjBW,YAAa,gBAEjB9W,QAAS,CACL+W,SAAU,cACVC,SAAU,aACVC,QAAS,eAGjBh3B,UAAW,CACP2mB,UAAW,CACPpnB,KAAM,sBACNkJ,OAAQ,CACJ6K,QAAS,MACT6jB,SAAU,eACV3jB,KAAM,QACNyjB,SAAU,YACV32B,WAAY,YACZ42B,WAAY,qBACZ/nB,OAAQ,WACR+C,eAAgB,+BAChBud,YAAa,gBACblvB,UAAW,MACXiS,UAAW,QACXhB,cAAe,YACfkB,gBAAiB,gBACjBnT,KAAM,MACNkT,YAAa,cACbc,QAAS,cACTE,SAAU,eACVC,iBAAkB,4BAClB5C,YAAa,aAEjBtH,QAAS,CACL4tB,aAAc,qBACdC,MAAO,cACPC,UAAW,gBACXC,UAAW,yBACXC,WAAY,aACZC,WAAY,kBACZC,QAAS,cACTjI,YAAa,2BACbvd,eAAgB,uBAChB+a,MAAO,WAEX0K,YAAa,CACT/1B,SAAU,cACV0R,QAAS,UACT0f,MAAO,eACPnU,QAAS,aACTpL,SAAU,eACVmkB,gBAAiB,2BAErB7tB,KAAM,CACF8tB,OAAQ,uBAEZjkB,OAAQ,CACJkkB,kBACI,sEAGZb,SAAU,CACN13B,KAAM,0BACNw4B,OAAQ,2CACR/7B,MAAO,6BACPyM,OAAQ,CACJiM,OAAQ,CACJsjB,SAAU,qBACV73B,UAAW,kBACX6Y,SAAU,cACVif,IAAK,aACL7e,SAAU,MACVpP,MAAO,QACPkuB,WAAY,QAEhB5kB,QAAS,UACTsM,YAAa,SACbiT,SAAU,gBACVsF,SAAU,eACV3J,SAAU,cACVruB,UAAW,kBACXi4B,SAAU,aACV/3B,OAAQ,OACRg4B,UAAW,oBAGnB1V,SAAU,CACNpjB,KAAM,wBACNkJ,OAAQ,CACJ5N,GAAI,YACJylB,KAAM,kBACNV,YAAa,SACb0Y,WAAY,WACZzF,SAAU,gBACVsF,SAAU,eACV7kB,QAAS,UACT4F,eAAgB,aAChBC,cAAe,qBACfwhB,MAAO,QAGftiB,SAAU,CACN9Y,KAAM,sBACNkJ,OAAQ,CACJ5N,GAAI,cACJgL,YAAa,eACb0yB,WAAY,eACZC,WAAY,eACZt9B,OAAQ,UACRa,MAAO,QACPsG,MAAO,OACPlC,UAAW,kBACXsG,MAAO,SACPgyB,UAAW,eACX7xB,MAAO,QACP9B,UAAW,YACX4zB,UAAW,eACXC,UAAW,eACX1hC,MAAO,WAEXwe,KAAM,CACF1Z,MAAO,QACPooB,QAAS,aACTyU,YAAa,cACb7Y,QAAS,gBAEbvW,QAAS,CACLqvB,WAAY,gBACZjyB,MAAO,QACPkyB,SAAU,aACVC,UAAW,kBACXC,cAAe,oBACfC,aAAc,uBACdxyB,MAAO,SACPyyB,aAAc,oBACdC,gBAAiB,WACjBC,YAAa,YACbC,WAAY,iBAGpBR,WAAY,CACRt5B,KAAM,kCACNkJ,OAAQ,CACJlJ,KAAM,MACN8Y,SAAU,YAEdtgB,QAAS,CACLuhC,eAAgB,uBAGxBvZ,QAAS,CACLxgB,KAAM,gCACNw4B,OAAQ,iDACRwB,mBAAoB,kBACpBC,OAAQ,2BACR/wB,OAAQ,CACJmX,YAAa,SACb0Y,WAAY,WACZrgB,WAAY,UACZ4a,SAAU,mBACVsF,SAAU,kBACV7X,KAAM,OACNpkB,QAAS,QACTmE,OAAQ,SACR0b,OAAQ,cAEZ7B,OAAQ,CACJuf,OAAQ,WACRh/B,OAAQ,WAEZi/B,aAAc,CACVC,iBAAkB,0BAClBC,eAAgB,sCAChBC,iBAAkB,wBAClBC,eAAgB,sCAGxBxqB,SAAU,CACN/P,KAAM,WACNkJ,OAAQ,CACJke,UAAW,UACXpnB,KAAM,OAEVsE,KAAM,CACFk2B,WAAY,YACZC,UAAW,iBACXC,aAAc,gBACdC,QAAS,cACTC,QAAS,eACTC,SAAU,iBAGlB3S,OAAQ,CACJloB,KAAM,WACNkJ,OAAQ,CACJ+K,KAAM,QACN6mB,QAAS,OACT/mB,QAAS,UACTgnB,WAAY,cAGpB99B,MAAO,CACH+C,KAAM,WAEVwE,MAAO,CACHw2B,QAAS,qCAEbta,OAAQ,CACJ1gB,KAAM,uB,0CC9QlBq7B,GAA+B,GAsCpBC,GApC6B,SACxCrI,GAEA,OAAO,2BACAA,GADP,IAEIsI,UAAU,WAAD,8BAAE,WAAOC,EAAOC,GAAd,UAAArI,EAAA,6DACPiI,GAAc5b,KAAK,CAAE+b,QAAOC,yBADrB,kBAEA9gC,QAAQC,QAAQ,CAAE0J,KAAM,QAFxB,2CAAF,qDAAC,GAKVo3B,YAAY,WAAD,8BAAE,WAAOF,EAAOC,GAAd,UAAArI,EAAA,6DACTiI,GAAgBA,GAAczpB,QAC1B,SAAA+pB,GAAY,OACRA,EAAaH,QAAUA,GACvBG,EAAaF,uBAAyBA,KAJrC,kBAMF9gC,QAAQC,QAAQ,CAAE0J,KAAM,QANtB,2CAAF,qDAAC,GASZs3B,QAAS,SAACJ,EAAO/sB,GACb,OAAK+sB,EAGA/sB,EAAM9Y,MAGX0lC,GAAcx2B,KACV,SAAA82B,GAAY,OACRH,IAAUG,EAAaH,OACvBG,EAAaF,qBAAqBhtB,MAEnC9T,QAAQC,QAAQ,CAAE0J,KAAM,QAPpB3J,QAAQO,OAAO,IAAI2gC,MAAM,2BAHzBlhC,QAAQO,OAAO,IAAI2gC,MAAM,gCCGjCC,GA3BS,SAAA7I,GACpB,OAAO,2BACAA,GADP,IAEIwB,OAAO,WAAD,8BAAE,WAAMsH,GAAN,gBAAA3I,EAAA,sEAC4Bz4B,QAAQqhC,IACpC,CAAC,YAAa,WAAY,WAAY,WAAWn3B,KAAI,SAAAN,GAAQ,OACzD03B,GAAiBhJ,EAAc1uB,EAAUw3B,OAH7C,cACEG,EADF,yBAOG,CACH53B,KAAM43B,EAAkBh/B,QACpB,SAACC,EAAKg/B,GAAN,6BACOh/B,GADP,aAEOg/B,EAAkB73B,SAEzB,IAEJmG,MAAOyxB,EAAkBh/B,QACrB,SAACC,EAAKg/B,GAAN,OAA4Bh/B,EAAMg/B,EAAkB1xB,QACpD,KAjBJ,2CAAF,mDAAC,MA0BTwxB,GAAgB,yCAAG,WAAOhJ,EAAc1uB,EAAUw3B,GAA/B,oBAAA3I,EAAA,sEACSH,EAAaI,QAAQ9uB,EAAU,CACzDqN,OAAQ,CAAEwqB,EAAGL,GACb5V,WAAY,CAAE3b,KAAM,EAAGN,QAAS,GAChC5B,KAAM,CAAEC,MAAO,KAAMC,MAAO,SAJX,uBACblE,EADa,EACbA,KAAMmG,EADO,EACPA,MADO,SAQL9P,QAAQqhC,IAChB13B,EAAKO,IAAL,yCAAS,WAAMlE,GAAN,UAAAyyB,EAAA,4EACE7uB,EADF,YACc5D,EAAOrF,IADrB,KAECiJ,EAFD,gBAGIA,EAHJ,YAGgB5D,EAAOrF,IAHvB,SAIU+gC,GAAe93B,GAAU5D,EAAQsyB,GAJ3C,6CACL33B,GADK,KAEL3F,KAFK,KAGLm2B,IAHK,KAILjI,QAJK,kDAAT,wDATa,+BAgBjBpZ,EAhBiB,mBAQjBnG,KARiB,KAgBjBmG,MAhBiB,mDAAH,0DAoBhB4xB,GAAiB,CACnBjV,UAAU,WAAD,8BAAE,WAAOzmB,EAAQsyB,GAAf,kBAAAG,EAAA,sEACcH,EAAaI,QAAQ,WAAY,CAClDzhB,OAAQ,CAAEyO,YAAa1f,EAAOrF,IAC9B6qB,WAAY,CAAE3b,KAAM,EAAGN,QAAS,GAChC5B,KAAM,CAAEC,MAAO,KAAMC,MAAO,SAJzB,cACD8X,EADC,gBAMe2S,EAAaI,QAAQ,UAAW,CAClDzhB,OAAQ,CAAEyO,YAAa1f,EAAOrF,IAC9B6qB,WAAY,CAAE3b,KAAM,EAAGN,QAAS,GAChC5B,KAAM,CAAEC,MAAO,KAAMC,MAAO,SATzB,cAMDgY,EANC,oDAaA7f,GAbA,IAcHgsB,eAAgBrM,EAAO7V,MACvB+V,QAASA,EAAQ/V,SAfd,2CAAF,qDAAC,GAkBVqO,SAAS,WAAD,8BAAE,WAAOnY,EAAQsyB,GAAf,gBAAAG,EAAA,sEACgBH,EAAaI,QAAQ,UAAW,CAClDzhB,OAAQ,CAAE8G,WAAY/X,EAAOrF,IAC7B6qB,WAAY,CAAE3b,KAAM,EAAGN,QAAS,GAChC5B,KAAM,CAAEC,MAAO,KAAMC,MAAO,SAJ1B,cACAgY,EADA,oDAQC7f,GARD,IASF6f,QAASA,EAAQ/V,SATf,2CAAF,qDAAC,GAYTitB,SAAS,WAAD,8BAAE,WAAO/2B,EAAQsyB,GAAf,gBAAAG,EAAA,sEACiBH,EAAaqJ,OAAO,YAAa,CACpDhhC,GAAIqF,EAAO0f,cAFT,cACArN,EADA,oDAMCrS,GAND,IAOFqS,SAAUA,EAAS1O,QAPjB,2CAAF,qDAAC,GAUTkc,QAAQ,WAAD,8BAAE,WAAM7f,GAAN,UAAAyyB,EAAA,+EACEzyB,GADF,2CAAF,mDAAC,ICpFN47B,GAAeC,KACjBC,IACAnB,GACAoB,KACAZ,GAJiBU,CAKnBG,aAAmB,0BAmBNC,GAjBa,IAAIC,MAAMN,GAAc,CAChDO,IAAK,SAAC5W,EAAQlmB,EAAM+8B,GAChB,MAAa,SAAT/8B,EACO+8B,EAGJ,SAACx4B,EAAUsb,GACd,OAAO,IAAIllB,SAAQ,SAAAC,GAAO,OACtBoiC,YACI,kBAAMpiC,EAAQ2hC,GAAav8B,GAAMuE,EAAUsb,MAC3C,Y,8DCzBL,IACXyZ,WAAY,CACR,CACIh+B,GAAI,EACJ0E,KAAM,aACNwB,QAAQ,EACRD,SAAU,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,MAGhE,CAAEjG,GAAI,EAAG0E,KAAM,UAAWwB,QAAQ,EAAOD,SAAU,CAAC,EAAG,EAAG,IAC1D,CAAEjG,GAAI,EAAG0E,KAAM,OAAQwB,QAAQ,EAAOD,SAAU,IAChD,CAAEjG,GAAI,EAAG0E,KAAM,QAASwB,QAAQ,EAAOD,SAAU,IACjD,CAAEjG,GAAI,EAAG0E,KAAM,QAASwB,QAAQ,EAAOD,SAAU,IAEjD,CAAEjG,GAAI,GAAI0E,KAAM,QAASwB,QAAQ,EAAOD,SAAU,CAAC,GAAI,KACvD,CAAEjG,GAAI,GAAI0E,KAAM,QAASwB,QAAQ,EAAOD,SAAU,IAClD,CAAEjG,GAAI,GAAI0E,KAAM,WAAYwB,QAAQ,EAAOD,SAAU,IAErD,CAAEjG,GAAI,GAAI0E,KAAM,WAAYwB,QAAQ,EAAOD,SAAU,IAErD,CAAEjG,GAAI,GAAI0E,KAAM,OAAQwB,QAAQ,EAAOD,SAAU,CAAC,GAAI,KACtD,CAAEjG,GAAI,GAAI0E,KAAM,OAAQwB,QAAQ,EAAOD,SAAU,IACjD,CAAEjG,GAAI,GAAI0E,KAAM,OAAQwB,QAAQ,EAAOD,SAAU,IAEjD,CAAEjG,GAAI,GAAI0E,KAAM,OAAQwB,QAAQ,EAAOD,SAAU,IACjD,CAAEjG,GAAI,GAAI0E,KAAM,UAAWwB,QAAQ,EAAOD,SAAU,IAEpD,CAAEjG,GAAI,GAAI0E,KAAM,OAAQwB,QAAQ,EAAOD,SAAU,CAAC,GAAI,KACtD,CAAEjG,GAAI,GAAI0E,KAAM,SAAUwB,QAAQ,EAAOD,SAAU,IACnD,CAAEjG,GAAI,GAAI0E,KAAM,QAASwB,QAAQ,EAAOD,SAAU,IAElD,CAAEjG,GAAI,GAAI0E,KAAM,SAAUwB,QAAQ,EAAOD,SAAU,IAEnD,CAAEjG,GAAI,GAAI0E,KAAM,SAAUwB,QAAQ,EAAOD,SAAU,CAAC,GAAI,GAAI,KAC5D,CAAEjG,GAAI,GAAI0E,KAAM,MAAOwB,QAAQ,EAAOD,SAAU,IAChD,CAAEjG,GAAI,GAAI0E,KAAM,SAAUwB,QAAQ,EAAOD,SAAU,IACnD,CAAEjG,GAAI,GAAI0E,KAAM,OAAQwB,QAAQ,EAAOD,SAAU,IAEjD,CAAEjG,GAAI,GAAI0E,KAAM,SAAUwB,QAAQ,EAAOD,SAAU,IACnD,CAAEjG,GAAI,IAAK0E,KAAM,OAAQwB,QAAQ,EAAOD,SAAU,IAClD,CAAEjG,GAAI,IAAK0E,KAAM,SAAUwB,QAAQ,EAAOD,SAAU,IACpD,CAAEjG,GAAI,IAAK0E,KAAM,QAASwB,QAAQ,EAAOD,SAAU,KAEvD2mB,OAAQ,CACJ,CACI5sB,GAAI,EACJ2Y,KAAM,QACN6mB,QAAS,SACT/mB,QAAS,kBACTgnB,WAAY,IAAIx9B,KAAK,KAAM,EAAG,KAElC,CACIjC,GAAI,EACJ2Y,KAAM,OACN6mB,QAAS,SACT/mB,QAAS,6BACTgnB,WAAY,IAAIx9B,KAAK,KAAM,EAAG,KAElC,CACIjC,GAAI,EACJ2Y,KAAM,OACN6mB,QAAS,SACT/mB,QAAS,iBACTgnB,WAAY,IAAIx9B,KAAK,KAAM,EAAG,KAElC,CACIjC,GAAI,EACJ2Y,KAAM,WACN6mB,QAAS,SACT/mB,QAAS,qBACTgnB,WAAY,IAAIx9B,KAAK,KAAM,EAAG,IAElC,CACIjC,GAAI,EACJ2Y,KAAM,QACN6mB,QAAS,SACT/mB,QAAS,0BACTgnB,WAAY,IAAIx9B,KAAK,KAAM,GAAI,IAEnC,CACIjC,GAAI,EACJ2Y,KAAM,QACN6mB,QAAS,SACT/mB,QAAS,iBACTgnB,WAAY,IAAIx9B,KAAK,KAAM,EAAG,MAGtCiH,MAAO,ICjFLy4B,GAAqB,SACvBC,EACAC,EACApc,GAEA,MAAO,CACHA,KAAMA,EAAK5O,cACXgrB,SACA54B,SAAU,WACVoW,OAAQ,SACRnC,QAAS,CACLld,GAAI4hC,EAAQ5hC,GACZgJ,KAAM44B,KAKZE,GAAmB,SACrBF,EACAC,EACApc,GAEA,MAAO,CACHA,KAAMA,EAAK5O,cACXgrB,SACA54B,SAAU,WACVoW,OAAQ,SACRnC,QAAS,CACLld,GAAI4hC,EAAQ5hC,GACZgJ,KAAK,2BACE44B,GADH,IAEAp6B,MAAOo6B,EAAQp6B,MAAQ8E,KAAKy1B,KAAqB,GAAhBz1B,KAAKC,YAE1Cy1B,aAAcJ,KAKpBK,GAAyB,SAC3B/0B,EACAg1B,EACAL,EACApc,GAEA,MAAO,CACHA,KAAMA,EAAK5O,cACXgrB,SACA54B,SAAU,WACVoW,OAAQ,SACRnC,QAAS,CACLld,GAAIkN,EAAMlN,GACVgJ,KAAK,2BACEkE,GADH,IAEA1H,OAAQ08B,IAEZF,aAAc90B,KAKpBi1B,GAAc,SAAA/5B,GAChB,OAAOkE,KAAK81B,MAAM91B,KAAKC,SAAWnE,IAGhCi6B,GAAS,CACXtiC,EACA,CACIC,GAAI,EACJC,SAAU,eAEd,CACID,GAAI,EACJC,SAAU,eAEd,CACID,GAAI,EACJC,SAAU,cAEd,CACID,GAAI,EACJC,SAAU,kBAEd,CACID,GAAI,EACJC,SAAU,sBA8GHqiC,GA1GY,SAACt5B,GACxB,IAAMu5B,EAAmB,kBACrBF,GAAOF,GAAYE,GAAOj6B,UACxBo6B,EAAoB,kBACtBx5B,EAAKwU,SAAS2kB,GAAYn5B,EAAKwU,SAASpV,UAEtCkwB,EAAgBtvB,EAAKozB,SAAS9lB,QAChC,SAAAmsB,GAAO,MAAuB,YAAnBA,EAAQj9B,UAEjBk9B,EAAkB,kBACpBpK,EAAc6J,GAAY7J,EAAclwB,UACtCu6B,EAAM,IAAI1gC,KA0FhB,MAzFe,CAEXggC,GACIS,IACA,YACAH,IACAK,YAAaA,WAAYD,EAAK,GAAI,IAEtCV,GACIS,IACA,YACAH,IACAK,YAAaA,WAAYD,EAAK,GAAI,IAEtChB,GACIa,IACAD,IACAK,YAAaA,WAAYD,EAAK,GAAI,IAEtCb,GACIU,IACAD,IACAK,YAAaA,WAAYD,EAAK,GAAI,IAEtCb,GACIU,IACAD,IACAK,YAAaA,WAAYD,EAAK,GAAI,IAGtChB,GACIa,IACAD,IACAK,YAAaA,WAAYD,EAAK,GAAI,IAEtCV,GACIS,IACA,YACAH,IACAK,YAAaA,WAAYD,EAAK,GAAI,IAEtCV,GACIS,IACA,YACAH,IACAK,YAAaA,WAAYD,EAAK,GAAI,IAEtCb,GACIU,IACAD,IACAK,YAAaA,WAAYD,EAAK,GAAI,IAGtCb,GACIU,IACAD,IACAK,YAAaA,WAAYD,EAAK,GAAI,IAEtCV,GACIS,IACA,YACAH,IACAK,YAAaA,WAAYD,EAAK,GAAI,IAEtCV,GACIS,IACA,YACAH,IACAK,YAAaA,WAAYD,EAAK,GAAI,IAEtChB,GACIa,IACAD,IACAK,YAAaA,WAAYD,EAAK,GAAI,IAGtChB,GACIa,IACAD,IACAK,YAAaA,WAAYD,EAAK,GAAI,IAEtCV,GACIS,IACA,YACAH,IACAK,YAAaA,WAAYD,EAAK,GAAI,KAI5Bp5B,KAAI,SAAC4J,EAAOkO,GACtB,OAAO,aAAErhB,GAAIqhB,GAAUlO,OC3LzB0vB,GAA2B,SAA3BA,EACF7E,EACA8E,GAEA,IAAMC,EAAiB/E,EAAWx0B,MAAK,qBAAGxJ,KAAgB8iC,KAC1D,IAAKC,EACD,MAAO,GAEX,IAAM98B,EAAW88B,EAAe98B,SAASsD,KAAI,SAAAy5B,GAAO,OAChDH,EAAyB7E,EAAYgF,MAGzC,MAAM,CAAEF,GAAR,oBAAqB78B,KAyCV,cACX,IAtCAg9B,EACAC,EAqCMl6B,EAAam6B,KAAa,CAAEC,eAAe,IAC3C5lB,EAAWxU,EAAKwU,SAASjU,KAvC/B05B,EAwC8Bj6B,EAAKg1B,WAvCnCkF,EAuC+CG,GAASrF,WAtCvD,SAAC4D,GACF,IAAM0B,EAAmBL,EAAmBz5B,MACxC,SAAA+5B,GAAC,OAAIA,EAAEvjC,KAAO4hC,EAAQ52B,eAG1B,IAAKs4B,EACD,OAAO1B,EAGX,IAAM4B,EAAsBN,EAAc15B,MACtC,SAAA+5B,GAAC,OAAIA,EAAE7+B,OAAS4+B,EAAiB5+B,QAGrC,IAAK8+B,EACD,OAAO5B,EAIX,GAA4C,IAAxC4B,EAAoBv9B,SAASmC,OAC7B,OAAO,2BACAw5B,GADP,IAEI52B,YAAaw4B,EAAoBxjC,KAIzC,IAAMyjC,EAAgBl3B,UAAOm3B,aACzBF,EAAoBv9B,UAAY,IAGpC,OAAO,2BACA27B,GADP,IAEI52B,YAAay4B,OASXre,EAASkd,GAAmBt5B,GAG5B26B,EAAU,uCAAQ36B,GAASq6B,IAAjB,IAA2B7lB,WAAU4H,WAE/Cwe,EAAa,IAAIC,KAASC,YAAY,yBAuB5C,OAtBI/9B,SACAA,OAAO69B,WAAaA,GAExBA,EAAWG,uBAAsB,SAAAC,GAc7B,MAXuB,QAAnBA,EAAQC,QACRD,EAAQxT,IAAI0T,SAAS,cACrBF,EAAQzf,OAAOjO,aACuBlU,IAAtC4hC,EAAQzf,OAAOjO,OAAOtL,cAGtBg5B,EAAQzf,OAAOjO,OAAOtL,YAAc63B,GAChCc,EAAW3F,WACX9oB,SAAS8uB,EAAQzf,OAAOjO,OAAOtL,eAGhCg5B,KAEXJ,EAAWO,KAAKR,GAChBC,EAAWQ,gBACXC,KAAUC,KAAK,8BAA+BV,EAAWW,cAClD,kBAAMF,KAAUG,YClErBC,GAAW,CACbC,GAAI/J,GACJgK,GAAI/E,IAGFgF,GAAeC,YAAkBJ,GAAU,MAE3CK,GAAuBC,YAAsBpN,GAAc34B,GAuClDgmC,GArCH,WACRn/B,qBAAU,WACN,IAAMo/B,EAAeC,KACrB,OAAO,WACHD,OAEL,IACH,IAAMxqC,EAAQghB,eAPc,EAQMjhB,EAAUC,GAApCC,EARoB,EAQpBA,UAAWC,EARS,EAQTA,WAEnB,OACI,eAAC,IAAD,CACIwG,MAAM,GACNw2B,aAAcmN,GACdK,aAAcA,GACdnmC,aAAcA,EACdi8B,UAAWzD,GACX4N,UAAW5V,GACX6V,OAAQC,GACRV,aAAcA,GAEdjqC,WAAYA,EACZD,UAAWA,EAXf,UAaI,cAAC6qC,EAAA,EAAD,aAAU7gC,KAAK,aAAgBowB,KAC/B,cAACyQ,EAAA,EAAD,aAAU7gC,KAAK,YAAesgB,KAC9B,cAACugB,EAAA,EAAD,aAAU7gC,KAAK,YAAeojB,KAC9B,cAACyd,EAAA,EAAD,aAAU7gC,KAAK,YAAe8Y,KAC9B,cAAC+nB,EAAA,EAAD,aAAU7gC,KAAK,cAAiBs5B,KAChC,cAACuH,EAAA,EAAD,aAAU7gC,KAAK,WAAcwgB,KAC7B,cAACqgB,EAAA,EAAD,aAAU7gC,KAAK,UAAakoB,KAC5B,cAAC2Y,EAAA,EAAD,CAAU7gC,KAAK,UACf,cAAC6gC,EAAA,EAAD,CAAU7gC,KAAK,SAASoL,KAAMgV,U,QC9D1C0gB,IAAS5rB,OAAO,cAAC,GAAD,IAAS6rB,SAASC,eAAe,U,iCC0BlCC,IAxBc,SACzBhqB,EACAmQ,GAEA,IAAMjS,EAAS,IAAI3R,MAAMoE,KAAKs5B,MAAsB,EAAhBt5B,KAAKC,UAAgB,GAAGhD,KAAI,iBAAO,CACnE6T,WAAY9Q,KAAKs5B,MAAsB,GAAhBt5B,KAAKC,UAC5B4R,SAAU7R,KAAKs5B,MAAsB,EAAhBt5B,KAAKC,UAAgB,MAG9C,MAAO,CACHkZ,KAAM,IAAIxjB,KACVkN,MAAQ7C,KAAKs5B,MAAsB,IAAhBt5B,KAAKC,UAAoB,IAAOsN,EAAOzR,OAC1D5C,OAAQ,UACRF,UAAWgH,KAAKC,SACXtB,SAAS,IACT46B,QAAQ,WAAY,IACpBC,OAAO,EAAG,GACVra,cACL1G,YAAa+G,EAAUxf,KAAKs5B,MAAMt5B,KAAKC,SAAWuf,EAAU1jB,SAASpI,GACrE6Z,SACA+B,MAAOD,K,8GCxBToqB,EAAe,SAACjN,EAAKjH,GAGvB,OAFAiH,EAAMxsB,KAAKy1B,KAAKjJ,GAChBjH,EAAMvlB,KAAK81B,MAAMvQ,GACVvlB,KAAK81B,MAAM91B,KAAKC,UAAYslB,EAAMiH,IAAQA,GAG/CzL,EAAU,SAAA2Y,GAAE,OAAI,IAAI3mC,SAAQ,SAAAC,GAAO,OAAIoiC,WAAWpiC,EAAS0mC,OAC3DC,EAAW,SAACC,EAAUC,EAAYC,GAAvB,OACb,IAAI/mC,SAAQ,SAAAC,GACR,IAAM+mC,EAAcC,YAAYJ,EAAUC,GAC1CzE,YAAW,WACP6E,cAAcF,GACd/mC,OAAQ8C,KACTgkC,OAGPI,EAA2B,GAEzB7kC,EAAoC,CACtC,cAAe,CACX8kC,OAAO,WAAD,4BAAE,uBAAA3O,EAAA,6DAASxxB,EAAT,EAASA,UACJ,aADL,SAEE+mB,EAAQ,KAFV,2CAAF,mDAAC,GAIPqZ,MAAO,CACH,CACI9b,OAAO,4CAAD,OAA8Cmb,EAChD,EACA,GAFE,KAINY,eAAe,EACfpe,QACI,qFACJqe,aAAc,CACVje,OAAQ,CACJke,OAAQ,CACJhqC,WAAY,OAIxBiqC,MAAO,YAA2B,IAAxBlc,EAAuB,EAAvBA,QAENtkB,EAF6B,EAAfA,UACKskB,EAAOmc,aAAa,QAAQrb,MAAM,MAI7D,CACId,OAAQ,mCACRrC,QAAS,gDACTue,MAAO,YAAgB,EAAblc,OACCoc,UAGf,CACIpc,OAAQ,wBACRrC,QACI,2EAER,CACIqC,OAAQ,4BACRrC,QAAS,wCAEb,CACIqC,OAAQ,6BACRrC,QACI,gEAER,CACIqC,OAAQ,qCACRrC,QACI,8EAIhB,iBAAkB,CACdme,MAAO,CACH,CACI9b,OAAQ,oCACR+b,eAAe,EACfpe,QACI,oGAER,CACIqC,OAAQ,6CACRrC,QAAS,+BACTue,MAAO,YAAmB,IAAhBxgC,EAAe,EAAfA,SACAie,EAASrE,KAAKC,UAAU,CAC1BxJ,cAAeC,2BAAiBC,cAChCM,gBAAiB,IAGrB7Q,EAAS,qBAAD,OACiB2gC,mBACjB1iB,GAFA,mDAOhB,CACIqG,OAAQ,6CACRrC,QACI,+HACJue,MAAM,WAAD,4BAAE,+BAAAhP,EAAA,+DAASlN,OACLoc,QADJ,SAEG,IAAI3nC,SAAQ,SAAAC,GAAO,OAAIoiC,WAAWpiC,EAAS,QAF9C,UAGG4nC,EAAYzB,SAAS0B,cACvB,gCAJD,wDAWHC,IAAUC,OAAOH,EAAW,CACxBtc,OAAQ,CAAEnf,MAAO,qBAZlB,UAcG,IAAIpM,SAAQ,SAAAC,GAAO,OAAIoiC,WAAWpiC,EAAS,QAd9C,WAgBGgoC,EAAuC7B,SAAS0B,cAClD,8CAjBD,mDAsBHC,IAAUJ,MAAMM,GAtBb,4CAAF,mDAAC,IAyBV,CACI1c,OAAQ,wBACRrC,QAAS,6CACTue,MAAO,aACHxgC,EADqB,EAAfA,UACG,gBAGjB,CACIskB,OAAQ,6CACRrC,QACI,0EACJoe,eAAe,EACfG,MAAO,YAAgB,EAAblc,OACCoc,UAGf,CACIpc,OAAQ,uCACRrC,QACI,kGACJqe,aAAc,CACVje,OAAQ,CACJhgB,QAAS,CACL5N,OAAQ,OAIpB+rC,MAAO,WACH,IAAMS,EAAkC9B,SAAS0B,cAC7C,iDAECI,GAGLA,EAAYP,UAGpB,CACIP,OAAQ,aACJe,EADuC,EAAhCA,oBAAgC,EAAZnqB,QAG/BuN,OAAQ,OACRrC,QACI,yJACJqe,aAAc,CACVje,OAAQ,CACJhgB,QAAS,CACL8+B,WAAY,iBAIxBX,MAAO,aACHU,EAD+B,EAAzBA,oBACa,QAKnC,UAAW,CACPf,OAAO,WAAD,4BAAE,uBAAA3O,EAAA,6DAASxxB,EAAT,EAASA,UACJ,iBADL,SAEE+mB,EAAQ,KAFV,2CAAF,mDAAC,GAIPqZ,MAAO,CACH,CACI9b,OAAQ,WACRrC,QACI,8FACJoe,eAAe,GAEnB,CACIF,OAAQ,YAAiB,IAAd7b,EAAa,EAAbA,OACPqb,GACI,WACI,IAAMyB,EAAW9c,EAAOuc,cACpB,4CAGAO,GACAA,EAASV,UAGjB,IACA,MAGRpc,OAAQ,WACRrC,QACI,6EACJue,MAAM,WAAD,4BAAE,6BAAAhP,EAAA,6DAASlN,EAAT,EAASA,OAAT,SACGqb,GACF,WACI,IAAMyB,EAAW9c,EAEZuc,cACG,gFAGJO,GACAA,EAASV,UAGjB,IACA,KAdD,2CAAF,mDAAC,IAkBV,CACIP,OAAQ,YAAmB,IAAhBngC,EAAe,EAAfA,SACPo7B,YAAW,WACPp7B,EAAS,wBACV,MAEPskB,OAAQ,4CACRrC,QACI,+DAIhB,cAAe,CACXke,OAAO,WAAD,4BAAE,sBAAA3O,EAAA,sDACJ34B,aAAaC,QAAQ,aAAc,KAD/B,2CAAF,kDAAC,GAGPsnC,MAAO,CACH,CACID,OAAO,WAAD,4BAAE,6BAAA3O,EAAA,6DAASH,EAAT,EAASA,aACbx4B,aAAaC,QAAQ,aAAc,KAEnC,CAAC,CAAC,GAAI,CAAC,GAAI,CAAC,GAAI,CAAC,IAAIwC,QACjB,SAAAC,GAAG,OACCA,EAAI8lC,KAAJ,cAAA7P,EAAA,MAAS,oCAAAA,EAAA,sEAGKH,EAAaI,QAAQ,YAAa,CACxCzhB,OAAQ,CAAEse,aAAa,GACvB/J,WAAY,CAAE3b,KAAM,EAAGN,QAAS,KAChC5B,KAAM,CAAEC,MAAO,KAAMC,MAAO,SAN3B,uBAEK4e,EAFL,EAED9iB,KAFC,SAWK2uB,EAAaxnB,OAAO,WAAY,CACtCnH,KAAM28B,YAAqB,EAAG7Z,KAZ7B,gBAUK8b,EAVL,EAUD5+B,KAKJw9B,EAAeriB,KAAKyjB,EAAW5nC,IAEzBkgC,EAAQ,oBACdvI,EAAa2I,QAAQJ,EAAO,CACxB7lC,KAAM,UACN6lC,MAAOA,EACPhjB,QAAS,CAAEnU,IAAK,CAAC6+B,EAAW5nC,KAC5BylB,KAAM,IAAIxjB,OAtBT,+CAyBborB,EAAQ,IA9BR,SAgCEA,EAAQ,MAhCV,2CAAF,mDAAC,GAkCPzC,OAAQ,gCACRrC,QAAS,qDACToe,eAAe,EACfC,aAAc,CACViB,gBAAgB,GAEpBf,MAAM,WAAD,4BAAE,6BAAAhP,EAAA,6DAASxxB,EAAT,EAASA,SACZnH,aAAaC,QAAQ,aAAc,KADhC,SAEGiuB,EAAQ,KAFX,OAGH/mB,EAAS,aAHN,2CAAF,mDAAC,IAMV,CACIskB,OAAQ,uCACRrC,QAAS,4CACTqe,aAAc,CACViB,gBAAgB,IAGxB,CACIpB,OAAO,WAAD,4BAAE,2CAAA3O,EAAA,6DAASH,EAAT,EAASA,aACbx4B,aAAaC,QAAQ,aAAc,KAD/B,SAE8Bu4B,EAAaI,QAC3C,YACA,CACIzhB,OAAQ,CAAEse,aAAa,GACvB/J,WAAY,CAAE3b,KAAM,EAAGN,QAAS,KAChC5B,KAAM,CAAEC,MAAO,KAAMC,MAAO,SAPhC,uBAEU4e,EAFV,EAEI9iB,KAFJ,SAWgC2uB,EAAaxnB,OAC7C,WACA,CACInH,KAAM28B,YAAqB,EAAG7Z,KAdlC,uBAWUgc,EAXV,EAWI9+B,KAMRw9B,EAAeriB,KAAK2jB,EAAY9nC,IAjB5B,UAkBgC23B,EAAaxnB,OAC7C,WACA,CACInH,KAAM28B,YAAqB,EAAG7Z,KArBlC,wBAkBUic,EAlBV,EAkBI/+B,KAMRw9B,EAAeriB,KAAK4jB,EAAY/nC,IAE1BkgC,EAAQ,oBACdvI,EAAa2I,QAAQJ,EAAO,CACxB7lC,KAAM,UACN6lC,QACAhjB,QAAS,CAAEnU,IAAK,CAAC++B,EAAY9nC,GAAI+nC,EAAY/nC,KAC7CylB,KAAM,IAAIxjB,OA/BV,UAiCEorB,EAAQ,KAjCV,4CAAF,mDAAC,GAmCPzC,OAAQ,uCACRrC,QACI,yDACJqe,aAAc,CACViB,gBAAgB,GAEpBf,MAAM,WAAD,4BAAE,iCAAAhP,EAAA,6DAASH,EAAT,EAASA,aAAcqQ,EAAvB,EAAuBA,SAAU1hC,EAAjC,EAAiCA,SAAjC,SAEGjH,QAAQqhC,IACV,CAAC,EAAG,EAAG,GAAGn3B,KAAI,SAAAG,GACV,OAAOiuB,EACF/wB,KAAK,WAAY,CACd8C,WACA3C,SAAUkhC,gBAEbN,MAAK,YAAqB,IAAZ/gC,EAAW,EAAjBoC,KACLg/B,EAAS,CACL3tC,KAAM,kBACN6iB,QAAS,CACLlU,KAAMpC,GAEVqoB,KAAM,CACFiZ,cAAe,UACfj/B,SAAU,WACVS,qBAlBrB,OA0BHpD,EAAS,iDA1BN,2CAAF,mDAAC,IA6BV,CACImgC,OAAO,WAAD,4BAAE,qCAAA3O,EAAA,6DAASH,EAAT,EAASA,aAAcqQ,EAAvB,EAAuBA,SAAvB,SACE3a,EAAQ,KADV,QAKE8a,EAAWC,EAAO3C,SAAS0B,cAC7B,mCAGoBkB,cACd3+B,EAAWwL,SACbizB,EAASG,QAAQC,UAAY,GAC7B,IAGExhC,EAAWohC,EAASG,QAAQE,aAElC9G,YAAW,WACP/J,EACK8Q,OAAO,WAAY,CAChB/+B,WACA3C,aAEH4gC,MAAK,YAAqB,IAAZ/gC,EAAW,EAAjBoC,KACLg/B,EAAS,CACL3tC,KAAM,oBACN6iB,QAAS,CACLlU,KAAMpC,GAEVqoB,KAAM,CACFiZ,cAAe,YACfj/B,SAAU,WACVS,mBAIjB,MApCH,2CAAF,mDAAC,GAuCPkhB,OAAQ,gCACRrC,QACI,kFACJqe,aAAc,CACViB,gBAAgB,GAEpBf,MAAM,WAAD,4BAAE,iCAAAhP,EAAA,6DAASH,EAAT,EAASA,aAAcqQ,EAAvB,EAAuBA,SAAU5hC,EAAjC,EAAiCA,QAAjC,SAGG/G,QAAQqhC,IACV,CAAC,EAAG,GAAGn3B,KAAI,SAAAG,GACP,IAAMy+B,EAAWC,EAAO3C,SAAS0B,cAAhB,2BACOz9B,EADP,OAGjB,GAAIy+B,aAAoBE,YAAa,CACjC,IAAMthC,EAAWohC,EAASG,QAAQE,aAElC,OAAO7Q,EACF8Q,OAAO,WAAY,CAChB/+B,WACA3C,aAEH4gC,MAAK,YAAqB,IAAZ/gC,EAAW,EAAjBoC,KACLg/B,EAAS,CACL3tC,KAAM,oBACN6iB,QAAS,CACLlU,KAAMpC,GAEVqoB,KAAM,CACFiZ,cAAe,YACfj/B,SAAU,WACVS,iBAKpB,OAAOrK,QAAQC,cAErBqoC,MAAK,WACHvhC,OAjCD,2CAAF,mDAAC,KAsCd0gC,MAAM,WAAD,4BAAE,+BAAAhP,EAAA,6DAASH,EAAT,EAASA,aAAcvxB,EAAvB,EAAuBA,QAC1BjH,aAAaC,QAAQ,aAAc,KADhC,SAIGu4B,EAAa+Q,WAAW,WAAY,CACtC3/B,IAAKy9B,IALN,OAQHpgC,IACAogC,EAAiB,GATd,2CAAF,mDAAC,IAYV,uBAAwB,CACpBC,OAAO,WAAD,4BAAE,uBAAA3O,EAAA,6DAASxxB,EAAT,EAASA,UACJ,WADL,SAEE+mB,EAAQ,KAFV,2CAAF,mDAAC,GAIPqZ,MAAO,CACH,CACI9b,OACI,0DACJrC,QACI,qMAER,CACIke,OAAQ,YAAgB,EAAb7b,OACAuc,cAAc,mBAAmBH,SAE5Cpc,OACI,0DACJrC,QACI,gFACJue,MAAO,YAAiB,IAAdlc,EAAa,EAAbA,OACNwc,IAAUC,OAAOzc,EAAOuc,cAAc,YAAa,CAC/Cvc,OAAQ,CAAEnf,MAAO,wBAI7B,CACImf,OACI,6EACJrC,QACI,0DACJue,MAAO,YAAgB,EAAblc,OACCoc,UAGf,CACIpc,OAAQ,wBACRrC,QAAS,sDACTue,MAAO,YAAgB,EAAblc,OACCoc,UAGf,CACIF,MAAO,YAAiB,IAAdlc,EAAa,EAAbA,OACNwc,IAAUC,OAAOzc,EAAOuc,cAAc,SAAU,CAC5Cvc,OAAQ,CAAEnf,MAAO,YAErB27B,IAAUC,OAAOzc,EAAOuc,cAAc,YAAa,CAC/Cvc,OAAQ,CAAEnf,MAAO,YAErB27B,IAAUC,OAAOzc,EAAOuc,cAAc,YAAa,CAC/Cvc,OAAQ,CAAEnf,MAAO,yBAErB27B,IAAUC,OAAOzc,EAAOuc,cAAc,eAAgB,CAClDvc,OAAQ,CAAEnf,MAAO,iBAGzBmf,OACI,0DACJrC,QACI,4FAER,CACIqC,OACI,6EACJrC,QACI,uEACJue,MAAO,YAAgB,EAAblc,OACCoc,YAKvB,2BAA4B,CACxBP,OAAO,WAAD,4BAAE,uBAAA3O,EAAA,6DAASxxB,EAAT,EAASA,UACJ,aADL,SAEE+mB,EAAQ,KAFV,2CAAF,mDAAC,GAIPqZ,MAAO,CACH,CACI9b,OAAQ,4CACRrC,QACI,2DACJoe,eAAe,EACfC,aAAc,CACV+B,kBAAkB,IAG1B,CACI/d,OAAO,4CAAD,OAA8Cmb,EAChD,EACA,GAFE,KAINY,eAAe,EACfpe,QAAS,kCACTue,MAAO,YAA2B,IAAxBlc,EAAuB,EAAvBA,QAENtkB,EAF6B,EAAfA,UACKskB,EAAOmc,aAAa,QAAQrb,MAAM,MAI7D,CACId,OAAQ,4CACRrC,QACI,4DACJoe,eAAe,EACfC,aAAc,CACVgC,aAAc,KAGtB,CACIhe,OAAQ,gCACRrC,QAAS,kDACToe,eAAe,EACfC,aAAc,CACV+B,kBAAkB,GAEtB7B,MAAO,aACHxgC,EADqB,EAAfA,UACG,eAGjB,CACIskB,OAAQ,4CACRrC,QAAS,mDACToe,eAAe,EACfC,aAAc,CACV+B,kBAAkB,IAG1B,CACI/d,OAAQ,4CACRrC,QACI,2FACJoe,eAAe,EACfC,aAAc,CACV+B,kBAAkB,GAEtB7B,MAAO,aACHxgC,EADqB,EAAfA,UACG,OAGjB,CACIskB,OAAQ,4BACRrC,QACI,uJACJoe,eAAe,EACfC,aAAc,CACV+B,kBAAkB,MAKlC,YAAa,CACTlC,OAAO,WAAD,4BAAE,sBAAA3O,EAAA,sDACJ/xB,OAAO8iC,SAAS,EAAG,GADf,2CAAF,kDAAC,GAGPnC,MAAO,CACH,CACIC,eAAe,EACf/b,OAAQ,yBACRrC,QACI,qFACJue,MAAO,YAAiB,IAAdlc,EAAa,EAAbA,OAIN,OAHAwc,IAAUC,OAAOzc,EAAOuc,cAAc,SAAU,CAC5Cvc,OAAQ,CAAEnf,MAAO,OAEd,IAAIpM,SAAQ,SAAAC,GAAO,OAAIoiC,WAAWpiC,EAAS,UAG1D,CACIsrB,OAAQ,+BACRrC,QACI,4HACJue,MAAO,YAAiB,IAAdlc,EAAa,EAAbA,OACNwc,IAAUJ,MACNpc,EAAOuc,cAAc,+BAIjC,CACIvc,OAAQ,yBACRrC,QACI,8DACJke,OAAQ,YAAiB,IAAd7b,EAAa,EAAbA,OACP8W,YACI,kBAAM9W,EAAOuc,cAAc,SAAS2B,UACpC,UAQTnnC,Q,mDC1pBf,sCAAMonC,EAAoB,CACtB,gBACA,iBACA,iBACA,cACA,iBACA,iBACA,gBACA,cACA,mBACA,mBAGG,SAASd,IAA0D,IAAzCe,EAAwC,uDAA3BD,EAC1C,OAAOC,EAAW18B,KAAK81B,MAAM91B,KAAKC,SAAWy8B,EAAW5gC,Y","file":"static/js/main.7f829190.chunk.js","sourcesContent":["import { ThemeOptions } from '@react-admin/ra-enterprise';\nimport { fade, Theme } from '@material-ui/core';\nimport { grey } from '@material-ui/core/colors';\nimport createPalette from '@material-ui/core/styles/createPalette';\n\nconst darkPalette = createPalette({\n    type: 'dark', // Switching the dark mode on is a single property value change.\n    primary: {\n        main: '#90caf9',\n    },\n});\n\nexport const getThemes = (\n    theme: Theme\n): { darkTheme: ThemeOptions; lightTheme: ThemeOptions } => {\n    return { darkTheme: darkTheme(theme), lightTheme: lightTheme(theme) };\n};\n\nconst darkTheme = (theme: Theme): ThemeOptions => ({\n    palette: darkPalette,\n    overrides: {\n        MuiAppBar: {\n            // Hide MenuItemCategory shadow behind the appbar\n            zIndex: 9999,\n        },\n        RaAppBar: {\n            menuButton: {\n                // Since sub-<Menu /> hide labels when sidebar is closed\n                // We need to disallow sidebar closing in desktop (hiding button is simpler)\n                display: 'none',\n                [theme.breakpoints.down('xs')]: {\n                    display: 'block',\n                },\n            },\n        },\n        RaSearchInput: {\n            root: {\n                color: darkPalette.common.white,\n                backgroundColor: fade(darkPalette.common.black, 0.04),\n                '&:hover': {\n                    backgroundColor: fade(darkPalette.common.black, 0.13),\n                },\n                '&:focus': {\n                    backgroundColor: fade(darkPalette.common.black, 0.13),\n                },\n                '&:focus-within': {\n                    backgroundColor: fade(darkPalette.common.black, 0.13),\n                },\n            },\n            inputBase: {\n                background: fade(darkPalette.common.black, 0.04),\n                borderRadius: 10,\n                '&:hover': {\n                    background: fade(darkPalette.common.black, 0.1),\n                },\n            },\n            inputAdornmentStart: {\n                color: darkPalette.common.white,\n            },\n        },\n        RaSidebar: {\n            drawerPaper: {\n                paddingRight: 16,\n                width: 'auto',\n            },\n        },\n        RaMenuItemCategory: {\n            closeButton: {\n                color: 'white',\n            },\n            popoverPaper: {\n                backgroundColor: '#424242',\n            },\n        },\n        RaMenuItem: {\n            root: {\n                color: 'white',\n            },\n            link: {\n                '&:hover': {\n                    color: 'black',\n                    backgroundColor: grey[200],\n                },\n            },\n        },\n        RaFilterFormInput: {\n            body: {\n                // Fixes search filter breadcrumb overlap\n                '& > div': {\n                    marginTop: 8,\n                },\n            },\n        },\n        RaTopToolbar: {\n            root: {\n                alignItems: 'center',\n                paddingTop: 0,\n            },\n        },\n        RaListToolbar: {\n            root: {\n                alignItems: 'center',\n                paddingTop: 0,\n            },\n            actions: {\n                alignItems: 'center',\n                paddingTop: 0,\n                minHeight: 'auto',\n            },\n            toolbar: {\n                minHeight: 'auto',\n            },\n        },\n    },\n});\n\nconst lightPalette = createPalette({\n    type: 'light',\n    primary: {\n        main: '#4f3cc9',\n    },\n    secondary: {\n        light: '#5f5fc4',\n        main: '#283593',\n        dark: '#001064',\n        contrastText: '#fff',\n    },\n    background: {\n        default: '#fcfcfe',\n    },\n});\n\nexport const lightTheme = (theme: Theme): ThemeOptions => ({\n    palette: lightPalette,\n    shape: {\n        borderRadius: 10,\n    },\n    overrides: {\n        RaAppBar: {\n            menuButton: {\n                // Since sub-<Menu /> hide labels when sidebar is closed\n                // We need to disallow sidebar closing (hiding button is simpler)\n                display: 'none',\n                [theme.breakpoints.down('xs')]: {\n                    display: 'block',\n                },\n            },\n        },\n        RaSearchInput: {\n            root: {\n                color: lightPalette.text.primary,\n                backgroundColor: fade(lightPalette.common.black, 0.04),\n                '&:hover': {\n                    backgroundColor: fade(lightPalette.common.black, 0.13),\n                },\n                '&:focus': {\n                    backgroundColor: fade(lightPalette.common.black, 0.13),\n                },\n                '&:focus-within': {\n                    backgroundColor: fade(lightPalette.common.black, 0.13),\n                },\n            },\n            inputBase: {\n                background: fade(lightPalette.common.black, 0.04),\n                borderRadius: 10,\n                '&:hover': {\n                    background: fade(lightPalette.common.black, 0.1),\n                },\n            },\n            inputAdornmentStart: {\n                color: lightPalette.text.hint,\n            },\n        },\n        RaMenuItemLink: {\n            root: {\n                borderLeft: '3px solid #fff',\n            },\n            active: {\n                borderLeft: '3px solid #808080',\n            },\n        },\n        RaMenuItemCategory: {\n            root: {\n                color: '#808080',\n                '&:hover': {\n                    color: 'black',\n                    backgroundColor: grey[200],\n                },\n            },\n        },\n        RaMenuItem: {\n            root: {\n                color: '#808080',\n            },\n        },\n        RaMultiLevelMenu: {\n            navWithCategories: {\n                backgroundColor: '#fff',\n            },\n        },\n        MuiPaper: {\n            elevation1: {\n                boxShadow: 'none',\n            },\n            root: {\n                border: '1px solid #e0e0e3',\n                backgroundClip: 'padding-box',\n            },\n        },\n        MuiButton: {\n            contained: {\n                backgroundColor: '#fff',\n                color: '#4f3cc9',\n                boxShadow: 'none',\n            },\n        },\n        MuiAppBar: {\n            // Hide MenuItemCategory shadow behind the appbar\n            root: { zIndex: 9999 },\n            colorSecondary: {\n                color: '#808080',\n                backgroundColor: '#fff',\n            },\n        },\n        MuiLinearProgress: {\n            colorPrimary: {\n                backgroundColor: '#f5f5f5',\n            },\n            barColorPrimary: {\n                backgroundColor: '#d7d7d7',\n            },\n        },\n        MuiFilledInput: {\n            root: {\n                backgroundColor: 'rgba(0, 0, 0, 0.04)',\n                '&$disabled': {\n                    backgroundColor: 'rgba(0, 0, 0, 0.04)',\n                },\n            },\n        },\n        RaSidebar: {\n            drawerPaper: {\n                paddingRight: 16,\n                width: 'auto',\n            },\n        },\n        RaFilterFormInput: {\n            body: {\n                // Fixes search filter breadcrumb overlap\n                '& > div': {\n                    marginTop: 8,\n                },\n            },\n        },\n        RaLinkedData: {\n            root: {\n                '&:hover': {\n                    backgroundColor: '#ddd',\n                },\n            },\n        },\n        RaTopToolbar: {\n            root: {\n                alignItems: 'center',\n                paddingTop: 0,\n            },\n        },\n        RaListToolbar: {\n            root: {\n                alignItems: 'center',\n                paddingTop: 0,\n            },\n            actions: {\n                alignItems: 'center',\n                minHeight: 'auto',\n                paddingTop: 0,\n            },\n            toolbar: {\n                minHeight: 'auto',\n            },\n        },\n    },\n});\n","import { AuthProvider } from 'react-admin';\n\nconst authProvider: AuthProvider = {\n    login: ({ username }) => {\n        localStorage.setItem('username', username);\n        // accept all username/password combinations\n        return Promise.resolve();\n    },\n    logout: () => {\n        localStorage.removeItem('username');\n        return Promise.resolve();\n    },\n    checkError: () => Promise.resolve(),\n    checkAuth: () =>\n        localStorage.getItem('username') ? Promise.resolve() : Promise.reject(),\n    getPermissions: () => Promise.reject('Unknown method'),\n    getIdentity: () => Promise.resolve(demoUser),\n};\n\nexport const demoUser = {\n    id: 'demo',\n    fullName: 'Jane Doe',\n    avatar:\n        'data:image/jpeg;base64,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',\n};\n\nexport default authProvider;\n","import * as React from 'react';\nimport { SVGProps } from 'react';\n\nconst Logo = (props: SVGProps<SVGSVGElement>): React.ReactElement => (\n    <svg width={234.532} height={20.475} viewBox=\"0 0 62.053 5.417\" {...props}>\n        <g\n            aria-label=\"~Posters Galore~\"\n            style={{\n                lineHeight: 1.25,\n            }}\n            fontWeight={400}\n            fontSize={7.056}\n            fontFamily=\"Permanent Marker\"\n            letterSpacing={0}\n            wordSpacing={0}\n            strokeWidth={0.265}\n            fill=\"#4f3cc9\"\n        >\n            <path d=\"M.227 3.659Q.124 3.652.062 3.61 0 3.562 0 3.486q0-.068.062-.124.041-.103.083-.165L.24 3.06q.07-.096.138-.193.069-.096.152-.193.04-.034.068-.048.076-.055.152-.103.076-.055.172-.09.173-.062.338-.062.165-.007.282 0 .097.007.18.02.09.008.151.022.103.048.165.09.07.04.131.096.076.04.118.09.048.04.082.089.02.027.083.09.062.061.151.061.083 0 .138-.075.062-.076.124-.131.055-.145.18-.22.055-.028.089-.035l.076-.014q.02-.007.041-.007l.035-.014.075-.007h.09q.117-.034.207-.034.103.007.165.055.062.041.062.117 0 .076-.062.124-.041.11-.09.172-.04.062-.09.131l-.137.193q-.069.097-.158.193-.028.035-.07.048-.068.056-.144.11-.076.049-.172.083-.18.062-.345.07-.158 0-.275-.008l-.186-.013q-.083-.014-.152-.028-.096-.048-.165-.09-.07-.04-.131-.09-.076-.047-.117-.089-.042-.048-.076-.096-.02-.028-.09-.09-.069-.069-.144-.062-.076.007-.145.083-.062.069-.124.124-.041.138-.172.22-.056.028-.097.035l-.069.014-.041.013q-.02 0-.035.007l-.075.007h-.09q-.117.035-.207.035zM4.417 3.225q.007-.028.027-.021.028 0 .048-.007-.055-.055-.068-.145-.014-.096-.07-.158.014-.035.021-.069.014-.034.062-.028-.02-.151.007-.282.028-.131.083-.248.062-.117.138-.228.082-.117.158-.234.062-.014.076.014.014.02.048-.014.11-.076.152-.165.041-.097.041-.207.062-.179.138-.351.083-.18.186-.331.103-.152.22-.262.118-.117.255-.179.097-.083.242-.152.151-.068.316-.103.173-.041.352-.041.179-.007.33.034.035.014.042-.014Q7.228 0 7.255 0q.345.041.614.138.275.096.468.269.131.206.248.447.117.235.18.496.068.255.061.531-.007.276-.117.551-.241.303-.585.49-.345.179-.745.303-.392.117-.82.193-.42.075-.82.165.007.186 0 .4-.006.206-.048.42-.034.207-.11.406-.069.2-.193.372-.138-.006-.29.028-.144.034-.261.069l-.11-.069q-.049-.028-.124-.034.02-.083-.042-.173-.055-.09-.117-.172-.055-.09-.076-.172-.013-.09.083-.159-.055-.048-.055-.151.028.027.069.027-.014-.124.027-.296.049-.172.076-.338.035-.172.014-.31-.02-.144-.165-.206zm1.791-1.613l-.048.138q-.014.055-.035.103-.02.049-.048.097l-.048.11q.014.042.055.062.041.02.055.062.097-.048.193-.069.097-.027.193-.041.096-.014.193-.035.096-.02.2-.068.103-.049.213-.076l.228-.07q.11-.034.213-.075.104-.048.18-.124-.097-.09-.29-.158-.193-.07-.42-.083-.22-.02-.448.028-.22.048-.386.2zM12.506 3.1q-.007.083.013.16.021.075.049.15.034.07.062.145.027.076.041.152.014.096 0 .214-.014.11-.048.22-.035.103-.09.193-.055.083-.13.124-.097.124-.235.193-.138.069-.255.165-.076.048-.172.07l-.186.04q-.076.042-.18.09l-.213.083q-.11.034-.22.055-.11.014-.193.007-.207.076-.407.096-.193.028-.455-.027-.248.034-.461-.021-.207-.055-.372-.172-.159-.124-.283-.29-.117-.172-.193-.358-.055-.393.028-.71.083-.323.234-.592.159-.276.358-.503.2-.234.386-.455.042.014.062 0 .028-.02.048-.048.021-.035.042-.062.027-.028.062-.035.048-.103.138-.151.096-.055.151-.152.062-.014.104-.041.04-.028.075-.062.042-.035.083-.062.041-.035.097-.048v-.076q.124-.055.179-.124l.144-.18q.062-.006.097-.006.041 0 .117-.014.055-.096.096-.145.049-.048.138-.103.083.041.18.055.103.014.178.09.007.069.042.11.034.034.076.069.041.027.075.062.042.034.056.096.027.007.034-.007.014-.013.041-.007.021.097.049.131.027.028.055.117-.035.07-.055.145-.014.07-.083.104-.007.048.027.055.035 0 .042.034.007.062-.02.09.164.268.295.572.131.296.297.565zm-.862.655q.028-.076.07-.124.048-.048.054-.145-.034-.055-.04-.082-.008-.035-.008-.104-.151-.213-.262-.454-.11-.248-.248-.462-.013.028-.048.055-.034.028-.076-.014-.013.055-.048.083-.034.02-.076.02-.041-.006-.09-.02-.04-.02-.075-.048-.2.158-.4.31-.2.151-.358.351-.028.014-.034.014-.007-.007-.042.007-.055.13-.138.241-.075.103-.151.214-.076.11-.131.234-.055.124-.062.29.117.096.276.116.158.021.323.007.173-.013.331-.041.165-.034.303-.034.29-.07.496-.18.207-.117.434-.234zM12.898 2.067q.049-.145.152-.248.11-.103.234-.172.131-.076.269-.124t.262-.083q.275-.117.585-.22.317-.11.641-.193.331-.083.676-.104.344-.027.723.083.02.069.062.13l.083.125q.048.062.082.124.035.055.042.117.069.062.11.138.041.069.014.186-.07.055-.138.103-.062.042-.138.076-.255-.062-.517-.041-.261.02-.468.034-.062-.062-.152-.062-.082 0-.179.028l-.186.055q-.09.027-.172.014-.07.055-.172.075-.097.014-.214.028-.007.034.014.048.02.007.007.042.041.048.103.068l.138.042q.076.02.13.055.056.027.076.096.104 0 .18.049.075.048.124.117.048.069.069.151.027.076.027.138.02.055.048.048.028-.007.062.028.021.09.104.186.082.09.13.2.014.172.021.31.007.13-.048.269-.103.254-.29.454-.178.2-.413.359-.227.151-.489.261-.262.11-.51.186-.027-.006-.055 0-.027.007-.014-.034-.055.048-.124.062-.062.014-.138.007-.075 0-.158-.007-.076-.007-.145.007-.048-.048-.09-.097-.034-.04-.054-.11-.035 0-.035-.034.007-.035-.02-.035.04-.069.034-.076 0-.013-.02-.02l-.028-.014q-.014-.014-.007-.034.027-.056.02-.124l-.013-.152q-.007-.076.007-.145.02-.069.103-.11.234.028.44-.014.215-.048.4-.13.187-.083.352-.18.172-.096.338-.172.02-.062.055-.103.041-.042.082-.076.042-.035.076-.076.035-.041.048-.103.007-.049-.027-.055-.028-.014-.028-.056l-.076-.02q-.13-.076-.296-.124-.165-.055-.282-.117-.076.04-.145.02-.062-.02-.165-.041-.235-.014-.455-.048-.214-.035-.414-.124-.013-.035-.034-.062-.02-.028-.076-.014-.041-.055-.082-.103-.042-.056-.076-.118.014-.082.02-.137.007-.062-.04-.118.027-.09.04-.144.014-.055 0-.145z\" />\n            <path d=\"M19.988 1.853q-.172 0-.372.028-.2.02-.392.048-.138.02-.27.035-.123.013-.226.02-.049.152-.097.27-.048.116-.103.226-.055.118-.104.242-.041.117-.082.255-.07.11-.117.206-.042.09-.07.207-.082.103-.123.22-.042.11-.062.193l-.028.083q-.041.041-.048.069-.007.02-.035.041-.007.076-.048.152-.014.034-.02.069-.007.027-.007.041 0 .069-.035.09.007.034 0 .075l-.014.07q-.02.082-.013.13l.034.049q.02.02.028.055.04.027.062.034.027.02.082.048l.062.07q.035.199-.062.316-.103.131-.351.131h-.083q-.034-.034-.041-.055l-.09-.034q-.034-.014-.062-.056-.09-.04-.144-.068l-.062-.035v-.083q-.049-.062-.076-.137-.02-.076-.035-.152-.013-.062-.034-.117-.014-.055-.041-.097-.014-.4.075-.675.09-.275.186-.53l.11-.276q.056-.145.097-.296l.062-.07.076-.178.069-.152q.02-.048.034-.09l.035-.082q-.042 0-.076.007-.035 0-.069.007l-.076.013h-.069q-.048 0-.069-.006-.075.034-.165.034H17.019q-.014-.007-.028-.007-.069 0-.11.02h-.228q-.013 0-.034.008h-.034q-.049 0-.104-.007-.055-.014-.117-.048-.082-.11-.11-.118l-.062-.082q-.007-.042-.02-.076-.014-.041-.028-.09-.028-.069-.055-.144-.021-.083-.021-.193.007-.055.028-.083l.034-.048.02-.104.09.007h.193q.22 0 .448-.013l.469-.042.275-.027.296-.028q.028-.062.056-.117l.068-.034q.124-.007.173.034.055.034.09.069l.302-.028q.159-.02.317-.048.235-.034.469-.062.241-.027.462-.027.096 0 .186.006.09.007.165.021l.069.048q.02.042.055.076l.083.069q.082.076.165.18.083.103.062.302-.055.083-.083.097l-.062.082-.069-.006q-.04 0-.075.013-.035.007-.07.021l-.054.028-.062.013h-.104q-.034-.007-.076-.007z\" />\n            <path d=\"M23.303 1.288q.007.049 0 .076 0 .02-.007.042v.048q0 .02.014.069-.145.234-.338.324-.186.082-.407.124-.22.034-.454.075-.228.042-.455.18-.09-.035-.166 0-.068.034-.206.02-.042.042-.104.062-.062.014-.124.035.028.062.021.13 0 .063.02.104.242.02.531-.007.297-.028.58-.034.006.034-.008.048-.014.007-.007.034.049.035.097.09l.096.096q.048.049.097.083.055.028.124.02.027.056.034.125.014.062-.014.13-.11.076-.22.159-.11.076-.234.138-.118.062-.255.103-.131.035-.297.028h-.055q-.014 0-.041-.02-.055.034-.159.02-.096-.014-.151.02-.076-.034-.186-.027-.104 0-.186-.028-.11.145-.2.31-.09.166-.159.352.235.034.386.027.159-.007.297-.02.137-.021.282-.035.145-.02.365-.014.138-.075.324-.096.193-.028.352-.083.055.021.096.076.041.048.076.097.041.04.082.075.042.035.104.028.027.027.034.069.014.034.02.069.008.034.022.062.02.02.062.013-.104.228-.242.352-.13.117-.303.179-.172.062-.386.096-.206.035-.461.083-.062.014-.104-.007-.04-.014-.096-.014-.158.035-.379.062-.22.028-.448.021-.227-.007-.434-.062-.207-.048-.338-.179-.055-.048-.075-.11-.014-.07-.09-.104-.007-.09-.027-.2l-.042-.227q-.02-.124-.034-.24-.007-.118.014-.215.02-.103.082-.186.07-.082.048-.179.035-.007.042-.034.007-.035.055-.028.041-.124.09-.234.048-.11.096-.214.055-.103.103-.206.055-.11.104-.241-.097-.09-.145-.193-.041-.11-.062-.214-.02-.11-.035-.22-.013-.118-.048-.235.07-.103.166-.165.103-.069.22-.11.117-.042.255-.07.138-.027.29-.061.275-.09.489-.138.22-.048.427-.076.213-.034.44-.062.228-.027.518-.083.062.062.117.062.027-.062.062-.034.041.02.034-.041.07.117.172.2.11.075.242.13zM24.185 4.451q-.076.276-.138.42-.055.138-.172.29-.09-.014-.125.02-.034.035-.075.062-.062.014-.09 0-.027-.013-.048-.034-.02-.014-.055-.034-.028-.014-.09-.014-.014-.055-.034-.104-.014-.048-.09-.034.014-.055.007-.09-.007-.041-.02-.069l-.014-.062q-.007-.034.007-.082-.035 0-.056-.048-.02-.049-.048-.097.02-.124.042-.234.02-.11.048-.207.034-.096.055-.193.02-.096-.02-.2.027.021.04-.007.014-.034.021-.082.007-.055.007-.104 0-.055-.007-.09.07-.178.11-.364.049-.193.083-.38.041-.185.083-.364.041-.18.11-.331.076-.014.165.02.097.028.118.076.179-.138.317-.33.137-.2.282-.386.145-.186.317-.331.18-.145.448-.172.138.103.303.213.172.104.282.276.056.027.09.062.041.028.097.062v.083q.082.075.13.179.056.096.097.213l.083.228q.04.11.096.213-.014.035-.014.062 0 .021.007.049.014.027.02.055.008.027 0 .076-.02.303-.199.489-.172.186-.42.31-.248.117-.53.2-.283.082-.51.179 0 .027.02.027.028 0 .02.035.166.103.262.165.097.062.18.103.09.042.186.076.103.028.282.07.18.04.276.068.103.02.186.041l.165.028.248.02q.062.063.104.152.048.083.062.172.013.083.006.166-.006.076-.048.124.007.02.028.02.027-.006.055 0-.041.028-.069.07l-.055.082q-.028.041-.062.069-.035.034-.097.041-.213.083-.537.007-.324-.069-.82-.262-.248-.096-.406-.165-.152-.076-.27-.145-.11-.075-.206-.158l-.22-.2zm.985-2.363q-.076.11-.172.2-.09.09-.18.186-.082.09-.151.206-.069.11-.097.262.242-.027.503-.13.262-.111.496-.208-.027-.213-.151-.344-.117-.13-.248-.172zM27.01 2.067q.048-.145.151-.248.11-.103.234-.172.131-.076.27-.124.137-.048.26-.083.277-.117.587-.22.317-.11.64-.193.331-.083.676-.104.344-.027.723.083.02.069.062.13l.083.125q.048.062.082.124.035.055.042.117.069.062.11.138.041.069.014.186-.07.055-.138.103-.062.042-.138.076-.255-.062-.517-.041-.261.02-.468.034-.062-.062-.152-.062-.082 0-.179.028l-.186.055q-.09.027-.172.014-.069.055-.172.075-.097.014-.214.028-.007.034.014.048.02.007.007.042.041.048.103.068l.138.042q.076.02.13.055.056.027.077.096.103 0 .179.049.076.048.124.117t.069.151q.027.076.027.138.02.055.048.048.028-.007.062.028.021.09.104.186.083.09.13.2.015.172.021.31.007.13-.048.269-.103.254-.29.454-.178.2-.413.359-.227.151-.489.261-.262.11-.51.186-.027-.006-.055 0-.027.007-.014-.034-.055.048-.124.062-.062.014-.137.007-.076 0-.159-.007-.076-.007-.145.007-.048-.048-.09-.097-.034-.04-.054-.11-.035 0-.035-.034.007-.035-.02-.035.04-.069.034-.076 0-.013-.02-.02l-.028-.014q-.014-.014-.007-.034.027-.056.02-.124l-.013-.152q-.007-.076.007-.145.02-.069.103-.11.234.028.441-.014.214-.048.4-.13.186-.083.351-.18.172-.096.338-.172.02-.062.055-.103.041-.042.082-.076.042-.035.076-.076.035-.041.048-.103.007-.049-.027-.055-.028-.014-.028-.056l-.075-.02q-.131-.076-.297-.124-.165-.055-.282-.117-.076.04-.145.02-.062-.02-.165-.041-.235-.014-.455-.048-.214-.035-.413-.124-.014-.035-.035-.062-.02-.028-.076-.014-.041-.055-.082-.103-.042-.056-.076-.118.014-.082.02-.137.007-.062-.04-.118.027-.09.04-.144.014-.055 0-.145zM32.797 3.535q0-.076.021-.138.02-.062.007-.159.213-.454.482-.84.276-.393.655-.69.062-.047.096-.096.042-.055.076-.103.041-.048.09-.083.048-.041.124-.055.172-.2.413-.365.241-.165.503-.317t.524-.31q.268-.159.482-.345.076.049.117.035.048-.02.097-.007.062.13.158.186.103.048.207.103.11.049.2.124.096.07.144.193-.048 0-.048.035.007.034.02.076.014.04.014.075 0 .035-.062.035 0 .048.049.048.048 0 .048.048 0 .042-.02.07-.015.02 0 .075-.166.11-.373.214l-.427.206q-.22.11-.455.241-.227.124-.455.29-.227.165-.461.365-.228.2-.441.427-.214.22-.4.462-.186.234-.317.461.014.035.035.062.027.028.041.063.262.013.49 0 .227-.021.454.027.028-.02.034-.055.007-.035.042-.048.468-.049.875-.152.406-.11.827-.22-.124-.049-.22-.076-.042-.041 0-.069.047-.034.075-.069-.11-.062-.186-.165-.069-.104-.083-.269.049-.041.049-.096 0-.056-.049-.09-.034-.014-.041 0l-.014.027q0 .014-.014.028-.007.014-.034 0 .007-.076.034-.124.028-.048.042-.117l.572-.38q.09.07.22.146.131.075.276.151.144.076.296.159.152.075.282.151.125.055.214.138.09.076.172.165l.166.166q.082.082.2.138-.014.11.013.179.028.069.014.165-.13.234-.317.4-.186.158-.42.275-.228.117-.49.2-.261.076-.537.152-.275.069-.558.151-.276.076-.544.18-.117 0-.2.006-.083.007-.159.021l-.151.028q-.076.013-.165.02-.035-.007-.049.014-.007.02-.027.035-.138.02-.248.02h-.186q-.097 0-.2.028-.104.027-.193.02-.62-.027-.972-.44-.351-.414-.385-1.137.006-.035-.014-.042-.02-.014-.035-.027z\" />\n            <path d=\"M42.01 4.589q-.042.117-.125.241-.075.117-.186.214-.103.09-.234.151-.13.062-.275.07-.09-.022-.124-.05-.028-.02-.062-.04-.021-.014-.042-.021-.014-.014-.027-.02l-.083-.035.028-.09q.013-.055-.007-.083-.021-.034-.083-.09l-.041-.04q-.021-.021-.035-.042l-.117-.13.186-.049q.172-.048.227-.124.062-.076.049-.255-.138-.027-.235-.007-.09.02-.186.048-.124.035-.255.062-.124.021-.275.021h-.104l-.103-.014-.069-.013q-.014-.076-.027-.083l-.028-.028q-.034-.034-.076-.09-.034-.061-.013-.15-.035-.063-.042-.125-.041.083-.062.172l-.027.07-.07.013q-.013.007-.02.035-.007.02-.007.034l-.034.117-.028.028q-.014.007-.027.02-.014.062-.035.124-.02.062-.041.118-.035.09-.062.179-.02.082-.014.165l-.028.076q-.034.041-.075.069l-.083.041q-.014.014-.041.028l-.035.013-.02.076-.083.014-.11.02q-.028.008-.07.008l-.068-.007-.117-.097q-.042-.041-.097-.076-.062-.082-.069-.124l-.014-.075q-.013-.042-.013-.07-.007-.027-.021-.04l-.09-.083.076-.062.007-.117q.138-.352.29-.676l.323-.661q.056-.11.104-.22l.11-.221q-.007-.02-.007-.048t.014-.062q.076-.118.124-.207l.096-.193q.055-.117.11-.227.063-.11.152-.228l.11-.048.049-.014q.027-.014.062-.014l.103.014q.193-.09.338-.248.144-.165.296-.393l.069-.096.09.055q.034.02.096.041.062.014.13.035.125.027.235.062.11.034.18.103.04.11.047.166.007.055.021.11.02.117.035.234.02.117.027.262.035.117.055.234.028.11.048.228l.07.323q.034.152.089.29.055 0 .069.007.034-.014.069-.021l.09-.014.075-.007.028.07q.007.034.069.068.09.007.13.042.042.027.076.062.028.027.055.04l.104.042-.055.104q-.07.124-.2.24-.124.111-.283.187.007.041.007.082.007.035.02.076.022.117.035.241.014.124 0 .255zm-1.992-1.192q.207-.014.372-.028.173-.02.38-.062-.049-.206-.104-.427-.055-.227-.117-.448l-.042.07q-.137.144-.268.323-.124.18-.214.338l-.083.124q-.04.062-.075.124.041-.007.075-.007.042 0 .076-.007zM44.29 5.092q-.193.062-.42.124-.228.062-.455.062-.344 0-.544-.172-.035-.076-.062-.104l-.042-.055q-.013-.034-.02-.09-.083-.096-.131-.22-.048-.13-.07-.262-.013-.138-.006-.275.014-.138.048-.262.014-.028.014-.055l.014-.062q.027-.11.055-.214.034-.103.09-.179-.028-.062 0-.138.027-.076.061-.138.097-.261.159-.44.069-.187.138-.366.117-.31.22-.613.104-.303.186-.655.055-.034.083-.048.041-.014.069-.02.124.062.29.124.165.055.275.055.055.034.069.055l.027.027q.076.09.131.186.055.09.035.242-.042.062-.062.062-.035.137-.076.234-.035.096-.076.193-.048.103-.09.206-.04.104-.068.255-.028.035-.042.062-.007.028-.02.062-.014.035-.035.076-.014.035-.048.062-.02.18-.069.29-.041.11-.09.22-.082.2-.151.4-.062.2-.076.454.035-.013.062-.013h.062q.062 0 .145.02.207-.11.448-.13.248-.021.489-.028H45q.096 0 .179-.014.062.035.076.041h.055q.048 0 .083.007.082.076.158.11.076.035.159.063.075.027.144.062.076.027.145.082l.048.297q.048.062.041.082 0 .055-.027.083l.014.076q-.104.02-.145.048-.034.027-.069.062-.055.007-.083.007h-.04q-.097 0-.235.034-.186-.062-.386-.062-.076 0-.159.007l-.165.014q-.083.014-.172.02-.083.008-.172.008zM50.25 3.1q-.007.083.014.16.02.075.048.15.035.07.062.145.028.076.041.152.014.096 0 .214-.013.11-.048.22-.034.103-.09.193-.054.083-.13.124-.097.124-.235.193-.137.069-.254.165-.076.048-.173.07l-.186.04q-.076.042-.179.09l-.213.083q-.11.034-.221.055-.11.014-.193.007-.207.076-.406.096-.193.028-.455-.027-.248.034-.462-.021-.207-.055-.372-.172-.158-.124-.282-.29-.118-.172-.193-.358-.055-.393.027-.71.083-.323.235-.592.158-.276.358-.503.2-.234.386-.455.041.014.062 0 .027-.02.048-.048.02-.035.041-.062.028-.028.062-.035.048-.103.138-.151.097-.055.152-.152.062-.014.103-.041.041-.028.076-.062.041-.035.082-.062.042-.035.097-.048v-.076q.124-.055.18-.124l.144-.18q.062-.006.096-.006.042 0 .117-.014.056-.096.097-.145.048-.048.138-.103.082.041.179.055.103.014.179.09.007.069.041.11.035.034.076.069.041.027.076.062.041.034.055.096.028.007.034-.007.014-.013.042-.007.02.097.048.131.028.028.055.117-.034.07-.055.145-.014.07-.083.104-.007.048.028.055.034 0 .041.034.007.062-.02.09.165.268.296.572.13.296.296.565zm-.861.655q.027-.076.069-.124.048-.048.055-.145-.035-.055-.041-.082-.007-.035-.007-.104-.152-.213-.262-.454-.11-.248-.248-.462-.014.028-.048.055-.035.028-.076-.014-.014.055-.048.083-.035.02-.076.02-.042-.006-.09-.02-.041-.02-.076-.048-.2.158-.4.31-.2.151-.358.351-.027.014-.034.014-.007-.007-.041.007-.055.13-.138.241-.076.103-.152.214-.076.11-.13.234-.056.124-.063.29.118.096.276.116.158.021.324.007.172-.013.33-.041.166-.034.304-.034.29-.07.496-.18.207-.117.434-.234zM51.78 4.451q-.076.276-.138.42-.055.138-.172.29-.09-.014-.124.02-.035.035-.076.062-.062.014-.09 0-.027-.013-.048-.034-.02-.014-.055-.034-.028-.014-.09-.014-.013-.055-.034-.104-.014-.048-.09-.034.014-.055.007-.09-.007-.041-.02-.069l-.014-.062q-.007-.034.007-.082-.034 0-.055-.048-.02-.049-.048-.097.02-.124.04-.234.022-.11.05-.207.034-.096.054-.193.02-.096-.02-.2.027.021.04-.007.015-.034.022-.082.007-.055.007-.104 0-.055-.007-.09.068-.178.11-.364.048-.193.082-.38l.083-.364q.041-.18.11-.331.076-.014.166.02.096.028.117.076.179-.138.317-.33.138-.2.282-.386.145-.186.317-.331.18-.145.448-.172.138.103.303.213.173.104.283.276.055.027.09.062.04.028.096.062v.083q.083.075.13.179.056.096.097.213.042.11.083.228.041.11.097.213-.014.035-.014.062 0 .021.007.049.014.027.02.055.007.027 0 .076-.02.303-.2.489-.172.186-.42.31-.248.117-.53.2-.283.082-.51.179 0 .027.02.027.028 0 .021.035.166.103.262.165.097.062.18.103.089.042.185.076.104.028.283.07.179.04.275.068.104.02.186.041l.166.028.248.02q.062.063.103.152.048.083.062.172.014.083.007.166-.007.076-.048.124.007.02.028.02.027-.006.055 0-.042.028-.07.07l-.054.082q-.028.041-.062.069-.035.034-.097.041-.213.083-.537.007-.324-.069-.82-.262-.248-.096-.407-.165-.151-.076-.268-.145-.11-.075-.207-.158l-.22-.2zm.985-2.363q-.076.11-.172.2-.09.09-.18.186-.082.09-.15.206-.07.11-.097.262.24-.027.503-.13.261-.111.496-.208-.028-.213-.152-.344-.117-.13-.248-.172zM58.332 1.288q.007.049 0 .076 0 .02-.007.042v.048q0 .02.014.069-.145.234-.337.324-.186.082-.407.124-.22.034-.455.075-.227.042-.454.18-.09-.035-.166 0-.069.034-.207.02-.04.042-.103.062-.062.014-.124.035.028.062.02.13 0 .063.021.104.242.02.531-.007.296-.028.579-.034.007.034-.007.048-.014.007-.007.034.048.035.096.09l.097.096q.048.049.096.083.055.028.124.02.028.056.035.125.014.062-.014.13-.11.076-.22.159-.11.076-.235.138-.117.062-.255.103-.13.035-.296.028h-.055q-.014 0-.041-.02-.056.034-.159.02-.096-.014-.152.02-.075-.034-.186-.027-.103 0-.186-.028-.11.145-.2.31-.089.166-.158.352.234.034.386.027.158-.007.296-.02.138-.021.283-.035.144-.02.365-.014.138-.075.324-.096.193-.028.351-.083.055.021.097.076.041.048.075.097.042.04.083.075.041.035.104.028.027.027.034.069.014.034.02.069.008.034.021.062.021.02.062.013-.103.228-.24.352-.132.117-.304.179-.172.062-.386.096-.206.035-.461.083-.062.014-.104-.007-.041-.014-.096-.014-.159.035-.38.062-.22.028-.447.021-.227-.007-.434-.062-.207-.048-.338-.179-.055-.048-.076-.11-.013-.07-.09-.104-.006-.09-.027-.2l-.041-.227q-.02-.124-.035-.24-.007-.118.014-.215.02-.103.083-.186.069-.082.048-.179.035-.007.041-.034.007-.035.056-.028.04-.124.09-.234.047-.11.096-.214.055-.103.103-.206.055-.11.103-.241-.096-.09-.144-.193-.042-.11-.062-.214-.021-.11-.035-.22-.014-.118-.048-.235.069-.103.165-.165.104-.069.22-.11.118-.042.256-.07.138-.027.29-.061.275-.09.488-.138.22-.048.427-.076.214-.034.441-.062.228-.027.517-.083.062.062.117.062.028-.062.062-.034.042.02.035-.041.069.117.172.2.11.075.241.13zM58.394 3.659q-.103-.007-.165-.049-.062-.048-.062-.124 0-.068.062-.124.041-.103.083-.165l.096-.138q.07-.096.138-.193.069-.096.152-.193.04-.034.068-.048.076-.055.152-.103.076-.055.172-.09.173-.062.338-.062.165-.007.282 0 .097.007.18.02.09.008.151.022.104.048.166.09.068.04.13.096.076.04.118.09.048.04.082.089.021.027.083.09.062.061.152.061.082 0 .137-.075.062-.076.124-.131.056-.145.18-.22.055-.028.09-.035l.075-.014q.02-.007.041-.007.021-.007.035-.014l.076-.007h.09q.116-.034.206-.034.103.007.165.055.062.041.062.117 0 .076-.062.124-.041.11-.09.172-.04.062-.089.131l-.138.193q-.069.097-.158.193-.028.035-.07.048-.068.056-.144.11-.076.049-.172.083-.18.062-.345.07-.158 0-.275-.008l-.186-.013q-.083-.014-.152-.028-.096-.048-.165-.09-.07-.04-.131-.09-.076-.047-.117-.089-.042-.048-.076-.096-.02-.028-.09-.09-.069-.069-.144-.062-.076.007-.145.083-.062.069-.124.124-.041.138-.172.22-.055.028-.097.035l-.069.014-.041.013q-.02 0-.035.007l-.075.007h-.09q-.117.035-.207.035z\" />\n        </g>\n    </svg>\n);\n\nexport default Logo;\n","export default [\n    {\n        id: 2,\n        image: 'images/tours/ra-preferences.jpg',\n        title: 'ra-preferences',\n        tour: 'ra-preferences',\n        comment: `Persist user preferences (language, ui, filters, displayed columns, etc) in local storage`,\n        href: 'http://marmelab.com/react-admin',\n    },\n    {\n        id: 7,\n        image: 'images/tours/ra-search.png',\n        title: 'ra-search',\n        tour: 'ra-search',\n        comment: `Plug your search engine and let users search across all resources via a smart Omnisearch box`,\n        href: 'http://marmelab.com/react-admin',\n    },\n    {\n        id: 6,\n        image: 'images/tours/ra-navigation-breadcrumb.jpg',\n        title: 'ra-navigation: Breadcrumb',\n        tour: 'ra-navigation-breadcrumb',\n        comment: `Keep a track of your location in the site and navigate easily.`,\n        href: 'http://marmelab.com/react-admin',\n    },\n    {\n        id: 4,\n        image: 'images/tours/ra-realtime.jpg',\n        title: 'ra-realtime',\n        tour: 'ra-realtime',\n        comment: `Enable realtime on menu, list, show and edit views - or anywhere you want.`,\n        href: 'http://marmelab.com/react-admin',\n    },\n    {\n        id: 5,\n        image: 'images/tours/ra-editable-datagrid.jpg',\n        title: 'ra-editable-datagrid',\n        tour: 'ra-editable-datagrid',\n        comment: `Quickly edit your data without leaving your datagrid.`,\n        href: 'http://marmelab.com/react-admin',\n    },\n    {\n        id: 3,\n        image: 'images/tours/ra-tree.jpg',\n        title: 'ra-tree',\n        tour: 'ra-tree',\n        comment: `Edit and visualize tree structures. Reorganize by drag and drop. Adapts to any data structure on the backend (parent_id, children, nested sets, etc)..`,\n        href: 'http://marmelab.com/react-admin',\n    },\n    {\n        id: 1,\n        image: 'images/tours/ra-markdown.jpg',\n        title: 'ra-markdown',\n        tour: 'ra-markdown',\n        comment: `Read Markdown data, and edit it using a WYSIWYG editor in your admin`,\n        href: 'http://marmelab.com/react-admin',\n    },\n];\n","import { usePreferences } from '@react-admin/ra-preferences';\nimport tours from './data';\n\ntype TourStateMap = {\n    [key: string]: Date | false;\n};\n\ntype TourStatesActions = {\n    markAsPlayed: (tourId: string) => void;\n    markAllAsPlayed: () => void;\n    reset: (tourId: string) => void;\n    resetAll: () => void;\n};\n\ntype TourStateActions = {\n    markAsPlayed: () => void;\n    reset: () => void;\n};\n\nexport const useTourStates = (): [TourStateMap, TourStatesActions] => {\n    const [storedTourStates, setTourStates] = usePreferences('tours', {});\n\n    const tourStates = tours.reduce((acc, tour) => {\n        acc[tour.id] = storedTourStates[tour.id] || false;\n        return acc;\n    }, {});\n\n    const actions = {\n        markAsPlayed: (tourId): void => {\n            const newTourStates = { ...storedTourStates };\n            newTourStates[tourId] = new Date();\n            setTourStates(newTourStates);\n        },\n        markAllAsPlayed: (): void => {\n            const newTourStates = tours.reduce((acc, tour) => {\n                acc[tour.id] = new Date();\n                return acc;\n            }, {});\n            setTourStates(newTourStates);\n        },\n        reset: (tourId): void => {\n            const newTourStates = { ...storedTourStates };\n            newTourStates[tourId] = undefined;\n            setTourStates(newTourStates);\n        },\n        resetAll: (): void => {\n            setTourStates({});\n        },\n    };\n\n    return [tourStates, actions];\n};\n\nexport const useTourState = (\n    tourId: string\n): [Date | false, TourStateActions] => {\n    const [tourStates, tourStateActions] = useTourStates();\n    const tourState = tourStates[tourId];\n\n    const actions = {\n        markAsPlayed: () => tourStateActions.markAsPlayed(tourId),\n        reset: () => tourStateActions.reset(tourId),\n    };\n\n    return [tourState, actions];\n};\n","import React, { FC } from 'react';\nimport { AppBar } from 'react-admin';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport Badge from '@material-ui/core/Badge';\nimport TourIcon from '@material-ui/icons/Flag';\nimport { Link, useLocation } from 'react-router-dom';\nimport {\n    ToggleThemeButton,\n    LanguageSwitcher,\n} from '@react-admin/ra-preferences';\nimport { useMediaQuery, Theme } from '@material-ui/core';\nimport { Search } from './index';\nimport Logo from './Logo';\nimport { useTourStates } from '../tours/useTourState';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: 'relative',\n    },\n    title: {\n        flex: 1,\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n        paddingLeft: theme.spacing(1),\n    },\n    logo: {\n        padding: theme.spacing(0, 2),\n    },\n}));\n\nconst CustomAppBar: FC = props => {\n    const classes = useStyles();\n    const location = useLocation<{ pathname: string }>();\n\n    const isXSmall = useMediaQuery((theme: Theme) =>\n        theme.breakpoints.down('xs')\n    );\n    const [tourStates] = useTourStates();\n\n    let numberOfTours = 0;\n    if (tourStates) {\n        numberOfTours = Object.keys(tourStates).reduce((acc, tourId) => {\n            if (!tourStates[tourId]) {\n                return acc + 1;\n            }\n            return acc;\n        }, 0);\n    }\n\n    return (\n        <AppBar {...props} elevation={1}>\n            {isXSmall ? (\n                <>\n                    {location.pathname === '/' && (\n                        <Logo className={classes.logo} />\n                    )}\n                    <Typography\n                        variant=\"h6\"\n                        color=\"inherit\"\n                        className={classes.title}\n                        id=\"react-admin-title\"\n                    />\n                </>\n            ) : (\n                <>\n                    <Logo className={classes.logo} />\n                    <Typography\n                        variant=\"h6\"\n                        color=\"inherit\"\n                        className={classes.title}\n                        id=\"react-admin-title\"\n                    />\n                    <Search />\n                    <IconButton to=\"/tours\" component={Link} color=\"inherit\">\n                        <Badge\n                            badgeContent={numberOfTours}\n                            color=\"error\"\n                            variant=\"dot\"\n                        >\n                            <TourIcon />\n                        </Badge>\n                    </IconButton>\n                    <ToggleThemeButton />\n                    <LanguageSwitcher\n                        languages={[\n                            { locale: 'en', name: 'English' },\n                            { locale: 'fr', name: 'Français' },\n                        ]}\n                        defaultLanguage=\"English\"\n                    />\n                </>\n            )}\n        </AppBar>\n    );\n};\n\nexport default CustomAppBar;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    Breadcrumb,\n    BreadcrumbItem,\n    BreadcrumbProps,\n    ResourceBreadcrumbItems,\n} from '@react-admin/ra-navigation';\nimport { linkToRecord, useTranslate, Record } from 'react-admin';\n\nconst CustomBreadcrumb: FC<BreadcrumbProps> = props => {\n    const classes = useStyles();\n    const translate = useTranslate();\n\n    const editLabel = translate('ra.action.edit');\n    const createLabel = translate('ra.action.create');\n    return (\n        <Breadcrumb className={classes.root} {...props}>\n            <ResourceBreadcrumbItems resources={['stores', 'tours']} />\n            <BreadcrumbItem\n                name=\"catalog\"\n                label={translate('pos.menu.catalog', 1)}\n            >\n                <BreadcrumbItem\n                    name=\"products\"\n                    label={translate('resources.products.name', 2)}\n                    to=\"/products\"\n                >\n                    <BreadcrumbItem\n                        name=\"edit\"\n                        label={({ record }: { record?: Record }): string =>\n                            `${editLabel} ${\n                                record ? `\"${record.reference}\"` : '...'\n                            }`\n                        }\n                        to={({ record }: { record?: Record }): string =>\n                            record\n                                ? `${linkToRecord('/products', record.id)}/edit`\n                                : ''\n                        }\n                    />\n                    <BreadcrumbItem\n                        name=\"create\"\n                        label={createLabel}\n                        to=\"/products/create\"\n                    />\n                </BreadcrumbItem>\n                <BreadcrumbItem\n                    name=\"categories\"\n                    label={translate('resources.categories.name', 2)}\n                >\n                    <BreadcrumbItem\n                        name=\"edit\"\n                        label={({ record }: { record?: Record }): string =>\n                            `${editLabel} ${\n                                record ? `\"${record.name}\"` : '...'\n                            }`\n                        }\n                    />\n                </BreadcrumbItem>\n            </BreadcrumbItem>\n            <BreadcrumbItem\n                name=\"reviews\"\n                label={translate('resources.reviews.name', 2)}\n                to=\"/reviews?filter={}\"\n            >\n                <BreadcrumbItem\n                    name=\"status_filter\"\n                    label={({ status }): string =>\n                        `${translate('pos.filter')} status \"${translate(\n                            `pos.reviews.${status}`\n                        )}\"`\n                    }\n                />\n            </BreadcrumbItem>\n            <BreadcrumbItem name=\"sales\" label={translate('pos.menu.sales', 1)}>\n                <BreadcrumbItem\n                    name=\"commands\"\n                    label={translate('resources.commands.name', 2)}\n                    to=\"/commands\"\n                >\n                    <BreadcrumbItem\n                        name=\"edit\"\n                        label={({ record }: { record?: Record }): string =>\n                            `${editLabel} ${\n                                record ? `\"${record.reference}\"` : '...'\n                            }`\n                        }\n                        to={({ record }: { record?: Record }): string =>\n                            record\n                                ? `${linkToRecord('/products', record.id)}/edit`\n                                : ''\n                        }\n                    />\n                </BreadcrumbItem>\n                <BreadcrumbItem\n                    name=\"invoices\"\n                    label={translate('resources.invoices.name', 2)}\n                    to=\"/invoices\"\n                />\n            </BreadcrumbItem>\n            <BreadcrumbItem\n                name=\"customers\"\n                label={translate('resources.customers.name', 2)}\n                to=\"/customers\"\n            >\n                <BreadcrumbItem\n                    name=\"edit\"\n                    label={({ record }: { record?: Record }): string =>\n                        `${editLabel} ${\n                            record\n                                ? `\"${record.first_name} ${record.last_name}\"`\n                                : '...'\n                        }`\n                    }\n                    to={({ record }: { record?: Record }): string =>\n                        record\n                            ? `${linkToRecord('/customers', record.id)}/edit`\n                            : ''\n                    }\n                />\n                <BreadcrumbItem\n                    name=\"create\"\n                    label={createLabel}\n                    to=\"/customers/create\"\n                />\n            </BreadcrumbItem>\n            <BreadcrumbItem\n                name=\"tours\"\n                label={translate('resources.tours.name', 2)}\n            />\n        </Breadcrumb>\n    );\n};\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        paddingTop: theme.spacing(1),\n        fontSize: 'small',\n        // Display the Breadcrumb over the custom Layout of some pages by adding a zIndex and a maxWidth\n        // @see \"src/products/ProductList.tsx\" or \"src/visitors/VisitorList.tsx\"\n        maxWidth: '700px',\n        zIndex: 1,\n        '& a': {\n            pointerEvents: 'visible',\n        },\n    },\n}));\n\nexport default CustomBreadcrumb;\n","import React, { FC, useEffect } from 'react';\nimport { Create, useRefresh, useRedirect, CreateProps } from 'react-admin';\n\ninterface PromptProps {\n    label: string;\n    record?: any;\n    save?: (data) => any;\n}\n\nconst Prompt: FC<PromptProps> = ({\n    save = (): any => undefined,\n    record = {},\n}) => {\n    useEffect(() => {\n        const result = window.prompt('Category', record.name);\n        save({ ...record, name: result, children: [], isRoot: true });\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    return null;\n};\n\nconst CategoryCreate: FC<CreateProps> = props => {\n    const refresh = useRefresh();\n    const redirect = useRedirect();\n\n    const onSuccess = (): void => {\n        redirect(props.basePath as string);\n        refresh();\n    };\n\n    return (\n        <Create {...props} onSuccess={onSuccess}>\n            <Prompt label=\"Category name\" />\n        </Create>\n    );\n};\n\nexport default CategoryCreate;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { useTranslate } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Lock as LockIcon } from '@material-ui/icons';\nimport { Typography } from '@material-ui/core';\n\nexport const LockOverlay: FC<any> = ({ lock, ...rest }) => {\n    const classes = useStyles();\n    const translate = useTranslate();\n\n    return (\n        <div className={classes.root} {...rest}>\n            <LockIcon />\n            <div className={classes.identity}>\n                <Typography variant=\"body1\" color=\"inherit\">\n                    {translate('resources.locks.overlay', {\n                        name: lock.identity,\n                    })}\n                </Typography>\n            </div>\n        </div>\n    );\n};\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        background: 'rgba(0, 0, 0, 0.9)',\n        position: 'absolute',\n        textAlign: 'center',\n        color: theme.palette.common.white,\n        padding: '25% 0',\n    },\n    identity: {\n        paddingTop: '1em',\n    },\n}));\n","import * as React from 'react';\nimport { ReactElement } from 'react';\nimport MuiGridList from '@material-ui/core/GridList';\nimport GridListTile from '@material-ui/core/GridListTile';\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport withWidth, { WithWidth } from '@material-ui/core/withWidth';\nimport {\n    linkToRecord,\n    NumberField,\n    TitleProps,\n    useListContext,\n} from 'react-admin';\nimport { Link } from 'react-router-dom';\nimport { Breakpoint } from '@material-ui/core/styles/createBreakpoints';\nimport { Lock, useHasLocks } from '@react-admin/ra-realtime';\n\nimport { LockOverlay } from './LockOverlay';\nimport { DatagridProps, Product } from '../types';\n\nconst useStyles = makeStyles(theme => ({\n    gridList: {\n        margin: 0,\n    },\n    tile: {\n        position: 'relative',\n    },\n    tileBar: {\n        background:\n            'linear-gradient(to top, rgba(0,0,0,0.8) 0%,rgba(0,0,0,0.4) 70%,rgba(0,0,0,0) 100%)',\n    },\n    placeholder: {\n        backgroundColor: theme.palette.grey[300],\n        height: '100%',\n    },\n    price: {\n        display: 'inline',\n        fontSize: '1em',\n    },\n    link: {\n        color: '#fff',\n    },\n}));\n\nconst getColsForWidth = (width: Breakpoint): number => {\n    if (width === 'xs') return 2;\n    if (width === 'sm') return 3;\n    if (width === 'md') return 4;\n    if (width === 'lg') return 5;\n    return 6;\n};\n\nconst times = (nbChildren: number, fn: (key: number) => any): Array<any> =>\n    Array.from({ length: nbChildren }, (_, key) => fn(key));\n\nconst LoadingGridList = ({\n    width,\n    nbItems = 20,\n}: GridProps & { nbItems?: number }): ReactElement => {\n    const classes = useStyles();\n\n    return (\n        <MuiGridList\n            cellHeight={180}\n            cols={getColsForWidth(width)}\n            className={classes.gridList}\n        >\n            {times(nbItems, key => (\n                <GridListTile key={key}>\n                    <div className={classes.placeholder} />\n                </GridListTile>\n            ))}\n        </MuiGridList>\n    );\n};\n\nconst ProductTile = ({ record }: TitleProps): ReactElement => {\n    const classes = useStyles();\n\n    return (\n        <GridListTileBar\n            className={classes.tileBar}\n            title={record?.reference}\n            subtitle={\n                <span>\n                    {record?.width}x{record?.height},{' '}\n                    <NumberField\n                        className={classes.price}\n                        source=\"price\"\n                        record={record}\n                        color=\"inherit\"\n                        options={{\n                            style: 'currency',\n                            currency: 'USD',\n                        }}\n                    />\n                </span>\n            }\n        />\n    );\n};\n\nconst LoadedGridList = ({ width }: GridProps): ReactElement | null => {\n    const { ids, data, resource } = useListContext();\n    const { data: locks } = useHasLocks(resource);\n    const classes = useStyles();\n\n    const firstLockRecordId = React.useRef();\n\n    if (!ids || !data) return null;\n\n    return (\n        <MuiGridList\n            cellHeight={180}\n            cols={getColsForWidth(width)}\n            className={classes.gridList}\n            data-tour-id=\"grid-line\"\n        >\n            {ids.map(id => {\n                const lock = locks.find((l: Lock) => l.recordId === id);\n                if (lock && !firstLockRecordId.current) {\n                    firstLockRecordId.current = lock.recordId;\n                }\n\n                const isFirstLock = firstLockRecordId.current === id;\n\n                return (\n                    <GridListTile\n                        key={id}\n                        component={lock ? 'span' : Link}\n                        to={linkToRecord('/products', id)}\n                        className={classes.tile}\n                        data-productid={id}\n                        data-lockidentity={lock ? lock.identity : undefined}\n                        data-testid={\n                            isFirstLock ? 'productlocktile' : undefined\n                        }\n                    >\n                        <img src={data[id].thumbnail} alt=\"\" />\n                        <ProductTile record={data[id]} />\n                        {lock && <LockOverlay lock={lock} />}\n                    </GridListTile>\n                );\n            })}\n        </MuiGridList>\n    );\n};\n\ninterface GridProps extends DatagridProps<Product>, WithWidth {}\n\nconst GridList = ({ width }: WithWidth): ReactElement => {\n    const { loaded } = useListContext();\n\n    return loaded ? (\n        <LoadedGridList width={width} />\n    ) : (\n        <LoadingGridList width={width} />\n    );\n};\n\nexport default withWidth()(GridList);\n","import * as React from 'react';\nimport { ReactElement } from 'react';\nimport { Card, CardContent } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport LocalOfferIcon from '@material-ui/icons/LocalOfferOutlined';\nimport BarChartIcon from '@material-ui/icons/BarChart';\nimport AttachMoneyIcon from '@material-ui/icons/AttachMoney';\nimport {\n    FilterList,\n    FilterListItem,\n    FilterLiveSearch,\n    ListProps,\n    useListFilterContext,\n} from 'react-admin';\nimport { useGetTree, Tree, getRCTree } from '@react-admin/ra-tree';\nimport { SavedQueriesList } from '@react-admin/ra-preferences';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        [theme.breakpoints.up('sm')]: {\n            width: '15em',\n            marginRight: '1em',\n            overflow: 'initial',\n        },\n        [theme.breakpoints.down('sm')]: {\n            display: 'none',\n        },\n    },\n}));\n\nconst Aside = (props: ListProps): ReactElement => {\n    const { setFilters, filterValues, displayedFilters } = useListFilterContext(\n        props\n    );\n\n    const { data } = useGetTree('categories');\n\n    const tree = data ? getRCTree(data, 'name') : undefined;\n\n    const defaultExpandedKeys = filterValues.category_id\n        ? [filterValues.category_id.toString()]\n        : !!tree\n        ? [tree[0].key]\n        : undefined;\n\n    const defaultSelectedKeys =\n        filterValues.category_id !== undefined\n            ? [filterValues.category_id.toString()]\n            : [];\n\n    const handleSelectCategory = (\n        selectedKeys: any,\n        { selectedNodes }: any\n    ): void => {\n        const [{ id }] = selectedNodes;\n\n        setFilters(\n            {\n                ...filterValues,\n                category_id: id,\n            },\n            displayedFilters\n        );\n    };\n\n    const classes = useStyles();\n    return (\n        <Card className={classes.root}>\n            <CardContent>\n                <FilterLiveSearch />\n                <SavedQueriesList />\n\n                <FilterList\n                    label=\"resources.products.filters.sales\"\n                    icon={<AttachMoneyIcon />}\n                >\n                    <FilterListItem\n                        label=\"resources.products.filters.best_sellers\"\n                        value={{\n                            sales_lte: undefined,\n                            sales_gt: 25,\n                            sales: undefined,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.average_sellers\"\n                        value={{\n                            sales_lte: 25,\n                            sales_gt: 10,\n                            sales: undefined,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.low_sellers\"\n                        value={{\n                            sales_lte: 10,\n                            sales_gt: 0,\n                            sales: undefined,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.never_sold\"\n                        value={{\n                            sales_lte: undefined,\n                            sales_gt: undefined,\n                            sales: 0,\n                        }}\n                    />\n                </FilterList>\n\n                <FilterList\n                    label=\"resources.products.filters.stock\"\n                    icon={<BarChartIcon />}\n                >\n                    <FilterListItem\n                        label=\"resources.products.filters.no_stock\"\n                        value={{\n                            stock_lt: undefined,\n                            stock_gt: undefined,\n                            stock: 0,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.low_stock\"\n                        value={{\n                            stock_lt: 10,\n                            stock_gt: 0,\n                            stock: undefined,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.average_stock\"\n                        value={{\n                            stock_lt: 50,\n                            stock_gt: 9,\n                            stock: undefined,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.enough_stock\"\n                        value={{\n                            stock_lt: undefined,\n                            stock_gt: 49,\n                            stock: undefined,\n                        }}\n                    />\n                </FilterList>\n\n                <FilterList\n                    label=\"resources.products.filters.categories\"\n                    icon={<LocalOfferIcon />}\n                >\n                    <Tree\n                        // HACK: ensure the tree is updated and expland nodes correctly\n                        // see https://github.com/react-component/tree/issues/234#issuecomment-599297897\n                        // I tried passing a JSON.stringify version of\n                        // defaultSelectedKeys and defaultExpandedKeys without success\n                        key={Math.random()}\n                        treeData={tree ? tree[0].children : []}\n                        onSelect={handleSelectCategory}\n                        defaultSelectedKeys={defaultSelectedKeys}\n                        defaultExpandedKeys={defaultExpandedKeys}\n                        autoExpandParent\n                    />\n                </FilterList>\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default Aside;\n","import * as React from 'react';\nimport { ReactElement, FC } from 'react';\nimport { Box, Chip, useMediaQuery, Theme } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    CreateButton,\n    ExportButton,\n    FilterProps,\n    InputProps,\n    ListActionsProps,\n    ListBase,\n    ListProps,\n    NumberInput,\n    Pagination,\n    ReferenceInput,\n    SearchInput,\n    SelectInput,\n    SortButton,\n    Title,\n    TopToolbar,\n    useTranslate,\n    useListContext,\n} from 'react-admin';\n\nimport { useDefineAppLocation } from '@react-admin/ra-navigation';\nimport { FilterWithSave } from '@react-admin/ra-preferences';\n\nimport GridList from './GridList';\nimport Aside from './Aside';\nimport CustomBreadcrumb from '../layout/Breadcrumb';\n\nconst useQuickFilterStyles = makeStyles(theme => ({\n    root: {\n        marginBottom: theme.spacing(3),\n    },\n}));\n\nconst QuickFilter = ({ label }: InputProps): ReactElement => {\n    const translate = useTranslate();\n    const classes = useQuickFilterStyles();\n    return <Chip className={classes.root} label={translate(label)} />;\n};\n\nexport const ProductFilter = (\n    props: Omit<FilterProps, 'children'>\n): ReactElement => (\n    <FilterWithSave {...props}>\n        <SearchInput source=\"q\" alwaysOn />\n        <ReferenceInput\n            source=\"category_id\"\n            reference=\"categories\"\n            sort={{ field: 'id', order: 'ASC' }}\n        >\n            <SelectInput source=\"name\" />\n        </ReferenceInput>\n        <NumberInput source=\"width_gte\" />\n        <NumberInput source=\"width_lte\" />\n        <NumberInput source=\"height_gte\" />\n        <NumberInput source=\"height_lte\" />\n        <QuickFilter\n            label=\"resources.products.fields.stock_lte\"\n            source=\"stock_lte\"\n            defaultValue={10}\n        />\n    </FilterWithSave>\n);\n\nconst ListActions = ({\n    isSmall,\n}: ListActionsProps & { isSmall: boolean }): ReactElement => {\n    const classes = useListActionsStyles();\n\n    return (\n        <TopToolbar className={classes.root}>\n            <CustomBreadcrumb variant=\"actions\" />\n            {isSmall && <ProductFilter context=\"button\" />}\n            <SortButton fields={['reference', 'sales', 'stock']} />\n            <CreateButton basePath=\"/products\" />\n            <ExportButton />\n        </TopToolbar>\n    );\n};\n\nconst useListActionsStyles = makeStyles(theme => ({\n    root: {\n        paddingBottom: 0,\n        paddingTop: theme.spacing(7),\n    },\n}));\n\nconst ProductList: FC<ListProps> = ({ actions, ...props }) => {\n    useDefineAppLocation('catalog.products');\n    const isSmall = useMediaQuery<Theme>(theme => theme.breakpoints.down('sm'));\n\n    return (\n        <ListBase\n            filters={isSmall ? <ProductFilter /> : undefined}\n            perPage={20}\n            sort={{ field: 'reference', order: 'ASC' }}\n            {...props}\n        >\n            <ProductListView\n                actions={actions}\n                isSmall={isSmall}\n                aside={props.aside}\n                title={props.title}\n            />\n        </ListBase>\n    );\n};\n\n// The aside prop is only used to disable the aside here if explicitly set to false\n// If undefined, we consider the aside is not explicitly disabled an display the filter\n// vertical bar\nexport const ProductListView = ({\n    isSmall,\n    actions = <ListActions isSmall={isSmall} />,\n    aside,\n    title,\n}: {\n    isSmall: boolean;\n    actions?: ReactElement | false;\n    aside?: ReactElement | false;\n    title?: string | ReactElement;\n}): ReactElement => {\n    const { defaultTitle } = useListContext();\n    const classes = useStyles();\n    return (\n        <div className={classes.root}>\n            <Title title={title || defaultTitle} />\n            {actions}\n            {isSmall && (\n                <Box m={1}>\n                    <ProductFilter context=\"form\" />\n                </Box>\n            )}\n            <Box display=\"flex\">\n                {aside !== false ? <Aside /> : null}\n                <Box\n                    width={\n                        isSmall || aside === false\n                            ? 'auto'\n                            : 'calc(100% - 16em)'\n                    }\n                >\n                    <GridList />\n                    <Pagination rowsPerPageOptions={[10, 20, 40]} />\n                </Box>\n            </Box>\n        </div>\n    );\n};\n\nexport default ProductList;\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        marginTop: -theme.spacing(7),\n    },\n}));\n","import React, { FC, ReactElement } from 'react';\nimport {\n    Edit,\n    EditProps,\n    ListContextProvider,\n    TextInput,\n    TitleProps,\n    useGetList,\n    useTranslate,\n} from 'react-admin';\nimport { SimpleForm } from '@react-admin/ra-tree';\n\nimport { ProductListView } from '../products/ProductList';\nimport { Typography, makeStyles } from '@material-ui/core';\nimport { useAppLocationState } from '@react-admin/ra-navigation';\n\nconst CategoryEdit: FC<EditProps> = props => {\n    const translate = useTranslate();\n    const classes = useStyles();\n\n    return (\n        <>\n            <Edit title={<CategoryTitle />} {...props}>\n                <SimpleForm>\n                    <TextInput source=\"name\" />\n                </SimpleForm>\n            </Edit>\n            <Typography className={classes.subtitle} variant=\"h5\">\n                {translate('resources.products.name', { smart_count: 2 })}\n            </Typography>\n            <CategoryEditAside {...props} />\n        </>\n    );\n};\n\nconst CategoryTitle = (props: TitleProps): ReactElement => {\n    const [, setLocation] = useAppLocationState();\n\n    if (props.record?.id.toString() == '5') {\n        setLocation('catalog.categories');\n    } else {\n        setLocation('catalog.categories.edit', props);\n    }\n    return <span>{props.record?.name}</span>;\n};\n\nconst CategoryEditAside = (props: EditProps): ReactElement => {\n    const { id } = props;\n\n    const { data, ids, total, loaded } = useGetList(\n        'products',\n        { page: 1, perPage: 25 },\n        { field: 'reference', order: 'ASC' },\n        { category_id: id }\n    );\n    return (\n        <ListContextProvider\n            value={{\n                data,\n                ids,\n                total,\n                loaded,\n                resource: 'products',\n                filterValues: {},\n                showFilter: (): void => undefined,\n                hideFilter: (): void => undefined,\n                setSort: (): void => undefined,\n                currentSort: { field: 'reference', order: 'ASC' },\n                page: 1,\n                perPage: 25,\n            }}\n        >\n            <ProductListView isSmall={false} aside={false} actions={false} />\n        </ListContextProvider>\n    );\n};\n\nexport default CategoryEdit;\n\nconst useStyles = makeStyles(theme => ({\n    subtitle: {\n        marginTop: theme.spacing(6),\n    },\n}));\n","import CategoryIcon from '@material-ui/icons/Bookmark';\n\nimport CategoryList from './CategoryList';\n\nexport default {\n    list: CategoryList,\n    icon: CategoryIcon,\n};\n","import React, { FC, useEffect } from 'react';\nimport { ListProps } from 'react-admin';\nimport { TreeWithDetails, useTreeController } from '@react-admin/ra-tree';\nimport { useDefineAppLocation } from '@react-admin/ra-navigation';\n\nimport CategoryCreate from './CategoryCreate';\nimport CategoryEdit from './CategoryEdit';\nimport CustomBreadcrumb from '../layout/Breadcrumb';\n\nconst CategoryList: FC<ListProps> = props => {\n    // We need to override the \"category\" location to highlight menu item in the sidebar\n    useDefineAppLocation('catalog.categories');\n\n    const { handleExpand } = useTreeController({\n        resource: props.resource as string,\n        titleField: 'name',\n    });\n\n    useEffect(() => {\n        handleExpand(['5']);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return (\n        <>\n            <CustomBreadcrumb />\n            <TreeWithDetails\n                create={CategoryCreate}\n                edit={CategoryEdit}\n                titleField=\"name\"\n                draggable\n                allowMultipleRoots\n                defaultSelectedKeys={['5']}\n                {...props}\n            />\n        </>\n    );\n};\n\nexport default CategoryList;\n","import React, {\n    cloneElement,\n    useMemo,\n    forwardRef,\n    ReactElement,\n    FC,\n    ReactNode,\n    JSXElementConstructor,\n    useRef,\n} from 'react';\n\nimport {\n    Button,\n    TopToolbar,\n    CreateButton,\n    sanitizeListRestProps,\n    ExportButton,\n    useListContext,\n    ListProps,\n} from 'react-admin';\n\nimport { List } from '@react-admin/ra-enterprise';\nimport classnames from 'classnames';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n    SelectColumnsMenu,\n    useSelectedColumns,\n    usePreferences,\n} from '@react-admin/ra-preferences';\n\nimport TableChartIcon from '@material-ui/icons/TableChart';\nimport AppsIcon from '@material-ui/icons/Apps';\n\nimport IconButton from '@material-ui/core/IconButton';\nimport Menu from '@material-ui/core/Menu';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport { ColumnList } from '@react-admin/ra-preferences/esm/src/list/useSelectedColumns';\nimport CustomBreadcrumb from '../layout/Breadcrumb';\n\nconst useStyles = makeStyles({\n    root: {\n        paddingBottom: 0,\n    },\n    menuPaper: {\n        padding: '1rem 0',\n    },\n    menuList: {\n        '&> * > *': {\n            padding: '0 2rem',\n        },\n    },\n    toolContainer: {\n        margin: '20px 0',\n        '&:first-child': {\n            marginTop: 0,\n        },\n        '&:last-child': {\n            marginBottom: 0,\n        },\n    },\n    columnsList: {\n        maxHeight: '250px',\n        overflowY: 'auto',\n        margin: 0,\n        background: '#eee',\n    },\n});\n\nconst ToolContainer = forwardRef<HTMLDivElement, any>(({ children }, ref) => {\n    const classes = useStyles();\n\n    return (\n        <div ref={ref} className={classes.toolContainer}>\n            {children}\n        </div>\n    );\n});\nToolContainer.displayName = 'ToolContainer';\n\nconst ColumnsTool: FC<{\n    preferenceKey: string;\n    defaultColumns: { [key: string]: ReactElement };\n}> = ({ preferenceKey, defaultColumns }) => {\n    const classes = useStyles();\n    const ref = useRef<HTMLDivElement | null>(null);\n\n    return (\n        <>\n            <Typography\n                variant=\"overline\"\n                gutterBottom\n                key=\"columns-selector-tool-title\"\n                component=\"div\"\n                ref={ref}\n            >\n                Columns to display\n            </Typography>\n            <SelectColumnsMenu\n                key=\"columns-selector-tool-menu\"\n                preference={preferenceKey}\n                columns={defaultColumns}\n                className={classes.columnsList}\n            />\n        </>\n    );\n};\n\ntype View = 'table' | 'grid' | 'small';\ntype SetView = (view: View) => void;\n\nconst GridOrListTool: FC<{\n    view: View;\n    setView: SetView;\n}> = ({ view, setView }) => (\n    <>\n        <Typography\n            variant=\"overline\"\n            gutterBottom\n            key=\"view-selector-tool-title\"\n            component=\"div\"\n        >\n            Layout\n        </Typography>\n\n        <ButtonGroup key=\"view-selector-tool-menu\">\n            <Button\n                color={view === 'table' ? 'primary' : 'default'}\n                onClick={(): void => setView('table')}\n                label=\"table\"\n            >\n                <TableChartIcon />\n            </Button>\n            <Button\n                color={view === 'grid' ? 'primary' : 'default'}\n                onClick={(): void => setView('grid')}\n                label=\"grid\"\n            >\n                <AppsIcon />\n            </Button>\n        </ButtonGroup>\n    </>\n);\n\nconst Actions: FC<{\n    className?: string;\n    defaultColumns: { [key: string]: ReactElement };\n    filters?: ReactElement | false;\n    hasColumnsSelector?: boolean;\n    hasList?: boolean;\n    hasShow?: boolean;\n    hasViewSelector?: boolean;\n    maxResults?: number;\n    permanentFilter?: any;\n    preferenceKey: string;\n    setView: SetView;\n    view: View;\n}> = ({\n    className,\n    defaultColumns,\n    filters,\n    hasColumnsSelector,\n    hasList,\n    hasShow,\n    hasViewSelector,\n    maxResults,\n    permanentFilter,\n    preferenceKey,\n    setView,\n    view,\n    ...rest\n}) => {\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const classes = useStyles();\n    const open = Boolean(anchorEl);\n    const {\n        basePath,\n        currentSort,\n        displayedFilters,\n        exporter,\n        filterValues,\n        resource,\n        showFilter,\n        total,\n    } = useListContext();\n\n    const handleClick = (event): void => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = (): void => {\n        setAnchorEl(null);\n    };\n\n    const hasTools = hasColumnsSelector || hasViewSelector;\n\n    return (\n        <TopToolbar\n            className={classnames(className, classes.root)}\n            {...sanitizeListRestProps(rest)}\n        >\n            <CustomBreadcrumb variant=\"actions\" />\n            {filters &&\n                cloneElement(filters, {\n                    resource,\n                    showFilter,\n                    displayedFilters,\n                    filterValues,\n                    context: 'button',\n                })}\n            <CreateButton basePath={basePath} />\n            {exporter && (\n                <ExportButton\n                    disabled={total === 0}\n                    resource={resource}\n                    sort={currentSort}\n                    filterValues={{ ...filterValues, ...permanentFilter }}\n                    exporter={exporter}\n                    maxResults={maxResults}\n                />\n            )}\n\n            {hasTools && (\n                <>\n                    <IconButton\n                        aria-label=\"more\"\n                        aria-controls=\"user-preference-menu\"\n                        aria-haspopup=\"true\"\n                        onClick={handleClick}\n                        size=\"small\"\n                    >\n                        <MoreVertIcon />\n                    </IconButton>\n                    <Menu\n                        id=\"user-preference-menu\"\n                        anchorEl={anchorEl}\n                        keepMounted\n                        open={open}\n                        onClose={handleClose}\n                        classes={{\n                            paper: classes.menuPaper,\n                            list: classes.menuList,\n                        }}\n                    >\n                        {hasViewSelector && (\n                            <ToolContainer>\n                                <GridOrListTool view={view} setView={setView} />\n                            </ToolContainer>\n                        )}\n                        {hasColumnsSelector && (\n                            <ToolContainer>\n                                <ColumnsTool\n                                    preferenceKey={preferenceKey}\n                                    defaultColumns={defaultColumns}\n                                />\n                            </ToolContainer>\n                        )}\n                    </Menu>\n                </>\n            )}\n        </TopToolbar>\n    );\n};\nconst elementHasProp = (element, name, value): boolean =>\n    element.props[name] && element.props[name] === value;\n\nconst hasChildren = (element, type, props): boolean => {\n    if (!React.isValidElement(element)) return false;\n\n    let hasChildrenOfType = false;\n\n    React.Children.map(element, child => {\n        if (hasChildrenOfType) return;\n        if (!React.isValidElement<{ children?: ReactNode }>(child)) return;\n\n        if (\n            (child.type as JSXElementConstructor<any>).name === type &&\n            Object.keys(props).every(propName =>\n                elementHasProp(child, propName, props[propName])\n            )\n        ) {\n            hasChildrenOfType = true;\n            return;\n        }\n\n        hasChildrenOfType = hasChildren(child.props.children, type, props);\n    });\n\n    return hasChildrenOfType;\n};\n\nconst EnterpriseList: FC<\n    {\n        children: (props?: any) => ReactElement;\n        classes?: any;\n        className?: string;\n        defaultColumns: ColumnList;\n        defaultOmittedColumns?: string[];\n        defaultView?: View;\n        hasColumnsSelector?: boolean;\n        hasViewSelector?: boolean;\n        preferenceKey: string;\n    } & Omit<ListProps, 'children'>\n> = props => {\n    const {\n        className,\n        preferenceKey,\n\n        hasColumnsSelector = true,\n        defaultColumns = {},\n        defaultOmittedColumns = [],\n\n        hasViewSelector = true,\n        defaultView = 'small',\n        syncWithLocation,\n        children,\n        ...rest\n    } = props;\n    const visibleColumns = useSelectedColumns({\n        preferences: `${preferenceKey}.columns`,\n        columns: defaultColumns,\n        omit: defaultOmittedColumns,\n    });\n\n    const [view, setView] = usePreferences<View>(\n        `${preferenceKey}.view`,\n        defaultView\n    );\n\n    const childrenElements = useMemo(\n        () => children({ ...rest, columns: visibleColumns, view }),\n        [visibleColumns, view, children, rest]\n    );\n\n    if (process.env.NODE_ENV === 'development') {\n        if (\n            hasColumnsSelector &&\n            hasChildren(childrenElements, 'Datagrid', { optimized: true })\n        ) {\n            throw new Error(\n                'Columns selector is not compatible with optimized Datagrids, please remove the optimized prop'\n            );\n        }\n    }\n\n    return (\n        <List\n            {...rest}\n            className={className}\n            actions={\n                <Actions\n                    preferenceKey={`${preferenceKey}.columns`}\n                    hasColumnsSelector={hasColumnsSelector}\n                    defaultColumns={defaultColumns}\n                    hasViewSelector={hasViewSelector}\n                    view={view}\n                    setView={setView}\n                />\n            }\n        >\n            {childrenElements}\n        </List>\n    );\n};\n\nexport default EnterpriseList;\n","export default [\n    { id: 'compulsive', name: 'resources.segments.data.compulsive' },\n    { id: 'collector', name: 'resources.segments.data.collector' },\n    { id: 'ordered_once', name: 'resources.segments.data.ordered_once' },\n    { id: 'regular', name: 'resources.segments.data.regular' },\n    { id: 'returns', name: 'resources.segments.data.returns' },\n    { id: 'reviewer', name: 'resources.segments.data.reviewer' },\n];\n","import React, { FC } from 'react';\nimport Chip from '@material-ui/core/Chip';\nimport { FieldProps, useTranslate } from 'react-admin';\nimport segments from '../segments/data';\nimport { makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles({\n    main: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        marginTop: -8,\n        marginBottom: -8,\n    },\n    chip: { margin: 4 },\n});\n\nconst SegmentsField: FC<FieldProps> = ({ record }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n\n    return record ? (\n        <span className={classes.main}>\n            {record.groups &&\n                record.groups.map(segmentId => {\n                    const segment = segments.find(s => s.id === segmentId);\n\n                    return segment ? (\n                        <Chip\n                            key={segment.id}\n                            className={classes.chip}\n                            label={translate(segment.name)}\n                        />\n                    ) : null;\n                })}\n        </span>\n    ) : null;\n};\n\nSegmentsField.defaultProps = {\n    addLabel: true,\n    source: 'groups',\n};\n\nexport default SegmentsField;\n","import React, { FC } from 'react';\nimport { InputProps, SelectInput, useTranslate } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport segments from '../segments/data';\n\nconst useStyles = makeStyles({\n    input: { width: 150 },\n});\n\ninterface Props extends Omit<InputProps, 'source'> {\n    source?: string;\n}\n\nconst SegmentInput: FC<Props> = props => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <SelectInput\n            {...props}\n            choices={segments.map(segment => ({\n                id: segment.id,\n                name: translate(segment.name),\n            }))}\n            className={classes.input}\n        />\n    );\n};\n\nSegmentInput.defaultProps = {\n    source: 'groups',\n};\n\nexport default SegmentInput;\n","import React, { FC } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport { Record } from 'react-admin';\n\ninterface Props {\n    className?: string;\n    record?: Record;\n    size?: string;\n}\n\nconst AvatarField: FC<Props> = ({ record, size = '25', className }) =>\n    record ? (\n        <Avatar\n            src={`${record.avatar}?size=${size}x${size}`}\n            style={{ width: parseInt(size, 10), height: parseInt(size, 10) }}\n            className={className}\n        />\n    ) : null;\n\nexport default AvatarField;\n","import React, { FC } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport pure from 'recompose/pure';\n\nimport AvatarField from './AvatarField';\nimport { FieldProps, Customer } from '../types';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: 'flex',\n        flexWrap: 'nowrap',\n        alignItems: 'center',\n    },\n    avatar: {\n        marginRight: theme.spacing(1),\n    },\n}));\n\ninterface Props extends FieldProps<Customer> {\n    size?: string;\n}\n\nconst FullNameField: FC<Props> = ({ record, size }) => {\n    const classes = useStyles();\n    return record ? (\n        <div className={classes.root}>\n            <AvatarField\n                className={classes.avatar}\n                record={record}\n                size={size}\n            />\n            {record.first_name} {record.last_name}\n        </div>\n    ) : null;\n};\n\nconst PureFullNameField = pure(FullNameField);\n\nPureFullNameField.defaultProps = {\n    source: 'last_name',\n    label: 'resources.customers.fields.name',\n};\n\nexport default PureFullNameField;\n","import React, { FC } from 'react';\nimport { Link } from 'react-admin';\n\nimport FullNameField from './FullNameField';\nimport { FieldProps, Customer } from '../types';\n\nconst CustomerLinkField: FC<FieldProps<Customer>> = props =>\n    props.record ? (\n        <Link to={`/customers/${props.record.id}`}>\n            <FullNameField {...props} />\n        </Link>\n    ) : null;\n\nCustomerLinkField.defaultProps = {\n    source: 'customer_id',\n    addLabel: true,\n};\n\nexport default CustomerLinkField;\n","import React, { ReactElement } from 'react';\nimport { NumberField, NumberFieldProps } from 'react-admin';\n\nconst ColoredNumberField = (props: NumberFieldProps): ReactElement | null =>\n    props.record && props.source ? (\n        props.record[props.source] > 500 ? (\n            <span style={{ color: 'red' }}>\n                <NumberField {...props} />\n            </span>\n        ) : (\n            <NumberField {...props} />\n        )\n    ) : null;\n\nColoredNumberField.defaultProps = NumberField.defaultProps;\n\nexport default ColoredNumberField;\n","// in src/comments.js\nimport React, { FC } from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n    DateField,\n    EditButton,\n    NumberField,\n    useTranslate,\n    useListContext,\n} from 'react-admin';\n\nimport AvatarField from './AvatarField';\nimport ColoredNumberField from './ColoredNumberField';\nimport SegmentsField from './SegmentsField';\n\nconst useStyles = makeStyles(theme => ({\n    root: { margin: '1em' },\n    card: {\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        margin: '0.5rem 0',\n    },\n    cardTitleContent: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n    },\n    cardContent: {\n        ...theme.typography.body1,\n        display: 'flex',\n        flexDirection: 'column',\n    },\n}));\n\nconst MobileGrid: FC = props => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    const { ids, data, basePath } = useListContext(props);\n\n    if (!ids || !data) {\n        return null;\n    }\n\n    return (\n        <div className={classes.root}>\n            {ids.map(id => (\n                <Card key={id} className={classes.card}>\n                    <CardHeader\n                        title={\n                            <div className={classes.cardTitleContent}>\n                                <h2>{`${data[id].first_name} ${data[id].last_name}`}</h2>\n                                <EditButton\n                                    resource=\"visitors\"\n                                    basePath={basePath}\n                                    record={data[id]}\n                                />\n                            </div>\n                        }\n                        avatar={<AvatarField record={data[id]} size=\"45\" />}\n                    />\n                    <CardContent className={classes.cardContent}>\n                        <div>\n                            {translate(\n                                'resources.customers.fields.last_seen_gte'\n                            )}\n                            &nbsp;\n                            <DateField record={data[id]} source=\"last_seen\" />\n                        </div>\n                        <div>\n                            {translate(\n                                'resources.commands.name',\n                                data[id].nb_commands || 1\n                            )}\n                            &nbsp;:&nbsp;\n                            <NumberField\n                                record={data[id]}\n                                source=\"nb_commands\"\n                                label=\"resources.customers.fields.commands\"\n                            />\n                        </div>\n                        <div>\n                            {translate(\n                                'resources.customers.fields.total_spent'\n                            )}\n                            &nbsp; :{' '}\n                            <ColoredNumberField\n                                record={data[id]}\n                                source=\"total_spent\"\n                                options={{ style: 'currency', currency: 'USD' }}\n                            />\n                        </div>\n                    </CardContent>\n                    {data[id].groups && data[id].groups.length > 0 && (\n                        <CardContent className={classes.cardContent}>\n                            <SegmentsField record={data[id]} />\n                        </CardContent>\n                    )}\n                </Card>\n            ))}\n        </div>\n    );\n};\n\nexport default MobileGrid;\n","import React, { FC, cloneElement } from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link as RouterLink } from 'react-router-dom';\n\nimport { linkToRecord, useListContext, useTranslate } from 'react-admin';\n\nimport EditIcon from '@material-ui/icons/Edit';\nimport IconButton from '@material-ui/core/IconButton';\n\nimport AvatarField from './AvatarField';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        margin: '1em',\n        display: 'flex',\n        flexWrap: 'wrap',\n        alignItems: 'stretch',\n        justifyContent: 'space-between',\n    },\n    card: {\n        width: 265,\n        display: 'flex',\n        flexDirection: 'column',\n        margin: '0.5rem 0',\n    },\n    cardTitleContent: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        position: 'relative',\n    },\n    editButton: {\n        position: 'absolute',\n        top: 0,\n        right: 0,\n    },\n    cardContent: {\n        ...theme.typography.body1,\n        display: 'flex',\n        flexDirection: 'column',\n    },\n}));\n\ninterface Props {\n    fields: any;\n}\n\nconst DesktopGrid: FC<Props> = ({ fields, ...rest }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    const { ids, data, basePath } = useListContext(rest);\n\n    if (!ids || !data) {\n        return null;\n    }\n\n    return (\n        <div className={classes.root}>\n            {ids.map(id => (\n                <Card key={id} className={classes.card}>\n                    <CardContent className={classes.cardContent}>\n                        <div className={classes.cardTitleContent}>\n                            <AvatarField record={data[id]} size=\"120\" />\n                            <h2>{`${data[id].first_name} ${data[id].last_name}`}</h2>\n\n                            <IconButton\n                                color=\"secondary\"\n                                aria-label=\"Edit\"\n                                component={RouterLink}\n                                className={classes.editButton}\n                                to={linkToRecord(basePath, id)}\n                            >\n                                <EditIcon />\n                            </IconButton>\n                        </div>\n                        {fields\n                            .filter(\n                                field => field.props.source !== 'customer_id'\n                            ) // we already display customer up there\n                            .filter(field => !!data[id][field.props.source])\n                            .map(field => {\n                                const fieldName = field.props.source;\n\n                                return (\n                                    <div\n                                        key={fieldName}\n                                        style={{\n                                            display: 'flex',\n                                            flexWrap: 'wrap',\n                                        }}\n                                    >\n                                        <div\n                                            style={{\n                                                marginRight: '1em',\n                                                marginBottom: '0.5em',\n                                                marginTop: '1em',\n                                            }}\n                                        >\n                                            {translate(\n                                                `resources.customers.fields.${fieldName}`\n                                            )}\n                                        </div>\n                                        <div\n                                            style={{\n                                                whiteSpace: 'nowrap',\n                                                marginBottom: '0.5em',\n                                                marginTop: '1em',\n                                            }}\n                                        >\n                                            {cloneElement(field, {\n                                                record: data[id],\n                                            })}\n                                        </div>\n                                    </div>\n                                );\n                            })}\n                    </CardContent>\n                </Card>\n            ))}\n        </div>\n    );\n};\n\nexport default DesktopGrid;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { Card as MuiCard, CardContent } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOnOutlined';\nimport MailIcon from '@material-ui/icons/MailOutline';\nimport LocalOfferIcon from '@material-ui/icons/LocalOfferOutlined';\nimport { FilterList, FilterListItem, FilterLiveSearch } from 'react-admin';\nimport { SavedQueriesList } from '@react-admin/ra-preferences';\nimport {\n    endOfYesterday,\n    startOfWeek,\n    subWeeks,\n    startOfMonth,\n    subMonths,\n} from 'date-fns';\n\nimport segments from '../segments/data';\n\nconst Card = withStyles(theme => ({\n    root: {\n        flexShrink: 0,\n        [theme.breakpoints.up('sm')]: {\n            order: -1,\n            width: '15em',\n            marginRight: '1em',\n        },\n        [theme.breakpoints.down('sm')]: {\n            display: 'none',\n        },\n    },\n}))(MuiCard);\n\nconst Aside: FC = () => (\n    <Card>\n        <CardContent>\n            <FilterLiveSearch />\n            <span id=\"persisted-queries\">\n                <SavedQueriesList />\n            </span>\n            <FilterList\n                label=\"resources.customers.filters.last_visited\"\n                icon={<AccessTimeIcon />}\n            >\n                <FilterListItem\n                    label=\"resources.customers.filters.today\"\n                    value={{\n                        last_seen_gte: endOfYesterday().toISOString(),\n                        last_seen_lte: undefined,\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.this_week\"\n                    value={{\n                        last_seen_gte: startOfWeek(new Date()).toISOString(),\n                        last_seen_lte: undefined,\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.last_week\"\n                    value={{\n                        last_seen_gte: subWeeks(\n                            startOfWeek(new Date()),\n                            1\n                        ).toISOString(),\n                        last_seen_lte: startOfWeek(new Date()).toISOString(),\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.this_month\"\n                    value={{\n                        last_seen_gte: startOfMonth(new Date()).toISOString(),\n                        last_seen_lte: undefined,\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.last_month\"\n                    value={{\n                        last_seen_gte: subMonths(\n                            startOfMonth(new Date()),\n                            1\n                        ).toISOString(),\n                        last_seen_lte: startOfMonth(new Date()).toISOString(),\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.earlier\"\n                    value={{\n                        last_seen_gte: undefined,\n                        last_seen_lte: subMonths(\n                            startOfMonth(new Date()),\n                            1\n                        ).toISOString(),\n                    }}\n                />\n            </FilterList>\n\n            <FilterList\n                label=\"resources.customers.filters.has_ordered\"\n                icon={<MonetizationOnIcon />}\n            >\n                <FilterListItem\n                    label=\"ra.boolean.true\"\n                    value={{\n                        nb_commands_gte: 1,\n                        nb_commands_lte: undefined,\n                    }}\n                />\n                <FilterListItem\n                    label=\"ra.boolean.false\"\n                    value={{\n                        nb_commands_gte: undefined,\n                        nb_commands_lte: 0,\n                    }}\n                />\n            </FilterList>\n\n            <FilterList\n                label=\"resources.customers.filters.has_newsletter\"\n                icon={<MailIcon />}\n            >\n                <FilterListItem\n                    label=\"ra.boolean.true\"\n                    value={{ has_newsletter: true }}\n                />\n                <FilterListItem\n                    label=\"ra.boolean.false\"\n                    value={{ has_newsletter: false }}\n                />\n            </FilterList>\n\n            <FilterList\n                label=\"resources.customers.filters.group\"\n                icon={<LocalOfferIcon />}\n            >\n                {segments.map(segment => (\n                    <FilterListItem\n                        label={segment.name}\n                        key={segment.id}\n                        value={{ groups: segment.id }}\n                    />\n                ))}\n            </FilterList>\n        </CardContent>\n    </Card>\n);\n\nexport default Aside;\n","import React, { FC } from 'react';\nimport {\n    BooleanField,\n    Datagrid,\n    DateField,\n    DateInput,\n    NullableBooleanInput,\n    NumberField,\n    SearchInput,\n    ListProps,\n} from 'react-admin';\nimport { useDefineAppLocation } from '@react-admin/ra-navigation';\nimport { useMediaQuery, Theme } from '@material-ui/core';\nimport { FilterWithSave } from '@react-admin/ra-preferences';\n\nimport EnterpriseList from '../ra-enterprise/List';\nimport SegmentsField from './SegmentsField';\nimport SegmentInput from './SegmentInput';\nimport CustomerLinkField from './CustomerLinkField';\nimport ColoredNumberField from './ColoredNumberField';\nimport MobileGrid from './MobileGrid';\nimport DesktopGrid from './DesktopGrid';\nimport VisitorListAside from './VisitorListAside';\n\nconst VisitorFilter: FC = (props: any) => (\n    <FilterWithSave {...props}>\n        <SearchInput source=\"q\" alwaysOn />\n        <DateInput source=\"last_seen_gte\" />\n        <NullableBooleanInput source=\"has_ordered\" />\n        <NullableBooleanInput source=\"has_newsletter\" defaultValue />\n        <SegmentInput />\n    </FilterWithSave>\n);\n\nconst visitorListColumn = {\n    customer: <CustomerLinkField />,\n    last_seen: <DateField source=\"last_seen\" />,\n    nb_commands: <NumberField source=\"nb_commands\" label=\"Commands\" />,\n    total_spent: (\n        <ColoredNumberField\n            source=\"total_spent\"\n            options={{ style: 'currency', currency: 'USD' }}\n        />\n    ),\n    latest_purchase: <DateField source=\"latest_purchase\" showTime />,\n    has_newsletter: <BooleanField source=\"has_newsletter\" label=\"News.\" />,\n    segments: <SegmentsField />,\n};\n\nconst VisitorList: FC<ListProps> = props => {\n    const isXsmall = useMediaQuery<Theme>(theme =>\n        theme.breakpoints.down('xs')\n    );\n    useDefineAppLocation('customers');\n    const isSmall = useMediaQuery<Theme>(theme => theme.breakpoints.down('sm'));\n\n    return (\n        <EnterpriseList\n            {...props}\n            preferenceKey=\"visitors.list\"\n            hasColumnsSelector\n            defaultColumns={visitorListColumn}\n            hasViewSelector\n            filters={isSmall ? <VisitorFilter /> : undefined}\n            aside={<VisitorListAside />}\n            sort={{ field: 'last_seen', order: 'DESC' }}\n            perPage={25}\n        >\n            {({\n                columns,\n                view,\n                hasShow,\n                hasList,\n                hasEdit,\n                hasCreate,\n                ...rest\n            }): JSX.Element => {\n                if (isXsmall) {\n                    return <MobileGrid />;\n                }\n                if (view === 'grid') {\n                    return <DesktopGrid fields={columns} />;\n                }\n                return (\n                    <Datagrid rowClick=\"edit\" {...rest}>\n                        {columns}\n                    </Datagrid>\n                );\n            }}\n        </EnterpriseList>\n    );\n};\n\nexport default VisitorList;\n","import React, { ReactElement } from 'react';\nimport {\n    Create,\n    DateInput,\n    SimpleForm,\n    TextInput,\n    useTranslate,\n    PasswordInput,\n    required,\n    CreateProps,\n} from 'react-admin';\nimport { useDefineAppLocation } from '@react-admin/ra-navigation';\nimport { Typography, Box } from '@material-ui/core';\nimport { makeStyles, Theme } from '@material-ui/core/styles';\nimport { Styles } from '@material-ui/styles/withStyles';\n\nexport const styles: Styles<Theme, any> = {\n    first_name: { display: 'inline-block' },\n    last_name: { display: 'inline-block', marginLeft: 32 },\n    email: { width: 544 },\n    address: { maxWidth: 544 },\n    zipcode: { display: 'inline-block' },\n    city: { display: 'inline-block', marginLeft: 32 },\n    comment: {\n        maxWidth: '20em',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n    },\n    password: { display: 'inline-block' },\n    confirm_password: { display: 'inline-block', marginLeft: 32 },\n};\n\nconst useStyles = makeStyles(styles);\n\nexport const validatePasswords = ({\n    password,\n    confirm_password,\n}: {\n    password: string;\n    confirm_password: string;\n}): any => {\n    const errors = {} as any;\n\n    if (password && confirm_password && password !== confirm_password) {\n        errors.confirm_password = [\n            'resources.customers.errors.password_mismatch',\n        ];\n    }\n\n    return errors;\n};\n\nconst VisitorCreate = (props: CreateProps): ReactElement => {\n    const classes = useStyles(props);\n    useDefineAppLocation('customers.create');\n\n    return (\n        <Create {...props}>\n            <SimpleForm validate={validatePasswords}>\n                <SectionTitle label=\"resources.customers.fieldGroups.identity\" />\n                <TextInput\n                    source=\"first_name\"\n                    formClassName={classes.first_name}\n                    validate={requiredValidate}\n                />\n                <TextInput\n                    source=\"last_name\"\n                    formClassName={classes.last_name}\n                    validate={requiredValidate}\n                />\n                <TextInput\n                    type=\"email\"\n                    source=\"email\"\n                    validation={{ email: true }}\n                    fullWidth={true}\n                    formClassName={classes.email}\n                    validate={requiredValidate}\n                />\n                <DateInput source=\"birthday\" />\n                <Separator />\n                <SectionTitle label=\"resources.customers.fieldGroups.address\" />\n                <TextInput\n                    source=\"address\"\n                    formClassName={classes.address}\n                    multiline={true}\n                    fullWidth={true}\n                />\n                <TextInput source=\"zipcode\" formClassName={classes.zipcode} />\n                <TextInput source=\"city\" formClassName={classes.city} />\n                <Separator />\n                <SectionTitle label=\"resources.customers.fieldGroups.password\" />\n                <PasswordInput\n                    source=\"password\"\n                    formClassName={classes.password}\n                />\n                <PasswordInput\n                    source=\"confirm_password\"\n                    formClassName={classes.confirm_password}\n                />\n            </SimpleForm>\n        </Create>\n    );\n};\n\nconst requiredValidate = [required()];\n\nconst SectionTitle = ({ label }: { label: string }): ReactElement => {\n    const translate = useTranslate();\n\n    return (\n        <Typography variant=\"h6\" gutterBottom>\n            {translate(label)}\n        </Typography>\n    );\n};\n\nconst Separator = (): ReactElement => <Box pt=\"1em\" />;\n\nexport default VisitorCreate;\n","import React, { FC, ReactNode } from 'react';\nimport { FunctionField, FunctionFieldProps, Record } from 'react-admin';\n\nconst render = (record?: Record): ReactNode =>\n    record ? record.basket.length : null;\n\nconst NbItemsField: FC<Omit<FunctionFieldProps, 'render'>> = props => (\n    <FunctionField {...props} render={render} />\n);\n\nNbItemsField.defaultProps = {\n    label: 'Nb Items',\n    textAlign: 'right',\n};\n\nexport default NbItemsField;\n","import React, { FC } from 'react';\nimport { ReferenceField, ReferenceFieldProps } from 'react-admin';\n\nimport FullNameField from './FullNameField';\n\nconst CustomerReferenceField: FC<Omit<\n    ReferenceFieldProps,\n    'children' | 'source' | 'reference'\n>> = props => (\n    <ReferenceField source=\"customer_id\" reference=\"customers\" {...props}>\n        <FullNameField />\n    </ReferenceField>\n);\n\nCustomerReferenceField.defaultProps = {\n    addLabel: true,\n};\n\nexport default CustomerReferenceField;\n","import React, { FC } from 'react';\nimport { FieldProps, Customer } from '../types';\n\nconst AddressField: FC<FieldProps<Customer>> = ({ record }) =>\n    record ? (\n        <span>\n            {record.address}, {record.city} {record.zipcode}\n        </span>\n    ) : null;\n\nexport default AddressField;\n","// in src/comments.js\nimport * as React from 'react';\nimport { FC } from 'react';\nimport { Card, CardHeader, CardContent } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    DateField,\n    EditButton,\n    NumberField,\n    TextField,\n    BooleanField,\n    useTranslate,\n    RecordMap,\n    Identifier,\n    Record,\n} from 'react-admin';\n\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\n\nconst useListStyles = makeStyles(theme => ({\n    card: {\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        margin: '0.5rem 0',\n    },\n    cardTitleContent: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n    },\n    cardContent: theme.typography.body1,\n    cardContentRow: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        margin: '0.5rem 0',\n    },\n}));\n\ninterface MobileGridProps {\n    ids?: Identifier[];\n    data?: RecordMap<Record>;\n    basePath?: string;\n}\n\nconst MobileGrid: FC<MobileGridProps> = ({ ids, data, basePath }) => {\n    const translate = useTranslate();\n    const classes = useListStyles();\n\n    if (!ids || !data || !basePath) {\n        return null;\n    }\n\n    return (\n        <div style={{ margin: '1em' }}>\n            {ids.map(id => (\n                <Card key={id} className={classes.card}>\n                    <CardHeader\n                        title={\n                            <div className={classes.cardTitleContent}>\n                                <span>\n                                    {translate('resources.commands.name', 1)}\n                                    :&nbsp;\n                                    <TextField\n                                        record={data[id]}\n                                        source=\"reference\"\n                                    />\n                                </span>\n                                <EditButton\n                                    resource=\"commands\"\n                                    basePath={basePath}\n                                    record={data[id]}\n                                />\n                            </div>\n                        }\n                    />\n                    <CardContent className={classes.cardContent}>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.customers.name', 1)}:&nbsp;\n                            <CustomerReferenceField\n                                record={data[id]}\n                                basePath={basePath}\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.reviews.fields.date')}:&nbsp;\n                            <DateField\n                                record={data[id]}\n                                source=\"date\"\n                                showTime\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate(\n                                'resources.commands.fields.basket.total'\n                            )}\n                            :&nbsp;\n                            <NumberField\n                                record={data[id]}\n                                source=\"total\"\n                                options={{ style: 'currency', currency: 'USD' }}\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.commands.fields.status')}\n                            :&nbsp;\n                            <TextField source=\"status\" record={data[id]} />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.commands.fields.returned')}\n                            :&nbsp;\n                            <BooleanField record={data[id]} source=\"returned\" />\n                        </span>\n                    </CardContent>\n                </Card>\n            ))}\n        </div>\n    );\n};\n\nMobileGrid.defaultProps = {\n    data: {},\n    ids: [],\n};\n\nexport default MobileGrid;\n","import * as React from 'react';\nimport {\n    FC,\n    Fragment,\n    ChangeEvent,\n    useCallback,\n    useEffect,\n    useState,\n} from 'react';\nimport {\n    AutocompleteInput,\n    BooleanField,\n    Datagrid,\n    DatagridProps,\n    DateField,\n    DateInput,\n    Filter,\n    FilterProps,\n    Identifier,\n    ListContextProvider,\n    ListProps,\n    NullableBooleanInput,\n    NumberField,\n    ReferenceInput,\n    ReferenceField,\n    SearchInput,\n    TextField,\n    TextInput,\n    useGetList,\n    useListContext,\n} from 'react-admin';\nimport {\n    useMediaQuery,\n    Divider,\n    Tabs,\n    Tab,\n    useTheme,\n    lighten,\n    darken,\n    fade,\n    Theme,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ListActions, RealTimeList } from '@react-admin/ra-enterprise';\n\nimport NbItemsField from './NbItemsField';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport AddressField from '../visitors/AddressField';\nimport MobileGrid from './MobileGrid';\nimport { Customer } from '../types';\nimport CustomBreadcrumb from '../layout/Breadcrumb';\nimport { useDefineAppLocation } from '@react-admin/ra-navigation';\n\nconst OrderFilter: FC<Omit<FilterProps, 'children'>> = props => (\n    <Filter {...props}>\n        <SearchInput source=\"q\" alwaysOn />\n        <ReferenceInput source=\"customer_id\" reference=\"customers\">\n            <AutocompleteInput\n                optionText={(choice: Customer): string =>\n                    choice.id // the empty choice is { id: '' }\n                        ? `${choice.first_name} ${choice.last_name}`\n                        : ''\n                }\n            />\n        </ReferenceInput>\n        <DateInput source=\"date_gte\" />\n        <DateInput source=\"date_lte\" />\n        <TextInput source=\"total_gte\" />\n        <NullableBooleanInput source=\"returned\" />\n    </Filter>\n);\n\nconst useDatagridStyles = makeStyles({\n    total: { fontWeight: 'bold' },\n});\n\nconst orderRowStyle = (batchLevel, theme) => (record): any => {\n    let backgroundColor;\n    switch (record.batch) {\n        case batchLevel:\n            backgroundColor =\n                theme.palette.type === 'light'\n                    ? lighten(fade(theme.palette.info.light, 1), 0.68)\n                    : darken(fade(theme.palette.info.dark, 1), 0.88);\n            break;\n        case 1:\n            if (batchLevel > 0) {\n                backgroundColor =\n                    theme.palette.type === 'light'\n                        ? lighten(fade(theme.palette.info.light, 1), 0.78)\n                        : darken(fade(theme.palette.info.dark, 1), 0.78);\n            }\n            break;\n        default:\n            backgroundColor = theme.palette.background.paper;\n    }\n\n    return {\n        backgroundColor,\n    };\n};\n\nconst tabs = [\n    { id: 'ordered', name: 'ordered' },\n    { id: 'delivered', name: 'delivered' },\n    { id: 'cancelled', name: 'cancelled' },\n];\n\ntype TabbedDatagridProps = DatagridProps;\n\nconst useGetTotals = (filterValues: any): any => {\n    const { total: totalOrdered } = useGetList(\n        'commands',\n        { perPage: 1, page: 1 },\n        { field: 'id', order: 'ASC' },\n        { ...filterValues, status: 'ordered' }\n    );\n    const { total: totalDelivered } = useGetList(\n        'commands',\n        { perPage: 1, page: 1 },\n        { field: 'id', order: 'ASC' },\n        { ...filterValues, status: 'delivered' }\n    );\n    const { total: totalCancelled } = useGetList(\n        'commands',\n        { perPage: 1, page: 1 },\n        { field: 'id', order: 'ASC' },\n        { ...filterValues, status: 'cancelled' }\n    );\n\n    return {\n        ordered: totalOrdered,\n        delivered: totalDelivered,\n        cancelled: totalCancelled,\n    };\n};\n\nconst TabbedDatagrid: FC<TabbedDatagridProps> = props => {\n    const listContext = useListContext();\n    useDefineAppLocation('sales.commands');\n    const { ids, filterValues, setFilters, displayedFilters } = listContext;\n    const classes = useDatagridStyles();\n    const isXSmall = useMediaQuery<Theme>(theme =>\n        theme.breakpoints.down('xs')\n    );\n    const [ordered, setOrdered] = useState<Identifier[]>([] as Identifier[]);\n    const [delivered, setDelivered] = useState<Identifier[]>(\n        [] as Identifier[]\n    );\n    const [cancelled, setCancelled] = useState<Identifier[]>(\n        [] as Identifier[]\n    );\n    const totals = useGetTotals(filterValues) as any;\n\n    useEffect(() => {\n        if (ids && ids !== filterValues.status) {\n            switch (filterValues.status) {\n                case 'ordered':\n                    setOrdered(ids);\n                    break;\n                case 'delivered':\n                    setDelivered(ids);\n                    break;\n                case 'cancelled':\n                    setCancelled(ids);\n                    break;\n            }\n        }\n    }, [ids, filterValues.status]);\n\n    const handleChange = useCallback(\n        (event: ChangeEvent<unknown>, value: any) => {\n            setFilters &&\n                setFilters(\n                    { ...filterValues, status: value },\n                    displayedFilters\n                );\n        },\n        [displayedFilters, filterValues, setFilters]\n    );\n\n    const theme = useTheme();\n    const batchLevel =\n        parseInt(localStorage.getItem('batchLevel') || '0', 0) || 0;\n    const rowStyle = orderRowStyle(batchLevel, theme);\n\n    const selectedIds =\n        filterValues.status === 'ordered'\n            ? ordered\n            : filterValues.status === 'delivered'\n            ? delivered\n            : cancelled;\n\n    return (\n        <Fragment>\n            <Tabs\n                variant=\"fullWidth\"\n                centered\n                value={filterValues.status}\n                indicatorColor=\"primary\"\n                onChange={handleChange}\n            >\n                {tabs.map(choice => (\n                    <Tab\n                        key={choice.id}\n                        label={\n                            totals[choice.name]\n                                ? `${choice.name} (${totals[choice.name]})`\n                                : choice.name\n                        }\n                        value={choice.id}\n                    />\n                ))}\n            </Tabs>\n            <Divider />\n            {isXSmall ? (\n                <ListContextProvider\n                    value={{ ...listContext, ids: selectedIds }}\n                >\n                    <MobileGrid {...props} ids={selectedIds} />\n                </ListContextProvider>\n            ) : (\n                <div>\n                    {filterValues.status === 'ordered' && (\n                        <ListContextProvider\n                            value={{ ...listContext, ids: ordered }}\n                        >\n                            <Datagrid\n                                {...props}\n                                optimized\n                                rowClick=\"edit\"\n                                rowStyle={rowStyle}\n                                data-testid=\"order-ordered-datagrid\"\n                            >\n                                <DateField source=\"date\" showTime />\n                                <TextField source=\"reference\" />\n                                <CustomerReferenceField />\n                                <ReferenceField\n                                    source=\"customer_id\"\n                                    reference=\"customers\"\n                                    link={false}\n                                    label=\"resources.commands.fields.address\"\n                                >\n                                    <AddressField />\n                                </ReferenceField>\n                                <NbItemsField />\n                                <NumberField\n                                    source=\"total\"\n                                    options={{\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    }}\n                                    className={classes.total}\n                                />\n                            </Datagrid>\n                        </ListContextProvider>\n                    )}\n                    {filterValues.status === 'delivered' && (\n                        <ListContextProvider\n                            value={{ ...listContext, ids: delivered }}\n                        >\n                            <Datagrid {...props} rowClick=\"edit\">\n                                <DateField source=\"date\" showTime />\n                                <TextField source=\"reference\" />\n                                <CustomerReferenceField />\n                                <ReferenceField\n                                    source=\"customer_id\"\n                                    reference=\"customers\"\n                                    link={false}\n                                    label=\"resources.commands.fields.address\"\n                                >\n                                    <AddressField />\n                                </ReferenceField>\n                                <NbItemsField />\n                                <NumberField\n                                    source=\"total\"\n                                    options={{\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    }}\n                                    className={classes.total}\n                                />\n                                <BooleanField source=\"returned\" />\n                            </Datagrid>\n                        </ListContextProvider>\n                    )}\n                    {filterValues.status === 'cancelled' && (\n                        <ListContextProvider\n                            value={{ ...listContext, ids: cancelled }}\n                        >\n                            <Datagrid {...props} rowClick=\"edit\">\n                                <DateField source=\"date\" showTime />\n                                <TextField source=\"reference\" />\n                                <CustomerReferenceField />\n                                <ReferenceField\n                                    source=\"customer_id\"\n                                    reference=\"customers\"\n                                    link={false}\n                                    label=\"resources.commands.fields.address\"\n                                >\n                                    <AddressField />\n                                </ReferenceField>\n                                <NbItemsField />\n                                <NumberField\n                                    source=\"total\"\n                                    options={{\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    }}\n                                    className={classes.total}\n                                />\n                                <BooleanField source=\"returned\" />\n                            </Datagrid>\n                        </ListContextProvider>\n                    )}\n                </div>\n            )}\n        </Fragment>\n    );\n};\n\nconst OrderList: FC<ListProps> = props => (\n    <RealTimeList\n        {...props}\n        filterDefaultValues={{ status: 'ordered' }}\n        sort={{ field: 'date', order: 'DESC' }}\n        perPage={25}\n        filters={<OrderFilter />}\n        actions={\n            <ListActions breadcrumb={<CustomBreadcrumb variant=\"actions\" />} />\n        }\n    >\n        <TabbedDatagrid />\n    </RealTimeList>\n);\n\nexport default OrderList;\n","import React, { FC } from 'react';\nimport classnames from 'classnames';\n\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport { Link, useTranslate, useQueryWithStore } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FieldProps, AppState, Order, Product } from '../types';\n\nconst useStyles = makeStyles({\n    container: { minWidth: '35em', marginLeft: '1em' },\n    rightAlignedCell: { textAlign: 'right' },\n    boldCell: { fontWeight: 'bold' },\n});\n\nconst Basket: FC<FieldProps<Order>> = ({ record }) => {\n    const classes = useStyles();\n    const translate = useTranslate();\n\n    const { loaded, data: products } = useQueryWithStore(\n        {\n            type: 'getMany',\n            resource: 'products',\n            payload: {\n                ids: record ? record.basket.map(item => item.product_id) : [],\n            },\n        },\n        {},\n        (state: AppState) => {\n            const productIds = record\n                ? record.basket.map(item => item.product_id)\n                : [];\n\n            return productIds\n                .map<Product>(\n                    productId =>\n                        state.admin.resources.products.data[\n                            productId\n                        ] as Product\n                )\n                .filter(r => typeof r !== 'undefined')\n                .reduce((prev, next) => {\n                    prev[next.id] = next;\n                    return prev;\n                }, {} as { [key: string]: Product });\n        }\n    );\n\n    if (!loaded || !record) return null;\n\n    return (\n        <Paper className={classes.container} elevation={2}>\n            <Table>\n                <TableHead>\n                    <TableRow>\n                        <TableCell>\n                            {translate(\n                                'resources.commands.fields.basket.reference'\n                            )}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {translate(\n                                'resources.commands.fields.basket.unit_price'\n                            )}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {translate(\n                                'resources.commands.fields.basket.quantity'\n                            )}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {translate(\n                                'resources.commands.fields.basket.total'\n                            )}\n                        </TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {record.basket.map(\n                        (item: any) =>\n                            products[item.product_id] && (\n                                <TableRow key={item.product_id}>\n                                    <TableCell>\n                                        <Link\n                                            to={`/products/${item.product_id}`}\n                                        >\n                                            {\n                                                products[item.product_id]\n                                                    .reference\n                                            }\n                                        </Link>\n                                    </TableCell>\n                                    <TableCell\n                                        className={classes.rightAlignedCell}\n                                    >\n                                        {products[\n                                            item.product_id\n                                        ].price.toLocaleString(undefined, {\n                                            style: 'currency',\n                                            currency: 'USD',\n                                        })}\n                                    </TableCell>\n                                    <TableCell\n                                        className={classes.rightAlignedCell}\n                                    >\n                                        {item.quantity}\n                                    </TableCell>\n                                    <TableCell\n                                        className={classes.rightAlignedCell}\n                                    >\n                                        {(\n                                            products[item.product_id].price *\n                                            item.quantity\n                                        ).toLocaleString(undefined, {\n                                            style: 'currency',\n                                            currency: 'USD',\n                                        })}\n                                    </TableCell>\n                                </TableRow>\n                            )\n                    )}\n                    <TableRow>\n                        <TableCell colSpan={2} />\n                        <TableCell>\n                            {translate('resources.commands.fields.basket.sum')}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {record.total_ex_taxes.toLocaleString(undefined, {\n                                style: 'currency',\n                                currency: 'USD',\n                            })}\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell colSpan={2} />\n                        <TableCell>\n                            {translate(\n                                'resources.commands.fields.basket.delivery'\n                            )}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {record.delivery_fees.toLocaleString(undefined, {\n                                style: 'currency',\n                                currency: 'USD',\n                            })}\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell colSpan={2} />\n                        <TableCell>\n                            {translate(\n                                'resources.commands.fields.basket.tax_rate'\n                            )}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {record.tax_rate.toLocaleString(undefined, {\n                                style: 'percent',\n                            })}\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell colSpan={2} />\n                        <TableCell className={classes.boldCell}>\n                            {translate(\n                                'resources.commands.fields.basket.total'\n                            )}\n                        </TableCell>\n                        <TableCell\n                            className={classnames(\n                                classes.boldCell,\n                                classes.rightAlignedCell\n                            )}\n                        >\n                            {record.total.toLocaleString(undefined, {\n                                style: 'currency',\n                                currency: 'USD',\n                            })}\n                        </TableCell>\n                    </TableRow>\n                </TableBody>\n            </Table>\n        </Paper>\n    );\n};\n\nexport default Basket;\n","import * as React from 'react';\nimport { ReactElement } from 'react';\nimport {\n    EditActions as RaEditActions,\n    EditActionsProps,\n} from '@react-admin/ra-enterprise';\nimport CustomBreadcrumb from '../layout/Breadcrumb';\n\nexport const EditActions = (props: EditActionsProps): ReactElement => (\n    <RaEditActions\n        breadcrumb={<CustomBreadcrumb variant=\"actions\" />}\n        {...props}\n    />\n);\n","import React, { FC, ReactElement } from 'react';\nimport {\n    AutocompleteInput,\n    BooleanInput,\n    DateInput,\n    EditProps,\n    Record,\n    ReferenceInput,\n    SelectInput,\n    SimpleForm,\n    useTranslate,\n} from 'react-admin';\nimport { Edit } from '@react-admin/ra-enterprise';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Basket from './Basket';\nimport { EditActions } from '../layout/EditActions';\nimport { useDefineAppLocation } from '@react-admin/ra-navigation';\n\nconst OrderTitle: FC<{ record?: Record }> = ({ record }) => {\n    const translate = useTranslate();\n\n    if (!record) {\n        return null;\n    }\n\n    return (\n        <span>\n            {translate('resources.commands.title', {\n                reference: record.reference,\n            })}\n        </span>\n    );\n};\n\nconst useEditStyles = makeStyles({\n    root: {\n        alignItems: 'flex-start',\n    },\n});\n\nconst OrderEditForm = (props: any): ReactElement => {\n    useDefineAppLocation('sales.commands.edit', props);\n    return (\n        <SimpleForm {...props}>\n            <DateInput source=\"date\" />\n            <ReferenceInput source=\"customer_id\" reference=\"customers\">\n                <AutocompleteInput\n                    optionText={(choice: Record): string =>\n                        `${choice.first_name} ${choice.last_name}`\n                    }\n                />\n            </ReferenceInput>\n            <SelectInput\n                source=\"status\"\n                choices={[\n                    { id: 'delivered', name: 'delivered' },\n                    { id: 'ordered', name: 'ordered' },\n                    { id: 'cancelled', name: 'cancelled' },\n                    {\n                        id: 'unknown',\n                        name: 'unknown',\n                        disabled: true,\n                    },\n                ]}\n            />\n            <BooleanInput source=\"returned\" />\n        </SimpleForm>\n    );\n};\n\nconst OrderEdit: FC<EditProps> = props => {\n    const classes = useEditStyles();\n    return (\n        <Edit\n            title={<OrderTitle />}\n            aside={<Basket />}\n            classes={classes}\n            actions={<EditActions />}\n            {...props}\n        >\n            <OrderEditForm />\n        </Edit>\n    );\n};\n\nexport default OrderEdit;\n","import OrderIcon from '@material-ui/icons/AttachMoney';\n\nimport OrderList from './OrderList';\nimport OrderEdit from './OrderEdit';\n\nexport default {\n    list: OrderList,\n    edit: OrderEdit,\n    icon: OrderIcon,\n};\n","import React, { FC } from 'react';\nimport PropTypes from 'prop-types';\nimport ThumbUp from '@material-ui/icons/ThumbUp';\nimport {\n    Button,\n    useUpdateMany,\n    useNotify,\n    useRedirect,\n    useUnselectAll,\n    CRUD_UPDATE_MANY,\n    useListContext,\n} from 'react-admin';\n\nconst BulkAcceptButton: FC = () => {\n    const notify = useNotify();\n    const redirectTo = useRedirect();\n    const unselectAll = useUnselectAll('reviews');\n    const { selectedIds } = useListContext();\n\n    const [approve, { loading }] = useUpdateMany(\n        'reviews',\n        selectedIds,\n        { status: 'accepted' },\n        {\n            action: CRUD_UPDATE_MANY,\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.approved_success',\n                    'info',\n                    {},\n                    true\n                );\n                redirectTo('/reviews');\n                unselectAll();\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.approved_error',\n                    'warning'\n                );\n            },\n        }\n    );\n\n    return (\n        <Button\n            label=\"resources.reviews.action.accept\"\n            onClick={approve}\n            disabled={loading}\n        >\n            <ThumbUp />\n        </Button>\n    );\n};\n\nBulkAcceptButton.propTypes = {\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n};\n\nexport default BulkAcceptButton;\n","import React, { FC } from 'react';\nimport PropTypes from 'prop-types';\nimport ThumbDown from '@material-ui/icons/ThumbDown';\nimport {\n    Button,\n    useUpdateMany,\n    useNotify,\n    useRedirect,\n    useUnselectAll,\n    CRUD_UPDATE_MANY,\n    useListContext,\n} from 'react-admin';\n\nconst BulkRejectButton: FC = () => {\n    const notify = useNotify();\n    const redirectTo = useRedirect();\n    const unselectAll = useUnselectAll('reviews');\n    const { selectedIds } = useListContext();\n\n    const [reject, { loading }] = useUpdateMany(\n        'reviews',\n        selectedIds,\n        { status: 'rejected' },\n        {\n            action: CRUD_UPDATE_MANY,\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.approved_success',\n                    'info',\n                    {},\n                    true\n                );\n                redirectTo('/reviews');\n                unselectAll();\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.approved_error',\n                    'warning'\n                );\n            },\n        }\n    );\n\n    return (\n        <Button\n            label=\"resources.reviews.action.reject\"\n            onClick={reject}\n            disabled={loading}\n        >\n            <ThumbDown />\n        </Button>\n    );\n};\n\nBulkRejectButton.propTypes = {\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n};\n\nexport default BulkRejectButton;\n","import React, { FC, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport {\n    linkToRecord,\n    ReferenceField,\n    FunctionField,\n    TextField,\n    useListContext,\n    Record,\n} from 'react-admin';\nimport {\n    useAppLocationState,\n    useResourceAppLocation,\n} from '@react-admin/ra-navigation';\n\nimport AvatarField from '../visitors/AvatarField';\n\nconst useStyles = makeStyles({\n    root: {\n        width: '100vw',\n    },\n    link: {\n        textDecoration: 'none',\n        color: 'inherit',\n    },\n    inline: {\n        display: 'inline',\n    },\n});\n\nconst ReviewMobileList: FC = () => {\n    const classes = useStyles();\n    const [, setLocation] = useAppLocationState();\n    const resourceLocation = useResourceAppLocation();\n    const {\n        basePath,\n        data,\n        ids,\n        loading,\n        total,\n        filterValues,\n    } = useListContext();\n\n    const effectDependency = JSON.stringify({\n        resourceLocation,\n        filter: filterValues,\n    });\n    useEffect(() => {\n        const { status } = filterValues;\n        if (typeof status !== 'undefined') {\n            setLocation('reviews.status_filter', { status });\n        } else {\n            setLocation('reviews');\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [setLocation, effectDependency]);\n    return loading || total > 0 ? (\n        <List className={classes.root}>\n            {ids.map(id => (\n                <Link\n                    to={linkToRecord(basePath, id)}\n                    className={classes.link}\n                    key={id}\n                >\n                    <ListItem button>\n                        <ListItemAvatar>\n                            <ReferenceField\n                                record={data[id]}\n                                source=\"customer_id\"\n                                reference=\"customers\"\n                                basePath={basePath}\n                                linkType={false}\n                            >\n                                <AvatarField size=\"40\" />\n                            </ReferenceField>\n                        </ListItemAvatar>\n                        <ListItemText\n                            primary={\n                                <>\n                                    <ReferenceField\n                                        record={data[id]}\n                                        source=\"customer_id\"\n                                        reference=\"customers\"\n                                        basePath={basePath}\n                                        linkType={false}\n                                    >\n                                        <FunctionField\n                                            render={(record?: Record): string =>\n                                                record\n                                                    ? `${record.first_name} ${record.last_name}`\n                                                    : ''\n                                            }\n                                            variant=\"subtitle1\"\n                                            className={classes.inline}\n                                        />\n                                    </ReferenceField>{' '}\n                                    on{' '}\n                                    <ReferenceField\n                                        record={data[id]}\n                                        source=\"product_id\"\n                                        reference=\"products\"\n                                        basePath={basePath}\n                                        linkType={false}\n                                    >\n                                        <TextField\n                                            source=\"reference\"\n                                            variant=\"subtitle1\"\n                                            className={classes.inline}\n                                        />\n                                    </ReferenceField>\n                                </>\n                            }\n                            secondary={data[id].comment}\n                            secondaryTypographyProps={{ noWrap: true }}\n                        />\n                    </ListItem>\n                </Link>\n            ))}\n        </List>\n    ) : null;\n};\n\nReviewMobileList.propTypes = {\n    basePath: PropTypes.string,\n    data: PropTypes.object,\n    hasBulkActions: PropTypes.bool.isRequired,\n    ids: PropTypes.array,\n    leftAvatar: PropTypes.func,\n    leftIcon: PropTypes.func,\n    linkType: PropTypes.oneOfType([PropTypes.string, PropTypes.bool])\n        .isRequired,\n    onToggleItem: PropTypes.func,\n    primaryText: PropTypes.func,\n    rightAvatar: PropTypes.func,\n    rightIcon: PropTypes.func,\n    secondaryText: PropTypes.func,\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n    tertiaryText: PropTypes.func,\n};\n\nReviewMobileList.defaultProps = {\n    linkType: 'edit',\n    hasBulkActions: false,\n    selectedIds: [],\n};\n\nexport default ReviewMobileList;\n","import React, { FC } from 'react';\nimport { ReferenceField, ReferenceFieldProps, TextField } from 'react-admin';\n\nconst ProductReferenceField: FC<Omit<\n    ReferenceFieldProps,\n    'children' | 'source' | 'reference'\n>> = props => (\n    <ReferenceField\n        label=\"Product\"\n        source=\"product_id\"\n        reference=\"products\"\n        {...props}\n    >\n        <TextField source=\"reference\" />\n    </ReferenceField>\n);\n\nProductReferenceField.defaultProps = {\n    addLabel: true,\n};\n\nexport default ProductReferenceField;\n","import React, { FC } from 'react';\nimport Icon from '@material-ui/icons/Stars';\nimport { makeStyles } from '@material-ui/core';\n\nimport { FieldProps } from '../types';\n\nconst useStyles = makeStyles({\n    root: {\n        opacity: 0.87,\n        whiteSpace: 'nowrap',\n    },\n    large: {\n        width: 20,\n        height: 20,\n    },\n    small: {\n        width: 15,\n        height: 15,\n    },\n});\n\ninterface OwnProps {\n    size?: 'large' | 'small';\n}\n\nconst StarRatingField: FC<FieldProps & OwnProps> = ({\n    record,\n    size = 'large',\n}) => {\n    const classes = useStyles();\n    return record ? (\n        <span>\n            {Array(record.rating)\n                .fill(true)\n                .map((_, i) => (\n                    <Icon\n                        key={i}\n                        className={\n                            size === 'large' ? classes.large : classes.small\n                        }\n                    />\n                ))}\n        </span>\n    ) : null;\n};\n\nStarRatingField.defaultProps = {\n    label: 'resources.reviews.fields.rating',\n    source: 'rating',\n    addLabel: true,\n};\n\nexport default StarRatingField;\n","import { Theme } from '@material-ui/core';\nimport green from '@material-ui/core/colors/green';\nimport orange from '@material-ui/core/colors/orange';\nimport red from '@material-ui/core/colors/red';\nimport { Identifier, Record } from 'react-admin';\n\nconst rowStyle = (selectedRow: Identifier | false, theme: Theme) => (\n    record: Record,\n    index: number,\n    defaultStyle = {}\n): any => {\n    let style = defaultStyle;\n    if (selectedRow === record.id) {\n        style = {\n            ...style,\n            backgroundColor: theme.palette.action.selected,\n        };\n    }\n    if (record.status === 'accepted')\n        return {\n            ...style,\n            borderLeftColor: green[500],\n            borderLeftWidth: 5,\n            borderLeftStyle: 'solid',\n        };\n    if (record.status === 'pending')\n        return {\n            ...style,\n            borderLeftColor: orange[500],\n            borderLeftWidth: 5,\n            borderLeftStyle: 'solid',\n        };\n    if (record.status === 'rejected')\n        return {\n            ...style,\n            borderLeftColor: red[500],\n            borderLeftWidth: 5,\n            borderLeftStyle: 'solid',\n        };\n    return style;\n};\n\nexport default rowStyle;\n","import React, { FC, useEffect } from 'react';\nimport { Datagrid, DateField, TextField, useListContext } from 'react-admin';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport {\n    useAppLocationState,\n    useResourceAppLocation,\n} from '@react-admin/ra-navigation';\nimport ProductReferenceField from '../products/ProductReferenceField';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport StarRatingField from './StarRatingField';\n\nimport rowStyle from './rowStyle';\n\nconst useListStyles = makeStyles({\n    headerRow: {\n        borderLeftColor: 'white',\n        borderLeftWidth: 5,\n        borderLeftStyle: 'solid',\n    },\n    headerCell: {\n        padding: '6px 8px 6px 8px',\n    },\n    rowCell: {\n        padding: '6px 8px 6px 8px',\n    },\n    comment: {\n        maxWidth: '18em',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n    },\n});\n\nconst ReviewListDesktop: FC<{ selectedRow: number | false }> = ({\n    selectedRow,\n    ...props\n}) => {\n    const classes = useListStyles();\n    const theme = useTheme();\n    const [, setLocation] = useAppLocationState();\n    const resourceLocation = useResourceAppLocation();\n    const { filterValues } = useListContext();\n\n    const effectDependency = JSON.stringify({\n        resourceLocation,\n        filter: filterValues,\n    });\n    useEffect(() => {\n        const { status } = filterValues;\n        if (typeof status !== 'undefined') {\n            setLocation('reviews.status_filter', { status });\n        } else {\n            setLocation('reviews');\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [setLocation, effectDependency]);\n    return (\n        <Datagrid\n            rowClick=\"edit\"\n            rowStyle={rowStyle(selectedRow, theme)}\n            classes={{\n                headerRow: classes.headerRow,\n                headerCell: classes.headerCell,\n                rowCell: classes.rowCell,\n            }}\n            optimized\n            {...props}\n        >\n            <DateField source=\"date\" />\n            <CustomerReferenceField link={false} />\n            <ProductReferenceField link={false} />\n            <StarRatingField size=\"small\" />\n            <TextField source=\"comment\" cellClassName={classes.comment} />\n            <TextField source=\"status\" />\n        </Datagrid>\n    );\n};\n\nexport default ReviewListDesktop;\n","import React, { FC } from 'react';\nimport {\n    AutocompleteInput,\n    DateInput,\n    ReferenceInput,\n    SearchInput,\n    SelectInput,\n    Filter,\n    FilterProps,\n    Record,\n} from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useFilterStyles = makeStyles({\n    status: { width: 150 },\n});\n\nconst ReviewFilter: FC<Partial<FilterProps>> = props => {\n    const classes = useFilterStyles();\n    return (\n        <Filter {...props}>\n            <SearchInput source=\"q\" alwaysOn />\n            <SelectInput\n                source=\"status\"\n                choices={[\n                    { id: 'accepted', name: 'pos.reviews.accepted' },\n                    { id: 'pending', name: 'pos.reviews.pending' },\n                    { id: 'rejected', name: 'pos.reviews.rejected' },\n                ]}\n                className={classes.status}\n            />\n            <ReferenceInput source=\"customer_id\" reference=\"customers\">\n                <AutocompleteInput\n                    optionText={(choice: Record): string =>\n                        `${choice.first_name} ${choice.last_name}`\n                    }\n                />\n            </ReferenceInput>\n            <ReferenceInput source=\"product_id\" reference=\"products\">\n                <AutocompleteInput optionText=\"reference\" />\n            </ReferenceInput>\n            <DateInput source=\"date_gte\" />\n            <DateInput source=\"date_lte\" />\n        </Filter>\n    );\n};\n\nexport default ReviewFilter;\n","import React, { FC } from 'react';\nimport Button from '@material-ui/core/Button';\nimport ThumbUp from '@material-ui/icons/ThumbUp';\nimport {\n    useTranslate,\n    useUpdate,\n    useNotify,\n    useRedirect,\n    Record,\n} from 'react-admin';\n\n/**\n * This custom button demonstrate using useUpdate to update data\n */\nconst AcceptButton: FC<{ record: Record }> = ({ record }) => {\n    const translate = useTranslate();\n    const notify = useNotify();\n    const redirectTo = useRedirect();\n\n    const [approve, { loading }] = useUpdate(\n        'reviews',\n        record.id,\n        { status: 'accepted' },\n        record,\n        {\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.approved_success',\n                    'info',\n                    {},\n                    true\n                );\n                redirectTo('/reviews');\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.approved_error',\n                    'warning'\n                );\n            },\n        }\n    );\n\n    return record && record.status === 'pending' ? (\n        <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            size=\"small\"\n            onClick={approve}\n            disabled={loading}\n        >\n            <ThumbUp\n                color=\"primary\"\n                style={{ paddingRight: '0.5em', color: 'green' }}\n            />\n            {translate('resources.reviews.action.accept')}\n        </Button>\n    ) : (\n        <span />\n    );\n};\n\nexport default AcceptButton;\n","import React, { FC } from 'react';\nimport Button from '@material-ui/core/Button';\nimport ThumbDown from '@material-ui/icons/ThumbDown';\nimport {\n    useTranslate,\n    useUpdate,\n    useNotify,\n    useRedirect,\n    Record,\n} from 'react-admin';\n\n/**\n * This custom button demonstrate using a custom action to update data\n */\nconst RejectButton: FC<{ record: Record }> = ({ record }) => {\n    const translate = useTranslate();\n    const notify = useNotify();\n    const redirectTo = useRedirect();\n\n    const [reject, { loading }] = useUpdate(\n        'reviews',\n        record.id,\n        { status: 'rejected' },\n        record,\n        {\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.rejected_success',\n                    'info',\n                    {},\n                    true\n                );\n                redirectTo('/reviews');\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.rejected_error',\n                    'warning'\n                );\n            },\n        }\n    );\n\n    return record && record.status === 'pending' ? (\n        <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            size=\"small\"\n            onClick={reject}\n            disabled={loading}\n        >\n            <ThumbDown\n                color=\"primary\"\n                style={{ paddingRight: '0.5em', color: 'red' }}\n            />\n            {translate('resources.reviews.action.reject')}\n        </Button>\n    ) : (\n        <span />\n    );\n};\n\nexport default RejectButton;\n","import React, { FC, Fragment } from 'react';\nimport MuiToolbar from '@material-ui/core/Toolbar';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { SaveButton, DeleteButton, ToolbarProps } from 'react-admin';\nimport AcceptButton from './AcceptButton';\nimport RejectButton from './RejectButton';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        backgroundColor: theme.palette.background.paper,\n        display: 'flex',\n        justifyContent: 'space-between',\n    },\n}));\n\nconst ReviewEditToolbar: FC<ToolbarProps> = ({\n    basePath,\n    handleSubmitWithRedirect,\n    invalid,\n    record,\n    resource,\n    saving,\n}) => {\n    const classes = useStyles();\n    if (!record) {\n        return null;\n    }\n\n    return (\n        <MuiToolbar className={classes.root}>\n            {record.status === 'pending' ? (\n                <Fragment>\n                    <AcceptButton record={record} />\n                    <RejectButton record={record} />\n                </Fragment>\n            ) : (\n                <Fragment>\n                    <SaveButton\n                        handleSubmitWithRedirect={handleSubmitWithRedirect}\n                        invalid={invalid}\n                        saving={saving}\n                        redirect=\"list\"\n                        submitOnEnter={true}\n                    />\n                    <DeleteButton\n                        basePath={basePath}\n                        record={record}\n                        resource={resource}\n                    />\n                </Fragment>\n            )}\n        </MuiToolbar>\n    );\n};\n\nexport default ReviewEditToolbar;\n","import React, { FC } from 'react';\nimport {\n    useEditController,\n    useTranslate,\n    TextInput,\n    SimpleForm,\n    DateField,\n    EditProps,\n} from 'react-admin';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport ProductReferenceField from '../products/ProductReferenceField';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport StarRatingField from './StarRatingField';\nimport ReviewEditToolbar from './ReviewEditToolbar';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        paddingTop: 40,\n    },\n    title: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        margin: '1em',\n    },\n    form: {\n        [theme.breakpoints.up('xs')]: {\n            width: 400,\n        },\n        [theme.breakpoints.down('xs')]: {\n            width: '100vw',\n            marginTop: -30,\n        },\n    },\n    inlineField: {\n        display: 'inline-block',\n        width: '50%',\n    },\n}));\n\nconst ReviewEdit: FC<EditProps & { onCancel?: () => void }> = ({\n    onCancel,\n    ...props\n}) => {\n    const classes = useStyles();\n    const controllerProps = useEditController(props);\n    const translate = useTranslate();\n    if (!controllerProps.record) {\n        return null;\n    }\n    return (\n        <div className={classes.root}>\n            <div className={classes.title}>\n                <Typography variant=\"h6\">\n                    {translate('resources.reviews.detail')}\n                </Typography>\n                <IconButton onClick={onCancel}>\n                    <CloseIcon />\n                </IconButton>\n            </div>\n            <SimpleForm\n                className={classes.form}\n                basePath={controllerProps.basePath}\n                record={controllerProps.record}\n                save={controllerProps.save}\n                version={controllerProps.version}\n                redirect=\"list\"\n                resource=\"reviews\"\n                toolbar={<ReviewEditToolbar />}\n            >\n                <CustomerReferenceField\n                    label=\"resources.reviews.fields.customer_id\"\n                    formClassName={classes.inlineField}\n                />\n\n                <ProductReferenceField\n                    label=\"resources.reviews.fields.product_id\"\n                    formClassName={classes.inlineField}\n                />\n                <DateField source=\"date\" formClassName={classes.inlineField} />\n                <StarRatingField formClassName={classes.inlineField} />\n                <TextInput source=\"comment\" rowsMax={15} multiline fullWidth />\n            </SimpleForm>\n        </div>\n    );\n};\n\nexport default ReviewEdit;\n","import React, { FC, Fragment, ReactElement, useCallback } from 'react';\nimport classnames from 'classnames';\nimport { BulkDeleteButton, ListProps } from 'react-admin';\nimport { List, ListActions } from '@react-admin/ra-enterprise';\nimport { Route, useHistory } from 'react-router-dom';\nimport { Drawer, useMediaQuery, makeStyles, Theme } from '@material-ui/core';\nimport BulkAcceptButton from './BulkAcceptButton';\nimport BulkRejectButton from './BulkRejectButton';\nimport ReviewListMobile from './ReviewListMobile';\nimport ReviewListDesktop from './ReviewListDesktop';\nimport ReviewFilter from './ReviewFilter';\nimport ReviewEdit from './ReviewEdit';\nimport CustomBreadcrumb from '../layout/Breadcrumb';\n\nconst ReviewsBulkActionButtons: FC = ({ children, ...props }) => (\n    <Fragment>\n        <BulkAcceptButton {...props} />\n        <BulkRejectButton {...props} />\n        <BulkDeleteButton {...props} />\n    </Fragment>\n);\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: 'flex',\n    },\n    list: {\n        flexGrow: 1,\n        transition: theme.transitions.create(['all'], {\n            duration: theme.transitions.duration.enteringScreen,\n        }),\n        marginRight: 0,\n    },\n    listWithDrawer: {\n        marginRight: 400,\n    },\n    drawerPaper: {\n        zIndex: 100,\n    },\n}));\n\nconst ReviewList: FC<ListProps> = props => {\n    const classes = useStyles();\n    const isXSmall = useMediaQuery<Theme>(theme =>\n        theme.breakpoints.down('xs')\n    );\n    const history = useHistory();\n\n    const handleClose = useCallback(() => {\n        history.push('/reviews');\n    }, [history]);\n\n    return (\n        <div className={classes.root}>\n            <Route path=\"/reviews/:id\">\n                {({ match }): ReactElement => {\n                    const isMatch = !!(\n                        match &&\n                        match.params &&\n                        match.params.id !== 'create'\n                    );\n\n                    return (\n                        <Fragment>\n                            <List\n                                {...props}\n                                className={classnames(classes.list, {\n                                    [classes.listWithDrawer]: isMatch,\n                                })}\n                                bulkActionButtons={<ReviewsBulkActionButtons />}\n                                filters={<ReviewFilter />}\n                                actions={\n                                    <ListActions\n                                        breadcrumb={\n                                            <CustomBreadcrumb variant=\"actions\" />\n                                        }\n                                    />\n                                }\n                                perPage={25}\n                                sort={{ field: 'date', order: 'DESC' }}\n                            >\n                                {isXSmall ? (\n                                    <ReviewListMobile />\n                                ) : (\n                                    <ReviewListDesktop\n                                        selectedRow={\n                                            isMatch &&\n                                            !!match &&\n                                            parseInt(match.params.id, 10)\n                                        }\n                                    />\n                                )}\n                            </List>\n                            <Drawer\n                                variant=\"persistent\"\n                                open={isMatch}\n                                anchor=\"right\"\n                                onClose={handleClose}\n                                classes={{\n                                    paper: classes.drawerPaper,\n                                }}\n                            >\n                                {/* To avoid any errors if the route does not match, we don't render at all the component in this case */}\n                                {isMatch && !!match ? (\n                                    <ReviewEdit\n                                        id={match.params.id}\n                                        onCancel={handleClose}\n                                        {...props}\n                                    />\n                                ) : null}\n                            </Drawer>\n                        </Fragment>\n                    );\n                }}\n            </Route>\n        </div>\n    );\n};\n\nexport default ReviewList;\n","import ReviewIcon from '@material-ui/icons/Comment';\nimport ReviewList from './ReviewList';\n\nexport default {\n    icon: ReviewIcon,\n    list: ReviewList,\n};\n","import React, { FC } from 'react';\nimport {\n    NumberField,\n    TextField,\n    DateField,\n    useTranslate,\n    useGetList,\n    linkToRecord,\n    Record as RaRecord,\n    ListProps,\n    Identifier,\n    RecordMap,\n} from 'react-admin';\nimport PropTypes from 'prop-types';\nimport {\n    Tooltip,\n    Typography,\n    Card,\n    CardContent,\n    CardHeader,\n    Avatar,\n    IconButton,\n    Box,\n} from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\nimport ContentCreate from '@material-ui/icons/Create';\nimport order from '../orders';\nimport review from '../reviews';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ProductReferenceField from '../products/ProductReferenceField';\nimport StarRatingField from '../reviews/StarRatingField';\nimport { Order, Review } from '../types';\n\nconst useAsideStyles = makeStyles(theme => ({\n    root: {\n        width: 400,\n        [theme.breakpoints.down('md')]: {\n            display: 'none',\n        },\n    },\n}));\n\nconst Aside: FC<{ record?: RaRecord; basePath?: string }> = ({\n    record,\n    basePath,\n}) => {\n    const classes = useAsideStyles();\n    return (\n        <div className={classes.root}>\n            {record && <EventList record={record} basePath={basePath} />}\n        </div>\n    );\n};\n\nAside.propTypes = {\n    record: PropTypes.any,\n    basePath: PropTypes.string,\n};\n\nconst EventList: FC<ListProps & { record?: RaRecord }> = ({\n    record,\n    basePath,\n}) => {\n    const translate = useTranslate();\n    const { data: orders, ids: orderIds } = useGetList<Order>(\n        'commands',\n        { page: 1, perPage: 100 },\n        { field: 'date', order: 'DESC' },\n        { customer_id: record && record.id }\n    );\n    const { data: reviews, ids: reviewIds } = useGetList<Review>(\n        'reviews',\n        { page: 1, perPage: 100 },\n        { field: 'date', order: 'DESC' },\n        { customer_id: record && record.id }\n    );\n\n    if (!orders || !reviews || !orderIds || !reviewIds) {\n        return null;\n    }\n\n    const events = mixOrdersAndReviews(orders, orderIds, reviews, reviewIds);\n\n    return (\n        <>\n            <Box m=\"0 0 1em 1em\">\n                <Card>\n                    <CardContent>\n                        <Typography variant=\"h6\" gutterBottom>\n                            {translate(\n                                'resources.customers.fieldGroups.history'\n                            )}\n                        </Typography>\n                        <Box display=\"flex\">\n                            <Box flexGrow={1}>\n                                <Box display=\"flex\" mb=\"1em\">\n                                    <Box mr=\"1em\">\n                                        <AccessTimeIcon\n                                            fontSize=\"small\"\n                                            color=\"disabled\"\n                                        />\n                                    </Box>\n                                    <Box flexGrow={1}>\n                                        <Typography>\n                                            {translate(\n                                                'resources.customers.fields.first_seen'\n                                            )}\n                                        </Typography>\n                                        <DateField\n                                            record={record}\n                                            source=\"first_seen\"\n                                        />\n                                    </Box>\n                                </Box>\n                                {orderIds.length > 0 && (\n                                    <Box display=\"flex\">\n                                        <Box mr=\"1em\">\n                                            <order.icon\n                                                fontSize=\"small\"\n                                                color=\"disabled\"\n                                            />\n                                        </Box>\n                                        <Box flexGrow={1}>\n                                            <Typography>\n                                                {translate(\n                                                    'resources.commands.amount',\n                                                    {\n                                                        smart_count:\n                                                            orderIds.length,\n                                                    }\n                                                )}\n                                            </Typography>\n                                        </Box>\n                                    </Box>\n                                )}\n                            </Box>\n                            <Box flexGrow={1}>\n                                <Box display=\"flex\" mb=\"1em\">\n                                    <Box mr=\"1em\">\n                                        <AccessTimeIcon\n                                            fontSize=\"small\"\n                                            color=\"disabled\"\n                                        />\n                                    </Box>\n                                    <Box flexGrow={1}>\n                                        <Typography>\n                                            {translate(\n                                                'resources.customers.fields.last_seen'\n                                            )}\n                                        </Typography>\n                                        <DateField\n                                            record={record}\n                                            source=\"last_seen\"\n                                        />\n                                    </Box>\n                                </Box>\n                                {reviewIds.length > 0 && (\n                                    <Box display=\"flex\">\n                                        <Box mr=\"1em\">\n                                            <review.icon\n                                                fontSize=\"small\"\n                                                color=\"disabled\"\n                                            />\n                                        </Box>\n                                        <Box flexGrow={1}>\n                                            <Typography>\n                                                {translate(\n                                                    'resources.reviews.amount',\n                                                    {\n                                                        smart_count:\n                                                            reviewIds.length,\n                                                    }\n                                                )}\n                                            </Typography>\n                                        </Box>\n                                    </Box>\n                                )}\n                            </Box>\n                        </Box>\n                    </CardContent>\n                </Card>\n            </Box>\n\n            {events.map(event =>\n                event.type === 'order' ? (\n                    <OrderEvent\n                        record={event.data}\n                        key={`event_${event.data.id}`}\n                        basePath={basePath}\n                    />\n                ) : (\n                    <ReviewEvent\n                        record={event.data}\n                        key={`review_${event.data.id}`}\n                        basePath={basePath}\n                    />\n                )\n            )}\n        </>\n    );\n};\n\ntype OrderReviewEvent = {\n    type: 'order' | 'review';\n    date: Date;\n    data: Order | Review;\n};\n\nconst mixOrdersAndReviews = (\n    orders: RecordMap<Order>,\n    orderIds: Identifier[],\n    reviews: RecordMap<Review>,\n    reviewIds: Identifier[]\n): OrderReviewEvent[] => {\n    const eventsFromOrders = orderIds.map<OrderReviewEvent>(id => ({\n        type: 'order',\n        date: orders[id].date,\n        data: orders[id],\n    }));\n\n    const eventsFromReviews = reviewIds.map<OrderReviewEvent>(id => ({\n        type: 'review',\n        date: reviews[id].date,\n        data: reviews[id],\n    }));\n\n    const events = [...eventsFromOrders, ...eventsFromReviews];\n    events.sort(\n        (e1, e2) => new Date(e1.date).valueOf() - new Date(e2.date).valueOf()\n    );\n    return events;\n};\n\nconst useEventStyles = makeStyles({\n    card: {\n        margin: '0 0 1em 1em',\n    },\n    cardHeader: {\n        alignItems: 'flex-start',\n    },\n    clamp: {\n        display: '-webkit-box',\n        '-webkit-line-clamp': 3,\n        '-webkit-box-orient': 'vertical',\n        overflow: 'hidden',\n    },\n});\n\nconst OrderEvent: FC<{ record?: RaRecord; basePath?: string }> = ({\n    record,\n    basePath,\n}) => {\n    const translate = useTranslate();\n    const classes = useEventStyles();\n\n    if (!record) {\n        return null;\n    }\n\n    return (\n        <Card className={classes.card}>\n            <CardHeader\n                className={classes.cardHeader}\n                avatar={\n                    <Avatar\n                        aria-label={translate('resources.commands.name', {\n                            smart_count: 1,\n                        })}\n                    >\n                        <order.icon />\n                    </Avatar>\n                }\n                action={<EditButton record={record} basePath=\"/commands\" />}\n                title={`${translate('resources.commands.name', {\n                    smart_count: 1,\n                })} #${record.reference}`}\n                subheader={\n                    <>\n                        <Typography variant=\"body2\">{record.date}</Typography>\n                        <Typography variant=\"body2\" color=\"textSecondary\">\n                            {translate('resources.commands.nb_items', {\n                                smart_count: record.basket.length,\n                                _: '1 item |||| %{smart_count} items',\n                            })}\n                            &nbsp;-&nbsp;\n                            <NumberField\n                                source=\"total\"\n                                options={{\n                                    style: 'currency',\n                                    currency: 'USD',\n                                }}\n                                record={record}\n                                basePath={basePath}\n                            />\n                            &nbsp;-&nbsp;\n                            <TextField\n                                source=\"status\"\n                                record={record}\n                                basePath={basePath}\n                            />\n                        </Typography>\n                    </>\n                }\n            />\n        </Card>\n    );\n};\n\nconst ReviewEvent: FC<{ record?: RaRecord; basePath?: string }> = ({\n    record,\n    basePath,\n}) => {\n    const translate = useTranslate();\n    const classes = useEventStyles();\n\n    if (!record) {\n        return null;\n    }\n\n    return (\n        <Card className={classes.card}>\n            <CardHeader\n                className={classes.cardHeader}\n                avatar={\n                    <Avatar\n                        aria-label={translate('resources.reviews.name', {\n                            smart_count: 1,\n                        })}\n                    >\n                        <review.icon />\n                    </Avatar>\n                }\n                action={<EditButton record={record} basePath=\"/reviews\" />}\n                title={\n                    <span>\n                        {translate('resources.reviews.relative_to_poster')}{' '}\n                        <ProductReferenceField\n                            resource=\"reviews\"\n                            record={record}\n                            basePath={basePath}\n                        />\n                    </span>\n                }\n                subheader={\n                    <>\n                        <Typography variant=\"body2\">{record.date}</Typography>\n                        <StarRatingField record={record} />\n                        <Typography variant=\"inherit\" className={classes.clamp}>\n                            {record.comment}\n                        </Typography>\n                    </>\n                }\n            />\n        </Card>\n    );\n};\n\nconst EditButton: FC<{ record?: RaRecord; basePath?: string }> = ({\n    record,\n    basePath,\n}) => {\n    const translate = useTranslate();\n    return (\n        <Tooltip title={translate('ra.action.edit')}>\n            <IconButton\n                aria-label={translate('ra.action.edit')}\n                component={Link}\n                to={linkToRecord(basePath, record && record.id)}\n            >\n                <ContentCreate />\n            </IconButton>\n        </Tooltip>\n    );\n};\n\nexport default Aside;\n","import React, { FC } from 'react';\nimport { InputProps, SelectArrayInput, useTranslate } from 'react-admin';\n\nimport segments from '../segments/data';\n\ninterface Props extends Omit<InputProps, 'source'> {\n    source?: string;\n}\n\nconst SegmentsInput: FC<Props> = ({ addField, ...rest }) => {\n    const translate = useTranslate();\n    return (\n        <SelectArrayInput\n            {...rest}\n            choices={segments.map(segment => ({\n                id: segment.id,\n                name: translate(segment.name),\n            }))}\n        />\n    );\n};\n\nSegmentsInput.defaultProps = {\n    addField: true,\n    source: 'groups',\n    resource: 'customers',\n};\n\nexport default SegmentsInput;\n","import React, { ReactElement } from 'react';\nimport {\n    DateInput,\n    EditProps,\n    NullableBooleanInput,\n    TextInput,\n    PasswordInput,\n    Toolbar,\n    useTranslate,\n    FormWithRedirect,\n    TitleProps,\n} from 'react-admin';\nimport { Edit, EditActions } from '@react-admin/ra-enterprise';\nimport { useDefineAppLocation } from '@react-admin/ra-navigation';\nimport { Box, Card, CardContent, Typography } from '@material-ui/core';\n\nimport Aside from './Aside';\nimport FullNameField from './FullNameField';\nimport SegmentsInput from './SegmentsInput';\nimport { validatePasswords } from './VisitorCreate';\nimport CustomBreadcrumb from '../layout/Breadcrumb';\n\nconst VisitorEdit = (props: EditProps): ReactElement => {\n    return (\n        <Edit\n            title={<VisitorTitle />}\n            aside={<Aside />}\n            actions={\n                <EditActions\n                    breadcrumb={<CustomBreadcrumb variant=\"actions\" />}\n                />\n            }\n            component=\"div\"\n            {...props}\n        >\n            <VisitorForm />\n        </Edit>\n    );\n};\n\nconst VisitorTitle = (props: TitleProps): ReactElement | null => {\n    useDefineAppLocation('customers.edit', props);\n    return props.record ? (\n        <FullNameField record={props.record} size=\"32\" />\n    ) : null;\n};\n\nconst VisitorForm = (props: any): ReactElement => {\n    const translate = useTranslate();\n\n    return (\n        <FormWithRedirect\n            {...props}\n            validate={validatePasswords}\n            render={(formProps: any): ReactElement => (\n                <Card>\n                    <form>\n                        <CardContent>\n                            <Box display={{ md: 'block', lg: 'flex' }}>\n                                <Box flex={2} mr={{ md: 0, lg: '1em' }}>\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.identity'\n                                        )}\n                                    </Typography>\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"first_name\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={1}\n                                            ml={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"last_name\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                    </Box>\n                                    <TextInput\n                                        type=\"email\"\n                                        source=\"email\"\n                                        resource=\"customers\"\n                                        validation={{ email: true }}\n                                        fullWidth\n                                    />\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <DateInput\n                                                source=\"birthday\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={2}\n                                            ml={{ xs: 0, sm: '0.5em' }}\n                                        />\n                                    </Box>\n\n                                    <Box mt=\"1em\" />\n\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.address'\n                                        )}\n                                    </Typography>\n                                    <TextInput\n                                        source=\"address\"\n                                        resource=\"customers\"\n                                        multiline\n                                        fullWidth\n                                    />\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"zipcode\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={2}\n                                            ml={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"city\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                    </Box>\n\n                                    <Box mt=\"1em\" />\n\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.change_password'\n                                        )}\n                                    </Typography>\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <PasswordInput\n                                                source=\"password\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={1}\n                                            ml={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <PasswordInput\n                                                source=\"confirm_password\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                    </Box>\n                                </Box>\n                                <Box\n                                    flex={1}\n                                    ml={{ xs: 0, lg: '1em' }}\n                                    mt={{ xs: '1em', lg: 0 }}\n                                >\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.stats'\n                                        )}\n                                    </Typography>\n                                    <div>\n                                        <SegmentsInput fullWidth />\n                                    </div>\n                                    <div>\n                                        <NullableBooleanInput\n                                            source=\"has_newsletter\"\n                                            resource=\"customers\"\n                                        />\n                                    </div>\n                                </Box>\n                            </Box>\n                        </CardContent>\n                        <Toolbar\n                            record={formProps.record}\n                            basePath={formProps.basePath}\n                            undoable={true}\n                            invalid={formProps.invalid}\n                            handleSubmit={formProps.handleSubmit}\n                            saving={formProps.saving}\n                            resource=\"customers\"\n                        />\n                    </form>\n                </Card>\n            )}\n        />\n    );\n};\n\nexport default VisitorEdit;\n","import VisitorIcon from '@material-ui/icons/People';\n\nimport VisitorList from './VisitorList';\nimport VisitorCreate from './VisitorCreate';\nimport VisitorEdit from './VisitorEdit';\n\nexport default {\n    list: VisitorList,\n    create: VisitorCreate,\n    edit: VisitorEdit,\n    icon: VisitorIcon,\n};\n","import React, { FC, ReactElement } from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles, darken, fade, lighten } from '@material-ui/core/styles';\nimport {\n    useShowController,\n    ReferenceField,\n    TextField,\n    ShowProps,\n} from 'react-admin';\n\nimport Basket from '../orders/Basket';\nimport { FieldProps, Customer } from '../types';\n\nconst CustomerField = ({ record }: FieldProps<Customer>): ReactElement | null =>\n    record ? (\n        <Typography>\n            {record.first_name} {record.last_name}\n            <br />\n            {record.address}\n            <br />\n            {record.city}, {record.zipcode}\n        </Typography>\n    ) : null;\n\nconst InvoiceShow: FC<ShowProps> = props => {\n    const { record } = useShowController(props);\n    const classes = useStyles();\n\n    if (!record) return null;\n    return (\n        <Card className={classes.root}>\n            <CardContent>\n                <Grid container spacing={2}>\n                    <Grid item xs={6}>\n                        <Typography variant=\"h6\" gutterBottom>\n                            Posters Galore\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={6}>\n                        <Typography variant=\"h6\" gutterBottom align=\"right\">\n                            Invoice {record.id}\n                        </Typography>\n                    </Grid>\n                </Grid>\n                <Grid container spacing={2}>\n                    <Grid item xs={12} container alignContent=\"flex-end\">\n                        <ReferenceField\n                            resource=\"invoices\"\n                            reference=\"customers\"\n                            source=\"customer_id\"\n                            basePath=\"/invoices\"\n                            record={record}\n                            link={false}\n                        >\n                            <CustomerField />\n                        </ReferenceField>\n                    </Grid>\n                </Grid>\n                <div className={classes.spacer}>&nbsp;</div>\n                <Grid container spacing={2}>\n                    <Grid item xs={6}>\n                        <Typography variant=\"h6\" gutterBottom align=\"center\">\n                            Date{' '}\n                        </Typography>\n                        <Typography gutterBottom align=\"center\">\n                            {new Date(record.date).toLocaleDateString()}\n                        </Typography>\n                    </Grid>\n\n                    <Grid item xs={5}>\n                        <Typography variant=\"h6\" gutterBottom align=\"center\">\n                            Order\n                        </Typography>\n                        <ReferenceField\n                            resource=\"invoices\"\n                            reference=\"commands\"\n                            source=\"command_id\"\n                            basePath=\"/invoices\"\n                            record={record}\n                            link={false}\n                        >\n                            <TextField\n                                source=\"reference\"\n                                align=\"center\"\n                                component=\"p\"\n                                gutterBottom\n                            />\n                        </ReferenceField>\n                    </Grid>\n                </Grid>\n                <div className={classes.invoices}>\n                    <ReferenceField\n                        resource=\"invoices\"\n                        reference=\"commands\"\n                        source=\"command_id\"\n                        basePath=\"/invoices\"\n                        record={record}\n                        link={false}\n                    >\n                        <Basket />\n                    </ReferenceField>\n                </div>\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default InvoiceShow;\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        width: 600,\n        margin: 'auto',\n        borderStyle: 'solid',\n        borderWidth: 1,\n        borderColor:\n            theme.palette.type === 'light'\n                ? lighten(fade(theme.palette.divider, 1), 0.88)\n                : darken(fade(theme.palette.divider, 1), 0.68),\n    },\n    spacer: { height: 20 },\n    invoices: { margin: '10px 0' },\n}));\n","import React, { ReactElement } from 'react';\nimport {\n    Datagrid,\n    TextField,\n    DateField,\n    ReferenceField,\n    NumberField,\n    DateInput,\n    Filter,\n    ListProps,\n    FilterProps,\n} from 'react-admin';\nimport { List, ListActions } from '@react-admin/ra-enterprise';\nimport FullNameField from '../visitors/FullNameField';\nimport AddressField from '../visitors/AddressField';\nimport InvoiceShow from './InvoiceShow';\nimport CustomBreadcrumb from '../layout/Breadcrumb';\nimport { useDefineAppLocation } from '@react-admin/ra-navigation';\n\nconst ListFilters = (props: Omit<FilterProps, 'children'>): ReactElement => (\n    <Filter {...props}>\n        <DateInput source=\"date_gte\" alwaysOn />\n        <DateInput source=\"date_lte\" alwaysOn />\n    </Filter>\n);\n\nconst InvoicesDatagrid = (): ReactElement => (\n    <Datagrid rowClick=\"expand\" expand={<InvoiceShow />}>\n        <TextField source=\"id\" />\n        <DateField source=\"date\" />\n        <ReferenceField source=\"customer_id\" reference=\"customers\">\n            <FullNameField />\n        </ReferenceField>\n        <ReferenceField\n            source=\"customer_id\"\n            reference=\"customers\"\n            link={false}\n            label=\"resources.invoices.fields.address\"\n        >\n            <AddressField />\n        </ReferenceField>\n        <ReferenceField source=\"command_id\" reference=\"commands\">\n            <TextField source=\"reference\" />\n        </ReferenceField>\n        <NumberField source=\"total_ex_taxes\" />\n        <NumberField source=\"delivery_fees\" />\n        <NumberField source=\"taxes\" />\n        <NumberField source=\"total\" />\n    </Datagrid>\n);\n\nconst InvoiceList = (props: ListProps): ReactElement => {\n    useDefineAppLocation('sales.invoices');\n    return (\n        <List\n            {...props}\n            perPage={25}\n            filters={<ListFilters />}\n            actions={\n                <ListActions\n                    breadcrumb={<CustomBreadcrumb variant=\"actions\" />}\n                />\n            }\n        >\n            <InvoicesDatagrid />\n        </List>\n    );\n};\n\nexport default InvoiceList;\n","import InvoiceIcon from '@material-ui/icons/LibraryBooks';\n\nimport InvoiceList from './InvoiceList';\n\nexport default {\n    list: InvoiceList,\n    icon: InvoiceIcon,\n};\n","import * as React from 'react';\nimport { FC } from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FieldProps, Product } from '../types';\n\nconst useStyles = makeStyles({\n    root: { display: 'inline-block', marginTop: '1em', zIndex: 2 },\n    content: { padding: 0, '&:last-child': { padding: 0 } },\n    img: {\n        width: 'initial',\n        minWidth: 'initial',\n        maxWidth: '42em',\n        maxHeight: '15em',\n    },\n});\n\nconst Poster: FC<FieldProps<Product>> = ({ record }) => {\n    const classes = useStyles();\n\n    if (!record) return null;\n\n    return (\n        <Card className={classes.root}>\n            <CardContent className={classes.content}>\n                <img src={record.image} alt=\"\" className={classes.img} />\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default Poster;\n","import * as React from 'react';\nimport { ReactElement } from 'react';\nimport {\n    CreateActions as RaCreateActions,\n    CreateActionsProps,\n} from '@react-admin/ra-enterprise';\nimport CustomBreadcrumb from '../layout/Breadcrumb';\n\nexport const CreateActions = (props: CreateActionsProps): ReactElement => (\n    <RaCreateActions\n        breadcrumb={<CustomBreadcrumb variant=\"actions\" />}\n        {...props}\n    />\n);\n","import React, { FC } from 'react';\nimport {\n    CreateProps,\n    FormTab,\n    NumberInput,\n    ReferenceInput,\n    SelectInput,\n    TabbedForm,\n    TextInput,\n    required,\n} from 'react-admin';\nimport { InputAdornment } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Create } from '@react-admin/ra-enterprise';\nimport { MarkdownInput } from '@react-admin/ra-markdown';\nimport { useDefineAppLocation } from '@react-admin/ra-navigation';\nimport { CreateActions } from '../layout/CreateActions';\n\nexport const styles = {\n    price: { width: '7em' },\n    width: { width: '7em' },\n    height: { width: '7em' },\n    stock: { width: '7em' },\n    widthFormGroup: { display: 'inline-block' },\n    heightFormGroup: { display: 'inline-block', marginLeft: 32 },\n};\n\nconst useStyles = makeStyles(styles);\n\nconst ProductCreate: FC<CreateProps> = props => {\n    useDefineAppLocation('catalog.products.create');\n    const classes = useStyles();\n    return (\n        <Create actions={<CreateActions />} {...props}>\n            <TabbedForm>\n                <FormTab label=\"resources.products.tabs.image\">\n                    <TextInput source=\"image\" fullWidth validate={required()} />\n                    <TextInput\n                        source=\"thumbnail\"\n                        fullWidth\n                        validate={required()}\n                    />\n                </FormTab>\n                <FormTab label=\"resources.products.tabs.details\" path=\"details\">\n                    <TextInput source=\"reference\" validate={required()} />\n                    <NumberInput\n                        source=\"price\"\n                        validate={required()}\n                        className={classes.price}\n                        InputProps={{\n                            startAdornment: (\n                                <InputAdornment position=\"start\">\n                                    €\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <NumberInput\n                        source=\"width\"\n                        validate={required()}\n                        className={classes.width}\n                        formClassName={classes.widthFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <NumberInput\n                        source=\"height\"\n                        validate={required()}\n                        className={classes.height}\n                        formClassName={classes.heightFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <ReferenceInput\n                        source=\"category_id\"\n                        reference=\"categories\"\n                        allowEmpty\n                    >\n                        <SelectInput source=\"name\" />\n                    </ReferenceInput>\n                    <NumberInput\n                        source=\"stock\"\n                        validate={required()}\n                        className={classes.stock}\n                    />\n                </FormTab>\n                <FormTab\n                    label=\"resources.products.tabs.description\"\n                    path=\"description\"\n                >\n                    <MarkdownInput source=\"description\" label=\"\" />\n                </FormTab>\n            </TabbedForm>\n        </Create>\n    );\n};\n\nexport default ProductCreate;\n","import React, { FC } from 'react';\nimport { MarkdownField } from '@react-admin/ra-markdown';\nimport { Typography } from '@material-ui/core';\nimport { makeStyles, lighten, darken } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    container: {\n        display: 'flex',\n        flexDirection: 'column',\n        padding: '0 20px',\n        width: 350,\n        '& > p': {\n            fontSize: 12,\n            color: theme.palette.text.primary,\n            textAlign: 'right',\n        },\n        // Temporary until darkmode is correctly implemented in ra-markdown\n        '& .tui-editor-contents p': {\n            color:\n                theme.palette.type === 'light'\n                    ? lighten(theme.palette.text.primary, 0.38)\n                    : darken(theme.palette.text.primary, 0.38),\n        },\n    },\n    info: {\n        padding: theme.spacing(2, 3),\n        '& h1': {\n            fontSize: 18,\n            color: theme.palette.text.primary,\n            fontWeight: 'normal',\n        },\n        '& h2': {\n            fontSize: 14,\n            color:\n                theme.palette.type === 'light'\n                    ? lighten(theme.palette.text.primary, 0.38)\n                    : darken(theme.palette.text.primary, 0.38),\n            fontWeight: 'normal',\n        },\n        '& .MuiFormControl-root': {\n            margin: 0,\n            '& > div': {\n                padding: 0,\n            },\n        },\n    },\n    details: {\n        display: 'flex',\n        flexDirection: 'column',\n    },\n    preview: {\n        padding: theme.spacing(2),\n    },\n    frame: {\n        position: 'relative',\n        width: '100%',\n        paddingBottom: '82.5%',\n        background: theme.palette.common.black,\n        boxShadow: '0 10px 7px -5px rgba(0, 0, 0, 0.3)',\n    },\n    mat: {\n        position: 'absolute',\n        background: theme.palette.background.paper,\n        top: '3.0303%',\n        bottom: '3.0303%',\n        left: '2.5%',\n        right: '2.5%',\n        boxShadow: '0px 0px 20px 0px rgba(0,0,0,0.5) inset',\n    },\n    art: {\n        position: 'absolute',\n        top: '16.129%',\n        bottom: '16.129%',\n        left: '13.158%',\n        right: '13.158%',\n        '& img': {\n            width: '100%',\n        },\n    },\n}));\n\nconst Preview: FC<{ record: any }> = ({ record }) => {\n    const { image, height, width, price, reference } = record;\n    const classes = useStyles();\n\n    return (\n        <div className={classes.container}>\n            <div className={classes.preview}>\n                <div className={classes.frame}>\n                    <div className={classes.mat}>\n                        <div className={classes.art}>\n                            <img src={image} alt=\"\" />\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div className={classes.info}>\n                <Typography variant=\"h1\">{reference}</Typography>\n                <div className={classes.details}>\n                    <Typography variant=\"caption\">\n                        {width} x {height} cm\n                    </Typography>\n                    <Typography variant=\"caption\">{price}€</Typography>\n                </div>\n                <MarkdownField record={record} label=\"\" source=\"description\" />\n            </div>\n        </div>\n    );\n};\n\nexport default Preview;\n","import React, { FC } from 'react';\nimport {\n    Datagrid,\n    DateField,\n    EditButton,\n    SimpleForm,\n    NumberInput,\n    Pagination,\n    ReferenceInput,\n    ReferenceManyField,\n    SelectInput,\n    TextField,\n    TextInput,\n    FormDataConsumer,\n    FormWithRedirect,\n    useNotify,\n    SaveButton,\n    Toolbar,\n    EditProps,\n} from 'react-admin';\nimport { Edit } from '@react-admin/ra-enterprise';\nimport { MarkdownInput } from '@react-admin/ra-markdown';\nimport { useLock, useHasLock } from '@react-admin/ra-realtime';\nimport { useDefineAppLocation } from '@react-admin/ra-navigation';\nimport { AccordionSection } from '@react-admin/ra-form-layout';\nimport {\n    Card,\n    CardContent,\n    InputAdornment,\n    Typography,\n    CircularProgress,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport StarRatingField from '../reviews/StarRatingField';\nimport Poster from './Poster';\nimport { styles as createStyles } from './ProductCreate';\nimport ProductPreview from './ProductPreview';\n\nimport { Product } from '../types';\nimport { EditActions } from '../layout/EditActions';\n\ninterface ProductTitleProps {\n    record?: Product;\n}\n\nconst ProductTitle: FC<ProductTitleProps> = ({ record }) =>\n    record ? <span>Poster #{record.reference}</span> : null;\n\nconst useStyles = makeStyles({\n    ...createStyles,\n    comment: {\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n        maxWidth: 256,\n    },\n    container: {\n        display: 'flex',\n        '& > :first-child': {\n            flex: 1,\n            minWidth: '60%',\n            maxWidth: '70%',\n        },\n        '& > :last-child': {\n            width: '25%',\n            flexShrink: 0,\n        },\n    },\n    root: {\n        padding: '0 !important',\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        '& .tabbed-form': {\n            display: 'flex',\n            flexDirection: 'column',\n            flex: 1,\n        },\n        '& .toolbar': {\n            marginTop: 'auto',\n        },\n    },\n});\n\nconst ProductEditFormWithPreview: FC<{ toolbar: any }> = ({\n    children,\n    ...props\n}) => {\n    const classes = useStyles();\n    useDefineAppLocation('catalog.products.edit', props);\n    return (\n        <FormWithRedirect\n            {...props}\n            render={(formProps): JSX.Element => {\n                return (\n                    <div className={classes.container}>\n                        <Card>\n                            <CardContent className={classes.root}>\n                                <SimpleForm {...formProps}>\n                                    {children}\n                                </SimpleForm>\n                            </CardContent>\n                        </Card>\n                        <div data-testid=\"product-edit-preview\">\n                            <FormDataConsumer>\n                                {({ formData }): JSX.Element => {\n                                    return <ProductPreview record={formData} />;\n                                }}\n                            </FormDataConsumer>\n                        </div>\n                    </div>\n                );\n            }}\n        />\n    );\n};\n\nconst ProductEdit: FC<EditProps> = props => {\n    const { resource, id } = props;\n\n    const classes = useStyles();\n    const notify = useNotify();\n\n    const { loading } = useLock(\n        resource as string,\n        id as string,\n        'todousername',\n        {\n            onFailure: () => {\n                notify('ra-realtime.notification.lock.lockedBySomeoneElse');\n            },\n        }\n    );\n\n    if (loading) {\n        return <CircularProgress />;\n    }\n\n    return (\n        <Edit\n            {...props}\n            className={classes.root}\n            title={<ProductTitle />}\n            actions={<EditActions />}\n            component=\"div\"\n        >\n            <ProductEditFormWithPreview toolbar={<CustomToolbar />}>\n                <Poster />\n                <TextInput source=\"image\" fullWidth />\n                <TextInput source=\"thumbnail\" fullWidth />\n                <AccordionSection\n                    label=\"resources.products.tabs.description\"\n                    data-tour-id=\"description-tab\"\n                    fullWidth\n                >\n                    <MarkdownInput source=\"description\" label=\"\" />\n                </AccordionSection>\n                <AccordionSection\n                    label=\"resources.products.tabs.details\"\n                    fullWidth\n                >\n                    <TextInput source=\"reference\" />\n                    <NumberInput\n                        source=\"price\"\n                        className={classes.price}\n                        InputProps={{\n                            startAdornment: (\n                                <InputAdornment position=\"start\">\n                                    €\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <NumberInput\n                        source=\"width\"\n                        className={classes.width}\n                        formClassName={classes.widthFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <NumberInput\n                        source=\"height\"\n                        className={classes.height}\n                        formClassName={classes.heightFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <ReferenceInput source=\"category_id\" reference=\"categories\">\n                        <SelectInput source=\"name\" />\n                    </ReferenceInput>\n                    <NumberInput source=\"stock\" className={classes.stock} />\n                </AccordionSection>\n                <AccordionSection\n                    label=\"resources.products.tabs.reviews\"\n                    fullWidth\n                >\n                    <ReferenceManyField\n                        label=\"\"\n                        reference=\"reviews\"\n                        target=\"product_id\"\n                        pagination={<ReferenceManyFieldPagination />}\n                        fullWidth\n                    >\n                        <Datagrid>\n                            <DateField source=\"date\" />\n                            <CustomerReferenceField />\n                            <StarRatingField />\n                            <TextField\n                                source=\"comment\"\n                                cellClassName={classes.comment}\n                            />\n                            <TextField source=\"status\" />\n                            <EditButton />\n                        </Datagrid>\n                    </ReferenceManyField>\n                </AccordionSection>\n            </ProductEditFormWithPreview>\n        </Edit>\n    );\n};\n\nconst CustomToolbar: FC<any> = props => {\n    const { resource, record } = props;\n\n    const { data: lock } = useHasLock(resource, record.id);\n    const isMeLocker = lock?.identity === 'todousername';\n\n    return (\n        <Toolbar {...props}>\n            <SaveButton disabled={!isMeLocker} />\n            {!isMeLocker && <LockMessage identity={lock?.identity} />}\n        </Toolbar>\n    );\n};\n\nconst useLockMessageStyles = makeStyles(theme => ({\n    root: {\n        padding: theme.spacing(0, 1),\n    },\n}));\n\nconst LockMessage: FC<any> = props => {\n    const { identity, variant = 'body1' } = props;\n    const classes = useLockMessageStyles(props);\n\n    return (\n        <Typography className={classes.root} variant={variant}>\n            This record is locked by another user: {identity}.\n        </Typography>\n    );\n};\n\nexport default ProductEdit;\n\n// There is an issue with the ReferenceManyField or the Pagination component\n// which do not sanitize some props (addLabel, fullWidth)\n// TODO: Fix react-admin and remove this component\nconst ReferenceManyFieldPagination: FC = ({\n    addLabel,\n    fullWidth,\n    ...props\n}: {\n    addLabel?: boolean;\n    fullWidth?: boolean;\n    [key: string]: any;\n}) => {\n    return <Pagination {...props} />;\n};\n","import ProductIcon from '@material-ui/icons/Collections';\nimport ProductList from './ProductList';\nimport ProductEdit from './ProductEdit';\nimport ProductCreate from './ProductCreate';\n\nexport default {\n    list: ProductList,\n    create: ProductCreate,\n    edit: ProductEdit,\n    icon: ProductIcon,\n};\n","import React, { FC } from 'react';\nimport {\n    DateField,\n    DateInput,\n    TextField,\n    TextInput,\n    ListProps,\n} from 'react-admin';\n\nimport { List, ListActions } from '@react-admin/ra-enterprise';\nimport { EditableDatagrid, RowForm } from '@react-admin/ra-editable-datagrid';\nimport CustomBreadcrumb from '../layout/Breadcrumb';\n\nconst StoreForm: FC = props => (\n    <RowForm {...props}>\n        <TextField source=\"id\" />\n        {/* eslint-disable-next-line */}\n        <TextInput source=\"city\" autoFocus />\n        <TextInput source=\"country\" />\n        <TextInput source=\"address\" />\n        <DateInput source=\"created_at\" />\n    </RowForm>\n);\n\nconst StoreListActions: FC = props => (\n    <ListActions\n        {...props}\n        breadcrumb={<CustomBreadcrumb variant=\"actions\" />}\n    />\n);\n\nexport const StoreList: FC<ListProps> = props => (\n    <List\n        {...props}\n        actions={<StoreListActions />}\n        hasCreate\n        empty={false}\n        perPage={25}\n    >\n        <EditableDatagrid\n            data-testid=\"store-datagrid\"\n            rowClick=\"edit\"\n            createForm={<StoreForm />}\n            editForm={<StoreForm />}\n        >\n            <TextField source=\"id\" />\n            <TextField source=\"city\" />\n            <TextField source=\"country\" />\n            <TextField source=\"address\" />\n            <DateField source=\"created_at\" />\n        </EditableDatagrid>\n    </List>\n);\n","import { StoreList } from './StoreList';\nimport StoreIcon from '@material-ui/icons/Store';\n\nexport default {\n    icon: StoreIcon,\n    list: StoreList,\n};\n","export const segments = [\n    'compulsive',\n    'collector',\n    'ordered_once',\n    'regular',\n    'returns',\n    'reviewer',\n];\n\nfunction capitalizeFirstLetter(string: string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nexport default segments.map(segment => ({\n    id: segment,\n    name: capitalizeFirstLetter(segment),\n}));\n","import React, { FC, ReactNode, useState, ReactElement } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useTranslate } from 'react-admin';\nimport DashboardIcon from '@material-ui/icons/Dashboard';\nimport CheckCircleOutlineIcon from '@material-ui/icons/CheckCircleOutline';\nimport AVTimerIcon from '@material-ui/icons/AvTimer';\nimport BlockIcon from '@material-ui/icons/Block';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\nimport TourIcon from '@material-ui/icons/Flag';\nimport { makeStyles } from '@material-ui/core/styles';\nimport EventsIcon from '@material-ui/icons/FormatListNumbered';\n\nimport { MultiLevelMenu, MenuItem } from '@react-admin/ra-navigation';\n\nimport {\n    Typography,\n    Collapse,\n    Tooltip,\n    MenuItem as MUIMenuItem,\n    ListItemIcon,\n    List,\n} from '@material-ui/core';\n\nimport { newCustomerFilter, visitorsFilter } from './Menu';\nimport categories from '../categories';\nimport visitors from '../visitors';\nimport orders from '../orders';\nimport invoices from '../invoices';\nimport products from '../products';\nimport reviews from '../reviews';\nimport stores from '../stores';\nimport { AppState } from '../types';\nimport { segments } from '../visitors/segments';\n\nconst MobileMenu: FC<{\n    logout?: ReactNode;\n    onMenuClick?: () => void;\n}> = ({ logout, onMenuClick }) => {\n    const classes = useStyles();\n    const translate = useTranslate();\n    const [menuState, setMenuState] = useState({\n        sales: false,\n        catalog: false,\n        customers: false,\n        segments: false,\n        reviews: false,\n    });\n    const open = useSelector((state: AppState) => state.admin.ui.sidebarOpen);\n    const handleToggle = (\n        menu: 'sales' | 'catalog' | 'customers' | 'segments' | 'reviews'\n    ): void => {\n        setMenuState(state => ({ ...state, [menu]: !state[menu] }));\n    };\n\n    return (\n        <div className={classes.menu}>\n            <MultiLevelMenu>\n                <MenuItem\n                    name=\"dashboard\"\n                    to=\"/\"\n                    exact\n                    label=\"ra.page.dashboard\"\n                    icon={<DashboardIcon />}\n                    onClick={onMenuClick}\n                />\n                <SubMenu\n                    icon={<products.icon />}\n                    handleToggle={(): void => handleToggle('sales')}\n                    isOpen={menuState.sales}\n                    data-testid=\"commands-menu\"\n                    sidebarIsOpen={open}\n                    label={translate('pos.menu.sales')}\n                >\n                    <MenuItem\n                        name=\"commands\"\n                        to=\"/commands\"\n                        icon={<orders.icon />}\n                        onClick={onMenuClick}\n                        label={translate(`resources.commands.name`, {\n                            smart_count: 2,\n                        })}\n                    />\n                    <MenuItem\n                        name=\"invoices\"\n                        to=\"/invoices?filter={}\"\n                        icon={<invoices.icon />}\n                        onClick={onMenuClick}\n                        label={translate(`resources.invoices.name`, {\n                            smart_count: 2,\n                        })}\n                    />\n                </SubMenu>\n                <SubMenu\n                    icon={<products.icon />}\n                    handleToggle={(): void => handleToggle('catalog')}\n                    isOpen={menuState.catalog}\n                    sidebarIsOpen={open}\n                    label={translate('pos.menu.catalog')}\n                >\n                    <MenuItem\n                        name=\"products\"\n                        to=\"/products\"\n                        icon={<products.icon />}\n                        onClick={onMenuClick}\n                        label={translate(`resources.products.name`, {\n                            smart_count: 2,\n                        })}\n                    />\n                    <MenuItem\n                        name=\"categories\"\n                        to=\"/categories/5\"\n                        icon={<categories.icon />}\n                        onClick={onMenuClick}\n                        label={translate(`resources.categories.name`, {\n                            smart_count: 2,\n                        })}\n                    />\n                </SubMenu>\n                <SubMenu\n                    icon={<visitors.icon />}\n                    handleToggle={(): void => handleToggle('customers')}\n                    isOpen={menuState.customers}\n                    sidebarIsOpen={open}\n                    label={translate('pos.menu.customers')}\n                >\n                    <MenuItem\n                        className={classes.noIconPadding}\n                        name=\"customers.all_customers\"\n                        to={`/customers?filter={}`}\n                        onClick={onMenuClick}\n                        label={translate(`pos.menu.all_customers`, {\n                            smart_count: 2,\n                        })}\n                    />\n                    <MenuItem\n                        className={classes.noIconPadding}\n                        name=\"customers.newcomers\"\n                        to={`/customers?filter=${JSON.stringify(\n                            newCustomerFilter\n                        )}`}\n                        onClick={onMenuClick}\n                        label={translate(`pos.menu.new_customers`, {\n                            smart_count: 2,\n                        })}\n                    />\n                    <MenuItem\n                        className={classes.noIconPadding}\n                        name=\"customers.visitors\"\n                        to={`/customers?filter=${JSON.stringify(\n                            visitorsFilter\n                        )}`}\n                        onClick={onMenuClick}\n                        label={translate(`pos.menu.visitors`, {\n                            smart_count: 2,\n                        })}\n                    />\n                    <SubMenu\n                        icon={<visitors.icon />}\n                        handleToggle={(): void => handleToggle('segments')}\n                        isOpen={menuState.segments}\n                        sidebarIsOpen={open}\n                        label={translate('resources.segments.name')}\n                    >\n                        {segments.map(segment => (\n                            <MenuItem\n                                className={classes.noIconPadding}\n                                key={segment}\n                                name={`segments.${segment}`}\n                                to={`/customers?filter={\"groups\": \"${segment}\"}`}\n                                onClick={onMenuClick}\n                                label={translate(\n                                    `resources.segments.data.${segment}`,\n                                    {\n                                        smart_count: 2,\n                                    }\n                                )}\n                            />\n                        ))}\n                    </SubMenu>\n                </SubMenu>\n                <SubMenu\n                    icon={<reviews.icon />}\n                    handleToggle={(): void => handleToggle('reviews')}\n                    isOpen={menuState.reviews}\n                    sidebarIsOpen={open}\n                    label={translate(`resources.reviews.name`, {\n                        smart_count: 2,\n                    })}\n                >\n                    <MenuItem\n                        name=\"reviews.all\"\n                        to={'/reviews?filter={}'}\n                        icon={<CheckCircleOutlineIcon />}\n                        onClick={onMenuClick}\n                        label=\"pos.menu.all_reviews\"\n                    />\n                    <MenuItem\n                        name=\"reviews.pending\"\n                        to={'/reviews?filter={\"status\": \"pending\"}'}\n                        icon={<AVTimerIcon />}\n                        onClick={onMenuClick}\n                        label=\"pos.menu.pending_reviews\"\n                    />\n                    <MenuItem\n                        name=\"reviews.bad\"\n                        to={'/reviews?filter={\"rating_lte\": \"2\"}'}\n                        icon={<BlockIcon />}\n                        onClick={onMenuClick}\n                        label=\"pos.menu.bad_reviews\"\n                    />\n                </SubMenu>\n                <MenuItem\n                    name=\"stores\"\n                    to=\"/stores\"\n                    icon={<stores.icon />}\n                    onClick={onMenuClick}\n                    label={translate(`resources.stores.name`, {\n                        smart_count: 2,\n                    })}\n                />\n                <MenuItem\n                    name=\"tours\"\n                    to=\"/tours\"\n                    icon={<TourIcon />}\n                    onClick={onMenuClick}\n                    label=\"Tours\"\n                />\n                <MenuItem\n                    name=\"events\"\n                    to=\"/events\"\n                    icon={<EventsIcon />}\n                    onClick={onMenuClick}\n                    label={translate(`resources.events.name`, {\n                        smart_count: 2,\n                    })}\n                />\n                <span style={{ paddingLeft: 8 }}>{logout}</span>\n            </MultiLevelMenu>\n        </div>\n    );\n};\n\nexport default MobileMenu;\n\nconst SubMenu: FC<{\n    dense?: boolean;\n    handleToggle: () => void;\n    icon: ReactElement;\n    isOpen: boolean;\n    label: string;\n    sidebarIsOpen: boolean;\n}> = ({\n    handleToggle,\n    sidebarIsOpen,\n    isOpen,\n    icon,\n    label,\n    children,\n    dense = false,\n}) => {\n    const classes = useStyles();\n\n    const header = (\n        <MUIMenuItem\n            className={classes.subMenuItem}\n            dense={dense}\n            button\n            onClick={handleToggle}\n        >\n            <ListItemIcon className={classes.icon}>\n                {isOpen ? <ExpandMore /> : icon}\n            </ListItemIcon>\n            <Typography variant=\"inherit\" color=\"textSecondary\">\n                {label}\n            </Typography>\n        </MUIMenuItem>\n    );\n\n    return (\n        <>\n            {sidebarIsOpen || isOpen ? (\n                header\n            ) : (\n                <Tooltip title={label} placement=\"right\">\n                    {header}\n                </Tooltip>\n            )}\n            <Collapse in={isOpen} timeout=\"auto\" unmountOnExit>\n                <List\n                    className={classes.subMenuContainer}\n                    dense={dense}\n                    component=\"div\"\n                    disablePadding\n                >\n                    {children}\n                </List>\n            </Collapse>\n        </>\n    );\n};\n\nconst useStyles = makeStyles(theme => ({\n    menu: {\n        minWidth: '50vw',\n    },\n    icon: {\n        minWidth: theme.spacing(5),\n        display: 'inline-flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    subMenuItem: {\n        padding: `${theme.spacing(1.5)}px ${theme.spacing(2)}px`,\n    },\n    subMenuContainer: {\n        paddingLeft: theme.spacing(1.5),\n    },\n    noIconPadding: {\n        paddingLeft: theme.spacing(1),\n    },\n}));\n","import React, { FC, ReactNode, useState, useEffect, ReactElement } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useTranslate } from 'react-admin';\nimport { useSubscribeToRecordList } from '@react-admin/ra-realtime';\nimport DashboardIcon from '@material-ui/icons/Dashboard';\nimport EventsIcon from '@material-ui/icons/FormatListNumbered';\nimport CheckCircleOutlineIcon from '@material-ui/icons/CheckCircleOutline';\nimport AVTimerIcon from '@material-ui/icons/AvTimer';\nimport BlockIcon from '@material-ui/icons/Block';\nimport querystring from 'query-string';\n\nimport {\n    MultiLevelMenu,\n    MenuItem,\n    MenuItemCategory,\n    useAppLocationMatcher,\n    useResourceAppLocation,\n    Menu as NavigationMenu,\n} from '@react-admin/ra-navigation';\nimport { useSavedQueries } from '@react-admin/ra-preferences';\n\nimport {\n    useMediaQuery,\n    Theme,\n    CardContent,\n    Typography,\n    withStyles,\n    Badge,\n    Box,\n} from '@material-ui/core';\n\nimport MobileMenu from './MobileMenu';\nimport categories from '../categories';\nimport visitors from '../visitors';\nimport orders from '../orders';\nimport invoices from '../invoices';\nimport products from '../products';\nimport reviews from '../reviews';\nimport stores from '../stores';\nimport { AppState } from '../types';\nimport { segments } from '../visitors/segments';\n\ninterface Props {\n    logout?: ReactNode;\n    onMenuClick?: () => void;\n}\n\nexport const newCustomerFilter = { last_seen_gte: '2020-07-31T22:00:00.000Z' };\nexport const visitorsFilter = { nb_commands_lte: 0 };\n\nconst useResourceChangeCounter = (resource: string): number => {\n    const match = useAppLocationMatcher();\n    const location = useResourceAppLocation();\n    const [countEvent, setCountEvent] = useState(0);\n\n    useSubscribeToRecordList(resource, ({ payload }) => {\n        if (!payload || !payload.ids) {\n            return;\n        }\n\n        let count = payload.ids.length;\n\n        if (location && match(resource)) {\n            const { record } = location && (location.values || {});\n            if (!record || record.id == null) {\n                return;\n            }\n\n            count = payload.ids.filter(id => id !== record.id).length;\n        }\n\n        if (count) {\n            setCountEvent(previous => previous + count);\n        }\n    });\n\n    useEffect(() => {\n        if (match(resource)) {\n            setCountEvent(0);\n        }\n    }, [match, resource]);\n\n    return countEvent;\n};\n\nconst StyledBadgeForText = withStyles(theme => ({\n    badge: {\n        top: 13,\n        right: 13,\n        border: `1px solid ${theme.palette.background.paper}`,\n        padding: '0 4px',\n    },\n}))(Badge);\n\nconst Menu: FC<Props> = ({ logout, onMenuClick }) => {\n    useSelector((state: AppState) => state.theme); // force rerender on theme change\n    const isXSmall = useMediaQuery((theme: Theme) =>\n        theme.breakpoints.down('xs')\n    );\n\n    return isXSmall ? (\n        <MobileMenu logout={logout} onMenuClick={onMenuClick} />\n    ) : (\n        <DesktopMenu onMenuClick={onMenuClick} />\n    );\n};\n\nexport default Menu;\n\nconst DesktopMenu: FC<Props> = ({ onMenuClick }) => {\n    const translate = useTranslate();\n    const commandsChangeCount = useResourceChangeCounter('commands');\n\n    return (\n        <MultiLevelMenu variant=\"categories\">\n            <MenuItemCategory\n                name=\"dashboard\"\n                to=\"/\"\n                exact\n                icon={<DashboardIcon />}\n                onClick={onMenuClick}\n                label=\"ra.page.dashboard\"\n            />\n            <StyledBadgeForText\n                badgeContent={commandsChangeCount}\n                color=\"primary\"\n            >\n                <MenuItemCategory\n                    name=\"sales\"\n                    icon={<products.icon />}\n                    onClick={onMenuClick}\n                    label={translate(`pos.menu.sales`, { smart_count: 1 })}\n                    data-testid=\"commands-menu\"\n                >\n                    <CardContent>\n                        <Typography variant=\"h6\" gutterBottom>\n                            {translate(`pos.menu.sales`, { smart_count: 1 })}\n                        </Typography>\n                        <NavigationMenu>\n                            <StyledBadgeForText\n                                badgeContent={commandsChangeCount}\n                                color=\"primary\"\n                            >\n                                <MenuItem\n                                    name=\"commands\"\n                                    to=\"/commands\"\n                                    icon={<orders.icon />}\n                                    onClick={onMenuClick}\n                                    label={translate(\n                                        `resources.commands.name`,\n                                        {\n                                            smart_count: 2,\n                                        }\n                                    )}\n                                />\n                            </StyledBadgeForText>\n                            <MenuItem\n                                name=\"invoices\"\n                                to=\"/invoices?filter={}\"\n                                icon={<invoices.icon />}\n                                onClick={onMenuClick}\n                                label={translate(`resources.invoices.name`, {\n                                    smart_count: 2,\n                                })}\n                            />\n                        </NavigationMenu>\n                    </CardContent>\n                </MenuItemCategory>\n            </StyledBadgeForText>\n            <MenuItemCategory\n                name=\"catalog\"\n                icon={<products.icon />}\n                onClick={onMenuClick}\n                label={translate(`pos.menu.catalog`, { smart_count: 1 })}\n            >\n                <CardContent>\n                    <CatalogMenu onMenuClick={onMenuClick} />\n                </CardContent>\n            </MenuItemCategory>\n            <MenuItemCategory\n                name=\"customers\"\n                icon={<visitors.icon />}\n                onClick={onMenuClick}\n                label={translate(`pos.menu.customers`, { smart_count: 2 })}\n            >\n                <CustomersMenu onMenuClick={onMenuClick} />\n            </MenuItemCategory>\n            <MenuItemCategory\n                name=\"reviews\"\n                icon={<reviews.icon />}\n                onClick={onMenuClick}\n                label={translate(`resources.reviews.name`, { smart_count: 2 })}\n            >\n                <CardContent>\n                    <Typography variant=\"h6\" gutterBottom>\n                        {translate(`resources.reviews.name`, {\n                            smart_count: 2,\n                        })}\n                    </Typography>{' '}\n                    <NavigationMenu>\n                        <MenuItem\n                            name=\"reviews.all\"\n                            to={'/reviews?filter={}'}\n                            icon={<CheckCircleOutlineIcon />}\n                            onClick={onMenuClick}\n                            label=\"pos.menu.all_reviews\"\n                        />\n                        <MenuItem\n                            name=\"reviews.pending\"\n                            to={'/reviews?filter={\"status\": \"pending\"}'}\n                            icon={<AVTimerIcon />}\n                            onClick={onMenuClick}\n                            label=\"pos.menu.pending_reviews\"\n                        />\n                        <MenuItem\n                            name=\"reviews.bad\"\n                            to={'/reviews?filter={\"rating_lte\": \"2\"}'}\n                            icon={<BlockIcon />}\n                            onClick={onMenuClick}\n                            label=\"pos.menu.bad_reviews\"\n                        />\n                    </NavigationMenu>\n                </CardContent>\n            </MenuItemCategory>\n            <MenuItemCategory\n                name=\"stores\"\n                to=\"/stores\"\n                icon={<stores.icon />}\n                onClick={onMenuClick}\n                label={translate(`resources.stores.name`, { smart_count: 2 })}\n            />\n            <MenuItemCategory\n                name=\"events\"\n                to=\"/events\"\n                icon={<EventsIcon />}\n                onClick={onMenuClick}\n                label={translate(`resources.events.name`, { smart_count: 2 })}\n            />\n        </MultiLevelMenu>\n    );\n};\n\nconst CustomersMenu: FC<{ onMenuClick: (() => void) | undefined }> = ({\n    onMenuClick,\n}) => {\n    const translate = useTranslate();\n    const savedQueriesMenuItems = usePersistedQueriesMenu('customers');\n\n    return (\n        <CardContent>\n            <Box display=\"flex\" justifyContent=\"space-between\">\n                <Box marginRight={2}>\n                    <Typography variant=\"h6\" gutterBottom>\n                        {translate(`resources.customers.name`, {\n                            smart_count: 2,\n                        })}\n                    </Typography>\n                    <NavigationMenu>\n                        <MenuItem\n                            name=\"customers.all_customers\"\n                            to={`/customers?filter={}`}\n                            onClick={onMenuClick}\n                            label={translate(`pos.menu.all_customers`, {\n                                smart_count: 2,\n                            })}\n                        />\n                        <MenuItem\n                            name=\"customers.newcomers\"\n                            to={`/customers?filter=${JSON.stringify(\n                                newCustomerFilter\n                            )}`}\n                            onClick={onMenuClick}\n                            label={translate(`pos.menu.new_customers`, {\n                                smart_count: 2,\n                            })}\n                        />\n                        <MenuItem\n                            name=\"customers.visitors\"\n                            to={`/customers?filter=${JSON.stringify(\n                                visitorsFilter\n                            )}`}\n                            onClick={onMenuClick}\n                            label={translate(`pos.menu.visitors`, {\n                                smart_count: 2,\n                            })}\n                        />\n                    </NavigationMenu>\n                    <Typography variant=\"h6\" gutterBottom>\n                        {translate(`resources.segments.name`, {\n                            smart_count: 2,\n                        })}\n                    </Typography>\n                    <NavigationMenu>\n                        {segments.map(segment => (\n                            <MenuItem\n                                key={segment}\n                                name={`segments.${segment}`}\n                                to={`/customers?filter={\"groups\": \"${segment}\"}`}\n                                onClick={onMenuClick}\n                                label={translate(\n                                    `resources.segments.data.${segment}`,\n                                    {\n                                        smart_count: 2,\n                                    }\n                                )}\n                            />\n                        ))}\n                    </NavigationMenu>\n                </Box>\n                {savedQueriesMenuItems.length > 0 && (\n                    <Box>\n                        <Typography variant=\"h6\" gutterBottom>\n                            {translate(`pos.menu.my_queries`, {\n                                smart_count: 1,\n                            })}\n                        </Typography>\n                        <NavigationMenu>\n                            {savedQueriesMenuItems.map(({ label, to }) => (\n                                <MenuItem\n                                    key={label}\n                                    name=\"customers\"\n                                    to={to}\n                                    onClick={onMenuClick}\n                                    label={label}\n                                />\n                            ))}\n                        </NavigationMenu>\n                    </Box>\n                )}\n            </Box>\n        </CardContent>\n    );\n};\n\nconst CatalogMenu = (props: {\n    onMenuClick: (() => void) | undefined;\n}): ReactElement => {\n    const { onMenuClick } = props;\n    const translate = useTranslate();\n    const savedQueriesMenuItems = usePersistedQueriesMenu('products');\n\n    return (\n        <Box display=\"flex\" justifyContent=\"space-between\">\n            <Box marginRight={savedQueriesMenuItems.length > 0 ? 2 : 0}>\n                <Typography variant=\"h6\" gutterBottom>\n                    {translate(`pos.menu.catalog`, {\n                        smart_count: 1,\n                    })}\n                </Typography>\n                <NavigationMenu>\n                    <MenuItem\n                        name=\"products\"\n                        to=\"/products\"\n                        icon={<products.icon />}\n                        onClick={onMenuClick}\n                        label={translate(`resources.products.name`, {\n                            smart_count: 2,\n                        })}\n                    />\n                    <MenuItem\n                        name=\"categories\"\n                        to=\"/categories/5\"\n                        icon={<categories.icon />}\n                        onClick={onMenuClick}\n                        label={translate(`resources.categories.name`, {\n                            smart_count: 2,\n                        })}\n                    />\n                </NavigationMenu>\n            </Box>\n            {savedQueriesMenuItems.length > 0 && (\n                <Box>\n                    <Typography variant=\"h6\" gutterBottom>\n                        {translate(`pos.menu.my_queries`, {\n                            smart_count: 1,\n                        })}\n                    </Typography>\n                    <NavigationMenu>\n                        {savedQueriesMenuItems.map(({ label, to }) => (\n                            <MenuItem\n                                key={label}\n                                name=\"products\"\n                                to={to}\n                                onClick={onMenuClick}\n                                label={label}\n                            />\n                        ))}\n                    </NavigationMenu>\n                </Box>\n            )}\n        </Box>\n    );\n};\n\nconst usePersistedQueriesMenu = (\n    resource: string\n): { label: string; to: string }[] => {\n    const [savedQueries] = useSavedQueries(resource);\n    const savedQueriesMenuItems = savedQueries.map(({ label, value }) => ({\n        label,\n        to: `/${resource}?${querystring.stringify({\n            filter: JSON.stringify(value.filter),\n            sort: value?.sort?.field,\n            order: value?.sort?.order,\n            page: 1,\n            perPage: value.perPage,\n            displayedFilters: value.displayedFilters,\n        })}`,\n    }));\n\n    return savedQueriesMenuItems;\n};\n","import * as React from 'react';\nimport { ReactElement } from 'react';\nimport { Layout } from '@react-admin/ra-enterprise';\n\nimport AppBar from './AppBar';\nimport Menu from './Menu';\nimport tours from '../tours/tours';\n\nconst CustomLayout = (props): ReactElement => {\n    return <Layout {...props} appBar={AppBar} menu={Menu} tours={tours} />;\n};\n\nexport default CustomLayout;\n","import React, { ReactElement, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Field, withTypes } from 'react-final-form';\nimport { useLocation } from 'react-router-dom';\n\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport TextField from '@material-ui/core/TextField';\nimport { createMuiTheme, makeStyles, useTheme } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport LockIcon from '@material-ui/icons/Lock';\n\nimport { Notification, useTranslate, useLogin, useNotify } from 'react-admin';\nimport { getThemes } from './themes';\n\nconst useStyles = makeStyles(theme => ({\n    main: {\n        display: 'flex',\n        flexDirection: 'column',\n        minHeight: '100vh',\n        alignItems: 'center',\n        justifyContent: 'flex-start',\n        background: 'url(https://source.unsplash.com/random/1600x900)',\n        backgroundRepeat: 'no-repeat',\n        backgroundSize: 'cover',\n    },\n    card: {\n        minWidth: 300,\n        marginTop: '6em',\n    },\n    avatar: {\n        margin: '1em',\n        display: 'flex',\n        justifyContent: 'center',\n    },\n    icon: {\n        backgroundColor: theme.palette.secondary.main,\n    },\n    hint: {\n        marginTop: '1em',\n        display: 'flex',\n        justifyContent: 'center',\n        color: theme.palette.grey[500],\n    },\n    form: {\n        padding: '0 1em 1em 1em',\n    },\n    input: {\n        marginTop: '1em',\n    },\n    actions: {\n        padding: '0 1em 1em 1em',\n    },\n}));\n\nconst renderInput = ({\n    meta: { touched, error } = { touched: false, error: undefined },\n    input: { ...inputProps },\n    ...props\n}: any): ReactElement => (\n    <TextField\n        error={!!(touched && error)}\n        helperText={touched && error}\n        {...inputProps}\n        {...props}\n        fullWidth\n    />\n);\n\ninterface FormValues {\n    username?: string;\n    password?: string;\n}\n\nconst { Form } = withTypes<FormValues>();\n\nconst Login = (): ReactElement => {\n    const [loading, setLoading] = useState(false);\n    const translate = useTranslate();\n    const classes = useStyles();\n    const notify = useNotify();\n    const login = useLogin();\n    const location = useLocation<{ nextPathname: string } | null>();\n\n    const handleSubmit = (auth: FormValues): void => {\n        setLoading(true);\n        login(auth, location.state ? location.state.nextPathname : '/').catch(\n            (error: Error) => {\n                setLoading(false);\n                notify(\n                    typeof error === 'string'\n                        ? error\n                        : typeof error === 'undefined' || !error.message\n                        ? 'ra.auth.sign_in_error'\n                        : error.message,\n                    'warning'\n                );\n            }\n        );\n    };\n\n    const validate = (values: FormValues): any => {\n        const errors: FormValues = {};\n        if (!values.username) {\n            errors.username = translate('ra.validation.required');\n        }\n        if (!values.password) {\n            errors.password = translate('ra.validation.required');\n        }\n        return errors;\n    };\n\n    return (\n        <Form\n            onSubmit={handleSubmit}\n            validate={validate}\n            render={({ handleSubmit }): ReactElement => (\n                <form onSubmit={handleSubmit} noValidate>\n                    <div className={classes.main}>\n                        <Card className={classes.card}>\n                            <div className={classes.avatar}>\n                                <Avatar className={classes.icon}>\n                                    <LockIcon />\n                                </Avatar>\n                            </div>\n                            <div className={classes.hint}>\n                                Hint: demo / demo\n                            </div>\n                            <div className={classes.form}>\n                                <div className={classes.input}>\n                                    <Field\n                                        name=\"username\"\n                                        component={renderInput}\n                                        label={translate('ra.auth.username')}\n                                        disabled={loading}\n                                    />\n                                </div>\n                                <div className={classes.input}>\n                                    <Field\n                                        name=\"password\"\n                                        component={renderInput}\n                                        label={translate('ra.auth.password')}\n                                        type=\"password\"\n                                        disabled={loading}\n                                    />\n                                </div>\n                            </div>\n                            <CardActions className={classes.actions}>\n                                <Button\n                                    variant=\"contained\"\n                                    type=\"submit\"\n                                    color=\"primary\"\n                                    disabled={loading}\n                                    fullWidth\n                                >\n                                    {loading && (\n                                        <CircularProgress\n                                            size={25}\n                                            thickness={2}\n                                        />\n                                    )}\n                                    {translate('ra.auth.sign_in')}\n                                </Button>\n                            </CardActions>\n                        </Card>\n                        <Notification />\n                    </div>\n                </form>\n            )}\n        />\n    );\n};\n\nLogin.propTypes = {\n    authProvider: PropTypes.func,\n    previousRoute: PropTypes.string,\n};\n\n// We need to put the ThemeProvider decoration in another component\n// Because otherwise the useStyles() hook used in Login won't get\n// the right theme\nconst LoginWithTheme = (props: any): ReactElement => {\n    const theme = useTheme();\n    const { lightTheme } = getThemes(theme);\n    return (\n        <ThemeProvider theme={createMuiTheme(lightTheme)}>\n            <Login {...props} />\n        </ThemeProvider>\n    );\n};\n\nexport default LoginWithTheme;\n","import React, { FC, forwardRef } from 'react';\nimport { Link } from '@material-ui/core';\nimport { Link as RouterLink } from 'react-router-dom';\n\n// This component could be added to ra-search\nexport const SearchListItemLink: FC<any> = forwardRef((props, ref) => {\n    const { data, onClick, ...rest } = props;\n\n    return (\n        <Link\n            component={RouterLink}\n            to={data.url}\n            onClick={onClick}\n            ref={ref}\n            {...rest}\n        />\n    );\n});\n\nSearchListItemLink.displayName = 'SearchListItemLink';\n","import React, { FC } from 'react';\nimport classnames from 'classnames';\nimport { useTranslate } from 'react-admin';\nimport {\n    Avatar,\n    Grid,\n    ListItem,\n    ListItemAvatar,\n    Typography,\n} from '@material-ui/core';\nimport { makeStyles, lighten } from '@material-ui/core/styles';\nimport { blue } from '@material-ui/core/colors';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\n\nimport { SearchListItemLink } from './SearchListItemLink';\n\nexport const CommandListItem: FC<any> = props => {\n    const { data, onClick } = props;\n    const { content } = data;\n\n    const classes = useCommandListItemStyles();\n    const translate = useTranslate();\n\n    if (!content) {\n        return null;\n    }\n\n    return (\n        <ListItem\n            button\n            component={SearchListItemLink}\n            data={data}\n            onClick={onClick}\n            alignItems=\"flex-start\"\n        >\n            <ListItemAvatar className={classes.avatar}>\n                <Avatar alt={content.reference}>\n                    <ShoppingCartIcon fontSize=\"large\" />\n                </Avatar>\n            </ListItemAvatar>\n            <Grid className={classes.root} container spacing={2}>\n                <Grid container item xs>\n                    <Grid item xs={8}>\n                        <Typography\n                            variant=\"body1\"\n                            color=\"textPrimary\"\n                            gutterBottom\n                        >\n                            Ref. {content.reference}\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={4}>\n                        <CommandStatus status={content.status} />\n                    </Grid>\n                    <Grid item xs={12}>\n                        <Typography\n                            variant=\"body2\"\n                            color=\"textPrimary\"\n                            gutterBottom\n                        >\n                            {new Date(content.date).toLocaleDateString()}\n                            &nbsp;-&nbsp;\n                            {`${content.customer.first_name} ${content.customer.last_name}`}\n                            &nbsp;-&nbsp;\n                            {`${translate(\n                                'resources.commands.fields.basket.total'\n                            )} ${content.total}`}\n                            €\n                        </Typography>\n                    </Grid>\n                </Grid>\n            </Grid>\n        </ListItem>\n    );\n};\n\nconst useCommandListItemStyles = makeStyles(theme => ({\n    avatar: {\n        marginLeft: theme.spacing(1),\n        marginRight: theme.spacing(1),\n        '& svg': {\n            width: 30,\n            height: 30,\n        },\n    },\n    root: {\n        padding: theme.spacing(1, 0),\n    },\n    total: {\n        fontWeight: theme.typography.fontWeightBold,\n    },\n}));\n\nconst CommandStatus: FC<{ status: string }> = ({ status }) => {\n    const classes = useCommandStatusStyles();\n\n    return (\n        <div\n            className={classnames(classes.root, {\n                [classes.ordered]: status === 'ordered',\n                [classes.delivered]: status === 'delivered',\n                [classes.cancelled]: status === 'cancelled',\n            })}\n        >\n            <Typography className={classes.status} variant=\"caption\">\n                {status}\n            </Typography>\n        </div>\n    );\n};\n\nconst useCommandStatusStyles = makeStyles(theme => ({\n    root: {\n        maxWidth: 64,\n        padding: theme.spacing(0.25, 1),\n        borderRadius: theme.shape.borderRadius,\n        textAlign: 'center',\n    },\n    ordered: {\n        backgroundColor: lighten(blue[300], 0.3),\n        color: theme.palette.getContrastText(lighten(blue[300], 0.3)),\n    },\n    delivered: {\n        backgroundColor: lighten(theme.palette.success.main, 0.3),\n        color: theme.palette.getContrastText(\n            lighten(theme.palette.success.main, 0.3)\n        ),\n    },\n    cancelled: {\n        backgroundColor: lighten(theme.palette.error.main, 0.3),\n        color: theme.palette.getContrastText(\n            lighten(theme.palette.error.main, 0.3)\n        ),\n    },\n    status: {\n        color: 'inherit',\n        textTransform: 'capitalize',\n    },\n}));\n","import * as React from 'react';\nimport { ReactElement, ReactNode } from 'react';\nimport { Box, BoxProps, Link, Typography } from '@material-ui/core';\nimport { makeStyles, Theme } from '@material-ui/core/styles';\nimport { Link as RouterLink } from 'react-router-dom';\n\nconst useStyles = makeStyles(\n    (theme: Theme) => ({\n        root: {\n            borderRadius: '3px',\n            padding: 5,\n            width: 100,\n            '&:hover': {\n                backgroundColor: theme.palette.background.default,\n            },\n        },\n        link: {\n            color: 'inherit',\n            '&:hover': {\n                textDecoration: 'none',\n            },\n        },\n    }),\n    {\n        name: 'RaLinkedData',\n    }\n);\n\nexport const LinkedData = ({\n    children,\n    label,\n    icon,\n    to,\n    ...rest\n}: {\n    children: ReactNode;\n    label: ReactNode;\n    icon: ReactNode;\n    to: any;\n} & BoxProps): ReactElement => {\n    const classes = useStyles();\n    return (\n        <Link component={RouterLink} to={to} className={classes.link}>\n            <Box\n                component=\"li\"\n                display=\"flex\"\n                alignItems=\"center\"\n                justifyContent=\"center\"\n                flexDirection=\"column\"\n                className={classes.root}\n                {...rest}\n            >\n                <Box display=\"flex\" alignItems=\"center\">\n                    <Box marginRight={1}>{icon}</Box>\n                    <Typography component=\"span\">{children}</Typography>\n                </Box>\n                <Typography variant=\"caption\">{label}</Typography>\n            </Box>\n        </Link>\n    );\n};\n","import React, { FC } from 'react';\nimport {\n    Avatar,\n    Box,\n    ListItem,\n    ListItemAvatar,\n    ListItemText,\n    makeStyles,\n    Typography,\n} from '@material-ui/core';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\nimport CommentIcon from '@material-ui/icons/Comment';\nimport DollarIcon from '@material-ui/icons/AttachMoney';\n\nimport { SearchListItemLink } from './SearchListItemLink';\nimport { useTranslate } from 'react-admin';\nimport { LinkedData } from './LinkedData';\n\nconst secondaryTypographyProps = {\n    component: 'div',\n};\n\nexport const CustomerListItem: FC<any> = props => {\n    const { data, onClick } = props;\n    const { content } = data;\n\n    const classes = useStyles();\n    const translate = useTranslate();\n\n    if (!content) {\n        return null;\n    }\n\n    const fullname = `${content.first_name} ${content.last_name}`;\n\n    return (\n        <ListItem\n            button\n            component={SearchListItemLink}\n            data={data}\n            onClick={onClick}\n            alignItems=\"flex-start\"\n            className={classes.root}\n            data-testid=\"customer\"\n        >\n            <ListItemAvatar className={classes.avatar}>\n                <Avatar alt={fullname} src={content.avatar} />\n            </ListItemAvatar>\n            <ListItemText\n                primary={\n                    <Typography color=\"textPrimary\">{fullname}</Typography>\n                }\n                secondary={\n                    <Box\n                        component=\"ul\"\n                        display=\"flex\"\n                        justifyContent=\"flex-start\"\n                        padding={0}\n                        marginTop={1}\n                        marginBottom={1}\n                    >\n                        {content.pending_orders > 0 ? (\n                            <LinkedData\n                                icon={<ShoppingCartIcon />}\n                                label={translate('resources.commands.name', {\n                                    smart_count: 2,\n                                })}\n                                to={`/commands?filter=%7B\"status\"%3A\"ordered\"%2C\"customer_id\"%3A${content.id}%7D`}\n                            >\n                                {content.pending_orders}\n                            </LinkedData>\n                        ) : null}\n\n                        {content.total_spent > 0 ? (\n                            <LinkedData\n                                icon={<DollarIcon />}\n                                label={translate(\n                                    'resources.customers.fields.total_spent'\n                                )}\n                                to={`/commands?filter=%7B\"status\"%3A\"delivered\"%2C\"customer_id\"%3A${content.id}%7D`}\n                            >\n                                {content.total_spent.toLocaleString()}\n                            </LinkedData>\n                        ) : null}\n                        {content.reviews > 0 ? (\n                            <LinkedData\n                                icon={<CommentIcon />}\n                                label={translate('resources.reviews.name', {\n                                    smart_count: 2,\n                                })}\n                                to={`/reviews?filter=%7B\"customer_id\"%3A${content.id}%7D`}\n                            >\n                                {content.reviews}\n                            </LinkedData>\n                        ) : null}\n                    </Box>\n                }\n                // @ts-ignore Could not make TS happy\n                secondaryTypographyProps={secondaryTypographyProps}\n            />\n        </ListItem>\n    );\n};\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        textDecoration: 'none',\n        '&:hover': {\n            textDecoration: 'none',\n        },\n        '& a': {\n            textDecoration: 'none',\n        },\n        '& a:hover': {\n            textDecoration: 'none',\n        },\n    },\n    avatar: {\n        marginLeft: theme.spacing(1),\n        marginRight: theme.spacing(1),\n        '& img': {\n            width: 50,\n            height: 50,\n        },\n    },\n}));\n","import React, { FC } from 'react';\nimport {\n    Box,\n    ListItem,\n    ListItemAvatar,\n    ListItemText,\n    Typography,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CommentIcon from '@material-ui/icons/Comment';\n\nimport { SearchListItemLink } from './index';\nimport { useTranslate } from 'react-admin';\nimport { LinkedData } from './LinkedData';\n\nconst secondaryTypographyProps = {\n    component: 'div',\n};\n\nexport const ProductListItem: FC<any> = props => {\n    const { data, onClick } = props;\n    const { content } = data;\n\n    const classes = useProductListItemStyles();\n    const translate = useTranslate();\n\n    if (!content) {\n        return null;\n    }\n\n    return (\n        <ListItem\n            button\n            component={SearchListItemLink}\n            data={data}\n            onClick={onClick}\n            alignItems=\"flex-start\"\n            className={classes.root}\n        >\n            <ListItemAvatar className={classes.avatar}>\n                <div className={classes.art}>\n                    <img src={content.thumbnail} alt={content.reference} />\n                </div>\n            </ListItemAvatar>\n            <ListItemText\n                primary={\n                    <Typography color=\"textPrimary\">\n                        {content.reference}\n                    </Typography>\n                }\n                secondary={\n                    content.reviews > 0 ? (\n                        <Box\n                            component=\"ul\"\n                            display=\"flex\"\n                            justifyContent=\"space-between\"\n                            padding={0}\n                            marginTop={1}\n                            marginBottom={1}\n                        >\n                            <LinkedData\n                                icon={<CommentIcon />}\n                                label={translate('resources.reviews.name', {\n                                    smart_count: 2,\n                                })}\n                                to={`/reviews?filter=%7B\"product_id\"%3A${content.id}%7D`}\n                            >\n                                {content.reviews}\n                            </LinkedData>\n                        </Box>\n                    ) : undefined\n                }\n                // @ts-ignore Could not make TS happy\n                secondaryTypographyProps={secondaryTypographyProps}\n            />\n        </ListItem>\n    );\n};\n\nconst useProductListItemStyles = makeStyles(theme => ({\n    root: {\n        textDecoration: 'none',\n        '&:hover': {\n            textDecoration: 'none',\n        },\n        '& a': {\n            textDecoration: 'none',\n        },\n        '& a:hover': {\n            textDecoration: 'none',\n        },\n    },\n    avatar: {\n        width: 64,\n        height: 64,\n        paddingRight: theme.spacing(2),\n    },\n    mat: {\n        background: theme.palette.background.paper,\n        boxShadow: '0px 0px 8px 0px rgba(0,0,0,0.5) inset',\n    },\n    art: {\n        '& img': {\n            width: '100%',\n        },\n    },\n}));\n","import React, { FC } from 'react';\nimport {\n    Avatar,\n    ListItem,\n    ListItemAvatar,\n    ListItemText,\n    makeStyles,\n    Tooltip,\n    Typography,\n} from '@material-ui/core';\nimport { Rating } from '@material-ui/lab';\nimport CommentIcon from '@material-ui/icons/Comment';\n\nimport { SearchListItemLink } from './index';\n\nconst secondaryTypographyProps = {\n    component: 'div',\n};\n\nexport const ReviewListItem: FC<any> = props => {\n    const { data, onClick } = props;\n    const classes = useStyles();\n    const { content } = data;\n\n    if (!content) {\n        return null;\n    }\n\n    return (\n        <ListItem\n            button\n            component={SearchListItemLink}\n            data={data}\n            onClick={onClick}\n            alignItems=\"flex-start\"\n        >\n            <ListItemAvatar className={classes.avatar}>\n                <Avatar alt={content.reference}>\n                    <CommentIcon fontSize=\"large\" />\n                </Avatar>\n            </ListItemAvatar>\n            <ListItemText\n                primary={<Rating value={content.rating} readOnly />}\n                secondary={<ReviewComment comment={content.comment} />}\n                // @ts-ignore Could not make TS happy\n                secondaryTypographyProps={secondaryTypographyProps}\n            />\n        </ListItem>\n    );\n};\n\nconst ReviewComment: FC<{ comment: string }> = ({ comment }) => {\n    return (\n        <div>\n            {comment.length <= 200 ? (\n                <Typography variant=\"caption\" color=\"textPrimary\">\n                    {comment}\n                </Typography>\n            ) : (\n                <Tooltip title={comment}>\n                    <Typography variant=\"caption\" color=\"textPrimary\">\n                        {truncateString(comment, 200)}\n                    </Typography>\n                </Tooltip>\n            )}\n        </div>\n    );\n};\n\nexport function truncateString(text: string, max: number): string {\n    // If the length of text is less than or equal to num\n    // just return text--don't truncate it.\n    if (text.length <= max) {\n        return text;\n    }\n    // Return text truncated with '...' concatenated to the end of text.\n    return text.slice(0, max) + '...';\n}\n\nconst useStyles = makeStyles(theme => ({\n    avatar: {\n        width: 64,\n        height: 64,\n        paddingRight: theme.spacing(2),\n\n        '& > *': {\n            width: '100%',\n            height: '100%',\n        },\n    },\n}));\n","import React, { FC, Fragment } from 'react';\nimport { useTranslate } from 'react-admin';\nimport {\n    List,\n    ListSubheader,\n    ListItem,\n    ListItemText,\n    Typography,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    Search,\n    SearchProps,\n    SearchPanelProps,\n    useSearchResults,\n    groupSearchResultsByResource,\n} from '@react-admin/ra-search';\n\nimport {\n    CommandListItem,\n    CustomerListItem,\n    ProductListItem,\n    ReviewListItem,\n} from './search';\n\nconst CustomSearch: FC<SearchProps> = props => {\n    return (\n        <div data-testid=\"search\">\n            <Search {...props}>\n                <CustomSearchPanel></CustomSearchPanel>\n            </Search>\n        </div>\n    );\n};\n\nexport default CustomSearch;\n\nconst CustomSearchPanel: FC<SearchPanelProps> = props => {\n    const translate = useTranslate();\n    const classes = useCustomSearchPanelStyles(props);\n\n    const { data, onClose } = useSearchResults();\n\n    if (!data || data.length === 0) {\n        return (\n            <List data-testid=\"search-panel\" dense {...props}>\n                <ListItem>\n                    <ListItemText\n                        primary={translate('ra.navigation.no_results')}\n                    />\n                </ListItem>\n            </List>\n        );\n    }\n    const groupedData = groupSearchResultsByResource(data, translate);\n\n    return (\n        <List\n            data-testid=\"search-panel\"\n            dense\n            className={classes.root}\n            {...props}\n        >\n            {groupedData.map(group => (\n                <Fragment key={group.label}>\n                    <ListSubheader\n                        role=\"presentation\"\n                        className={classes.header}\n                        disableSticky\n                    >\n                        <>\n                            <Typography\n                                className={classes.headerGroup}\n                                variant=\"subtitle1\"\n                            >\n                                {translate(group.label.toString(), {\n                                    _: group.label,\n                                })}\n                            </Typography>\n                            <Typography\n                                className={classes.headerCount}\n                                variant=\"subtitle1\"\n                            >\n                                {translate('ra-search.result', {\n                                    smart_count: group.data.length,\n                                })}\n                            </Typography>\n                        </>\n                    </ListSubheader>\n                    {group.data.map(searchResultItem => (\n                        <CustomSearchResultItem\n                            key={searchResultItem.id}\n                            data={searchResultItem}\n                            onClose={onClose}\n                        />\n                    ))}\n                </Fragment>\n            ))}\n        </List>\n    );\n};\n\nconst useCustomSearchPanelStyles = makeStyles(theme => ({\n    root: {\n        maxHeight: 'calc(100vh - 100px)',\n        maxWidth: 512,\n        overflowX: 'hidden',\n    },\n    header: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        padding: theme.spacing(1, 2),\n    },\n    headerGroup: {\n        textTransform: 'capitalize',\n    },\n    headerCount: {\n        textTransform: 'lowercase',\n    },\n}));\n\nconst CustomSearchResultItem: FC<any> = props => {\n    const { data, onClose, ...rest } = props;\n\n    if (!data) {\n        return null;\n    }\n\n    switch (data.type) {\n        case 'customers':\n            return <CustomerListItem {...rest} data={data} onClick={onClose} />;\n        case 'products':\n            return <ProductListItem {...rest} data={data} onClick={onClose} />;\n        case 'commands':\n            return <CommandListItem {...rest} data={data} onClick={onClose} />;\n        case 'reviews':\n            return <ReviewListItem {...rest} data={data} onClick={onClose} />;\n        default:\n            return null;\n    }\n};\n","import React, { ReactElement } from 'react';\nimport { EventRecord, Timeline } from '@react-admin/ra-audit-log';\nimport { CardHeader } from '@material-ui/core';\nimport { useTranslate, useGetList } from 'ra-core';\n\nconst MyTimeline = (): ReactElement => {\n    const translate = useTranslate();\n    const { data: events, loaded } = useGetList<EventRecord>(\n        'events',\n        { perPage: 100, page: 1 },\n        { field: 'date', order: 'DESC' },\n        {}\n    );\n    const records = Object.values(events);\n    return (\n        <>\n            <CardHeader title={translate('pos.dashboard.timeline')} />\n            <Timeline loaded={loaded} records={records} />\n        </>\n    );\n};\n\nexport default MyTimeline;\n","export default __webpack_public_path__ + \"static/media/welcome_illustration.cd84d2be.svg\";","import * as React from 'react';\nimport { FC } from 'react';\nimport { Box, Card, CardActions, Button, Typography } from '@material-ui/core';\nimport HomeIcon from '@material-ui/icons/Home';\nimport TourIcon from '@material-ui/icons/Flag';\nimport GitHubIcon from '@material-ui/icons/GitHub';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate } from 'react-admin';\n\nimport publishArticleImage from './welcome_illustration.svg';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        background:\n            theme.palette.type === 'dark'\n                ? '#535353'\n                : `linear-gradient(to right, #8975fb 0%, #746be7 35%), linear-gradient(to bottom, #8975fb 0%, #6f4ceb 50%), #6f4ceb`,\n        color: '#fff',\n        padding: 20,\n        marginTop: theme.spacing(2),\n        marginBottom: '1em',\n    },\n    media: {\n        background: `url(${publishArticleImage}) top right / cover`,\n        marginLeft: 'auto',\n    },\n    actions: {\n        [theme.breakpoints.down('md')]: {\n            padding: 0,\n            flexWrap: 'wrap',\n            '& a': {\n                marginTop: '1em',\n                marginLeft: '0!important',\n                marginRight: '1em',\n            },\n        },\n    },\n}));\n\nconst Welcome: FC = () => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <Card className={classes.root}>\n            <Box display=\"flex\">\n                <Box flex=\"1\">\n                    <Typography variant=\"h5\" component=\"h2\" gutterBottom>\n                        {translate('pos.dashboard.welcome.title')}\n                    </Typography>\n                    <Box maxWidth=\"50em\">\n                        <Typography variant=\"body1\" component=\"p\" gutterBottom>\n                            {translate('pos.dashboard.welcome.subtitle')}\n                        </Typography>\n                    </Box>\n                    <CardActions className={classes.actions}>\n                        <Button\n                            variant=\"contained\"\n                            href=\"#/tours\"\n                            startIcon={<TourIcon />}\n                        >\n                            {translate('pos.dashboard.welcome.demo_button')}\n                        </Button>\n                        <Button\n                            variant=\"contained\"\n                            href=\"https://marmelab.com/ra-enterprise/\"\n                            startIcon={<HomeIcon />}\n                        >\n                            {translate('pos.dashboard.welcome.ra_button')}\n                        </Button>\n                        <Button\n                            variant=\"contained\"\n                            href=\"https://github.com/marmelab/ra-enterprise-demo\"\n                            target=\"demo_source_code\"\n                            startIcon={<GitHubIcon />}\n                        >\n                            {translate('pos.dashboard.welcome.github_button')}\n                        </Button>\n                    </CardActions>\n                </Box>\n\n                <Box\n                    display={{ xs: 'none', sm: 'none', md: 'block' }}\n                    className={classes.media}\n                    width=\"16em\"\n                    height=\"9em\"\n                    overflow=\"hidden\"\n                />\n            </Box>\n        </Card>\n    );\n};\n\nexport default Welcome;\n","import * as React from 'react';\nimport { FC, createElement } from 'react';\nimport { Card, Box, Typography, Divider } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\n\nimport cartouche from './cartouche.png';\nimport cartoucheDark from './cartoucheDark.png';\n\ninterface Props {\n    icon: FC<any>;\n    to: string;\n    title?: string;\n    subtitle?: string | number;\n}\n\nconst useStyles = makeStyles(theme => ({\n    card: {\n        minHeight: 52,\n        flex: '1',\n        '& a': {\n            textDecoration: 'none',\n            color: 'inherit',\n        },\n    },\n    main: {\n        overflow: 'inherit',\n        padding: 16,\n        background: `url(${\n            theme.palette.type === 'dark' ? cartoucheDark : cartouche\n        }) no-repeat`,\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        '& .icon': {\n            color: theme.palette.type === 'dark' ? 'inherit' : '#dc2440',\n        },\n    },\n    title: {},\n}));\n\nconst CardWithIcon: FC<Props> = props => {\n    const { icon, title, subtitle, to, children } = props;\n    const classes = useStyles(props);\n    return (\n        <Card className={classes.card}>\n            <Link to={to}>\n                <div className={classes.main}>\n                    <Box width=\"3em\" className=\"icon\">\n                        {createElement(icon, { fontSize: 'large' })}\n                    </Box>\n                    <Box textAlign=\"right\">\n                        <Typography\n                            className={classes.title}\n                            color=\"textSecondary\"\n                        >\n                            {title}\n                        </Typography>\n                        <Typography variant=\"h5\" component=\"h2\">\n                            {subtitle || ' '}\n                        </Typography>\n                    </Box>\n                </div>\n            </Link>\n            {children && <Divider />}\n            {children}\n        </Card>\n    );\n};\n\nexport default CardWithIcon;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAABZCAMAAAD//SY8AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAO1QTFRFU1NTU1NTUFBQAAAAUVFRUVFRU1NTT09PU1NTR0dHUlJSTk5OUlJSUVFRUlJSTk5OU1NTT09PS0tLU1NTUVFRUVFRU1NTUVFRUlJSUVFRS0tLUFBQUVFRUVFRUVFRUVFRQEBAUVFRU1NTU1NTU1NTU1NTU1NTU1NTSUlJUFBQU1NTUlJSUVFRTk5OT09PUVFRSkpKUVFRU1NTU1NTTk5OT09PUlJSTU1NUVFRU1NTSEhIU1NTUVFRUVFRUVFROzs7U1NTU1NTUlJSKysrU1NTUlJSRkZGU1NTTU1NU1NTUlJSUVFRUVFRU1NTSUlJap2IRgAAAE90Uk5T/+EzAOw57TfnK9cXvptwO86KPcVl43LiZMk6kuY/hcYIPGmRs+TzJQ6QzIzTSISuLcdNz1xar0nliCepUvtfDdiUTgbRmSFvVqO4ytnwFVkGdGQAAAKuSURBVHic7d3XVhRBGEXhAoExoZjGBKKCcVTMWcxK9P0fxwvvq6u7z79OlezvCeqsvYABOqSkMDd/DO2QNE9pYdE9BOVE0dPSxL0ExVTR0/ET7ikoJYueTp5yb0EhXfR02r0FhYTR07J7DMooo6cz7jUoIo2ezrrnoIQ2+op7Dkpoo6dz7j0oII6ezrsHoZs6+gX3IHRTR08X3YvQSR79knsROsmjp6l7Erroo192T0IXffR0xb0JHQKiX3VvQoeA6OmaexTyIqJfd49CXkT0Vfco5EVET2vuVcgKiX7DvQpZIdHX3auQFRI93XTPQk5M9FvuWciJiX7bPQs5MdE33LOQExN90z0LOTHRuUCyajHR77hnIScm+l33LOTERE/uWcgh+hFE9CMopjk/06sWE51P71WLic7v6VWLic5f5KoWE33DPQs5MdH5L1vVYqLz//SqxUTnypmqhTTnGrm6hUTnati6hUTnuve6RTTnDpfKRUTnXrbKRUTnrtXKBTTn/vTaBUTnSRS10zfnmTPV00fn6VLVkzfnOXL1k0fniZH1Uzfn2bANUEfnKdANEDfnee8t0DbngsgmaKPzDpcmSJvztqY2KJvzXrZGCJvzBsZW6JrzrtVmyJrzVuV2qJrz/vSGiJovLLqHoJym+dy8ewd6kDRfueeegT4UzTfvu1egF0HzB+4N6Gl8c66aaM7Y5A/5CNeekc1n7vNjgFHJHz12Hx9DjGn+xH14DDM8+dZT99kx0NDkz567T47BhiV/8dJ9boww6Kv8lfvUGKV/8tdv3GfGSD2Lv3333n1ijNYr+YeP7uNCoTj4p63tz+7DQqOs+Jev3767TwqZ7uA/fm7/cp8SUrncS+vLv9f4nv7/SZOd6Wx3b/9g9fBf6cPVg/293dl0Z/LHfTYE+Qucis5DBf5HsAAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAABZCAMAAAD//SY8AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAO1QTFRF/Ors/Ojs+ubrAAAA/Ojs++np/Ojs9ujo/Onq8+Hh+urr9Onp++rr/Orq+Obr++Xl+urq+enr++bm+uns+ubr/Ors++nr/Ors+ubr+ujs++Xl/Ofs/Orq++fr+ers+ujsv7+/++rq+Ofs+urs++rq/Ors/Onq8d3j7dvb+urs+urr+ufr+ujs+Orq+ers++js9OPj+ujs/Ojo+unq9+ns9+bo++jr/Ofn/Orr+enp8uXl/Orq/Obm/Ors+urq2NjY+urr/Onp/OXo1dXV+ujq/Ojr8Ojo+Obo9uTn/Ojr++ns+urr+urq/Ors8+fnTQPn1wAAAE90Uk5T/+EzAOw57TfnK9cXvptwO86KPcVl43LiZMk6kuY/hcYIPGmRs+TzJQ6QzIzTSISuLcdNz1xar0nliCepUvtfDdiUTgbRmSFvVqO4ytnwFVkGdGQAAAKuSURBVHic7d3XVhRBGEXhAoExoZjGBKKCcVTMWcxK9P0fxwvvq6u7z79OlezvCeqsvYABOqSkMDd/DO2QNE9pYdE9BOVE0dPSxL0ExVTR0/ET7ikoJYueTp5yb0EhXfR02r0FhYTR07J7DMooo6cz7jUoIo2ezrrnoIQ2+op7Dkpoo6dz7j0oII6ezrsHoZs6+gX3IHRTR08X3YvQSR79knsROsmjp6l7Erroo192T0IXffR0xb0JHQKiX3VvQoeA6OmaexTyIqJfd49CXkT0Vfco5EVET2vuVcgKiX7DvQpZIdHX3auQFRI93XTPQk5M9FvuWciJiX7bPQs5MdE33LOQExN90z0LOTHRuUCyajHR77hnIScm+l33LOTERE/uWcgh+hFE9CMopjk/06sWE51P71WLic7v6VWLic5f5KoWE33DPQs5MdH5L1vVYqLz//SqxUTnypmqhTTnGrm6hUTnati6hUTnuve6RTTnDpfKRUTnXrbKRUTnrtXKBTTn/vTaBUTnSRS10zfnmTPV00fn6VLVkzfnOXL1k0fniZH1Uzfn2bANUEfnKdANEDfnee8t0DbngsgmaKPzDpcmSJvztqY2KJvzXrZGCJvzBsZW6JrzrtVmyJrzVuV2qJrz/vSGiJovLLqHoJym+dy8ewd6kDRfueeegT4UzTfvu1egF0HzB+4N6Gl8c66aaM7Y5A/5CNeekc1n7vNjgFHJHz12Hx9DjGn+xH14DDM8+dZT99kx0NDkz567T47BhiV/8dJ9boww6Kv8lfvUGKV/8tdv3GfGSD2Lv3333n1ijNYr+YeP7uNCoTj4p63tz+7DQqOs+Jev3767TwqZ7uA/fm7/cp8SUrncS+vLv9f4nv7/SZOd6Wx3b/9g9fBf6cPVg/293dl0Z/LHfTYE+Qucis5DBf5HsAAAAABJRU5ErkJggg==\"","import * as React from 'react';\nimport { FC } from 'react';\nimport DollarIcon from '@material-ui/icons/AttachMoney';\nimport { useTranslate } from 'react-admin';\n\nimport CardWithIcon from './CardWithIcon';\n\ninterface Props {\n    value?: string;\n}\n\nconst MonthlyRevenue: FC<Props> = ({ value }) => {\n    const translate = useTranslate();\n    return (\n        <CardWithIcon\n            to=\"/commands\"\n            icon={DollarIcon}\n            title={translate('pos.dashboard.monthly_revenue')}\n            subtitle={value}\n        />\n    );\n};\n\nexport default MonthlyRevenue;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\nimport { useTranslate } from 'react-admin';\n\nimport CardWithIcon from './CardWithIcon';\n\ninterface Props {\n    value?: number;\n}\n\nconst NbNewOrders: FC<Props> = ({ value }) => {\n    const translate = useTranslate();\n    return (\n        <CardWithIcon\n            to=\"/commands\"\n            icon={ShoppingCartIcon}\n            title={translate('pos.dashboard.new_orders')}\n            subtitle={value}\n        />\n    );\n};\n\nexport default NbNewOrders;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Avatar from '@material-ui/core/Avatar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { useTranslate } from 'react-admin';\nimport { Customer, Order } from '../types';\n\ninterface Props {\n    orders?: Order[];\n    customers?: { [key: string]: Customer };\n}\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        flex: 1,\n    },\n    cost: {\n        marginRight: '1em',\n        color: theme.palette.text.primary,\n    },\n}));\n\nconst PendingOrders: FC<Props> = ({ orders = [], customers = {} }) => {\n    const classes = useStyles();\n    const translate = useTranslate();\n    return (\n        <Card className={classes.root}>\n            <CardHeader title={translate('pos.dashboard.pending_orders')} />\n            <List dense={true}>\n                {orders.map(record => (\n                    <ListItem\n                        key={record.id}\n                        button\n                        component={Link}\n                        to={`/commands/${record.id}`}\n                    >\n                        <ListItemAvatar>\n                            {customers[record.customer_id] ? (\n                                <Avatar\n                                    src={`${\n                                        customers[record.customer_id].avatar\n                                    }?size=32x32`}\n                                />\n                            ) : (\n                                <Avatar />\n                            )}\n                        </ListItemAvatar>\n                        <ListItemText\n                            primary={new Date(record.date).toLocaleString(\n                                'en-GB'\n                            )}\n                            secondary={translate('pos.dashboard.order.items', {\n                                smart_count: record.basket.length,\n                                nb_items: record.basket.length,\n                                customer_name: customers[record.customer_id]\n                                    ? `${\n                                          customers[record.customer_id]\n                                              .first_name\n                                      } ${\n                                          customers[record.customer_id]\n                                              .last_name\n                                      }`\n                                    : '',\n                            })}\n                        />\n                        <ListItemSecondaryAction>\n                            <span className={classes.cost}>\n                                {record.total}$\n                            </span>\n                        </ListItemSecondaryAction>\n                    </ListItem>\n                ))}\n            </List>\n        </Card>\n    );\n};\n\nexport default PendingOrders;\n","import * as React from 'react';\nimport {\n    List,\n    ListItem,\n    ListItemAvatar,\n    ListItemText,\n    Avatar,\n    Card,\n    CardHeader,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CommentIcon from '@material-ui/icons/Comment';\nimport { Link } from 'react-router-dom';\nimport { useTranslate } from 'react-admin';\n\nimport CardWithIcon from './CardWithIcon';\nimport StarRatingField from '../reviews/StarRatingField';\nimport { Customer, Review } from '../types';\n\nconst useStyles = makeStyles(theme => ({\n    avatar: {\n        background: theme.palette.background.paper,\n    },\n    listItemText: {\n        overflowY: 'hidden',\n        height: '4em',\n        display: '-webkit-box',\n        WebkitLineClamp: 2,\n        WebkitBoxOrient: 'vertical',\n    },\n    root: {\n        flex: 1,\n    },\n}));\n\nexport const NbPendingReviews = ({\n    value,\n}: {\n    value?: number;\n}): React.ReactElement => {\n    const translate = useTranslate();\n\n    return (\n        <CardWithIcon\n            to=\"/reviews\"\n            icon={CommentIcon}\n            title={translate('pos.dashboard.pending_reviews')}\n            subtitle={value}\n        />\n    );\n};\n\nconst PendingReviews = ({\n    reviews = [],\n    customers = {},\n}: {\n    reviews?: Review[];\n    customers?: { [key: string]: Customer };\n}): React.ReactElement => {\n    const classes = useStyles();\n    const translate = useTranslate();\n    return (\n        <Card className={classes.root}>\n            <CardHeader title={translate('pos.dashboard.pending_reviews')} />\n            <List>\n                {reviews.map((record: Review) => (\n                    <ListItem\n                        key={record.id}\n                        button\n                        component={Link}\n                        to={`/reviews/${record.id}`}\n                        alignItems=\"flex-start\"\n                    >\n                        <ListItemAvatar>\n                            {customers[record.customer_id] ? (\n                                <Avatar\n                                    src={`${\n                                        customers[record.customer_id].avatar\n                                    }?size=32x32`}\n                                    className={classes.avatar}\n                                />\n                            ) : (\n                                <Avatar />\n                            )}\n                        </ListItemAvatar>\n\n                        <ListItemText\n                            primary={<StarRatingField record={record} />}\n                            secondary={record.comment}\n                            className={classes.listItemText}\n                            style={{ paddingRight: 0 }}\n                        />\n                    </ListItem>\n                ))}\n            </List>\n        </Card>\n    );\n};\n\nexport default PendingReviews;\n","import * as React from 'react';\nimport { useMemo, ReactElement } from 'react';\nimport CustomerIcon from '@material-ui/icons/PersonAdd';\nimport { Link } from 'react-router-dom';\nimport { useTranslate, useQueryWithStore } from 'react-admin';\n\nimport {\n    Card,\n    makeStyles,\n    List,\n    ListItem,\n    ListItemAvatar,\n    ListItemText,\n    CircularProgress as Loading,\n    Avatar,\n    CardHeader,\n} from '@material-ui/core';\n\nimport CardWithIcon from './CardWithIcon';\nimport { Customer } from '../types';\n\nexport const NbNewCustomers = (): ReactElement => {\n    const translate = useTranslate();\n    const aMonthAgo = useMemo(() => {\n        const date = new Date();\n        date.setDate(date.getDate() - 30);\n        date.setHours(0);\n        date.setMinutes(0);\n        date.setSeconds(0);\n        date.setMilliseconds(0);\n        return date;\n    }, []);\n\n    const { loaded, data: visitors } = useQueryWithStore({\n        type: 'getList',\n        resource: 'customers',\n        payload: {\n            filter: {\n                has_ordered: true,\n                first_seen_gte: aMonthAgo.toISOString(),\n            },\n            sort: { field: 'first_seen', order: 'DESC' },\n            pagination: { page: 1, perPage: 100 },\n        },\n    });\n\n    if (!loaded) {\n        return <Loading />;\n    }\n\n    const nb = visitors ? visitors.reduce((nb: number) => ++nb, 0) : 0;\n\n    return (\n        <CardWithIcon\n            to=\"/customers\"\n            icon={CustomerIcon}\n            title={translate('pos.dashboard.new_customers')}\n            subtitle={nb}\n        />\n    );\n};\n\nconst NewCustomers = (): ReactElement => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    const aMonthAgo = useMemo(() => {\n        const date = new Date();\n        date.setDate(date.getDate() - 30);\n        date.setHours(0);\n        date.setMinutes(0);\n        date.setSeconds(0);\n        date.setMilliseconds(0);\n        return date;\n    }, []);\n\n    const { loaded, data: visitors } = useQueryWithStore({\n        type: 'getList',\n        resource: 'customers',\n        payload: {\n            filter: {\n                has_ordered: true,\n                first_seen_gte: aMonthAgo.toISOString(),\n            },\n            sort: { field: 'first_seen', order: 'DESC' },\n            pagination: { page: 1, perPage: 100 },\n        },\n    });\n\n    if (!loaded) {\n        return <Loading />;\n    }\n    return (\n        <Card className={classes.root}>\n            <CardHeader title={translate('pos.dashboard.new_customers')} />\n            <List>\n                {visitors\n                    ? visitors.map((record: Customer) => (\n                          <ListItem\n                              button\n                              to={`/customers/${record.id}`}\n                              component={Link}\n                              key={record.id}\n                          >\n                              <ListItemAvatar>\n                                  <Avatar src={`${record.avatar}?size=32x32`} />\n                              </ListItemAvatar>\n                              <ListItemText\n                                  primary={`${record.first_name} ${record.last_name}`}\n                              />\n                          </ListItem>\n                      ))\n                    : null}\n            </List>\n        </Card>\n    );\n};\n\nconst useStyles = makeStyles({\n    root: {\n        flex: 1,\n    },\n});\n\nexport default NewCustomers;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { Card, CardHeader, CardContent } from '@material-ui/core';\nimport {\n    ResponsiveContainer,\n    AreaChart,\n    Area,\n    XAxis,\n    YAxis,\n    CartesianGrid,\n    Tooltip,\n} from 'recharts';\nimport { useTranslate } from 'react-admin';\nimport { format, subDays, addDays } from 'date-fns';\n\nimport { Order } from '../types';\n\nconst lastDay = new Date();\nconst lastMonthDays = Array.from({ length: 30 }, (_, i) => subDays(lastDay, i));\nconst aMonthAgo = subDays(new Date(), 30);\n\nconst dateFormatter = (date: number): string =>\n    new Date(date).toLocaleDateString();\n\nconst aggregateOrdersByDay = (orders: Order[]): { [key: string]: number } =>\n    orders\n        .filter((order: Order) => order.status !== 'cancelled')\n        .reduce((acc, curr) => {\n            const day = format(curr.date, 'YYYY-MM-DD');\n            if (!acc[day]) {\n                acc[day] = 0;\n            }\n            acc[day] += curr.total;\n            return acc;\n        }, {} as { [key: string]: number });\n\nconst getRevenuePerDay = (orders: Order[]): TotalByDay[] => {\n    const daysWithRevenue = aggregateOrdersByDay(orders);\n    return lastMonthDays.map(date => ({\n        date: date.getTime(),\n        total: daysWithRevenue[format(date, 'YYYY-MM-DD')] || 0,\n    }));\n};\n\nconst OrderChart: FC<{ orders?: Order[] }> = ({ orders }) => {\n    const translate = useTranslate();\n    if (!orders) return null;\n\n    return (\n        <Card>\n            <CardHeader title={translate('pos.dashboard.month_history')} />\n            <CardContent>\n                <div style={{ width: '100%', height: 300 }}>\n                    <ResponsiveContainer>\n                        <AreaChart data={getRevenuePerDay(orders)}>\n                            <defs>\n                                <linearGradient\n                                    id=\"colorUv\"\n                                    x1=\"0\"\n                                    y1=\"0\"\n                                    x2=\"0\"\n                                    y2=\"1\"\n                                >\n                                    <stop\n                                        offset=\"5%\"\n                                        stopColor=\"#8884d8\"\n                                        stopOpacity={0.8}\n                                    />\n                                    <stop\n                                        offset=\"95%\"\n                                        stopColor=\"#8884d8\"\n                                        stopOpacity={0}\n                                    />\n                                </linearGradient>\n                            </defs>\n                            <XAxis\n                                dataKey=\"date\"\n                                name=\"Date\"\n                                type=\"number\"\n                                scale=\"time\"\n                                domain={[\n                                    addDays(aMonthAgo, 1).getTime(),\n                                    new Date().getTime(),\n                                ]}\n                                tickFormatter={dateFormatter}\n                            />\n                            <YAxis dataKey=\"total\" name=\"Revenue\" unit=\"€\" />\n                            <CartesianGrid strokeDasharray=\"3 3\" />\n                            <Tooltip\n                                cursor={{ strokeDasharray: '3 3' }}\n                                formatter={(value): string =>\n                                    new Intl.NumberFormat(undefined, {\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    }).format(value as any)\n                                }\n                                labelFormatter={(label: any): string =>\n                                    dateFormatter(label)\n                                }\n                            />\n                            <Area\n                                type=\"monotone\"\n                                dataKey=\"total\"\n                                stroke=\"#8884d8\"\n                                strokeWidth={2}\n                                fill=\"url(#colorUv)\"\n                            />\n                        </AreaChart>\n                    </ResponsiveContainer>\n                </div>\n            </CardContent>\n        </Card>\n    );\n};\n\ninterface TotalByDay {\n    date: number;\n    total: number;\n}\n\nexport default OrderChart;\n","import React, {\n    useState,\n    useEffect,\n    useCallback,\n    CSSProperties,\n    ReactElement,\n} from 'react';\nimport { useVersion, useDataProvider } from 'react-admin';\nimport { useMediaQuery, Theme } from '@material-ui/core';\nimport { EventRecord } from '@react-admin/ra-audit-log';\nimport Timeline from './Timeline';\nimport Welcome from './Welcome';\nimport MonthlyRevenue from './MonthlyRevenue';\nimport NbNewOrders from './NbNewOrders';\nimport PendingOrders from './PendingOrders';\nimport PendingReviews, { NbPendingReviews } from './PendingReviews';\nimport NewCustomers, { NbNewCustomers } from './NewCustomers';\nimport OrderChart from './OrderChart';\n\nimport type { Customer, Order, Review } from '../types';\n\ninterface OrderStats {\n    revenue: number;\n    nbNewOrders: number;\n    pendingOrders: Order[];\n}\n\ninterface CustomerData {\n    [key: string]: Customer;\n}\n\ninterface State {\n    events?: EventRecord[];\n    nbNewOrders?: number;\n    nbPendingReviews?: number;\n    pendingOrders?: Order[];\n    pendingOrdersCustomers?: CustomerData;\n    pendingReviews?: Review[];\n    pendingReviewsCustomers?: CustomerData;\n    recentOrders?: Order[];\n    revenue?: string;\n}\n\nconst styles = {\n    flex: { display: 'flex' },\n    flexColumn: { display: 'flex', flexDirection: 'column' },\n    leftCol: { flex: 1, marginRight: '0.5em' },\n    rightCol: { marginLeft: '0.5em', maxWidth: '30em' },\n    singleCol: { marginTop: '1em', marginBottom: '1em' },\n};\n\nconst Spacer = (): ReactElement => <span style={{ width: '1em' }} />;\nconst VerticalSpacer = (): ReactElement => <span style={{ height: '1em' }} />;\n\nconst Dashboard = (): ReactElement => {\n    const [state, setState] = useState<State>({});\n    const version = useVersion();\n    const dataProvider = useDataProvider();\n    const isXSmall = useMediaQuery((theme: Theme) =>\n        theme.breakpoints.down('xs')\n    );\n    const isSmall = useMediaQuery((theme: Theme) =>\n        theme.breakpoints.down('md')\n    );\n\n    const fetchOrders = useCallback(async () => {\n        const aMonthAgo = new Date();\n        aMonthAgo.setDate(aMonthAgo.getDate() - 30);\n        const { data: recentOrders } = await dataProvider.getList<Order>(\n            'commands',\n            {\n                filter: { date_gte: aMonthAgo.toISOString() },\n                sort: { field: 'date', order: 'DESC' },\n                pagination: { page: 1, perPage: 50 },\n            }\n        );\n        const aggregations = recentOrders\n            .filter(order => order.status !== 'cancelled')\n            .reduce(\n                (stats: OrderStats, order) => {\n                    if (order.status !== 'cancelled') {\n                        stats.revenue += order.total;\n                        stats.nbNewOrders++;\n                    }\n                    if (order.status === 'ordered') {\n                        stats.pendingOrders.push(order);\n                    }\n                    return stats;\n                },\n                {\n                    revenue: 0,\n                    nbNewOrders: 0,\n                    pendingOrders: [],\n                }\n            );\n        setState(state => ({\n            ...state,\n            recentOrders,\n            revenue: aggregations.revenue.toLocaleString(undefined, {\n                style: 'currency',\n                currency: 'USD',\n                minimumFractionDigits: 0,\n                maximumFractionDigits: 0,\n            }),\n            nbNewOrders: aggregations.nbNewOrders,\n            pendingOrders: aggregations.pendingOrders,\n        }));\n        const { data: customers } = await dataProvider.getMany<Customer>(\n            'customers',\n            {\n                ids: aggregations.pendingOrders.map(\n                    (order: Order) => order.customer_id\n                ),\n            }\n        );\n        setState(state => ({\n            ...state,\n            pendingOrdersCustomers: customers.reduce(\n                (prev: CustomerData, customer) => {\n                    prev[customer.id] = customer; // eslint-disable-line no-param-reassign\n                    return prev;\n                },\n                {}\n            ),\n        }));\n    }, [dataProvider]);\n\n    const fetchReviews = useCallback(async () => {\n        const { data: reviews } = await dataProvider.getList<Review>(\n            'reviews',\n            {\n                filter: { status: 'pending' },\n                sort: { field: 'date', order: 'DESC' },\n                pagination: { page: 1, perPage: 100 },\n            }\n        );\n        const nbPendingReviews = reviews.reduce((nb: number) => ++nb, 0);\n        const pendingReviews = reviews.slice(0, Math.min(10, reviews.length));\n        setState(state => ({ ...state, pendingReviews, nbPendingReviews }));\n        const { data: customers } = await dataProvider.getMany<Customer>(\n            'customers',\n            {\n                ids: pendingReviews.map((review: Review) => review.customer_id),\n            }\n        );\n        setState(state => ({\n            ...state,\n            pendingReviewsCustomers: customers.reduce(\n                (prev: CustomerData, customer) => {\n                    prev[customer.id] = customer; // eslint-disable-line no-param-reassign\n                    return prev;\n                },\n                {}\n            ),\n        }));\n    }, [dataProvider]);\n\n    useEffect(() => {\n        fetchOrders();\n        fetchReviews();\n    }, [version]); // eslint-disable-line react-hooks/exhaustive-deps\n\n    const {\n        nbNewOrders,\n        nbPendingReviews,\n        pendingOrders,\n        pendingOrdersCustomers,\n        pendingReviews,\n        pendingReviewsCustomers,\n        revenue,\n        recentOrders,\n    } = state;\n    return isXSmall ? (\n        <div>\n            <div style={styles.flexColumn as CSSProperties}>\n                <Welcome />\n                <MonthlyRevenue value={revenue} />\n                <VerticalSpacer />\n                <NbNewOrders value={nbNewOrders} />\n                <VerticalSpacer />\n                <PendingOrders\n                    orders={pendingOrders}\n                    customers={pendingOrdersCustomers}\n                />\n                <VerticalSpacer />\n                <Timeline />\n            </div>\n        </div>\n    ) : isSmall ? (\n        <div style={styles.flexColumn as CSSProperties}>\n            <div style={styles.singleCol}>\n                <Welcome />\n            </div>\n            <div style={styles.flex}>\n                <MonthlyRevenue value={revenue} />\n                <Spacer />\n                <NbNewOrders value={nbNewOrders} />\n            </div>\n            <div style={styles.singleCol}>\n                <OrderChart orders={recentOrders} />\n            </div>\n            <div style={styles.singleCol}>\n                <PendingOrders\n                    orders={pendingOrders}\n                    customers={pendingOrdersCustomers}\n                />\n            </div>\n            <div style={styles.singleCol}>\n                <Timeline />\n            </div>\n        </div>\n    ) : (\n        <>\n            <Welcome />\n            <div style={styles.flex}>\n                <div style={styles.leftCol}>\n                    <div style={styles.flex}>\n                        <MonthlyRevenue value={revenue} />\n                        <Spacer />\n                        <NbNewOrders value={nbNewOrders} />\n                        <Spacer />\n                        <NbPendingReviews value={nbPendingReviews} />\n                        <Spacer />\n                        <NbNewCustomers />\n                    </div>\n                    <div style={styles.singleCol}>\n                        <OrderChart orders={recentOrders} />\n                    </div>\n                    <div style={styles.flex}>\n                        <PendingOrders\n                            orders={pendingOrders}\n                            customers={pendingOrdersCustomers}\n                        />\n                        <Spacer />\n                        <PendingReviews\n                            reviews={pendingReviews}\n                            customers={pendingReviewsCustomers}\n                        />\n                        <Spacer />\n                        <NewCustomers />\n                    </div>\n                </div>\n                <div style={styles.rightCol}>\n                    <Timeline />\n                </div>\n            </div>\n        </>\n    );\n};\n\nexport default Dashboard;\n","import DashboardComponent from './Dashboard';\n\nexport const Dashboard = DashboardComponent;\n","import React, { FC } from 'react';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { Identifier, useTranslate } from 'react-admin';\nimport { stringify } from 'query-string';\n\nimport visitors from '../visitors';\n\nconst useStyles = makeStyles({\n    icon: { paddingRight: '0.5em' },\n    link: {\n        display: 'inline-flex',\n        alignItems: 'center',\n    },\n});\n\nconst LinkToRelatedCustomers: FC<{ segment: Identifier }> = ({ segment }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <Button\n            size=\"small\"\n            color=\"primary\"\n            component={Link}\n            to={{\n                pathname: '/customers',\n                search: stringify({\n                    page: 1,\n                    perPage: 25,\n                    filter: JSON.stringify({ groups: segment }),\n                }),\n            }}\n            className={classes.link}\n        >\n            <visitors.icon className={classes.icon} />\n            {translate('resources.segments.fields.customers')}\n        </Button>\n    );\n};\n\nexport default LinkToRelatedCustomers;\n","import React, { FC } from 'react';\nimport Card from '@material-ui/core/Card';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate, Title } from 'react-admin';\n\nimport LinkToRelatedCustomers from './LinkToRelatedCustomers';\nimport { useDefineAppLocation } from '@react-admin/ra-navigation';\nimport segments from './data';\nimport { Breadcrumb } from '../layout';\n\nconst useStyles = makeStyles({\n    root: {\n        marginTop: 16,\n    },\n});\n\nconst Segments: FC = () => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    useDefineAppLocation('customers.segments');\n    return (\n        <>\n            <Breadcrumb />\n            <Card className={classes.root}>\n                <Title title={translate('resources.segments.name')} />\n                <Table size=\"small\">\n                    <TableHead>\n                        <TableRow>\n                            <TableCell>\n                                {translate('resources.segments.fields.name')}\n                            </TableCell>\n                            <TableCell />\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        {segments.map(segment => (\n                            <TableRow key={segment.id}>\n                                <TableCell>{translate(segment.name)}</TableCell>\n                                <TableCell>\n                                    <LinkToRelatedCustomers\n                                        segment={segment.id}\n                                    />\n                                </TableCell>\n                            </TableRow>\n                        ))}\n                    </TableBody>\n                </Table>\n            </Card>\n        </>\n    );\n};\n\nexport default Segments;\n","import React, { FC, useEffect } from 'react';\nimport { Redirect, useParams } from 'react-router';\nimport { useTour } from '@react-admin/ra-tour';\n\nconst TourLauncher: FC = () => {\n    const { tour } = useParams<{ tour: string }>();\n    const [{ running }, { start }] = useTour();\n\n    useEffect(() => {\n        if (start && !running) {\n            start(tour);\n            return;\n        }\n    });\n\n    return running ? <Redirect to=\"/\" /> : null;\n};\n\nexport default TourLauncher;\n","import React, { FC } from 'react';\nimport { Record } from 'react-admin';\nimport { useTour } from '@react-admin/ra-tour';\nimport classnames from 'classnames';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport PlayIcon from '@material-ui/icons/PlayArrow';\nimport NewReleasesIcon from '@material-ui/icons/NewReleases';\nimport { useTourState } from './useTourState';\n\nconst useStyles = makeStyles({\n    root: {\n        maxWidth: 345,\n        cursor: 'pointer',\n        margin: 20,\n        opacity: 0.9,\n        transition: 'opacity 0.3s ease-in-out',\n        '&:hover,&:focus-within': {\n            opacity: 1,\n        },\n    },\n    visited: {\n        opacity: 0.6,\n    },\n    media: {\n        height: 140,\n    },\n    rightButton: {\n        marginLeft: 'auto',\n    },\n    content: {\n        position: 'relative',\n        minHeight: 125,\n    },\n    newIcon: {\n        position: 'absolute',\n        top: 10,\n        right: 10,\n    },\n    actions: {\n        paddingBottom: 0,\n    },\n    buyIcon: {\n        marginLeft: 'auto !important',\n    },\n    playedOnIndicator: {\n        paddingLeft: 16,\n        paddingTop: 0,\n        paddingBottom: 16,\n    },\n});\n\nconst Tour: FC<{ record: Record }> = ({ record }) => {\n    const classes = useStyles();\n    const [playedOn, tourStateActions] = useTourState(record.id.toString());\n    // eslint-disable-next-line no-unused-vars\n    const [_, { start }] = useTour();\n\n    const handlePlayClicked = (): void => {\n        if (start) {\n            start(record.tour);\n        }\n        tourStateActions.markAsPlayed();\n    };\n\n    return (\n        <Card\n            className={classnames(classes.root, {\n                [classes.visited]: !!playedOn,\n            })}\n            onClick={handlePlayClicked}\n        >\n            <CardMedia\n                className={classes.media}\n                image={`${process.env.PUBLIC_URL}/${record.image}`}\n                title={record.title}\n            />\n            <CardContent className={classes.content}>\n                {!record.playedOn && (\n                    <NewReleasesIcon\n                        color=\"error\"\n                        fontSize=\"large\"\n                        className={classes.newIcon}\n                    />\n                )}\n                <Typography variant=\"h5\" component=\"h2\" gutterBottom>\n                    {record.title}\n                </Typography>\n                <Typography variant=\"body2\" gutterBottom>\n                    {record.comment}\n                </Typography>\n            </CardContent>\n            <CardActions className={classes.actions}>\n                <Button size=\"small\" startIcon={<PlayIcon />} color=\"primary\">\n                    Play\n                </Button>\n            </CardActions>\n            <div className={classes.playedOnIndicator}>\n                <Typography\n                    variant=\"caption\"\n                    display=\"block\"\n                    color=\"textSecondary\"\n                >\n                    {!!playedOn\n                        ? `Last played on ${new Date(\n                              playedOn\n                          ).toLocaleString()}`\n                        : `Never played before`}\n                </Typography>\n            </div>\n        </Card>\n    );\n};\n\nexport default Tour;\n","import React, { ReactElement } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PlaylistAddCheckIcon from '@material-ui/icons/PlaylistAddCheck';\nimport RotateLeftIcon from '@material-ui/icons/RotateLeft';\nimport { TopToolbar, Button } from 'react-admin';\nimport tours from './data';\n\nimport Tour from './Tour';\nimport { useTourStates } from './useTourState';\nimport { useDefineAppLocation } from '@react-admin/ra-navigation';\n\nconst useListStyles = makeStyles({\n    gridContainer: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        marginLeft: '-20px',\n        marginRight: '-20px',\n    },\n});\n\nconst ListActions = (): ReactElement => {\n    const [_, tourStatesActions] = useTourStates();\n\n    return (\n        <TopToolbar>\n            <Button\n                label=\"Mark all as played\"\n                onClick={(): void => tourStatesActions.markAllAsPlayed()}\n            >\n                <PlaylistAddCheckIcon />\n            </Button>\n            <Button\n                label=\"Reset\"\n                onClick={(): void => tourStatesActions.resetAll()}\n            >\n                <RotateLeftIcon />\n            </Button>\n        </TopToolbar>\n    );\n};\n\nconst TourList = (): ReactElement => {\n    const classes = useListStyles();\n    useDefineAppLocation('tours');\n    return (\n        <>\n            <ListActions />\n            <div className={classes.gridContainer}>\n                {tours.map(tour => (\n                    <Tour key={tour.id} record={tour} />\n                ))}\n            </div>\n        </>\n    );\n};\n\nexport default TourList;\n","import React from 'react';\nimport { Route } from 'react-router-dom';\nimport Segments from './segments/Segments';\nimport TourLauncher from './tours/TourLauncher';\nimport TourList from './tours/TourList';\n\nexport default [\n    <Route key=\"segments\" exact path=\"/segments\" render={() => <Segments />} />,\n    <Route key=\"tours\" path=\"/tours\" render={() => <TourList />} />,\n    <Route\n        key=\"tour-launcher\"\n        path=\"/tours/:tour\"\n        render={() => <TourLauncher />}\n    />,\n];\n","import {\n    mergeTranslations,\n    TranslationMessages as BaseTranslationMessages,\n} from 'react-admin';\nimport englishMessages from 'ra-language-english';\nimport { RaTreeTranslationMessages } from '@react-admin/ra-tree';\nimport { raAuditLogLanguageEnglish } from '@react-admin/ra-audit-log';\n\nexport interface TranslationMessages\n    extends RaTreeTranslationMessages,\n        BaseTranslationMessages {}\n\nconst customEnglishMessages: TranslationMessages = mergeTranslations(\n    englishMessages,\n    raAuditLogLanguageEnglish,\n    {\n        'ra-tree': {\n            action: {\n                add_root: 'Add a category of products',\n            },\n        },\n        'ra-search': {\n            result: `1 result |||| %{smart_count} results`,\n        },\n        pos: {\n            search: 'Search',\n            configuration: 'Configuration',\n            language: 'Language',\n            theme: {\n                name: 'Theme',\n                light: 'Light',\n                dark: 'Dark',\n            },\n            filter: 'Filtered by',\n            dashboard: {\n                monthly_revenue: 'Monthly Revenue',\n                month_history: '30 Day Revenue History',\n                new_orders: 'New Orders',\n                pending_reviews: 'Pending Reviews',\n                new_customers: 'New Customers',\n                pending_orders: 'Pending Orders',\n                order: {\n                    items:\n                        'by %{customer_name}, one item |||| by %{customer_name}, %{nb_items} items',\n                },\n                timeline: 'Timeline',\n                welcome: {\n                    title: 'Welcome to the react-admin enterprise edition demo',\n                    subtitle:\n                        \"This is the admin of an imaginary poster shop showcasing enterprise edition private modules usage. Feel free to explore and modify the data - it's local to your computer, and will reset each time you reload.\",\n                    ra_button: 'react-admin enterprise edition site',\n                    demo_button: 'See the showcase',\n                    github_button: 'See the source code',\n                },\n            },\n            menu: {\n                sales: 'Sales',\n                catalog: 'Catalog',\n                my_queries: 'My queries',\n                customers: 'Customers',\n                new_customers: 'New Customers',\n                all_customers: 'All Customers',\n                visitors: 'Visitors',\n                all_reviews: 'All reviews',\n                pending_reviews: 'Pending reviews',\n                bad_reviews: 'Bad reviews',\n            },\n            reviews: {\n                accepted: 'Accepted',\n                rejected: 'Rejected',\n                pending: 'Pending',\n            },\n        },\n        resources: {\n            customers: {\n                name: 'Customer |||| Customers',\n                fields: {\n                    commands: 'Orders',\n                    first_seen: 'First seen',\n                    groups: 'Segments',\n                    last_seen: 'Last seen',\n                    last_seen_gte: 'Visited Since',\n                    name: 'Name',\n                    total_spent: 'Total spent',\n                    password: 'Password',\n                    confirm_password: 'Confirm password',\n                    address: 'Address',\n                    birthday: 'Birthday',\n                    city: 'City',\n                    first_name: 'First name',\n                    has_newsletter: 'Has Newsletter',\n                    has_ordered: 'Has ordered',\n                    last_name: 'Last name',\n                    latest_purchase: 'Latest purchase',\n                    zipcode: 'Postal code',\n                    nb_commands: 'Orders',\n                },\n                filters: {\n                    last_visited: 'Last visited',\n                    today: 'Today',\n                    this_week: 'This week',\n                    last_week: 'Last week',\n                    this_month: 'This month',\n                    last_month: 'Last month',\n                    earlier: 'Earlier',\n                    has_ordered: 'Has ordered',\n                    has_newsletter: 'Has newsletter',\n                    group: 'Segment',\n                },\n                fieldGroups: {\n                    identity: 'Identity',\n                    address: 'Address',\n                    stats: 'Stats',\n                    history: 'History',\n                    password: 'Password',\n                    change_password: 'Change Password',\n                },\n                page: {\n                    delete: 'Delete Customer',\n                },\n                errors: {\n                    password_mismatch:\n                        'The password confirmation is not the same as the password.',\n                },\n            },\n            commands: {\n                name: 'Order |||| Orders',\n                amount: '1 order |||| %{smart_count} orders',\n                title: 'Order %{reference}',\n                fields: {\n                    basket: {\n                        delivery: 'Delivery',\n                        reference: 'Reference',\n                        quantity: 'Quantity',\n                        sum: 'Sum',\n                        tax_rate: 'Tax Rate',\n                        total: 'Total',\n                        unit_price: 'Unit Price',\n                    },\n                    address: 'Address',\n                    customer_id: 'Customer',\n                    date_gte: 'Passed Since',\n                    date_lte: 'Passed Before',\n                    nb_items: 'Nb articles',\n                    reference: 'Référence',\n                    returned: 'Returned',\n                    status: 'Status',\n                    total_gte: 'Min amount',\n                },\n            },\n            invoices: {\n                name: 'Invoice |||| Invoices',\n                fields: {\n                    date: 'Invoice date',\n                    customer_id: 'Customer',\n                    command_id: 'Order',\n                    date_gte: 'Passed Since',\n                    date_lte: 'Passed Before',\n                    total_gte: 'Min amount',\n                    address: 'Address',\n                },\n            },\n            products: {\n                name: 'Poster |||| Posters',\n                fields: {\n                    id: 'Identifier',\n                    category_id: 'Category',\n                    height_gte: 'Min height',\n                    height_lte: 'Max height',\n                    height: 'Height',\n                    image: 'Image',\n                    price: 'Price',\n                    reference: 'Reference',\n                    sales: 'Sales',\n                    stock_lte: 'Low Stock',\n                    stock: 'Stock',\n                    thumbnail: 'Thumbnail',\n                    width_gte: 'Min width',\n                    width_lte: 'Max width',\n                    width: 'Width',\n                },\n                tabs: {\n                    image: 'Image',\n                    details: 'Details',\n                    description: 'Description',\n                    reviews: 'Reviews',\n                },\n                filters: {\n                    categories: 'Categories',\n                    stock: 'Stock',\n                    no_stock: 'Out of stock',\n                    low_stock: '1 - 9 items',\n                    average_stock: '10 - 49 items',\n                    enough_stock: '50 items & more',\n                    sales: 'Sales',\n                    best_sellers: 'Best sellers',\n                    average_sellers: 'Average',\n                    low_sellers: 'Low',\n                    never_sold: 'Never sold',\n                },\n            },\n            categories: {\n                name: 'Category |||| Categories',\n                fields: {\n                    products: 'Products',\n                },\n                actions: {\n                    create_product: 'Create Poster',\n                },\n            },\n            reviews: {\n                name: 'Review |||| Reviews',\n                amount: '1 review |||| %{smart_count} reviews',\n                relative_to_poster: 'Review on poster',\n                detail: 'Review detail',\n                fields: {\n                    customer_id: 'Customer',\n                    command_id: 'Order',\n                    product_id: 'Product',\n                    date_gte: 'Posted since',\n                    date_lte: 'Posted before',\n                    date: 'Date',\n                    comment: 'Comment',\n                    rating: 'Rating',\n                },\n                action: {\n                    accept: 'Accept',\n                    reject: 'Reject',\n                },\n                notification: {\n                    approved_success: 'Review approved',\n                    approved_error: 'Error: Review not approved',\n                    rejected_success: 'Review rejected',\n                    rejected_error: 'Error: Review not rejected',\n                },\n            },\n            segments: {\n                name: 'Segments',\n                fields: {\n                    customers: 'Customers',\n                    name: 'Name',\n                },\n                data: {\n                    compulsive: 'Compulsive',\n                    collector: 'Collector',\n                    ordered_once: 'Ordered once',\n                    regular: 'Regular',\n                    returns: 'Returns',\n                    reviewer: 'Reviewer',\n                },\n            },\n            stores: {\n                name: 'Stores',\n                fields: {\n                    city: 'City',\n                    country: 'Country',\n                    address: 'Address',\n                    created_at: 'Created at',\n                },\n            },\n            tours: {\n                name: 'Tours',\n            },\n            locks: {\n                overlay: 'Currently Edited by %{name}',\n            },\n            events: {\n                name: 'Events',\n            },\n        },\n    }\n);\n\nexport default customEnglishMessages;\n","import {\n    mergeTranslations,\n    TranslationMessages as BaseTranslationMessages,\n} from 'react-admin';\nimport frenchMessages from 'ra-language-french';\nimport { RaTreeTranslationMessages } from '@react-admin/ra-tree';\nimport { raAuditLogLanguageFrench } from '@react-admin/ra-audit-log';\n\nexport interface TranslationMessages\n    extends RaTreeTranslationMessages,\n        BaseTranslationMessages {}\n\nconst customFrenchMessages: TranslationMessages = mergeTranslations(\n    frenchMessages,\n    raAuditLogLanguageFrench,\n    {\n        'ra-tree': {\n            action: {\n                add_root: 'Ajouter une catégorie de produits',\n            },\n        },\n        'ra-search': {\n            result: `1 résultat |||| %{smart_count} résultats`,\n        },\n        pos: {\n            search: 'Rechercher',\n            configuration: 'Configuration',\n            language: 'Langue',\n            theme: {\n                name: 'Theme',\n                light: 'Clair',\n                dark: 'Obscur',\n            },\n            filter: 'Filtré par',\n            dashboard: {\n                monthly_revenue: 'CA à 30 jours',\n                month_history: \"Chiffre d'affaire sur 30 jours\",\n                new_orders: 'Nouvelles commandes',\n                pending_reviews: 'Commentaires à modérer',\n                new_customers: 'Nouveaux clients',\n                pending_orders: 'Commandes à traiter',\n                order: {\n                    items:\n                        'par %{customer_name}, un poster |||| par %{customer_name}, %{nb_items} posters',\n                },\n                timeline: 'Timeline',\n                welcome: {\n                    title:\n                        'Bienvenue sur la démo de react-admin enterprise edition',\n                    subtitle:\n                        \"Ceci est le back-office d'un magasin de posters imaginaire mettant en oeuvre les modules de l'édition entreprise. N'hésitez pas à explorer et à modifier les données. La démo s'exécute en local dans votre navigateur, et se remet à zéro chaque fois que vous rechargez la page.\",\n                    ra_button: 'Site web de react-admin entreprise',\n                    demo_button: 'Voir tous les modules',\n                    github_button: 'Voir le code source',\n                },\n            },\n            menu: {\n                sales: 'Ventes',\n                catalog: 'Catalogue',\n                my_queries: 'Mes recherches',\n                customers: 'Clients',\n                new_customers: 'Nouveaux clients',\n                all_customers: 'Tous les clients',\n                visitors: 'Visiteurs',\n                all_reviews: 'Tous les avis',\n                pending_reviews: 'Avis en attende de validation',\n                bad_reviews: 'Mauvais avis',\n            },\n            reviews: {\n                accepted: 'Acceptés',\n                rejected: 'Rejetés',\n                pending: 'En attente',\n            },\n        },\n        resources: {\n            customers: {\n                name: 'Client |||| Clients',\n                fields: {\n                    address: 'Rue',\n                    birthday: 'Anniversaire',\n                    city: 'Ville',\n                    commands: 'Commandes',\n                    first_name: 'Prénom',\n                    first_seen: 'Première visite',\n                    groups: 'Segments',\n                    has_newsletter: 'Abonné à la newsletter',\n                    has_ordered: 'A commandé',\n                    last_name: 'Nom',\n                    last_seen: 'Vu le',\n                    last_seen_gte: 'Vu depuis',\n                    latest_purchase: 'Dernier achat',\n                    name: 'Nom',\n                    total_spent: 'Dépenses',\n                    zipcode: 'Code postal',\n                    password: 'Mot de passe',\n                    confirm_password: 'Confirmez le mot de passe',\n                    nb_commands: 'Commandes',\n                },\n                filters: {\n                    last_visited: 'Dernière visite',\n                    today: \"Aujourd'hui\",\n                    this_week: 'Cette semaine',\n                    last_week: 'La semaine dernière',\n                    this_month: 'Ce mois-ci',\n                    last_month: 'Le mois dernier',\n                    earlier: 'Plus tôt',\n                    has_ordered: 'A déjà commandé',\n                    has_newsletter: 'Abonné newsletter',\n                    group: 'Segment',\n                },\n                fieldGroups: {\n                    identity: 'Identité',\n                    address: 'Adresse',\n                    stats: 'Statistiques',\n                    history: 'Historique',\n                    password: 'Mot de passe',\n                    change_password: 'Changer le mot de passe',\n                },\n                page: {\n                    delete: 'Supprimer le client',\n                },\n                errors: {\n                    password_mismatch:\n                        'La confirmation du mot de passe est différent du mot de passe.',\n                },\n            },\n            commands: {\n                name: 'Commande |||| Commandes',\n                amount: '1 commande |||| %{smart_count} commandes',\n                title: 'Commande n°%{reference}',\n                fields: {\n                    basket: {\n                        delivery: 'Frais de livraison',\n                        reference: 'Référence',\n                        quantity: 'Quantité',\n                        sum: 'Sous-total',\n                        tax_rate: 'TVA',\n                        total: 'Total',\n                        unit_price: 'P.U.',\n                    },\n                    address: 'Adresse',\n                    customer_id: 'Client',\n                    date_gte: 'Emises depuis',\n                    date_lte: 'Emises avant',\n                    nb_items: 'Nb articles',\n                    reference: 'Référence',\n                    returned: 'Annulée',\n                    status: 'Etat',\n                    total_gte: 'Montant minimum',\n                },\n            },\n            invoices: {\n                name: 'Facture |||| Factures',\n                fields: {\n                    id: 'Numéro',\n                    date: 'Date de facture',\n                    customer_id: 'Client',\n                    command_id: 'Commande',\n                    date_gte: 'Emises depuis',\n                    date_lte: 'Emises avant',\n                    address: 'Adresse',\n                    total_ex_taxes: 'Montant HT',\n                    delivery_fees: 'Frais de livraison',\n                    taxes: 'TVA',\n                },\n            },\n            products: {\n                name: 'Poster |||| Posters',\n                fields: {\n                    id: 'Identifiant',\n                    category_id: 'Catégorie',\n                    height_gte: 'Hauteur mini',\n                    height_lte: 'Hauteur maxi',\n                    height: 'Hauteur',\n                    image: 'Photo',\n                    price: 'Prix',\n                    reference: 'Référence',\n                    sales: 'Ventes',\n                    stock_lte: 'Stock faible',\n                    stock: 'Stock',\n                    thumbnail: 'Aperçu',\n                    width_gte: 'Largeur mini',\n                    width_lte: 'Margeur maxi',\n                    width: 'Largeur',\n                },\n                tabs: {\n                    image: 'Image',\n                    details: 'Détails',\n                    description: 'Description',\n                    reviews: 'Commentaires',\n                },\n                filters: {\n                    categories: 'Catégories',\n                    stock: 'Stock',\n                    no_stock: 'En rupture',\n                    low_stock: '1 - 9 unités',\n                    average_stock: '10 - 49 unités',\n                    enough_stock: '50 unités et plus',\n                    sales: 'Ventes',\n                    best_sellers: 'Meilleures ventes',\n                    average_sellers: 'Moyennes',\n                    low_sellers: 'Peu vendu',\n                    never_sold: 'Jamais vendu',\n                },\n            },\n            categories: {\n                name: 'Catégorie |||| Catégories',\n                fields: {\n                    name: 'Nom',\n                    products: 'Produits',\n                },\n                actions: {\n                    create_product: 'Créer un Poster',\n                },\n            },\n            reviews: {\n                name: 'Commentaire |||| Commentaires',\n                amount: '1 commentaire |||| %{smart_count} commentaires',\n                relative_to_poster: 'Commentaire sur',\n                detail: 'Détail du commentaire',\n                fields: {\n                    customer_id: 'Client',\n                    command_id: 'Commande',\n                    product_id: 'Produit',\n                    date_gte: 'Publié depuis',\n                    date_lte: 'Publié avant',\n                    date: 'Date',\n                    comment: 'Texte',\n                    status: 'Statut',\n                    rating: 'Classement',\n                },\n                action: {\n                    accept: 'Accepter',\n                    reject: 'Rejeter',\n                },\n                notification: {\n                    approved_success: 'Commentaire approuvé',\n                    approved_error: 'Erreur: Commentaire non approuvé',\n                    rejected_success: 'Commentaire rejeté',\n                    rejected_error: 'Erreur: Commentaire non rejeté',\n                },\n            },\n            segments: {\n                name: 'Segments',\n                fields: {\n                    customers: 'Clients',\n                    name: 'Nom',\n                },\n                data: {\n                    compulsive: 'Compulsif',\n                    collector: 'Collectionneur',\n                    ordered_once: 'A commandé',\n                    regular: 'Régulier',\n                    returns: 'A renvoyé',\n                    reviewer: 'Commentateur',\n                },\n            },\n            stores: {\n                name: 'Magasins',\n                fields: {\n                    city: 'Ville',\n                    country: 'Pays',\n                    address: 'Adresse',\n                    created_at: 'Ouvert le',\n                },\n            },\n            tours: {\n                name: 'Visites',\n            },\n            locks: {\n                overlay: \"En cours d'édition par %{name}\",\n            },\n            events: {\n                name: 'Événements',\n            },\n        },\n    }\n);\n\nexport default customFrenchMessages;\n","import { DataProvider } from 'react-admin';\nimport { RealTimeDataProvider, Subscriptions } from '@react-admin/ra-realtime';\n\nlet subscriptions: Subscriptions = [];\n\nconst addRealtimeMethodsWithFakeTransport = (\n    dataProvider: DataProvider\n): DataProvider & RealTimeDataProvider => {\n    return {\n        ...dataProvider,\n        subscribe: async (topic, subscriptionCallback) => {\n            subscriptions.push({ topic, subscriptionCallback });\n            return Promise.resolve({ data: null });\n        },\n\n        unsubscribe: async (topic, subscriptionCallback) => {\n            subscriptions = subscriptions.filter(\n                subscription =>\n                    subscription.topic !== topic ||\n                    subscription.subscriptionCallback !== subscriptionCallback\n            );\n            return Promise.resolve({ data: null });\n        },\n\n        publish: (topic, event) => {\n            if (!topic) {\n                return Promise.reject(new Error('ra.realTime.error.topic'));\n            }\n            if (!event.type) {\n                return Promise.reject(new Error('ra.realTime.error.type'));\n            }\n            subscriptions.map(\n                subscription =>\n                    topic === subscription.topic &&\n                    subscription.subscriptionCallback(event)\n            );\n            return Promise.resolve({ data: null });\n        },\n    };\n};\n\nexport default addRealtimeMethodsWithFakeTransport;\n","import { SearchResult, SearchResultDataItem } from '@react-admin/ra-search';\n\nconst addSearchMethod = dataProvider => {\n    return {\n        ...dataProvider,\n        search: async query => {\n            const resultsByResource = await Promise.all<SearchResult>(\n                ['customers', 'products', 'commands', 'reviews'].map(resource =>\n                    searchInResource(dataProvider, resource, query)\n                )\n            );\n\n            return {\n                data: resultsByResource.reduce(\n                    (acc, resultForResource) => [\n                        ...acc,\n                        ...resultForResource.data,\n                    ],\n                    [] as SearchResultDataItem[]\n                ),\n                total: resultsByResource.reduce(\n                    (acc, resultForResource) => acc + resultForResource.total,\n                    0\n                ),\n            };\n        },\n    };\n};\n\nexport default addSearchMethod;\n\nconst searchInResource = async (dataProvider, resource, query) => {\n    const { data, total } = await dataProvider.getList(resource, {\n        filter: { q: query },\n        pagination: { page: 1, perPage: 5 },\n        sort: { field: 'id', order: 'ASC' },\n    });\n\n    return {\n        data: await Promise.all(\n            data.map(async record => ({\n                id: `${resource}/${record.id}`,\n                type: resource,\n                url: `/${resource}/${record.id}`,\n                content: await ResultBuilders[resource](record, dataProvider),\n            })) as SearchResultDataItem[]\n        ),\n        total,\n    };\n};\n\nconst ResultBuilders = {\n    customers: async (record, dataProvider) => {\n        const orders = await dataProvider.getList('commands', {\n            filter: { customer_id: record.id },\n            pagination: { page: 1, perPage: 1 },\n            sort: { field: 'id', order: 'ASC' },\n        });\n        const reviews = await dataProvider.getList('reviews', {\n            filter: { customer_id: record.id },\n            pagination: { page: 1, perPage: 1 },\n            sort: { field: 'id', order: 'ASC' },\n        });\n\n        return {\n            ...record,\n            pending_orders: orders.total,\n            reviews: reviews.total,\n        };\n    },\n    products: async (record, dataProvider) => {\n        const reviews = await dataProvider.getList('reviews', {\n            filter: { product_id: record.id },\n            pagination: { page: 1, perPage: 1 },\n            sort: { field: 'id', order: 'ASC' },\n        });\n\n        return {\n            ...record,\n            reviews: reviews.total,\n        };\n    },\n    commands: async (record, dataProvider) => {\n        const customer = await dataProvider.getOne('customers', {\n            id: record.customer_id,\n        });\n\n        return {\n            ...record,\n            customer: customer.data,\n        };\n    },\n    reviews: async record => {\n        return record;\n    },\n};\n","import simpleRestProvider from 'ra-data-simple-rest';\nimport compose from 'recompose/compose';\nimport { addLocksMethodsBasedOnALockResource } from '@react-admin/ra-realtime';\nimport { addTreeMethodsBasedOnChildren } from '@react-admin/ra-tree';\n\nimport addRealtimeMethodsWithFakeTransport from './addRealtimeMethodsWithFakeTransport';\nimport addSearchMethod from './addSearchMethod';\n\nconst restProvider = compose(\n    addLocksMethodsBasedOnALockResource,\n    addRealtimeMethodsWithFakeTransport,\n    addTreeMethodsBasedOnChildren,\n    addSearchMethod\n)(simpleRestProvider('http://localhost:4000'));\n\nconst delayedDataProvider = new Proxy(restProvider, {\n    get: (target, name, self) => {\n        if (name === 'then') {\n            return self;\n        }\n\n        return (resource, params) => {\n            return new Promise(resolve =>\n                setTimeout(\n                    () => resolve(restProvider[name](resource, params)),\n                    200\n                )\n            );\n        };\n    },\n});\n\nexport default delayedDataProvider;\n","export default {\n    categories: [\n        {\n            id: 5,\n            name: 'categories',\n            isRoot: true,\n            children: [0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100, 110, 120],\n        },\n\n        { id: 0, name: 'animals', isRoot: false, children: [1, 2, 3] },\n        { id: 1, name: 'cute', isRoot: false, children: [] },\n        { id: 2, name: 'scary', isRoot: false, children: [] },\n        { id: 3, name: 'weird', isRoot: false, children: [] },\n\n        { id: 10, name: 'beard', isRoot: false, children: [11, 12] },\n        { id: 11, name: 'curly', isRoot: false, children: [] },\n        { id: 12, name: 'straight', isRoot: false, children: [] },\n\n        { id: 20, name: 'business', isRoot: false, children: [] },\n\n        { id: 30, name: 'cars', isRoot: false, children: [31, 32] },\n        { id: 31, name: 'fast', isRoot: false, children: [] },\n        { id: 32, name: 'slow', isRoot: false, children: [] },\n\n        { id: 40, name: 'city', isRoot: false, children: [] },\n        { id: 50, name: 'flowers', isRoot: false, children: [] },\n\n        { id: 60, name: 'food', isRoot: false, children: [61, 62] },\n        { id: 61, name: 'liquid', isRoot: false, children: [] },\n        { id: 62, name: 'solid', isRoot: false, children: [] },\n\n        { id: 70, name: 'nature', isRoot: false, children: [] },\n\n        { id: 80, name: 'people', isRoot: false, children: [81, 82, 83] },\n        { id: 81, name: 'one', isRoot: false, children: [] },\n        { id: 82, name: 'couple', isRoot: false, children: [] },\n        { id: 83, name: 'many', isRoot: false, children: [] },\n\n        { id: 90, name: 'sports', isRoot: false, children: [] },\n        { id: 100, name: 'tech', isRoot: false, children: [] },\n        { id: 110, name: 'travel', isRoot: false, children: [] },\n        { id: 120, name: 'water', isRoot: false, children: [] },\n    ],\n    stores: [\n        {\n            id: 0,\n            city: 'Paris',\n            country: 'France',\n            address: '8 rue de Rivoli',\n            created_at: new Date(1988, 4, 20),\n        },\n        {\n            id: 1,\n            city: 'Lyon',\n            country: 'France',\n            address: '14 rue de la République',\n            created_at: new Date(1992, 3, 11),\n        },\n        {\n            id: 2,\n            city: 'Nice',\n            country: 'France',\n            address: '5 cours Saleya',\n            created_at: new Date(1993, 6, 27),\n        },\n        {\n            id: 3,\n            city: 'Toulouse',\n            country: 'France',\n            address: '43 rue de la Pomme',\n            created_at: new Date(1994, 1, 2),\n        },\n        {\n            id: 4,\n            city: 'Dijon',\n            country: 'France',\n            address: '89 rue de la liberté',\n            created_at: new Date(2001, 11, 5),\n        },\n        {\n            id: 5,\n            city: 'Nancy',\n            country: 'France',\n            address: '27 rue Ordener',\n            created_at: new Date(2008, 7, 15),\n        },\n    ],\n    locks: [],\n};\n","import * as fns from 'date-fns';\nimport { Order, OrderStatus, Product } from '../types';\nimport { EventRecord } from '@react-admin/ra-audit-log';\nimport type { Data } from './index';\nimport { demoUser } from '../authProvider';\n\nconst createProductEvent = (\n    product: Product,\n    author: EventRecord['author'],\n    date: Date\n): Omit<EventRecord, 'id'> => {\n    return {\n        date: date.toISOString(),\n        author,\n        resource: 'products',\n        action: 'create',\n        payload: {\n            id: product.id,\n            data: product,\n        },\n    };\n};\n\nconst changePriceEvent = (\n    product: Product,\n    author: EventRecord['author'],\n    date: Date\n): Omit<EventRecord, 'id'> => {\n    return {\n        date: date.toISOString(),\n        author,\n        resource: 'products',\n        action: 'update',\n        payload: {\n            id: product.id,\n            data: {\n                ...product,\n                price: product.price + Math.ceil(Math.random() * 10),\n            },\n            previousData: product,\n        },\n    };\n};\n\nconst changeOrderStatusEvent = (\n    order: Order,\n    newStatus: OrderStatus,\n    author: EventRecord['author'],\n    date: Date\n): Omit<EventRecord, 'id'> => {\n    return {\n        date: date.toISOString(),\n        author,\n        resource: 'commands',\n        action: 'update',\n        payload: {\n            id: order.id,\n            data: {\n                ...order,\n                status: newStatus,\n            },\n            previousData: order,\n        },\n    };\n};\n\nconst getRandomId = length => {\n    return Math.floor(Math.random() * length);\n};\n\nconst admins = [\n    demoUser,\n    {\n        id: 0,\n        fullName: 'Iris Bailey',\n    },\n    {\n        id: 1,\n        fullName: 'Toni Rosser',\n    },\n    {\n        id: 2,\n        fullName: 'Rocky Coon',\n    },\n    {\n        id: 3,\n        fullName: 'Victoria Scott',\n    },\n    {\n        id: 4,\n        fullName: 'Sharon Stephenson',\n    },\n];\n\nconst generateFakeEvents = (data: Data): EventRecord[] => {\n    const pickRandomAuthor = (): EventRecord['author'] =>\n        admins[getRandomId(admins.length)];\n    const pickRandomProduct = () =>\n        data.products[getRandomId(data.products.length)];\n\n    const pendingOrders = data.commands.filter(\n        command => command.status === 'ordered'\n    );\n    const pickRandomOrder = () =>\n        pendingOrders[getRandomId(pendingOrders.length)];\n    const now = new Date();\n    const events = [\n        // One week ago\n        changeOrderStatusEvent(\n            pickRandomOrder(),\n            'delivered',\n            pickRandomAuthor(),\n            fns.subHours(fns.subDays(now, 7), 5)\n        ),\n        changeOrderStatusEvent(\n            pickRandomOrder(),\n            'delivered',\n            pickRandomAuthor(),\n            fns.subHours(fns.subDays(now, 7), 4)\n        ),\n        createProductEvent(\n            pickRandomProduct(),\n            pickRandomAuthor(),\n            fns.subHours(fns.subDays(now, 7), 3)\n        ),\n        changePriceEvent(\n            pickRandomProduct(),\n            pickRandomAuthor(),\n            fns.subHours(fns.subDays(now, 7), 2)\n        ),\n        changePriceEvent(\n            pickRandomProduct(),\n            pickRandomAuthor(),\n            fns.subHours(fns.subDays(now, 7), 1)\n        ),\n        // Two day ago\n        createProductEvent(\n            pickRandomProduct(),\n            pickRandomAuthor(),\n            fns.subHours(fns.subDays(now, 2), 4)\n        ),\n        changeOrderStatusEvent(\n            pickRandomOrder(),\n            'delivered',\n            pickRandomAuthor(),\n            fns.subHours(fns.subDays(now, 2), 2)\n        ),\n        changeOrderStatusEvent(\n            pickRandomOrder(),\n            'delivered',\n            pickRandomAuthor(),\n            fns.subHours(fns.subDays(now, 2), 1)\n        ),\n        changePriceEvent(\n            pickRandomProduct(),\n            pickRandomAuthor(),\n            fns.addHours(fns.subDays(now, 2), 1)\n        ),\n        // Yesterday\n        changePriceEvent(\n            pickRandomProduct(),\n            pickRandomAuthor(),\n            fns.subHours(fns.subDays(now, 1), 4)\n        ),\n        changeOrderStatusEvent(\n            pickRandomOrder(),\n            'delivered',\n            pickRandomAuthor(),\n            fns.subHours(fns.subDays(now, 1), 2)\n        ),\n        changeOrderStatusEvent(\n            pickRandomOrder(),\n            'delivered',\n            pickRandomAuthor(),\n            fns.subHours(fns.subDays(now, 1), 1)\n        ),\n        createProductEvent(\n            pickRandomProduct(),\n            pickRandomAuthor(),\n            fns.addHours(fns.subDays(now, 1), 1)\n        ),\n        // Today\n        createProductEvent(\n            pickRandomProduct(),\n            pickRandomAuthor(),\n            fns.subHours(fns.subDays(now, 1), 3)\n        ),\n        changeOrderStatusEvent(\n            pickRandomOrder(),\n            'delivered',\n            pickRandomAuthor(),\n            fns.subHours(fns.subDays(now, 1), 2)\n        ),\n    ];\n\n    return events.map((event, index) => {\n        return { id: index, ...event } as EventRecord;\n    });\n};\n\nexport default generateFakeEvents;\n","import FakeRest from 'fakerest';\nimport fetchMock from 'fetch-mock';\nimport generateData from 'data-generator-retail';\nimport { random } from 'faker/locale/en';\nimport { Identifier } from 'react-admin';\nimport demoData from './demo-data';\nimport { Category, Customer, Order, Product, Review } from '../types';\nimport generateFakeEvents from './generateFakeEvents';\n\nconst getAllChildrenCategories = (\n    categories: Category[],\n    parentId: Identifier\n) => {\n    const parentCategory = categories.find(({ id }) => id === parentId);\n    if (!parentCategory) {\n        return [];\n    }\n    const children = parentCategory.children.map(childId =>\n        getAllChildrenCategories(categories, childId)\n    );\n\n    return [parentId, ...children];\n};\n\nconst rebindProductToCategories = (\n    originalCategories: Category[],\n    newCategories: Category[]\n) => (product: Product) => {\n    const originalCategory = originalCategories.find(\n        c => c.id === product.category_id\n    );\n\n    if (!originalCategory) {\n        return product;\n    }\n\n    const matchingNewCategory = newCategories.find(\n        c => c.name === originalCategory.name\n    );\n\n    if (!matchingNewCategory) {\n        return product;\n    }\n\n    // If the new category does not have sub categories, just ensure we have the correct id\n    if (matchingNewCategory.children.length === 0) {\n        return {\n            ...product,\n            category_id: matchingNewCategory.id,\n        };\n    }\n\n    const newCategoryId = random.arrayElement(\n        matchingNewCategory.children || []\n    );\n\n    return {\n        ...product,\n        category_id: newCategoryId,\n    };\n};\n\nexport default (): (() => void) => {\n    const data: Data = generateData({ serializeDate: true });\n    const products = data.products.map(\n        rebindProductToCategories(data.categories, demoData.categories)\n    );\n    const events = generateFakeEvents(data);\n    // console.log(events);\n\n    const mergedData = { ...data, ...demoData, products, events };\n\n    const restServer = new FakeRest.FetchServer('http://localhost:4000');\n    if (window) {\n        window.restServer = restServer; // give way to update data in the console\n    }\n    restServer.addRequestInterceptor(request => {\n        // intercepts list of products with a category filter\n        if (\n            request.method === 'GET' &&\n            request.url.includes('/products') &&\n            request.params.filter &&\n            request.params.filter.category_id !== undefined\n        ) {\n            // to include all sub categories of the selected category in the filter\n            request.params.filter.category_id = getAllChildrenCategories(\n                mergedData.categories,\n                parseInt(request.params.filter.category_id)\n            );\n        }\n        return request;\n    });\n    restServer.init(mergedData);\n    restServer.toggleLogging(); // logging is off by default, enable it\n    fetchMock.mock('begin:http://localhost:4000', restServer.getHandler());\n    return () => fetchMock.restore();\n};\n\nexport interface Data {\n    customers: Customer[];\n    categories: Category[];\n    products: Product[];\n    commands: Order[];\n    reviews: Review[];\n}\n","import React, { ReactElement, useEffect } from 'react';\nimport { Resource } from 'react-admin';\n\nimport { Admin, buildI18nProvider } from '@react-admin/ra-enterprise';\nimport { addEventsForMutations, EventList } from '@react-admin/ra-audit-log';\n\nimport './App.css';\n\nimport { getThemes } from './layout/themes';\nimport authProvider from './authProvider';\nimport { Login, Layout } from './layout';\nimport { Dashboard } from './dashboard';\nimport customRoutes from './routes';\n\nimport englishMessages from './i18n/en';\nimport frenchMessages from './i18n/fr';\n\nimport visitors from './visitors';\nimport orders from './orders';\nimport products from './products';\nimport invoices from './invoices';\nimport categories from './categories';\nimport reviews from './reviews';\nimport stores from './stores';\n\nimport dataProvider from './dataProvider';\nimport fakeServer from './fakeServer';\nimport { useTheme } from '@material-ui/core';\n\nconst messages = {\n    en: englishMessages,\n    fr: frenchMessages,\n};\n\nconst i18nProvider = buildI18nProvider(messages, 'en');\n\nconst enhancedDataProvider = addEventsForMutations(dataProvider, authProvider);\n\nconst App = (): ReactElement => {\n    useEffect(() => {\n        const restoreFetch = fakeServer();\n        return (): void => {\n            restoreFetch();\n        };\n    }, []);\n    const theme = useTheme();\n    const { darkTheme, lightTheme } = getThemes(theme);\n\n    return (\n        <Admin\n            title=\"\"\n            dataProvider={enhancedDataProvider}\n            customRoutes={customRoutes}\n            authProvider={authProvider}\n            dashboard={Dashboard}\n            loginPage={Login}\n            layout={Layout}\n            i18nProvider={i18nProvider}\n            // Ra-enterprise confirguration\n            lightTheme={lightTheme}\n            darkTheme={darkTheme}\n        >\n            <Resource name=\"customers\" {...visitors} />\n            <Resource name=\"commands\" {...orders} />\n            <Resource name=\"invoices\" {...invoices} />\n            <Resource name=\"products\" {...products} />\n            <Resource name=\"categories\" {...categories} />\n            <Resource name=\"reviews\" {...reviews} />\n            <Resource name=\"stores\" {...stores} />\n            <Resource name=\"locks\" />\n            <Resource name=\"events\" list={EventList} />\n        </Admin>\n    );\n};\n\nexport default App;\n","import 'react-app-polyfill/ie11';\nimport 'react-app-polyfill/stable';\nimport 'proxy-polyfill';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","import { Order } from '../types';\nimport { Record } from 'react-admin';\n\n/**\n * Generate random commands\n *\n * This generator assumes that:\n * - Customer ids exist until 50\n * - Product ids exist until 20\n */\nconst randomCommandBuilder = (\n    batchLevel: number,\n    customers: Record[]\n): Omit<Order, 'id'> => {\n    const basket = new Array(Math.round(Math.random() * 2) + 1).map(() => ({\n        product_id: Math.round(Math.random() * 20),\n        quantity: Math.round(Math.random() * 2) + 1,\n    }));\n\n    return {\n        date: new Date(),\n        total: (Math.round(Math.random() * 10000) / 100) * basket.length,\n        status: 'ordered',\n        reference: Math.random()\n            .toString(36)\n            .replace(/[^a-z]+/g, '')\n            .substr(0, 6)\n            .toUpperCase(),\n        customer_id: customers[Math.round(Math.random() * customers.length)].id,\n        basket,\n        batch: batchLevel,\n    };\n};\n\nexport default randomCommandBuilder;\n","import { TourType } from '@react-admin/ra-tour';\nimport { fireEvent } from '@testing-library/react';\nimport { endOfYesterday } from 'date-fns';\nimport randomCommandBuilder from './randomCommandBuilder';\nimport { generateIdentity } from './randomLockBuilder';\n\nconst getRandomInt = (min, max) => {\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min)) + min;\n};\n\nconst timeout = ms => new Promise(resolve => setTimeout(resolve, ms));\nconst interval = (callback, intervalMs, expirationMs) =>\n    new Promise(resolve => {\n        const intervalRef = setInterval(callback, intervalMs);\n        setTimeout(() => {\n            clearInterval(intervalRef);\n            resolve(undefined);\n        }, expirationMs);\n    });\n\nlet newCommandsIds: number[] = [];\n\nconst tours: { [id: string]: TourType } = {\n    'ra-markdown': {\n        before: async ({ redirect }) => {\n            redirect('/products');\n            await timeout(1000); // would be so awesome if redirect was awaitable!\n        },\n        steps: [\n            {\n                target: `[data-tour-id='grid-line'] > a:nth-child(${getRandomInt(\n                    1,\n                    5\n                )})`,\n                disableBeacon: true,\n                content:\n                    \"This is a poster, one of the products our shop is selling, let's go to its details\",\n                joyrideProps: {\n                    styles: {\n                        beacon: {\n                            marginTop: -100,\n                        },\n                    },\n                },\n                after: ({ target, redirect }) => {\n                    const productUrl = target.getAttribute('href').slice(1);\n                    redirect(productUrl);\n                },\n            },\n            {\n                target: \"[data-tour-id='description-tab']\",\n                content: 'The markdown editor is in the description tab',\n                after: ({ target }) => {\n                    target.click();\n                },\n            },\n            {\n                target: '.tui-editor-defaultUI',\n                content:\n                    'Right here. Try playing with its markdown, make it bold, add headlines!',\n            },\n            {\n                target: '.te-switch-button.wysiwyg',\n                content: 'By default, you are in WYSIWYG mode.',\n            },\n            {\n                target: '.te-switch-button.markdown',\n                content:\n                    'But you can switch to raw markdown edition with this button.',\n            },\n            {\n                target: '[data-testid=product-edit-preview]',\n                content:\n                    'Parsed markdown can then be displayed in a preview or wherever you want.',\n            },\n        ],\n    },\n    'ra-preferences': {\n        steps: [\n            {\n                target: \"button[aria-label='Toggle Theme']\",\n                disableBeacon: true,\n                content:\n                    'ra-preferences comes with a lot of built-in modules, like this theme switcher. Try it: it works!',\n            },\n            {\n                target: \"button[aria-label='Toggle Theme'] + button\",\n                content: 'Or this language switcher...',\n                after: ({ redirect }) => {\n                    const params = JSON.stringify({\n                        last_seen_gte: endOfYesterday().toISOString(),\n                        nb_commands_gte: 1,\n                    });\n\n                    redirect(\n                        `/customers?filter=${encodeURIComponent(\n                            params\n                        )}&order=DESC&page=1&perPage=25&sort=last_seen`\n                    );\n                },\n            },\n            {\n                target: \"button[aria-label='Save current query...']\",\n                content:\n                    \"It features persisted queries too. For example, let's persist the filters for today visitors who actually ordered something.\",\n                after: async ({ target }) => {\n                    target.click();\n                    await new Promise(resolve => setTimeout(resolve, 500));\n                    const nameInput = document.querySelector(\n                        'body > .MuiDialog-root #name'\n                    );\n\n                    if (!nameInput) {\n                        return;\n                    }\n\n                    fireEvent.change(nameInput, {\n                        target: { value: 'Today customers' },\n                    });\n                    await new Promise(resolve => setTimeout(resolve, 500));\n\n                    const saveButton: HTMLButtonElement | null = document.querySelector(\n                        'body > .MuiDialog-root button:nth-child(2)'\n                    );\n                    if (!saveButton) {\n                        return;\n                    }\n                    fireEvent.click(saveButton);\n                },\n            },\n            {\n                target: '#persisted-queries ul',\n                content: \"It's persisted locally in the browser now!\",\n                after: ({ redirect }) => {\n                    redirect('/customers');\n                },\n            },\n            {\n                target: 'button[aria-controls=user-preference-menu]',\n                content:\n                    'It even has more advanced components like this list customization tool.',\n                disableBeacon: false,\n                after: ({ target }) => {\n                    target.click();\n                },\n            },\n            {\n                target: '#user-preference-menu .MuiPaper-root',\n                content:\n                    'Where you can select how you want the list to be displayed, or the information you want to see.',\n                joyrideProps: {\n                    styles: {\n                        options: {\n                            zIndex: 10000,\n                        },\n                    },\n                },\n                after: () => {\n                    const menuOverlay: HTMLElement | null = document.querySelector(\n                        'body > .MuiPopover-root div[aria-hidden=true]'\n                    );\n                    if (!menuOverlay) {\n                        return;\n                    }\n                    menuOverlay.click();\n                },\n            },\n            {\n                before: ({ setTourPreferences, state }) => {\n                    setTourPreferences(state);\n                },\n                target: 'body',\n                content:\n                    'It exposes simple hooks so that you can actually save whatever you want, too. For instance, the state of this particular step. Try to reload the page!',\n                joyrideProps: {\n                    styles: {\n                        options: {\n                            arrowColor: 'transparent',\n                        },\n                    },\n                },\n                after: ({ setTourPreferences }) => {\n                    setTourPreferences({});\n                },\n            },\n        ],\n    },\n    'ra-tree': {\n        before: async ({ redirect }) => {\n            redirect('/categories/5');\n            await timeout(1000); // would be so awesome if redirect was awaitable!\n        },\n        steps: [\n            {\n                target: '.rc-tree',\n                content:\n                    'ra-tree helps handling trees with ease, no matter the data structure you use on the backend',\n                disableBeacon: true,\n            },\n            {\n                before: ({ target }) => {\n                    interval(\n                        () => {\n                            const switcher = target.querySelector(\n                                '.rc-tree-switcher.rc-tree-switcher_close'\n                            );\n\n                            if (switcher) {\n                                switcher.click();\n                            }\n                        },\n                        500,\n                        4000\n                    );\n                },\n                target: '.rc-tree',\n                content:\n                    'It supports expanding or collapsing nodes for an infinite amount of levels',\n                after: async ({ target }) => {\n                    await interval(\n                        () => {\n                            const switcher = target\n                                // not the first line or it collapses all the tree\n                                .querySelector(\n                                    '.rc-tree-treenode:not(:nth-child(1)) .rc-tree-switcher.rc-tree-switcher_open'\n                                );\n\n                            if (switcher) {\n                                switcher.click();\n                            }\n                        },\n                        500,\n                        2000\n                    );\n                },\n            },\n            {\n                before: ({ redirect }) => {\n                    setTimeout(() => {\n                        redirect('/categories/create');\n                    }, 4000);\n                },\n                target: '[aria-label=\"Add a category of products\"]',\n                content:\n                    'You can even add a new category, or reorder them, try it!',\n            },\n        ],\n    },\n    'ra-realtime': {\n        before: async () => {\n            localStorage.setItem('batchLevel', '0');\n        },\n        steps: [\n            {\n                before: async ({ dataProvider }) => {\n                    localStorage.setItem('batchLevel', '0');\n\n                    [[1], [2], [3], [4]].reduce(\n                        acc =>\n                            acc.then(async () => {\n                                const {\n                                    data: customers,\n                                } = await dataProvider.getList('customers', {\n                                    filter: { has_ordered: true },\n                                    pagination: { page: 1, perPage: 100 },\n                                    sort: { field: 'id', order: 'ASC' },\n                                });\n                                // Add a new Order\n                                const {\n                                    data: newCommand,\n                                } = await dataProvider.create('commands', {\n                                    data: randomCommandBuilder(1, customers),\n                                });\n\n                                newCommandsIds.push(newCommand.id);\n                                // Then notify the Real-time dataProvider\n                                const topic = 'resource/commands';\n                                dataProvider.publish(topic, {\n                                    type: 'created',\n                                    topic: topic,\n                                    payload: { ids: [newCommand.id] },\n                                    date: new Date(),\n                                });\n                            }),\n                        timeout(1)\n                    );\n                    await timeout(1500); // would be so awesome if redirect was awaitable!\n                },\n                target: '[data-testid=\"commands-menu\"]',\n                content: \"Seems like you just had new orders, let's check...\",\n                disableBeacon: true,\n                joyrideProps: {\n                    hideBackButton: true,\n                },\n                after: async ({ redirect }) => {\n                    localStorage.setItem('batchLevel', '1');\n                    await timeout(500);\n                    redirect('/commands');\n                },\n            },\n            {\n                target: '[data-testid=order-ordered-datagrid]',\n                content: 'Your new orders can stand-out from others',\n                joyrideProps: {\n                    hideBackButton: true,\n                },\n            },\n            {\n                before: async ({ dataProvider }) => {\n                    localStorage.setItem('batchLevel', '2');\n                    const { data: customers } = await dataProvider.getList(\n                        'customers',\n                        {\n                            filter: { has_ordered: true },\n                            pagination: { page: 1, perPage: 100 },\n                            sort: { field: 'id', order: 'ASC' },\n                        }\n                    );\n                    // Add a new Order\n                    const { data: newCommand1 } = await dataProvider.create(\n                        'commands',\n                        {\n                            data: randomCommandBuilder(2, customers),\n                        }\n                    );\n                    newCommandsIds.push(newCommand1.id);\n                    const { data: newCommand2 } = await dataProvider.create(\n                        'commands',\n                        {\n                            data: randomCommandBuilder(2, customers),\n                        }\n                    );\n                    newCommandsIds.push(newCommand2.id);\n                    // Then notify the Real-time dataProvider\n                    const topic = 'resource/commands';\n                    dataProvider.publish(topic, {\n                        type: 'created',\n                        topic,\n                        payload: { ids: [newCommand1.id, newCommand2.id] },\n                        date: new Date(),\n                    });\n                    await timeout(1000);\n                },\n                target: '[data-testid=order-ordered-datagrid]',\n                content:\n                    \"And newest orders even appear while you're on the page\",\n                joyrideProps: {\n                    hideBackButton: true,\n                },\n                after: async ({ dataProvider, dispatch, redirect }) => {\n                    // Generate a lock on Products #1, #2 and #5\n                    await Promise.all(\n                        [1, 2, 5].map(recordId => {\n                            return dataProvider\n                                .lock('products', {\n                                    recordId,\n                                    identity: generateIdentity(),\n                                })\n                                .then(({ data: lock }) => {\n                                    dispatch({\n                                        type: 'RA/LOCK_SUCCESS',\n                                        payload: {\n                                            data: lock,\n                                        },\n                                        meta: {\n                                            fetchResponse: 'RA/LOCK',\n                                            resource: 'products',\n                                            recordId,\n                                        },\n                                    });\n                                });\n                        })\n                    );\n\n                    // Sort by id because the locked product has the id #0\n                    redirect('/products?order=ASC&page=1&perPage=20&sort=id');\n                },\n            },\n            {\n                before: async ({ dataProvider, dispatch }) => {\n                    await timeout(100);\n\n                    // Unlock the Products #1 after a few seconds\n\n                    const lockTile = global.document.querySelector(\n                        '[data-productid=\"1\"]'\n                    );\n\n                    if (lockTile instanceof HTMLElement) {\n                        const recordId = parseInt(\n                            lockTile.dataset.productid + '',\n                            10\n                        );\n\n                        const identity = lockTile.dataset.lockidentity;\n\n                        setTimeout(() => {\n                            dataProvider\n                                .unlock('products', {\n                                    recordId,\n                                    identity,\n                                })\n                                .then(({ data: lock }) => {\n                                    dispatch({\n                                        type: 'RA/UNLOCK_SUCCESS',\n                                        payload: {\n                                            data: lock,\n                                        },\n                                        meta: {\n                                            fetchResponse: 'RA/UNLOCK',\n                                            resource: 'products',\n                                            recordId,\n                                        },\n                                    });\n                                });\n                        }, 4000);\n                    }\n                },\n                target: '[data-testid=productlocktile]',\n                content:\n                    'You can lock resources in realtime (this one will be unlocked in a few seconds)',\n                joyrideProps: {\n                    hideBackButton: true,\n                },\n                after: async ({ dataProvider, dispatch, refresh }) => {\n                    // Reset the locks on Products #2 and #5\n                    // The lock on Procuct #1 has been deleted during the scenario\n                    await Promise.all(\n                        [2, 5].map(recordId => {\n                            const lockTile = global.document.querySelector(\n                                `[data-productid=\"${recordId}\"]`\n                            );\n                            if (lockTile instanceof HTMLElement) {\n                                const identity = lockTile.dataset.lockidentity;\n\n                                return dataProvider\n                                    .unlock('products', {\n                                        recordId,\n                                        identity,\n                                    })\n                                    .then(({ data: lock }) => {\n                                        dispatch({\n                                            type: 'RA/UNLOCK_SUCCESS',\n                                            payload: {\n                                                data: lock,\n                                            },\n                                            meta: {\n                                                fetchResponse: 'RA/UNLOCK',\n                                                resource: 'products',\n                                                recordId,\n                                            },\n                                        });\n                                    });\n                            }\n                            return Promise.resolve();\n                        })\n                    ).then(() => {\n                        refresh();\n                    });\n                },\n            },\n        ],\n        after: async ({ dataProvider, refresh }) => {\n            localStorage.setItem('batchLevel', '0');\n            // Reset new Orders\n            // We have to delete them to avoid having them reappear if the tour is restarted\n            await dataProvider.deleteMany('commands', {\n                ids: newCommandsIds,\n            });\n\n            refresh();\n            newCommandsIds = [];\n        },\n    },\n    'ra-editable-datagrid': {\n        before: async ({ redirect }) => {\n            redirect('/stores');\n            await timeout(1000); // would be so awesome if redirect was awaitable!\n        },\n        steps: [\n            {\n                target:\n                    '[data-testid=\"store-datagrid\"] > tbody > tr:first-child',\n                content:\n                    \"Hovering on a row shows a toolbar allowing to either edit or delete the record. Let's see what happens when editing a row by clicking on the Edit button (or by directly clicking inside the row)\",\n            },\n            {\n                before: ({ target }) => {\n                    target.querySelector('td:nth-child(2)').click();\n                },\n                target:\n                    '[data-testid=\"store-datagrid\"] > tbody > tr:first-child',\n                content:\n                    \"You can edit a record without leaving the Datagrid! Let's change the address.\",\n                after: ({ target }) => {\n                    fireEvent.change(target.querySelector('#address'), {\n                        target: { value: '10 rue de Rivoli' },\n                    });\n                },\n            },\n            {\n                target:\n                    '[data-testid=\"store-datagrid\"] > tbody > tr:first-child button:first-child',\n                content:\n                    'After edition, just click on the Save button in the row',\n                after: ({ target }) => {\n                    target.click();\n                },\n            },\n            {\n                target: '[aria-label=\"Create\"]',\n                content: 'The Editable Datagrid also supports inline creation',\n                after: ({ target }) => {\n                    target.click();\n                },\n            },\n            {\n                after: ({ target }) => {\n                    fireEvent.change(target.querySelector('#city'), {\n                        target: { value: 'Nantes' },\n                    });\n                    fireEvent.change(target.querySelector('#country'), {\n                        target: { value: 'France' },\n                    });\n                    fireEvent.change(target.querySelector('#address'), {\n                        target: { value: '5 rue du château' },\n                    });\n                    fireEvent.change(target.querySelector('#created_at'), {\n                        target: { value: '2020-08-04' },\n                    });\n                },\n                target:\n                    '[data-testid=\"store-datagrid\"] > tbody > tr:first-child',\n                content:\n                    'A row edition / creation form can contain Inputs of any type (text, date, number, etc.).',\n            },\n            {\n                target:\n                    '[data-testid=\"store-datagrid\"] > tbody > tr:first-child button:first-child',\n                content:\n                    'Click on the Save button to submit the form and create a new record.',\n                after: ({ target }) => {\n                    target.click();\n                },\n            },\n        ],\n    },\n    'ra-navigation-breadcrumb': {\n        before: async ({ redirect }) => {\n            redirect('/products');\n            await timeout(1000); // would be so awesome if redirect was awaitable!\n        },\n        steps: [\n            {\n                target: \"[aria-label='Breadcrumb'] li:nth-child(2)\",\n                content:\n                    'The breadcrumb indicates that we are on the posters page',\n                disableBeacon: true,\n                joyrideProps: {\n                    disableScrolling: true,\n                },\n            },\n            {\n                target: `[data-tour-id='grid-line'] > a:nth-child(${getRandomInt(\n                    1,\n                    5\n                )})`,\n                disableBeacon: true,\n                content: \"Let's edit one of these posters\",\n                after: ({ target, redirect }) => {\n                    const productUrl = target.getAttribute('href').slice(1);\n                    redirect(productUrl);\n                },\n            },\n            {\n                target: \"[aria-label='Breadcrumb'] li:nth-child(3)\",\n                content:\n                    'The breadcrumb has changed to follow us to this Edit page',\n                disableBeacon: true,\n                joyrideProps: {\n                    scrollOffset: 50,\n                },\n            },\n            {\n                target: '[data-testid=\"commands-menu\"]',\n                content: \"Let's try to navigate away using the Menu entry\",\n                disableBeacon: true,\n                joyrideProps: {\n                    disableScrolling: true,\n                },\n                after: ({ redirect }) => {\n                    redirect('/commands');\n                },\n            },\n            {\n                target: \"[aria-label='Breadcrumb'] li:nth-child(2)\",\n                content: 'The breadcrumb keeps showing our exact location.',\n                disableBeacon: true,\n                joyrideProps: {\n                    disableScrolling: true,\n                },\n            },\n            {\n                target: \"[aria-label='Breadcrumb'] li:nth-child(1)\",\n                content:\n                    \"Users can click on the breadcrumb items directly to navigate.\\nLet's go to the home page\",\n                disableBeacon: true,\n                joyrideProps: {\n                    disableScrolling: true,\n                },\n                after: ({ redirect }) => {\n                    redirect('/');\n                },\n            },\n            {\n                target: \"[aria-label='Breadcrumb']\",\n                content:\n                    \"By default, there is no breacrumb displayed on the home page.\\n Now it's your turn to use the Breadcrumb component to build you own breadcrumb path!\",\n                disableBeacon: true,\n                joyrideProps: {\n                    disableScrolling: true,\n                },\n            },\n        ],\n    },\n    'ra-search': {\n        before: async () => {\n            window.scrollTo(0, 0);\n        },\n        steps: [\n            {\n                disableBeacon: true,\n                target: '[data-testid=\"search\"]',\n                content:\n                    'This is the smart Omnisearch box. It allows users to search across all resources. ',\n                after: ({ target }) => {\n                    fireEvent.change(target.querySelector('input'), {\n                        target: { value: 'B' },\n                    });\n                    return new Promise(resolve => setTimeout(resolve, 1000));\n                },\n            },\n            {\n                target: '[data-testid=\"search-panel\"]',\n                content:\n                    \"You can customize the search results at will and redirect to any resource. For example, let's click on the first customer\",\n                after: ({ target }) => {\n                    fireEvent.click(\n                        target.querySelector('[data-testid=\"customer\"]')\n                    );\n                },\n            },\n            {\n                target: '[data-testid=\"search\"]',\n                content:\n                    'The search query and results are preserved after navigation',\n                before: ({ target }) => {\n                    setTimeout(\n                        () => target.querySelector('input').focus(),\n                        1000\n                    );\n                },\n            },\n        ],\n    },\n};\n\nexport default tours;\n","import { Lock } from '@react-admin/ra-realtime';\nimport { Identifier } from 'react-admin';\n\nconst defaultIdentities = [\n    'Stacey Warner',\n    'Jasmine Morgan',\n    'Gildas Bullock',\n    'Adrien King',\n    'Julien Andrews',\n    'Laila Robinson',\n    'Abigail Bryan',\n    'Felix Mccoy',\n    'Charlie Bradshaw',\n    'Yasmine Hoffman',\n];\n\nexport function generateIdentity(identities = defaultIdentities): string {\n    return identities[Math.floor(Math.random() * identities.length)];\n}\n\nexport function generateLock({\n    id = 0,\n    resource = 'products',\n    recordId = 0,\n}: {\n    id: Identifier;\n    resource: string;\n    recordId?: Identifier;\n}): Lock {\n    const identity = generateIdentity();\n    const createdAt = new Date();\n\n    return {\n        id,\n        resource,\n        recordId,\n        identity,\n        createdAt,\n    };\n}\n\nexport function generateLocks(resource = 'products'): Lock[] {\n    return Array(20)\n        .fill(0)\n        .filter((_, i) => i % (1 + Math.floor(Math.random() * 6)) === 0)\n        .map((_, i) =>\n            generateLock({\n                id: i,\n                resource,\n            })\n        );\n}\n\n/**\n * Generate random locks\n *\n * This generator assumes that:\n * - Product ids exist up to 20\n */\nconst randomLockBuilder = (): { data: Lock[]; total: number } => {\n    const locks = generateLocks();\n\n    return {\n        data: locks,\n        total: (Math.round(Math.random() * 10000) / 100) * locks.length,\n    };\n};\n\nexport default randomLockBuilder;\n"],"sourceRoot":""}