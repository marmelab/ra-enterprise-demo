{"version":3,"sources":["layout/themes.ts","authProvider.ts","layout/Logo.tsx","layout/AppBar.tsx","layout/Breadcrumb.tsx","categories/CategoryCreate.tsx","products/LockOverlay.tsx","products/GridList.tsx","products/Aside.tsx","products/ProductList.tsx","categories/CategoryEdit.tsx","categories/index.ts","categories/CategoryList.tsx","ra-enterprise/List.tsx","segments/data.ts","visitors/SegmentsField.tsx","visitors/SegmentInput.tsx","visitors/AvatarField.tsx","visitors/FullNameField.tsx","visitors/CustomerLinkField.tsx","visitors/ColoredNumberField.tsx","visitors/MobileGrid.tsx","visitors/DesktopGrid.tsx","visitors/VisitorListAside.tsx","visitors/VisitorList.tsx","visitors/VisitorCreate.tsx","orders/NbItemsField.tsx","visitors/CustomerReferenceField.tsx","orders/MobileGrid.tsx","orders/OrderList.tsx","orders/Basket.tsx","orders/OrderEdit.tsx","orders/index.ts","reviews/BulkAcceptButton.tsx","reviews/BulkRejectButton.tsx","reviews/ReviewListMobile.tsx","products/ProductReferenceField.tsx","reviews/StarRatingField.tsx","reviews/rowStyle.tsx","reviews/ReviewListDesktop.tsx","reviews/ReviewFilter.tsx","reviews/AcceptButton.tsx","reviews/RejectButton.tsx","reviews/ReviewEditToolbar.tsx","reviews/ReviewEdit.tsx","reviews/ReviewList.tsx","reviews/index.ts","visitors/Aside.tsx","visitors/SegmentsInput.tsx","visitors/VisitorEdit.tsx","visitors/index.ts","visitors/AddressField.tsx","invoices/InvoiceShow.tsx","invoices/InvoiceList.tsx","invoices/index.ts","products/Poster.tsx","products/ProductCreate.tsx","products/ProductPreview.tsx","products/ProductEdit.tsx","products/index.ts","stores/StoreList.tsx","stores/index.ts","visitors/segments.ts","layout/Menu.tsx","layout/Layout.tsx","layout/Login.tsx","layout/search/SearchListItemLink.tsx","layout/search/CommandListItem.tsx","layout/search/LinkedData.tsx","layout/search/CustomerListItem.tsx","layout/search/ProductListItem.tsx","layout/search/ReviewListItem.tsx","layout/Search.tsx","dashboard/welcome_illustration.svg","dashboard/Welcome.tsx","dashboard/CardWithIcon.tsx","dashboard/cartoucheDark.png","dashboard/cartouche.png","dashboard/MonthlyRevenue.tsx","dashboard/NbNewOrders.tsx","dashboard/PendingOrders.tsx","dashboard/PendingReviews.tsx","dashboard/NewCustomers.tsx","dashboard/OrderChart.tsx","dashboard/Dashboard.tsx","dashboard/index.ts","segments/LinkToRelatedCustomers.tsx","segments/Segments.tsx","tours/TourLauncher.tsx","routes.js","i18n/en.ts","i18n/fr.ts","tours/Tour.tsx","tours/TourList.tsx","tours/index.ts","dataProvider/addRealtimeMethodsWithFakeTransport.ts","dataProvider/addSearchMethod.ts","dataProvider/localStorageProvider.ts","dataProvider/index.ts","tours/data.ts","fakeServer/demo-data.ts","fakeServer/index.ts","App.tsx","index.tsx","tours/randomCommandBuilder.ts","tours/tours.ts","tours/randomLockBuilder.ts"],"names":["darkPalette","createPalette","type","primary","main","darkTheme","palette","overrides","MuiAppBar","zIndex","RaAppBar","menuButton","display","RaSearchInput","root","color","common","white","backgroundColor","fade","black","inputBase","background","borderRadius","inputAdornmentStart","RaSidebar","drawerPaper","paddingRight","width","RaMenuItemCategory","closeButton","popoverPaper","RaMenuItem","link","grey","RaFilterFormInput","body","marginTop","lightPalette","secondary","light","dark","contrastText","default","lightTheme","shape","text","hint","RaMenuItemLink","borderLeft","active","RaMultiLevelMenu","navWithCategories","MuiPaper","elevation1","boxShadow","border","backgroundClip","MuiButton","contained","colorSecondary","MuiLinearProgress","colorPrimary","barColorPrimary","MuiFilledInput","authProvider","login","username","localStorage","setItem","Promise","resolve","logout","removeItem","checkError","checkAuth","getItem","reject","getPermissions","Logo","props","height","viewBox","aria-label","style","lineHeight","fontWeight","fontSize","fontFamily","letterSpacing","wordSpacing","strokeWidth","fill","d","useStyles","makeStyles","theme","position","title","flex","textOverflow","whiteSpace","overflow","paddingLeft","spacing","logo","padding","breakpoints","up","left","top","transform","CustomAppBar","classes","data","useQuery","resource","payload","filter","playedOn","numberOfTours","length","AppBar","elevation","Typography","variant","className","id","Search","IconButton","to","component","Link","Badge","badgeContent","languages","locale","name","defaultLanguage","paddingTop","maxWidth","pointerEvents","CustomBreadcrumb","translate","useTranslate","editLabel","createLabel","resources","label","record","reference","linkToRecord","status","first_name","last_name","Prompt","save","useEffect","result","window","prompt","children","isRoot","CategoryCreate","refresh","useRefresh","redirect","useRedirect","Create","onSuccess","basePath","LockOverlay","lock","rest","Lock","identity","textAlign","gridList","margin","tile","tileBar","placeholder","price","getColsForWidth","LoadingGridList","nbChildren","fn","nbItems","cellHeight","cols","key","GridListTile","Array","from","_","ProductTile","src","thumbnail","alt","GridListTileBar","subtitle","NumberField","source","options","currency","LoadedGridList","useListContext","ids","locks","useHasLocks","firstLockRecordId","React","data-tour-id","map","find","l","recordId","current","isFirstLock","data-productid","data-lockidentity","undefined","data-testid","withWidth","loaded","marginRight","down","Aside","useListFilterContext","setFilters","filterValues","displayedFilters","useGetTree","tree","getRCTree","defaultExpandedKeys","category_id","toString","defaultSelectedKeys","Card","CardContent","FilterLiveSearch","FilterList","icon","FilterListItem","value","sales_lte","sales_gt","sales","stock_lt","stock_gt","stock","Tree","treeData","onSelect","selectedKeys","selectedNodes","autoExpandParent","Math","random","useQuickFilterStyles","marginBottom","QuickFilter","Chip","ProductFilter","Filter","SearchInput","alwaysOn","ReferenceInput","sort","field","order","SelectInput","NumberInput","defaultValue","ListActions","isSmall","useListActionsStyles","TopToolbar","context","SortButton","fields","CreateButton","ExportButton","paddingBottom","ProductListView","actions","aside","defaultTitle","Title","Box","m","Pagination","rowsPerPageOptions","ProductList","useDefineAppLocation","useMediaQuery","ListBase","filters","perPage","CategoryEditAside","hasCreate","hasEdit","hasList","hasShow","exporter","ProductListActions","CategoryEdit","Edit","SimpleForm","TextInput","smart_count","list","handleExpand","useTreeController","titleField","TreeWithDetails","create","edit","draggable","allowMultipleRoots","CategoryIcon","menuPaper","menuList","toolContainer","columnsList","maxHeight","overflowY","ToolContainer","forwardRef","ref","displayName","ColumnsTool","preferenceKey","defaultColumns","useRef","gutterBottom","preference","columns","GridOrListTool","view","setView","ButtonGroup","Button","onClick","Actions","hasColumnsSelector","hasViewSelector","maxResults","permanentFilter","useState","anchorEl","setAnchorEl","open","Boolean","currentSort","showFilter","total","hasTools","classnames","sanitizeListRestProps","cloneElement","disabled","aria-controls","aria-haspopup","event","currentTarget","size","keepMounted","onClose","paper","EnterpriseList","defaultOmittedColumns","defaultView","visibleColumns","useSelectedColumns","preferences","omit","usePreferences","childrenElements","useMemo","List","flexWrap","chip","SegmentsField","groups","segmentId","segment","segments","s","defaultProps","addLabel","input","SegmentInput","choices","AvatarField","Avatar","avatar","parseInt","alignItems","PureFullNameField","pure","CustomerLinkField","ColoredNumberField","card","flexDirection","cardTitleContent","justifyContent","cardContent","typography","body1","MobileGrid","CardHeader","DateField","nb_commands","editButton","right","DesktopGrid","RouterLink","fieldName","withStyles","flexShrink","MuiCard","last_seen_gte","endOfYesterday","toISOString","last_seen_lte","startOfWeek","Date","subWeeks","startOfMonth","subMonths","nb_commands_gte","nb_commands_lte","has_newsletter","VisitorFilter","DateInput","NullableBooleanInput","visitorListColumn","customer","last_seen","total_spent","latest_purchase","showTime","BooleanField","VisitorList","isXsmall","VisitorListAside","Datagrid","rowClick","marginLeft","email","address","zipcode","city","comment","password","confirm_password","validatePasswords","errors","requiredValidate","required","SectionTitle","Separator","pt","VisitorCreate","validate","formClassName","validation","fullWidth","multiline","PasswordInput","render","basket","NbItemsField","FunctionField","CustomerReferenceField","ReferenceField","useListStyles","cardContentRow","TextField","OrderFilter","AutocompleteInput","optionText","choice","useDatagridStyles","tabs","TabbedDatagrid","ordered","delivered","cancelled","state","setState","prevState","useTheme","isXSmall","batchLevel","rowStyle","batch","lighten","info","darken","orderRowStyle","listContext","Tabs","centered","indicatorColor","onChange","Tab","Divider","ListContextProvider","optimized","StyledTabbedDatagrid","OrderList","filterDefaultValues","container","minWidth","rightAlignedCell","boldCell","Basket","useQueryWithStore","item","product_id","productId","admin","products","r","reduce","prev","next","Paper","Table","TableHead","TableRow","TableCell","TableBody","toLocaleString","quantity","colSpan","total_ex_taxes","delivery_fees","tax_rate","OrderTitle","useEditStyles","BooleanInput","OrderIcon","BulkAcceptButton","notify","useNotify","redirectTo","unselectAll","useUnselectAll","selectedIds","useUpdateMany","action","CRUD_UPDATE_MANY","undoable","onFailure","approve","loading","BulkRejectButton","textDecoration","inline","ReviewMobileList","useAppLocationState","setLocation","resourceLocation","useResourceAppLocation","effectDependency","JSON","stringify","ListItem","button","ListItemAvatar","linkType","ListItemText","secondaryTypographyProps","noWrap","hasBulkActions","ProductReferenceField","opacity","large","small","StarRatingField","rating","i","selectedRow","index","defaultStyle","selected","borderLeftColor","green","borderLeftWidth","borderLeftStyle","orange","red","headerRow","headerCell","rowCell","ReviewListDesktop","cellClassName","useFilterStyles","ReviewFilter","AcceptButton","useUpdate","RejectButton","ReviewEditToolbar","handleSubmitWithRedirect","invalid","saving","SaveButton","submitOnEnter","DeleteButton","form","inlineField","ReviewEdit","onCancel","controllerProps","useEditController","version","toolbar","rowsMax","ReviewsBulkActionButtons","BulkDeleteButton","flexGrow","transition","transitions","duration","enteringScreen","listWithDrawer","ReviewList","history","useHistory","handleClose","useCallback","push","path","match","isMatch","params","bulkActionButtons","ReviewListMobile","Drawer","anchor","ReviewIcon","useAsideStyles","EventList","useGetList","page","customer_id","orders","orderIds","reviews","reviewIds","events","mixOrdersAndReviews","mb","mr","eventsFromOrders","date","eventsFromReviews","e1","e2","valueOf","useEventStyles","cardHeader","clamp","OrderEvent","subheader","ReviewEvent","EditButton","Tooltip","SegmentsInput","addField","SelectArrayInput","VisitorTitle","VisitorForm","FormWithRedirect","formProps","md","lg","xs","sm","ml","mt","Toolbar","handleSubmit","VisitorIcon","AddressField","CustomerField","InvoiceShow","useShowController","Grid","align","alignContent","spacer","toLocaleDateString","invoices","borderStyle","borderWidth","borderColor","divider","ListFilters","expand","InvoiceIcon","content","img","Poster","image","styles","widthFormGroup","heightFormGroup","ProductCreate","TabbedForm","FormTab","InputProps","startAdornment","InputAdornment","endAdornment","allowEmpty","details","preview","frame","mat","bottom","art","Preview","ProductTitle","createStyles","ProductEditFormWithPreview","FormDataConsumer","formData","ProductPreview","CustomToolbar","useHasLock","isMeLocker","useLockMessageStyles","LockMessage","ProductEdit","useLock","onUnlockSuccess","CircularProgress","ReferenceManyField","target","pagination","ReferenceManyFieldPagination","ProductIcon","StoreForm","autoFocus","StoreListActions","StoreIcon","empty","createForm","editForm","string","charAt","toUpperCase","slice","newCustomerFilter","formerCustomerFilter","StyledBadgeForText","badge","Menu","onMenuClick","commandsChangeCount","useAppLocationMatcher","location","countEvent","setCountEvent","useSubscribeToRecordList","count","values","previous","useResourceChangeCounter","useSelector","exact","stores","AudienceMenu","CustomLayout","appBar","menu","breadcrumb","Breadcrumb","tours","minHeight","backgroundRepeat","backgroundSize","renderInput","meta","touched","error","inputProps","helperText","Form","withTypes","Login","setLoading","useLogin","useLocation","onSubmit","auth","nextPathname","catch","message","noValidate","CardActions","thickness","Notification","LoginWithTheme","ThemeProvider","createMuiTheme","SearchListItemLink","url","CommandListItem","useCommandListItemStyles","fontWeightBold","CommandStatus","useCommandStatusStyles","blue","getContrastText","success","textTransform","LinkedData","CustomerListItem","fullname","stats","pending_orders","ProductListItem","useProductListItemStyles","ReviewListItem","Rating","readOnly","ReviewComment","truncateString","max","CustomSearch","CustomSearchPanel","useCustomSearchPanelStyles","useSearchResults","dense","groupedData","groupSearchResultsByResource","group","ListSubheader","role","header","disableSticky","headerGroup","headerCount","searchResultItem","CustomSearchResultItem","media","publishArticleImage","Welcome","href","startIcon","CardWithIcon","createElement","MonthlyRevenue","DollarIcon","NbNewOrders","ShoppingCartIcon","cost","PendingOrders","customers","nb_items","customer_name","ListItemSecondaryAction","listItemText","WebkitLineClamp","WebkitBoxOrient","PendingReviews","nb","CommentIcon","NewCustomers","aMonthAgo","setDate","getDate","setHours","setMinutes","setSeconds","setMilliseconds","has_ordered","first_seen_gte","visitors","CustomerIcon","lastDay","toDateString","getTime","lastMonthDays","reverse","dateFormatter","getRevenuePerDay","daysWithRevenue","acc","curr","day","aggregateOrdersByDay","OrderChart","dataKey","scale","domain","tickFormatter","reversed","unit","strokeDasharray","cursor","formatter","Intl","NumberFormat","format","labelFormatter","flexColumn","leftCol","rightCol","singleCol","Spacer","VerticalSpacer","Dashboard","useVersion","dataProvider","useDataProvider","fetchOrders","a","getList","date_gte","recentOrders","aggregations","revenue","nbNewOrders","pendingOrders","minimumFractionDigits","maximumFractionDigits","getMany","pendingOrdersCustomers","fetchReviews","nbPendingReviews","pendingReviews","min","review","pendingReviewsCustomers","LinkToRelatedCustomers","pathname","search","Segments","TourLauncher","tour","useParams","useTour","running","start","customEnglishMessages","mergeTranslations","englishMessages","add_root","pos","configuration","language","dashboard","monthly_revenue","month_history","new_orders","pending_reviews","new_customers","items","welcome","ra_button","demo_button","catalog","audience","former_customers","accepted","rejected","pending","commands","first_seen","birthday","last_visited","today","this_week","last_week","this_month","last_month","earlier","fieldGroups","change_password","delete","password_mismatch","amount","delivery","sum","unit_price","date_lte","returned","total_gte","command_id","height_gte","height_lte","stock_lte","width_gte","width_lte","description","categories","no_stock","low_stock","average_stock","enough_stock","best_sellers","average_sellers","low_sellers","never_sold","create_product","relative_to_poster","detail","accept","notification","approved_success","approved_error","rejected_success","rejected_error","compulsive","collector","ordered_once","regular","returns","reviewer","country","created_at","overlay","customFrenchMessages","frenchMessages","taxes","visited","rightButton","newIcon","buyIcon","playedOnIndicator","Tour","useMutation","setPlayed","CardMedia","process","gridContainer","reset","resetLoading","markAsPlayed","markAsPlayedLoading","GridList","DirectionsBusIcon","subscriptions","addRealtimeMethodsWithFakeTransport","subscribe","topic","subscriptionCallback","unsubscribe","subscription","publish","Error","defaultFacets","addSearchMethod","facets","query","all","searchInResource","resultsByResource","resultForResource","q","ResultBuilders","getOne","VALID_UNTIL","mergeById","b","notInB","aItem","bItem","inBoth","notInA","c","restProvider","compose","addLocksMethodsBasedOnALockResource","addTreeMethodsBasedOnChildren","simpleRestProvider","customProviders","defaultState","get","collection","parse","set","update","newItem","otherItem","remove","Object","keys","o","validUntil","includes","getManyReference","updateMany","updateResults","res","deleteMany","deleteResults","localStorageProvider","customMethods","delayedDataProvider","Proxy","self","provider","setTimeout","getAllChildrenCategories","parentId","parentCategory","childId","originalCategories","newCategories","generateData","serializeDate","demoData","product","originalCategory","matchingNewCategory","newCategoryId","arrayElement","mergedData","restServer","FakeRest","FetchServer","addRequestInterceptor","request","method","init","toggleLogging","fetchMock","mock","getHandler","restore","messages","en","fr","i18nProvider","buildI18nProvider","App","restoreFetch","fakeServer","customRoutes","loginPage","layout","Layout","Resource","ReactDOM","document","getElementById","randomCommandBuilder","round","replace","substr","getRandomInt","ceil","floor","timeout","ms","interval","callback","intervalMs","expirationMs","intervalRef","setInterval","clearInterval","newCommandsIds","before","steps","disableBeacon","joyrideProps","beacon","after","getAttribute","click","menuOverlay","querySelector","setTourPreferences","arrowColor","switcher","then","newCommand","hideBackButton","newCommand1","newCommand2","dispatch","generateIdentity","fetchResponse","lockTile","global","HTMLElement","dataset","productid","lockidentity","unlock","fireEvent","change","disableScrolling","scrollOffset","defaultIdentities","identities"],"mappings":"+RAKMA,EAAcC,IAAc,CAC9BC,KAAM,OACNC,QAAS,CACLC,KAAM,aAIDC,EAA0B,CACnCC,QAASN,EACTO,UAAW,CACPC,UAAW,CAEPC,OAAQ,MAEZC,SAAU,CACNC,WAAY,CAGRC,QAAS,SAGjBC,cAAe,CACXC,KAAM,CACFC,MAAOf,EAAYgB,OAAOC,MAC1BC,gBAAiBC,YAAKnB,EAAYgB,OAAOI,MAAO,KAChD,UAAW,CACPF,gBAAiBC,YAAKnB,EAAYgB,OAAOI,MAAO,MAEpD,UAAW,CACPF,gBAAiBC,YAAKnB,EAAYgB,OAAOI,MAAO,MAEpD,iBAAkB,CACdF,gBAAiBC,YAAKnB,EAAYgB,OAAOI,MAAO,OAGxDC,UAAW,CACPC,WAAYH,YAAKnB,EAAYgB,OAAOI,MAAO,KAC3CG,aAAc,GACd,UAAW,CACPD,WAAYH,YAAKnB,EAAYgB,OAAOI,MAAO,MAGnDI,oBAAqB,CACjBT,MAAOf,EAAYgB,OAAOC,QAGlCQ,UAAW,CACPC,YAAa,CACTC,aAAc,GACdC,MAAO,SAGfC,mBAAoB,CAChBC,YAAa,CACTf,MAAO,SAEXgB,aAAc,CACVb,gBAAiB,YAGzBc,WAAY,CACRlB,KAAM,CACFC,MAAO,SAEXkB,KAAM,CACF,UAAW,CACPlB,MAAO,QACPG,gBAAiBgB,IAAK,QAIlCC,kBAAmB,CACfC,KAAM,CAEF,UAAW,CACPC,UAAW,OAOzBC,EAAerC,IAAc,CAC/BC,KAAM,QACNC,QAAS,CACLC,KAAM,WAEVmC,UAAW,CACPC,MAAO,UACPpC,KAAM,UACNqC,KAAM,UACNC,aAAc,QAElBpB,WAAY,CACRqB,QAAS,aAIJC,EAA2B,CACpCtC,QAASgC,EACTO,MAAO,CACHtB,aAAc,IAElBhB,UAAW,CACPG,SAAU,CACNC,WAAY,CAGRC,QAAS,SAGjBC,cAAe,CACXC,KAAM,CACFC,MAAOuB,EAAaQ,KAAK3C,QACzBe,gBAAiBC,YAAKmB,EAAatB,OAAOI,MAAO,KACjD,UAAW,CACPF,gBAAiBC,YAAKmB,EAAatB,OAAOI,MAAO,MAErD,UAAW,CACPF,gBAAiBC,YAAKmB,EAAatB,OAAOI,MAAO,MAErD,iBAAkB,CACdF,gBAAiBC,YAAKmB,EAAatB,OAAOI,MAAO,OAGzDC,UAAW,CACPC,WAAYH,YAAKmB,EAAatB,OAAOI,MAAO,KAC5CG,aAAc,GACd,UAAW,CACPD,WAAYH,YAAKmB,EAAatB,OAAOI,MAAO,MAGpDI,oBAAqB,CACjBT,MAAOuB,EAAaQ,KAAKC,OAGjCC,eAAgB,CACZlC,KAAM,CACFmC,WAAY,kBAEhBC,OAAQ,CACJD,WAAY,sBAGpBpB,mBAAoB,CAChBf,KAAM,CACFC,MAAO,UACP,UAAW,CACPA,MAAO,QACPG,gBAAiBgB,IAAK,QAIlCF,WAAY,CACRlB,KAAM,CACFC,MAAO,YAGfoC,iBAAkB,CACdC,kBAAmB,CACflC,gBAAiB,SAGzBmC,SAAU,CACNC,WAAY,CACRC,UAAW,QAEfzC,KAAM,CACF0C,OAAQ,oBACRC,eAAgB,gBAGxBC,UAAW,CACPC,UAAW,CACPzC,gBAAiB,OACjBH,MAAO,UACPwC,UAAW,SAGnB/C,UAAW,CAEPM,KAAM,CAAEL,OAAQ,MAChBmD,eAAgB,CACZ7C,MAAO,UACPG,gBAAiB,SAGzB2C,kBAAmB,CACfC,aAAc,CACV5C,gBAAiB,WAErB6C,gBAAiB,CACb7C,gBAAiB,YAGzB8C,eAAgB,CACZlD,KAAM,CACFI,gBAAiB,sBACjB,aAAc,CACVA,gBAAiB,yBAI7BO,UAAW,CACPC,YAAa,CACTC,aAAc,GACdC,MAAO,SAGfO,kBAAmB,CACfC,KAAM,CAEF,UAAW,CACPC,UAAW,OCxMhB4B,EAhBoB,CAC/BC,MAAO,YAAmB,IAAhBC,EAAe,EAAfA,SAGN,OAFAC,aAAaC,QAAQ,WAAYF,GAE1BG,QAAQC,WAEnBC,OAAQ,WAEJ,OADAJ,aAAaK,WAAW,YACjBH,QAAQC,WAEnBG,WAAY,kBAAMJ,QAAQC,WAC1BI,UAAW,kBACPP,aAAaQ,QAAQ,YAAcN,QAAQC,UAAYD,QAAQO,UACnEC,eAAgB,kBAAMR,QAAQO,OAAO,oB,gGCW1BE,EAvBF,SAACC,GAAD,OACT,6CAAKpD,MAAO,QAASqD,OAAQ,OAAQC,QAAQ,oBAAuBF,GAApE,aACI,oBACIG,aAAW,mBACXC,MAAO,CACHC,WAAY,MAEhBC,WAAY,IACZC,SAAU,MACVC,WAAW,mBACXC,cAAe,EACfC,YAAa,EACbC,YAAa,KACbC,KAAK,UAXT,UAaI,sBAAMC,EAAE,++JACR,sBAAMA,EAAE,u9CACR,sBAAMA,EAAE,kqLACR,sBAAMA,EAAE,gjQCLdC,EAAYC,aAAW,SAAAC,GAAK,MAAK,CACnClF,KAAM,CACFmF,SAAU,YAEdC,MAAO,CACHC,KAAM,EACNC,aAAc,WACdC,WAAY,SACZC,SAAU,SACVC,YAAaP,EAAMQ,QAAQ,IAE/BC,KAAK,aACDC,QAASV,EAAMQ,QAAQ,EAAG,IACzBR,EAAMW,YAAYC,GAAG,MAAQ,CAC1BX,SAAU,WACVY,KAAM,MACNC,IAAK,MACLC,UAAW,8BA8CRC,EAzCU,SAAAhC,GACrB,IAAMiC,EAAUnB,IAERoB,EAASC,YAAS,CACtBjH,KAAM,UACNkH,SAAU,QACVC,QAAS,CAAEC,OAAQ,CAAEC,SAAU,SAH3BL,KAMJM,EAAgB,EAKpB,OAJIN,IACAM,EAAgBN,EAAKO,QAIrB,eAACC,EAAA,EAAD,2BAAY1C,GAAZ,IAAmB2C,UAAW,EAA9B,UACI,cAACC,EAAA,EAAD,CACIC,QAAQ,KACR9G,MAAM,UACN+G,UAAWb,EAAQf,MACnB6B,GAAG,sBAEP,cAAC,EAAD,CAAMD,UAAWb,EAAQR,OACzB,cAACuB,GAAD,IACA,cAACC,EAAA,EAAD,CAAYC,GAAG,SAASC,UAAWC,IAAMrH,MAAM,UAA/C,SACI,cAACsH,EAAA,EAAD,CAAOC,aAAcd,EAAezG,MAAM,QAAQ8G,QAAQ,MAA1D,SACI,cAAC,IAAD,QAGR,cAAC,IAAD,IACA,cAAC,IAAD,CACIU,UAAW,CACP,CAAEC,OAAQ,KAAMC,KAAM,WACtB,CAAED,OAAQ,KAAMC,KAAM,gBAE1BC,gBAAgB,iB,yBCuD1B5C,EAAYC,aAAW,SAAAC,GAAK,MAAK,CACnClF,KAAM,CACF6H,WAAY3C,EAAMQ,QAAQ,GAC1BjB,SAAU,QAGVqD,SAAU,QACVnI,OAAQ,EACR,MAAO,CACHoI,cAAe,gBAKZC,EArIc,SAAA9D,GACzB,IAAMiC,EAAUnB,IACViD,EAAYC,cAEZC,EAAYF,EAAU,kBACtBG,EAAcH,EAAU,oBAC9B,OACI,eAAC,IAAD,yBAAYjB,UAAWb,EAAQnG,MAAUkE,GAAzC,cACI,cAAC,IAAD,CACImE,UAAW,CAAC,WAAY,SAAU,WAEtC,eAAC,IAAD,CACIV,KAAK,UACLW,MAAOL,EAAU,mBAAoB,GAFzC,UAII,eAAC,IAAD,CACIN,KAAK,WACLW,MAAOL,EAAU,0BAA2B,GAC5Cb,GAAG,YAHP,UAKI,cAAC,IAAD,CACIO,KAAK,OACLW,MAAO,gBAAGC,EAAH,EAAGA,OAAH,gBACAJ,EADA,YAECI,EAAM,WAAOA,EAAOC,UAAd,KAA6B,QAG3CpB,GAAI,gBAAGmB,EAAH,EAAGA,OAAH,OACAA,EAAM,UACGE,YAAa,YAAaF,EAAOtB,IADpC,SAEA,MAGd,cAAC,IAAD,CACIU,KAAK,SACLW,MAAOF,EACPhB,GAAG,wBAGX,cAAC,IAAD,CACIO,KAAK,aACLW,MAAOL,EAAU,4BAA6B,QAGtD,cAAC,IAAD,CACIN,KAAK,UACLW,MAAOL,EAAU,yBAA0B,GAC3Cb,GAAG,qBAHP,SAKI,cAAC,IAAD,CACIO,KAAK,gBACLW,MAAO,gBAAGI,EAAH,EAAGA,OAAH,gBACAT,EAAU,cADV,oBACmCA,EAAU,eAAD,OAC5BS,IAFhB,UAOf,cAAC,IAAD,CACIf,KAAK,WACLW,MAAOL,EAAU,0BAA2B,GAC5Cb,GAAG,YAHP,SAKI,cAAC,IAAD,CACIO,KAAK,OACLW,MAAO,gBAAGC,EAAH,EAAGA,OAAH,gBACAJ,EADA,YAECI,EAAM,WAAOA,EAAOC,UAAd,KAA6B,QAG3CpB,GAAI,gBAAGmB,EAAH,EAAGA,OAAH,OACAA,EAAM,UACGE,YAAa,YAAaF,EAAOtB,IADpC,SAEA,QAIlB,eAAC,IAAD,CACIU,KAAK,WACLW,MAAOL,EAAU,oBAAqB,GAF1C,UAII,eAAC,IAAD,CACIN,KAAK,YACLW,MAAOL,EAAU,2BAA4B,GAC7Cb,GAAG,aAHP,UAKI,cAAC,IAAD,CACIO,KAAK,OACLW,MAAO,gBAAGC,EAAH,EAAGA,OAAH,gBACAJ,EADA,YAECI,EAAM,WACIA,EAAOI,WADX,YACyBJ,EAAOK,UADhC,KAEA,QAGdxB,GAAI,gBAAGmB,EAAH,EAAGA,OAAH,OACAA,EAAM,UACGE,YACC,aACAF,EAAOtB,IAHX,SAKA,MAGd,cAAC,IAAD,CACIU,KAAK,SACLW,MAAOF,EACPhB,GAAG,yBAGX,cAAC,IAAD,CACIO,KAAK,WACLW,MAAOL,EAAU,0BAA2B,a,6MChH1DY,GAA0B,SAAC,GAG1B,IAAD,IAFFC,YAEE,MAFK,aAEL,MADFP,cACE,MADO,GACP,EAMF,OALAQ,qBAAU,WACN,IAAMC,EAASC,OAAOC,OAAO,WAAYX,EAAOZ,MAChDmB,EAAK,2BAAKP,GAAN,IAAcZ,KAAMqB,EAAQG,SAAU,GAAIC,QAAQ,OAEvD,IACI,MAmBIC,GAhByB,SAAAnF,GACpC,IAAMoF,EAAUC,eACVC,EAAWC,eAOjB,OACI,cAACC,GAAA,EAAD,2BAAYxF,GAAZ,IAAmByF,UANL,WACdH,EAAStF,EAAM0F,UACfN,KAIA,SACI,cAAC,GAAD,CAAQhB,MAAM,sB,kQCzBbuB,GAAuB,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,KAASC,EAAW,yBACjD5D,EAAUnB,KACViD,EAAYC,cAElB,OACI,8CAAKlB,UAAWb,EAAQnG,MAAU+J,GAAlC,cACI,cAACC,GAAA,EAAD,IACA,qBAAKhD,UAAWb,EAAQ8D,SAAxB,SACI,cAACnD,EAAA,EAAD,CAAYC,QAAQ,QAAQ9G,MAAM,UAAlC,SACKgI,EAAU,0BAA2B,CAClCN,KAAMmC,EAAKG,oBAQ7BjF,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnClF,KAAM,CACFgG,IAAK,EACLD,KAAM,EACNjF,MAAO,OACPqD,OAAQ,OACR3D,WAAY,qBACZ2E,SAAU,WACV+E,UAAW,SACXjK,MAAOiF,EAAM1F,QAAQU,OAAOC,MAC5ByF,QAAS,SAEbqE,SAAU,CACNpC,WAAY,WCtBd7C,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnCiF,SAAU,CACNC,OAAQ,GAEZC,KAAM,CACFlF,SAAU,YAEdmF,QAAS,CACL9J,WACI,sFAER+J,YAAa,CACTnK,gBAAiB8E,EAAM1F,QAAQ4B,KAAK,KACpC+C,OAAQ,QAEZqG,MAAO,CACH1K,QAAS,SACT2E,SAAU,OAEdtD,KAAM,CACFlB,MAAO,YAITwK,GAAkB,SAAC3J,GACrB,MAAc,OAAVA,EAAuB,EACb,OAAVA,EAAuB,EACb,OAAVA,EAAuB,EACb,OAAVA,EAAuB,EACpB,GAML4J,GAAwD,SAAC,GAGxD,IANQC,EAAoBC,EAI/B9J,EAEE,EAFFA,MAEE,IADF+J,eACE,MADQ,GACR,EACI1E,EAAUnB,KAEhB,OACI,cAAC,KAAD,CACI8F,WAAY,IACZC,KAAMN,GAAgB3J,GACtBkG,UAAWb,EAAQgE,SAHvB,UAVOQ,EAeIE,EAfgBD,EAeP,SAAAI,GAAG,OACf,cAACC,GAAA,EAAD,UACI,qBAAKjE,UAAWb,EAAQoE,eADTS,IAf/BE,MAAMC,KAAK,CAAExE,OAAQgE,IAAc,SAACS,EAAGJ,GAAJ,OAAYJ,EAAGI,UA2BhDK,GAAqC,SAAC,GAAgB,IAAd9C,EAAa,EAAbA,OACpCpC,EAAUnB,KAEhB,OACI,qCACI,qBAAKsG,IAAK/C,EAAOgD,UAAWC,IAAI,KAChC,cAACC,GAAA,EAAD,CACIzE,UAAWb,EAAQmE,QACnBlF,MAAOmD,EAAOC,UACdkD,SACI,iCACKnD,EAAOzH,MADZ,IACoByH,EAAOpE,OAD3B,IACoC,IAChC,cAACwH,GAAA,EAAD,CACI3E,UAAWb,EAAQqE,MACnBoB,OAAO,QACPrD,OAAQA,EACRtI,MAAM,UACN4L,QAAS,CACLvH,MAAO,WACPwH,SAAU,kBAUpCC,GAAgC,SAAC,GAAe,IAAbjL,EAAY,EAAZA,MAAY,EACPkL,eAAlCC,EADyC,EACzCA,IAAK7F,EADoC,EACpCA,KAAMwD,EAD8B,EAC9BA,SAAUtD,EADoB,EACpBA,SACf4F,EAAUC,YAAY7F,GAA5BF,KACFD,EAAUnB,KAEVoH,EAAoBC,WAE1B,OAAKJ,GAAQ7F,EAGT,cAAC,KAAD,CACI0E,WAAY,IACZC,KAAMN,GAAgB3J,GACtBkG,UAAWb,EAAQgE,SACnBmC,eAAa,YAJjB,SAMKL,EAAIM,KAAI,SAAAtF,GACL,IAAM6C,EAAOoC,EAAMM,MAAK,SAACC,GAAD,OAAaA,EAAEC,WAAazF,KAChD6C,IAASsC,EAAkBO,UAC3BP,EAAkBO,QAAU7C,EAAK4C,UAGrC,IAAME,EAAcR,EAAkBO,UAAY1F,EAElD,OACI,eAACgE,GAAA,EAAD,CAEI5D,UAAWyC,EAAO,OAASxC,IAC3BF,GAAIqB,YAAamB,EAAU3C,GAC3BD,UAAWb,EAAQkE,KACnBwC,iBAAgB5F,EAChB6F,oBAAmBhD,EAAOA,EAAKG,cAAW8C,EAC1CC,cACIJ,EAAc,uBAAoBG,EAR1C,UAWI,cAAC,GAAD,CAAaxE,OAAQnC,EAAKa,KACzB6C,GAAQ,cAAC,GAAD,CAAaA,KAAMA,MAXvB7C,QAnBC,MAkDfgG,mBAViB,SAAC,GAAe,IAAbnM,EAAY,EAAZA,MAG/B,OAFmBkL,eAAXkB,OAGJ,cAAC,GAAD,CAAgBpM,MAAOA,IAEvB,cAAC,GAAD,CAAiBA,MAAOA,O,qJC9I1BkE,GAAYC,aAAW,SAAAC,GAAK,YAAK,CACnClF,MAAI,mBACCkF,EAAMW,YAAYC,GAAG,MAAQ,CAC1BhF,MAAO,OACPqM,YAAa,MACb3H,SAAU,YAJd,cAMCN,EAAMW,YAAYuH,KAAK,MAAQ,CAC5BtN,QAAS,SAPb,OAuJOuN,GA3ID,SAACnJ,GAAoC,IAAD,EACSoJ,aACnDpJ,GADIqJ,EADsC,EACtCA,WAAYC,EAD0B,EAC1BA,aAAcC,EADY,EACZA,iBAI1BrH,EAASsH,aAAW,cAApBtH,KAEFuH,EAAOvH,EAAOwH,aAAUxH,EAAM,aAAU2G,EAExCc,EAAsBL,EAAaM,YACnC,CAACN,EAAaM,YAAYC,YACxBJ,EACF,CAACA,EAAK,GAAG3C,UACT+B,EAEAiB,OAC2BjB,IAA7BS,EAAaM,YACP,CAACN,EAAaM,YAAYC,YAC1B,GAiBJ5H,EAAUnB,KAChB,OACI,cAACiJ,GAAA,EAAD,CAAMjH,UAAWb,EAAQnG,KAAzB,SACI,eAACkO,EAAA,EAAD,WACI,cAACC,GAAA,EAAD,IAEA,eAACC,GAAA,EAAD,CACI9F,MAAM,mCACN+F,KAAM,cAAC,KAAD,IAFV,UAII,cAACC,GAAA,EAAD,CACIhG,MAAM,0CACNiG,MAAO,CACHC,eAAWzB,EACX0B,SAAU,GACVC,WAAO3B,KAGf,cAACuB,GAAA,EAAD,CACIhG,MAAM,6CACNiG,MAAO,CACHC,UAAW,GACXC,SAAU,GACVC,WAAO3B,KAGf,cAACuB,GAAA,EAAD,CACIhG,MAAM,yCACNiG,MAAO,CACHC,UAAW,GACXC,SAAU,EACVC,WAAO3B,KAGf,cAACuB,GAAA,EAAD,CACIhG,MAAM,wCACNiG,MAAO,CACHC,eAAWzB,EACX0B,cAAU1B,EACV2B,MAAO,QAKnB,eAACN,GAAA,EAAD,CACI9F,MAAM,mCACN+F,KAAM,cAAC,KAAD,IAFV,UAII,cAACC,GAAA,EAAD,CACIhG,MAAM,sCACNiG,MAAO,CACHI,cAAU5B,EACV6B,cAAU7B,EACV8B,MAAO,KAGf,cAACP,GAAA,EAAD,CACIhG,MAAM,uCACNiG,MAAO,CACHI,SAAU,GACVC,SAAU,EACVC,WAAO9B,KAGf,cAACuB,GAAA,EAAD,CACIhG,MAAM,2CACNiG,MAAO,CACHI,SAAU,GACVC,SAAU,EACVC,WAAO9B,KAGf,cAACuB,GAAA,EAAD,CACIhG,MAAM,0CACNiG,MAAO,CACHI,cAAU5B,EACV6B,SAAU,GACVC,WAAO9B,QAKnB,cAACqB,GAAA,EAAD,CACI9F,MAAM,wCACN+F,KAAM,cAAC,KAAD,IAFV,SAII,cAACS,GAAA,EAAD,CAMIC,SAAUpB,EAAOA,EAAK,GAAGxE,SAAW,GACpC6F,SA5GS,SACzBC,EADyB,GAGjB,IADNC,EACK,EADLA,cAEOjI,EADF,YACUiI,EADV,MACEjI,GAETsG,EAAW,2BAEAC,GAFD,IAGFM,YAAa7G,IAEjBwG,IAkGYO,oBAAqBA,EACrBH,oBAAqBA,EACrBsB,kBAAgB,GALXC,KAAKC,kBC9H5BC,GAAuBrK,aAAW,SAAAC,GAAK,MAAK,CAC9ClF,KAAM,CACFuP,aAAcrK,EAAMQ,QAAQ,QAI9B8J,GAAc,SAAC,GAAyC,IAAvClH,EAAsC,EAAtCA,MACbL,EAAYC,cACZ/B,EAAUmJ,KAChB,OAAO,cAACG,GAAA,EAAD,CAAMzI,UAAWb,EAAQnG,KAAMsI,MAAOL,EAAUK,MAG9CoH,GAAgB,SACzBxL,GADyB,OAGzB,eAACyL,GAAA,EAAD,2BAAYzL,GAAZ,cACI,cAAC0L,GAAA,EAAD,CAAahE,OAAO,IAAIiE,UAAQ,IAChC,cAACC,GAAA,EAAD,CACIlE,OAAO,cACPpD,UAAU,aACVuH,KAAM,CAAEC,MAAO,KAAMC,MAAO,OAHhC,SAKI,cAACC,GAAA,EAAD,CAAatE,OAAO,WAExB,cAACuE,GAAA,EAAD,CAAavE,OAAO,cACpB,cAACuE,GAAA,EAAD,CAAavE,OAAO,cACpB,cAACuE,GAAA,EAAD,CAAavE,OAAO,eACpB,cAACuE,GAAA,EAAD,CAAavE,OAAO,eACpB,cAAC,GAAD,CACItD,MAAM,sCACNsD,OAAO,YACPwE,aAAc,UAKpBC,GAAc,SAAC,GAEyC,IAD1DC,EACyD,EADzDA,QAEMnK,EAAUoK,KAEhB,OACI,eAACC,GAAA,EAAD,CAAYxJ,UAAWb,EAAQnG,KAA/B,UACKsQ,GAAW,cAAC,GAAD,CAAeG,QAAQ,WACnC,cAACC,GAAA,EAAD,CAAYC,OAAQ,CAAC,YAAa,QAAS,WAC3C,cAACC,GAAA,EAAD,CAAchH,SAAS,cACvB,cAACiH,GAAA,EAAD,QAKNN,GAAuBtL,aAAW,SAAAC,GAAK,MAAK,CAC9ClF,KAAM,CACF8Q,cAAe,EACfjJ,WAAY3C,EAAMQ,QAAQ,QA4B5BqL,GAAkB,SAAC,GAUJ,IATjBT,EASgB,EAThBA,QASgB,IARhBU,eAQgB,MARN,cAAC,GAAD,CAAaV,QAASA,IAQhB,EAPhBW,EAOgB,EAPhBA,MACA7L,EAMgB,EANhBA,MAOQ8L,EAAiBlF,eAAjBkF,aACF/K,EAAUnB,KAChB,OACI,sBAAKgC,UAAWb,EAAQnG,KAAxB,UACI,cAACmR,GAAA,EAAD,CAAO/L,MAAOA,GAAS8L,IACtBF,GACCV,IAAqB,IAAVW,IACT,cAACG,EAAA,EAAD,CAAKC,EAAG,EAAR,SACI,cAAC,GAAD,CAAeZ,QAAQ,WAG/B,eAACW,EAAA,EAAD,CAAKtR,QAAQ,OAAb,WACe,IAAVmR,EAAkB,cAAC,GAAD,IAAY,KAC/B,eAACG,EAAA,EAAD,CACItQ,MACIwP,IAAqB,IAAVW,EACL,OACA,oBAJd,UAOI,cAAC,GAAD,IACA,cAACK,GAAA,EAAD,CAAYC,mBAAoB,CAAC,GAAI,GAAI,gBAO9CC,GA/DoB,SAAC,GAA2B,IAAzBR,EAAwB,EAAxBA,QAAY9M,EAAY,4BAC1DuN,YAAqB,oBACrB,IAAMnB,EAAUoB,aAAqB,SAAAxM,GAAK,OAAIA,EAAMW,YAAYuH,KAAK,SAErE,OACI,cAACuE,GAAA,EAAD,yBACIC,QAAStB,EAAU,cAAC,GAAD,IAAoB,KACvCuB,QAAS,GACT9B,KAAM,CAAEC,MAAO,YAAaC,MAAO,QAC/B/L,GAJR,aAMI,cAAC,GAAD,CACI8M,QAASA,EACTV,QAASA,EACTW,MAAO/M,EAAM+M,MACb7L,MAAOlB,EAAMkB,YAkDvBJ,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnClF,KAAM,CACFuB,WAAY2D,EAAMQ,QAAQ,QCxH5BoM,GAAoB,SAAC,GAAD,IAAG7K,EAAH,EAAGA,GAAO8C,EAAV,8BACtB,cAAC,GAAD,2BACQA,GADR,IAEI3E,MAAM,IACNwE,SAAS,YACTtD,SAAS,WACTyL,WAAS,EACTC,SAAO,EACPC,SAAS,EACTC,SAAS,EACT1L,OAAQ,CAAEsH,YAAa7G,GACvBkL,UAAU,EACVlB,WAAOlE,EACPiE,QAAS,cAAC,GAAD,QAIXoB,GAAqB,kBACvB,eAAC5B,GAAA,EAAD,WACI,cAACE,GAAA,EAAD,CAAYC,OAAQ,CAAC,YAAa,QAAS,WAC3C,cAACC,GAAA,EAAD,CACItI,MAAM,8CACNsB,SAAS,cAEb,cAACiH,GAAA,EAAD,QAIOwB,GA/CqB,SAAAnO,GAChC,IAAM+D,EAAYC,cACZ/B,EAAUnB,KAEhB,OACI,qCACI,cAACsN,GAAA,EAAD,2BAAUpO,GAAV,aACI,cAACqO,GAAA,EAAD,UACI,cAACC,GAAA,EAAD,CAAW5G,OAAO,cAG1B,cAAC9E,EAAA,EAAD,CAAYE,UAAWb,EAAQuF,SAAU3E,QAAQ,KAAjD,SACKkB,EAAU,0BAA2B,CAAEwK,YAAa,MAEzD,cAAC,GAAD,eAAuBvO,QAmC7Bc,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnCwG,SAAU,CACNnK,UAAW2D,EAAMQ,QAAQ,QC9DlB,IACXgN,KCGgC,SAAAxO,GAEhCuN,YAAqB,sBAFoB,IAIjCkB,EAAiBC,aAAkB,CACvCtM,SAAUpC,EAAMoC,SAChBuM,WAAY,SAFRF,aAUR,OALA5J,qBAAU,WACN4J,EAAa,CAAC,QAEf,IAGC,cAACG,GAAA,EAAD,aACIC,OAAQ1J,GACR2J,KAAMX,GACNQ,WAAW,OACXI,WAAS,EACTC,oBAAkB,EAClBlF,oBAAqB,CAAC,MAClB9J,KDxBZmK,KAAM8E,M,iNEkCJnO,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnClF,KAAM,CACF8Q,cAAe,EACfjJ,WAAY3C,EAAMQ,QAAQ,IAE9B0N,UAAW,CACPxN,QAAS,UAEbyN,SAAU,CACN,WAAY,CACRzN,QAAS,WAGjB0N,cAAe,CACXlJ,OAAQ,SACR,gBAAiB,CACb7I,UAAW,GAEf,eAAgB,CACZgO,aAAc,IAGtBgE,YAAa,CACTC,UAAW,QACXC,UAAW,OACXrJ,OAAQ,EACR5J,WAAY,YAIdkT,GAAgBC,sBAAgC,WAAeC,GAAS,IAArBzK,EAAoB,EAApBA,SAC/ChD,EAAUnB,KAEhB,OACI,qBAAK4O,IAAKA,EAAK5M,UAAWb,EAAQmN,cAAlC,SACKnK,OAIbuK,GAAcG,YAAc,gBAE5B,IAAMC,GAGD,SAAC,GAAuC,IAArCC,EAAoC,EAApCA,cAAeC,EAAqB,EAArBA,eACb7N,EAAUnB,KACV4O,EAAMK,iBAA8B,MAE1C,OACI,qCACI,cAACnN,EAAA,EAAD,CACIC,QAAQ,WACRmN,cAAY,EAEZ7M,UAAU,MACVuM,IAAKA,EALT,+BAGQ,+BAMR,cAAC,IAAD,CAEIO,WAAYJ,EACZK,QAASJ,EACThN,UAAWb,EAAQoN,aAHf,kCAYdc,GAGD,SAAC,GAAD,IAAGC,EAAH,EAAGA,KAAMC,EAAT,EAASA,QAAT,OACD,qCACI,cAACzN,EAAA,EAAD,CACIC,QAAQ,WACRmN,cAAY,EAEZ7M,UAAU,MAJd,mBAGQ,4BAMR,eAACmN,GAAA,EAAD,WACI,cAACC,GAAA,EAAD,CACIxU,MAAgB,UAATqU,EAAmB,UAAY,UACtCI,QAAS,kBAAYH,EAAQ,UAC7BjM,MAAM,QAHV,SAKI,cAAC,KAAD,MAEJ,cAACmM,GAAA,EAAD,CACIxU,MAAgB,SAATqU,EAAkB,UAAY,UACrCI,QAAS,kBAAYH,EAAQ,SAC7BjM,MAAM,OAHV,SAKI,cAAC,KAAD,QAbS,+BAmBnBqM,GAaD,SAAC,GAcC,IAbH3N,EAaE,EAbFA,UACAgN,EAYE,EAZFA,eACApC,EAWE,EAXFA,QACAgD,EAUE,EAVFA,mBAGAC,GAOE,EATF5C,QASE,EARFC,QAQE,EAPF2C,iBACAC,EAME,EANFA,WACAC,EAKE,EALFA,gBACAhB,EAIE,EAJFA,cACAQ,EAGE,EAHFA,QACAD,EAEE,EAFFA,KACGvK,EACD,sLAC8BsC,IAAM2I,SAAS,MAD7C,mBACKC,EADL,KACeC,EADf,KAEI/O,EAAUnB,KACVmQ,EAAOC,QAAQH,GAHnB,EAaEjJ,eARApC,EALF,EAKEA,SACAyL,EANF,EAMEA,YACA5H,EAPF,EAOEA,iBACA0E,EARF,EAQEA,SACA3E,EATF,EASEA,aACAlH,EAVF,EAUEA,SACAgP,EAXF,EAWEA,WACAC,EAZF,EAYEA,MAWEC,EAAWZ,GAAsBC,EAEvC,OACI,eAACrE,GAAA,EAAD,yBACIxJ,UAAWyO,KAAWzO,EAAWb,EAAQnG,OACrC0V,aAAsB3L,IAF9B,cAIK6H,GACG+D,uBAAa/D,EAAS,CAClBtL,WACAgP,aACA7H,mBACAD,eACAiD,QAAS,WAEjB,cAACG,GAAA,EAAD,CAAchH,SAAUA,IACvBuI,GACG,cAACtB,GAAA,EAAD,CACI+E,SAAoB,IAAVL,EACVjP,SAAUA,EACVyJ,KAAMsF,EACN7H,aAAY,2BAAOA,GAAiBuH,GACpC5C,SAAUA,EACV2C,WAAYA,IAInBU,GACG,qCACI,cAACrO,EAAA,EAAD,CACI9C,aAAW,OACXwR,gBAAc,uBACdC,gBAAc,OACdpB,QAzCA,SAACqB,GACjBb,EAAYa,EAAMC,gBAyCFC,KAAK,QALT,SAOI,cAAC,KAAD,MAEJ,eAAC,KAAD,CACIhP,GAAG,uBACHgO,SAAUA,EACViB,aAAW,EACXf,KAAMA,EACNgB,QA/CA,WAChBjB,EAAY,OA+CI/O,QAAS,CACLiQ,MAAOjQ,EAAQiN,UACfV,KAAMvM,EAAQkN,UARtB,UAWKwB,GACG,cAACnB,GAAD,UACI,cAAC,GAAD,CAAgBY,KAAMA,EAAMC,QAASA,MAG5CK,GACG,cAAClB,GAAD,UACI,cAAC,GAAD,CACIK,cAAeA,EACfC,eAAgBA,iBAgHrCqC,GA9DX,SAAAnS,GAAU,IAEN8C,EAYA9C,EAZA8C,UACA+M,EAWA7P,EAXA6P,cAHK,EAcL7P,EATA0Q,0BALK,WAcL1Q,EARA8P,sBANK,MAMY,GANZ,IAcL9P,EAPAoS,6BAPK,MAOmB,GAPnB,IAcLpS,EALA2Q,uBATK,WAcL3Q,EAJAqS,mBAVK,MAUS,QAVT,EAYLpN,EAEAjF,EAFAiF,SACGY,EAbE,aAcL7F,EAdK,wIAeHsS,EAAiBC,YAAmB,CACtCC,YAAY,GAAD,OAAK3C,EAAL,YACXK,QAASJ,EACT2C,KAAML,IAlBD,EAqBeM,YAAc,UAC/B7C,EAD+B,SAElCwC,GAvBK,mBAqBFjC,EArBE,KAqBIC,EArBJ,KA0BHsC,EAAmBC,mBACrB,kBAAM3N,EAAS,2BAAKY,GAAN,IAAYqK,QAASoC,EAAgBlC,YACnD,CAACkC,EAAgBlC,EAAMnL,EAAUY,IAcrC,OACI,cAACgN,GAAA,EAAD,2BACQhN,GADR,IAEI/C,UAAWA,EACXgK,QACI,cAAC,GAAD,CACI+C,cAAa,UAAKA,EAAL,YACba,mBAAoBA,EACpBZ,eAAgBA,EAChBa,gBAAiBA,EACjBP,KAAMA,EACNC,QAASA,IAVrB,SAcKsC,MCxWE,IACX,CAAE5P,GAAI,aAAcU,KAAM,sCAC1B,CAAEV,GAAI,YAAaU,KAAM,qCACzB,CAAEV,GAAI,eAAgBU,KAAM,wCAC5B,CAAEV,GAAI,UAAWU,KAAM,mCACvB,CAAEV,GAAI,UAAWU,KAAM,mCACvB,CAAEV,GAAI,WAAYU,KAAM,qCCAtB3C,GAAYC,YAAW,CACzB3F,KAAM,CACFQ,QAAS,OACTkX,SAAU,OACVzV,WAAY,EACZgO,cAAe,GAEnB0H,KAAM,CAAE7M,OAAQ,KAGd8M,GAAgC,SAAC,GAAgB,IAAd3O,EAAa,EAAbA,OAC/BN,EAAYC,cACZ/B,EAAUnB,KAEhB,OAAOuD,EACH,sBAAMvB,UAAWb,EAAQ7G,KAAzB,SACKiJ,EAAO4O,QACJ5O,EAAO4O,OAAO5K,KAAI,SAAA6K,GACd,IAAMC,EAAUC,GAAS9K,MAAK,SAAA+K,GAAC,OAAIA,EAAEtQ,KAAOmQ,KAE5C,OAAOC,EACH,cAAC5H,GAAA,EAAD,CAEIzI,UAAWb,EAAQ8Q,KACnB3O,MAAOL,EAAUoP,EAAQ1P,OAFpB0P,EAAQpQ,IAIjB,UAGhB,MAGRiQ,GAAcM,aAAe,CACzBC,UAAU,EACV7L,OAAQ,UAGGsL,UCpCTlS,GAAYC,YAAW,CACzByS,MAAO,CAAE5W,MAAO,OAOd6W,GAA0B,SAAAzT,GAC5B,IAAM+D,EAAYC,cACZ/B,EAAUnB,KAChB,OACI,cAACkL,GAAA,EAAD,2BACQhM,GADR,IAEI0T,QAASN,GAAS/K,KAAI,SAAA8K,GAAO,MAAK,CAC9BpQ,GAAIoQ,EAAQpQ,GACZU,KAAMM,EAAUoP,EAAQ1P,UAE5BX,UAAWb,EAAQuR,UAK/BC,GAAaH,aAAe,CACxB5L,OAAQ,UAGG+L,U,0CCfAE,GATgB,SAAC,GAAD,IAAGtP,EAAH,EAAGA,OAAH,IAAW0N,YAAX,MAAkB,KAAlB,EAAwBjP,EAAxB,EAAwBA,UAAxB,OAC3BuB,EACI,cAACuP,GAAA,EAAD,CACIxM,IAAG,UAAK/C,EAAOwP,OAAZ,iBAA2B9B,EAA3B,YAAmCA,GACtC3R,MAAO,CAAExD,MAAOkX,SAAS/B,EAAM,IAAK9R,OAAQ6T,SAAS/B,EAAM,KAC3DjP,UAAWA,IAEf,MCVFhC,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnClF,KAAM,CACFF,QAAS,OACTkX,SAAU,SACViB,WAAY,UAEhBF,OAAQ,CACJ5K,YAAajI,EAAMQ,QAAQ,QAsB7BwS,GAAoBC,MAdO,SAAC,GAAsB,IAApB5P,EAAmB,EAAnBA,OAAQ0N,EAAW,EAAXA,KAClC9P,EAAUnB,KAChB,OAAOuD,EACH,sBAAKvB,UAAWb,EAAQnG,KAAxB,UACI,cAAC,GAAD,CACIgH,UAAWb,EAAQ4R,OACnBxP,OAAQA,EACR0N,KAAMA,IAET1N,EAAOI,WANZ,IAMyBJ,EAAOK,aAEhC,QAKRsP,GAAkBV,aAAe,CAC7B5L,OAAQ,YACRtD,MAAO,mCAGI4P,UCrCTE,GAA8C,SAAAlU,GAAK,OACrDA,EAAMqE,OACF,cAACjB,GAAA,EAAD,CAAMF,GAAE,qBAAgBlD,EAAMqE,OAAOtB,IAArC,SACI,cAAC,GAAD,eAAmB/C,MAEvB,MAERkU,GAAkBZ,aAAe,CAC7B5L,OAAQ,cACR6L,UAAU,GAGCW,UCfTC,GAAqB,SAACnU,GAAD,OACvBA,EAAMqE,QAAUrE,EAAM0H,OAClB1H,EAAMqE,OAAOrE,EAAM0H,QAAU,IACzB,sBAAMtH,MAAO,CAAErE,MAAO,OAAtB,SACI,cAAC0L,GAAA,EAAD,eAAiBzH,MAGrB,cAACyH,GAAA,EAAD,eAAiBzH,IAErB,MAERmU,GAAmBb,aAAe7L,KAAY6L,aAE/Ba,U,sBCFTrT,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnClF,KAAM,CAAEoK,OAAQ,OAChBkO,KAAM,CACFnU,OAAQ,OACRrE,QAAS,OACTyY,cAAe,SACfnO,OAAQ,YAEZoO,iBAAkB,CACd1Y,QAAS,OACTyY,cAAe,MACfN,WAAY,SACZQ,eAAgB,iBAEpBC,YAAY,2BACLxT,EAAMyT,WAAWC,OADb,IAEP9Y,QAAS,OACTyY,cAAe,eAyERM,GArEQ,SAAA3U,GACnB,IAAM+D,EAAYC,cACZ/B,EAAUnB,KAFY,EAGIgH,aAAe9H,GAAvC+H,EAHoB,EAGpBA,IAAK7F,EAHe,EAGfA,KAAMwD,EAHS,EAGTA,SAEnB,OAAKqC,GAAQ7F,EAKT,qBAAKY,UAAWb,EAAQnG,KAAxB,SACKiM,EAAIM,KAAI,SAAAtF,GAAE,OACP,eAACgH,GAAA,EAAD,CAAejH,UAAWb,EAAQmS,KAAlC,UACI,cAACQ,GAAA,EAAD,CACI1T,MACI,sBAAK4B,UAAWb,EAAQqS,iBAAxB,UACI,uCAAQpS,EAAKa,GAAI0B,WAAjB,YAA+BvC,EAAKa,GAAI2B,aACxC,cAAC,KAAD,CACItC,SAAS,WACTsD,SAAUA,EACVrB,OAAQnC,EAAKa,QAIzB8Q,OAAQ,cAAC,GAAD,CAAaxP,OAAQnC,EAAKa,GAAKgP,KAAK,SAEhD,eAAC/H,EAAA,EAAD,CAAalH,UAAWb,EAAQuS,YAAhC,UACI,gCACKzQ,EACG,4CAFR,OAKI,cAAC8Q,GAAA,EAAD,CAAWxQ,OAAQnC,EAAKa,GAAK2E,OAAO,iBAExC,gCACK3D,EACG,0BACA7B,EAAKa,GAAI+R,aAAe,GAHhC,YAMI,cAACrN,GAAA,EAAD,CACIpD,OAAQnC,EAAKa,GACb2E,OAAO,cACPtD,MAAM,2CAGd,gCACKL,EACG,0CAFR,SAIa,IACT,cAAC,GAAD,CACIM,OAAQnC,EAAKa,GACb2E,OAAO,cACPC,QAAS,CAAEvH,MAAO,WAAYwH,SAAU,eAInD1F,EAAKa,GAAIkQ,QAAU/Q,EAAKa,GAAIkQ,OAAOxQ,OAAS,GACzC,cAACuH,EAAA,EAAD,CAAalH,UAAWb,EAAQuS,YAAhC,SACI,cAAC,GAAD,CAAenQ,OAAQnC,EAAKa,SAhD7BA,QANZ,M,qBC3BTjC,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnClF,KAAM,CACFoK,OAAQ,MACRtK,QAAS,OACTkX,SAAU,OACViB,WAAY,UACZQ,eAAgB,iBAEpBH,KAAM,CACFxX,MAAO,IACPhB,QAAS,OACTyY,cAAe,SACfnO,OAAQ,YAEZoO,iBAAkB,CACd1Y,QAAS,OACTyY,cAAe,SACfN,WAAY,SACZ9S,SAAU,YAEd8T,WAAY,CACR9T,SAAU,WACVa,IAAK,EACLkT,MAAO,GAEXR,YAAY,2BACLxT,EAAMyT,WAAWC,OADb,IAEP9Y,QAAS,OACTyY,cAAe,eAoFRY,GA5EgB,SAAC,GAAyB,IAAvBxI,EAAsB,EAAtBA,OAAW5G,EAAW,2BAC9C9B,EAAYC,cACZ/B,EAAUnB,KAFoC,EAGpBgH,aAAejC,GAAvCkC,EAH4C,EAG5CA,IAAK7F,EAHuC,EAGvCA,KAAMwD,EAHiC,EAGjCA,SAEnB,OAAKqC,GAAQ7F,EAKT,qBAAKY,UAAWb,EAAQnG,KAAxB,SACKiM,EAAIM,KAAI,SAAAtF,GAAE,OACP,cAACgH,GAAA,EAAD,CAAejH,UAAWb,EAAQmS,KAAlC,SACI,eAACpK,EAAA,EAAD,CAAalH,UAAWb,EAAQuS,YAAhC,UACI,sBAAK1R,UAAWb,EAAQqS,iBAAxB,UACI,cAAC,GAAD,CAAajQ,OAAQnC,EAAKa,GAAKgP,KAAK,QACpC,uCAAQ7P,EAAKa,GAAI0B,WAAjB,YAA+BvC,EAAKa,GAAI2B,aAExC,cAACzB,EAAA,EAAD,CACIlH,MAAM,YACNoE,aAAW,OACXgD,UAAW+R,IACXpS,UAAWb,EAAQ8S,WACnB7R,GAAIqB,YAAamB,EAAU3C,GAL/B,SAOI,cAAC,KAAD,SAGP0J,EACInK,QACG,SAAAwJ,GAAK,MAA2B,gBAAvBA,EAAM9L,MAAM0H,UAExBpF,QAAO,SAAAwJ,GAAK,QAAM5J,EAAKa,GAAI+I,EAAM9L,MAAM0H,WACvCW,KAAI,SAAAyD,GACD,IAAMqJ,EAAYrJ,EAAM9L,MAAM0H,OAE9B,OACI,sBAEItH,MAAO,CACHxE,QAAS,OACTkX,SAAU,QAJlB,UAOI,qBACI1S,MAAO,CACH6I,YAAa,MACboC,aAAc,QACdhO,UAAW,OAJnB,SAOK0G,EAAU,8BAAD,OACwBoR,MAGtC,qBACI/U,MAAO,CACHiB,WAAY,SACZgK,aAAc,QACdhO,UAAW,OAJnB,SAOKoU,uBAAa3F,EAAO,CACjBzH,OAAQnC,EAAKa,SAzBhBoS,UA1BlBpS,QANZ,M,yECrCTgH,GAAOqL,aAAW,SAAApU,GAAK,YAAK,CAC9BlF,MAAI,GACAuZ,WAAY,GADZ,cAECrU,EAAMW,YAAYC,GAAG,MAAQ,CAC1BmK,OAAQ,EACRnP,MAAO,OACPqM,YAAa,QALjB,cAOCjI,EAAMW,YAAYuH,KAAK,MAAQ,CAC5BtN,QAAS,SARb,MADKwZ,CAYTE,MAkHWnM,GAhHG,kBACd,cAAC,GAAD,UACI,eAACa,EAAA,EAAD,WACI,cAACC,GAAA,EAAD,IAEA,eAACC,GAAA,EAAD,CACI9F,MAAM,2CACN+F,KAAM,cAAC,KAAD,IAFV,UAII,cAACC,GAAA,EAAD,CACIhG,MAAM,oCACNiG,MAAO,CACHkL,cAAeC,4BAAiBC,cAChCC,mBAAe7M,KAGvB,cAACuB,GAAA,EAAD,CACIhG,MAAM,wCACNiG,MAAO,CACHkL,cAAeI,uBAAY,IAAIC,MAAQH,cACvCC,mBAAe7M,KAGvB,cAACuB,GAAA,EAAD,CACIhG,MAAM,wCACNiG,MAAO,CACHkL,cAAeM,oBACXF,uBAAY,IAAIC,MAChB,GACFH,cACFC,cAAeC,uBAAY,IAAIC,MAAQH,iBAG/C,cAACrL,GAAA,EAAD,CACIhG,MAAM,yCACNiG,MAAO,CACHkL,cAAeO,wBAAa,IAAIF,MAAQH,cACxCC,mBAAe7M,KAGvB,cAACuB,GAAA,EAAD,CACIhG,MAAM,yCACNiG,MAAO,CACHkL,cAAeQ,qBACXD,wBAAa,IAAIF,MACjB,GACFH,cACFC,cAAeI,wBAAa,IAAIF,MAAQH,iBAGhD,cAACrL,GAAA,EAAD,CACIhG,MAAM,sCACNiG,MAAO,CACHkL,mBAAe1M,EACf6M,cAAeK,qBACXD,wBAAa,IAAIF,MACjB,GACFH,oBAKd,eAACvL,GAAA,EAAD,CACI9F,MAAM,0CACN+F,KAAM,cAAC,KAAD,IAFV,UAII,cAACC,GAAA,EAAD,CACIhG,MAAM,kBACNiG,MAAO,CACH2L,gBAAiB,EACjBC,qBAAiBpN,KAGzB,cAACuB,GAAA,EAAD,CACIhG,MAAM,mBACNiG,MAAO,CACH2L,qBAAiBnN,EACjBoN,gBAAiB,QAK7B,eAAC/L,GAAA,EAAD,CACI9F,MAAM,6CACN+F,KAAM,cAAC,KAAD,IAFV,UAII,cAACC,GAAA,EAAD,CACIhG,MAAM,kBACNiG,MAAO,CAAE6L,gBAAgB,KAE7B,cAAC9L,GAAA,EAAD,CACIhG,MAAM,mBACNiG,MAAO,CAAE6L,gBAAgB,QAIjC,cAAChM,GAAA,EAAD,CACI9F,MAAM,oCACN+F,KAAM,cAAC,KAAD,IAFV,SAIKiJ,GAAS/K,KAAI,SAAA8K,GAAO,OACjB,cAAC/I,GAAA,EAAD,CACIhG,MAAO+O,EAAQ1P,KAEf4G,MAAO,CAAE4I,OAAQE,EAAQpQ,KADpBoQ,EAAQpQ,eChH/BoT,GAAoB,SAACnW,GAAD,OACtB,eAACyL,GAAA,EAAD,2BAAYzL,GAAZ,cACI,cAAC0L,GAAA,EAAD,CAAahE,OAAO,IAAIiE,UAAQ,IAChC,cAACyK,GAAA,EAAD,CAAW1O,OAAO,kBAClB,cAAC2O,GAAA,EAAD,CAAsB3O,OAAO,gBAC7B,cAAC2O,GAAA,EAAD,CAAsB3O,OAAO,iBAAiBwE,cAAY,IAC1D,cAAC,GAAD,SAIFoK,GAAoB,CACtBC,SAAU,cAAC,GAAD,IACVC,UAAW,cAAC3B,GAAA,EAAD,CAAWnN,OAAO,cAC7BoN,YAAa,cAACrN,GAAA,EAAD,CAAaC,OAAO,cAActD,MAAM,aACrDqS,YACI,cAAC,GAAD,CACI/O,OAAO,cACPC,QAAS,CAAEvH,MAAO,WAAYwH,SAAU,SAGhD8O,gBAAiB,cAAC7B,GAAA,EAAD,CAAWnN,OAAO,kBAAkBiP,UAAQ,IAC7DT,eAAgB,cAACU,GAAA,EAAD,CAAclP,OAAO,iBAAiBtD,MAAM,UAC5DgP,SAAU,cAAC,GAAD,KAmDCyD,GAhDoB,SAAA7W,GAC/B,IAAM8W,EAAWtJ,aAAqB,SAAAxM,GAAK,OACvCA,EAAMW,YAAYuH,KAAK,SAE3BqE,YAAqB,sBACrB,IAAMnB,EAAUoB,aAAqB,SAAAxM,GAAK,OAAIA,EAAMW,YAAYuH,KAAK,SAE/DjH,EAAUnB,KAEhB,OACI,cAAC,GAAD,2BACQd,GADR,IAEIiC,QAASA,EACT4N,cAAc,gBACda,oBAAkB,EAClBZ,eAAgBwG,GAChBlE,sBAAuB,CAAC,aACxBzB,iBAAe,EACfjD,QAAStB,EAAU,cAAC,GAAD,SAAoBvD,EACvCkE,MAAO,cAACgK,GAAD,IACPlL,KAAM,CAAEC,MAAO,YAAaC,MAAO,QACnC4B,QAAS,GAXb,SAaK,YAQmB,IAPhBuC,EAOe,EAPfA,QACAE,EAMe,EANfA,KAKGvK,GACY,EALfmI,QAKe,EAJfD,QAIe,EAHfD,QAGe,EAFfD,UAEe,8EACf,OAAIiJ,EACO,cAAC,GAAD,IAEE,SAAT1G,EACO,cAAC,GAAD,CAAa3D,OAAQyD,IAG5B,cAAC8G,GAAA,EAAD,yBAAUC,SAAS,QAAWpR,GAA9B,aACKqK,UAUnBpP,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnClF,KAAM,CACFuB,WAAY2D,EAAMQ,QAAQ,Q,gCCpE5BV,GAAYC,YAjBwB,CACtC0D,WAAY,CAAE7I,QAAS,gBACvB8I,UAAW,CAAE9I,QAAS,eAAgBsb,WAAY,IAClDC,MAAO,CAAEva,MAAO,KAChBwa,QAAS,CAAExT,SAAU,KACrByT,QAAS,CAAEzb,QAAS,gBACpB0b,KAAM,CAAE1b,QAAS,eAAgBsb,WAAY,IAC7CK,QAAS,CACL3T,SAAU,OACVtC,SAAU,SACVF,aAAc,WACdC,WAAY,UAEhBmW,SAAU,CAAE5b,QAAS,gBACrB6b,iBAAkB,CAAE7b,QAAS,eAAgBsb,WAAY,MAKhDQ,GAAoB,SAAC,GAMtB,IALRF,EAKO,EALPA,SACAC,EAIO,EAJPA,iBAKME,EAAS,GAQf,OANIH,GAAYC,GAAoBD,IAAaC,IAC7CE,EAAOF,iBAAmB,CACtB,iDAIDE,GAuDLC,GAAmB,CAACC,gBAEpBC,GAAe,SAAC,GAAgD,IAA9C1T,EAA6C,EAA7CA,MACdL,EAAYC,cAElB,OACI,cAACpB,EAAA,EAAD,CAAYC,QAAQ,KAAKmN,cAAY,EAArC,SACKjM,EAAUK,MAKjB2T,GAAY,kBAAoB,cAAC7K,EAAA,EAAD,CAAK8K,GAAG,SAE/BC,GAlEwB,SAAAjY,GACnC,IAAMiC,EAAUnB,KAGhB,OAFAyM,YAAqB,6BAGjB,cAAC/H,GAAA,EAAD,2BAAYxF,GAAZ,aACI,eAAC,KAAD,CAAYkY,SAAUR,GAAtB,UACI,cAAC,GAAD,CAActT,MAAM,6CACpB,cAACkK,GAAA,EAAD,CACI5G,OAAO,aACPyQ,cAAelW,EAAQwC,WACvByT,SAAUN,KAEd,cAACtJ,GAAA,EAAD,CACI5G,OAAO,YACPyQ,cAAelW,EAAQyC,UACvBwT,SAAUN,KAEd,cAACtJ,GAAA,EAAD,CACIpT,KAAK,QACLwM,OAAO,QACP0Q,WAAY,CAAEjB,OAAO,GACrBkB,WAAW,EACXF,cAAelW,EAAQkV,MACvBe,SAAUN,KAEd,cAACxB,GAAA,EAAD,CAAW1O,OAAO,aAClB,cAAC,GAAD,IACA,cAAC,GAAD,CAActD,MAAM,4CACpB,cAACkK,GAAA,EAAD,CACI5G,OAAO,UACPyQ,cAAelW,EAAQmV,QACvBkB,WAAW,EACXD,WAAW,IAEf,cAAC/J,GAAA,EAAD,CAAW5G,OAAO,UAAUyQ,cAAelW,EAAQoV,UACnD,cAAC/I,GAAA,EAAD,CAAW5G,OAAO,OAAOyQ,cAAelW,EAAQqV,OAChD,cAAC,GAAD,IACA,cAAC,GAAD,CAAclT,MAAM,6CACpB,cAACmU,GAAA,EAAD,CACI7Q,OAAO,WACPyQ,cAAelW,EAAQuV,WAE3B,cAACe,GAAA,EAAD,CACI7Q,OAAO,mBACPyQ,cAAelW,EAAQwV,0B,4JC/FrCe,GAAS,SAACnU,GAAD,OACXA,EAASA,EAAOoU,OAAOhW,OAAS,MAE9BiW,GAAuD,SAAA1Y,GAAK,OAC9D,cAAC2Y,GAAA,EAAD,2BAAmB3Y,GAAnB,IAA0BwY,OAAQA,OAGtCE,GAAapF,aAAe,CACxBlP,MAAO,WACP4B,UAAW,SAGA0S,U,WCVTE,GAGD,SAAA5Y,GAAK,OACN,cAAC6Y,GAAA,EAAD,yBAAgBnR,OAAO,cAAcpD,UAAU,aAAgBtE,GAA/D,aACI,cAAC,GAAD,QAIR4Y,GAAuBtF,aAAe,CAClCC,UAAU,GAGCqF,UCATE,GAAgB/X,aAAW,SAAAC,GAAK,MAAK,CACvCoT,KAAM,CACFnU,OAAQ,OACRrE,QAAS,OACTyY,cAAe,SACfnO,OAAQ,YAEZoO,iBAAkB,CACd1Y,QAAS,OACTyY,cAAe,MACfN,WAAY,SACZQ,eAAgB,iBAEpBC,YAAaxT,EAAMyT,WAAWC,MAC9BqE,eAAgB,CACZnd,QAAS,OACTyY,cAAe,MACfN,WAAY,SACZ7N,OAAQ,gBAIVyO,GAA+C,SAAC,GAI/C,IAHH5M,EAGE,EAHFA,IACA7F,EAEE,EAFFA,KACAwD,EACE,EADFA,SAEM3B,EAAYC,cACZ/B,EAAU6W,KAEhB,OAAK/Q,GAAQ7F,EAIT,qBAAK9B,MAAO,CAAE8F,OAAQ,OAAtB,SACK6B,EAAIM,KAAI,SAAAtF,GAAE,OACP,eAACgH,GAAA,EAAD,CAAejH,UAAWb,EAAQmS,KAAlC,UACI,cAACQ,GAAA,EAAD,CACI1T,MACI,sBAAK4B,UAAWb,EAAQqS,iBAAxB,UACI,iCACKvQ,EAAU,0BAA2B,GAD1C,QAGI,cAACiV,GAAA,EAAD,CACI3U,OAAQnC,EAAKa,GACb2E,OAAO,iBAGf,cAAC,KAAD,CACItF,SAAS,WACTsD,SAAUA,EACVrB,OAAQnC,EAAKa,UAK7B,eAACiH,EAAA,EAAD,CAAalH,UAAWb,EAAQuS,YAAhC,UACI,uBAAM1R,UAAWb,EAAQ8W,eAAzB,UACKhV,EAAU,2BAA4B,GAD3C,QAEI,cAAC,GAAD,CACIM,OAAQnC,EAAKa,GACb2C,SAAUA,OAGlB,uBAAM5C,UAAWb,EAAQ8W,eAAzB,UACKhV,EAAU,iCADf,QAEI,cAAC8Q,GAAA,EAAD,CACIxQ,OAAQnC,EAAKa,GACb2E,OAAO,OACPiP,UAAQ,OAGhB,uBAAM7T,UAAWb,EAAQ8W,eAAzB,UACKhV,EACG,0CAFR,QAKI,cAAC0D,GAAA,EAAD,CACIpD,OAAQnC,EAAKa,GACb2E,OAAO,QACPC,QAAS,CAAEvH,MAAO,WAAYwH,SAAU,YAGhD,uBAAM9E,UAAWb,EAAQ8W,eAAzB,UACKhV,EAAU,oCADf,QAGI,cAACiV,GAAA,EAAD,CAAWtR,OAAO,SAASrD,OAAQnC,EAAKa,QAE5C,uBAAMD,UAAWb,EAAQ8W,eAAzB,UACKhV,EAAU,sCADf,QAGI,cAAC6S,GAAA,EAAD,CAAcvS,OAAQnC,EAAKa,GAAK2E,OAAO,qBAvDxC3E,QALZ,MAqEf4R,GAAWrB,aAAe,CACtBpR,KAAM,GACN6F,IAAK,IAGM4M,UCtFTsE,GAAkB,SAAAjZ,GAAK,OACzB,eAACyL,GAAA,EAAD,2BAAYzL,GAAZ,cACI,cAAC0L,GAAA,EAAD,CAAahE,OAAO,IAAIiE,UAAQ,IAChC,cAACC,GAAA,EAAD,CAAgBlE,OAAO,cAAcpD,UAAU,YAA/C,SACI,cAAC4U,GAAA,EAAD,CACIC,WAAY,SAACC,GAAD,OACRA,EAAO3U,YAAc2U,EAAO1U,UAA5B,UACS0U,EAAO3U,WADhB,YAC8B2U,EAAO1U,WAC/B,QAIlB,cAAC0R,GAAA,EAAD,CAAW1O,OAAO,aAClB,cAAC0O,GAAA,EAAD,CAAW1O,OAAO,aAClB,cAAC4G,GAAA,EAAD,CAAW5G,OAAO,cAClB,cAAC2O,GAAA,EAAD,CAAsB3O,OAAO,kBAI/B2R,GAAoBtY,YAAW,CACjCsQ,MAAO,CAAE/Q,WAAY,UA6BnBgZ,GAAO,CACT,CAAEvW,GAAI,UAAWU,KAAM,WACvB,CAAEV,GAAI,YAAaU,KAAM,aACzB,CAAEV,GAAI,YAAaU,KAAM,cAGvB8V,GAMF,SAAAvZ,GAAU,IAAD,EACiB8Q,mBAAS,CAC/B0I,QAAS,GACTC,UAAW,GACXC,UAAW,KAJN,mBACFC,EADE,KACKC,EADL,KAOT/U,qBAAU,WACF7E,EAAM+H,MAAQ4R,EAAM3Z,EAAMsJ,aAAa9E,SACvCoV,GAAS,SAAAC,GAAS,kCACXA,GADW,kBAEb7Z,EAAMsJ,aAAa9E,OAASxE,EAAM+H,WAG5C,CAAC/H,EAAMsJ,aAAa9E,OAAQxE,EAAM+H,IAAK4R,IAE1C,IAOM3Y,EAAQ8Y,eACNC,EAAyD/Z,EAAzD+Z,SAAU9X,EAA+CjC,EAA/CiC,QAASqH,EAAsCtJ,EAAtCsJ,aAAc0Q,EAAwBha,EAAxBga,WAAenU,EAxB/C,aAwBwD7F,EAxBxD,oDAyBHia,EA/DY,SAACD,EAAYhZ,GAAb,OAAuB,SAACqD,GAC1C,IAAInI,EACJ,OAAQmI,EAAO6V,OACX,KAAKF,EACD9d,EAC2B,UAAvB8E,EAAM1F,QAAQJ,KACRif,YAAQhe,YAAK6E,EAAM1F,QAAQ8e,KAAK5c,MAAO,GAAI,KAC3C6c,YAAOle,YAAK6E,EAAM1F,QAAQ8e,KAAK3c,KAAM,GAAI,KACnD,MACJ,KAAK,EACGuc,EAAa,IACb9d,EAC2B,UAAvB8E,EAAM1F,QAAQJ,KACRif,YAAQhe,YAAK6E,EAAM1F,QAAQ8e,KAAK5c,MAAO,GAAI,KAC3C6c,YAAOle,YAAK6E,EAAM1F,QAAQ8e,KAAK3c,KAAM,GAAI,MAEvD,MACJ,QACIvB,EAAkB8E,EAAM1F,QAAQgB,WAAW4V,MAGnD,MAAO,CACHhW,oBAyCaoe,CAAcN,EAAYhZ,GACrCuZ,EAAczS,aAAe9H,GAEnC,OACI,eAAC,WAAD,WACI,cAACwa,GAAA,EAAD,CACI3X,QAAQ,YACR4X,UAAQ,EACRpQ,MAAOf,EAAa9E,OACpBkW,eAAe,UACfC,SAnBS,SAAC9I,EAAOxH,GAAiB,IAClCf,EAA6BtJ,EAA7BsJ,aAAcD,EAAerJ,EAAfqJ,WAClBA,GACAA,EAAW,2BAAKC,GAAN,IAAoB9E,OAAQ6F,IAAS,KAW/C,SAOKiP,GAAKjR,KAAI,SAAA+Q,GAAM,OACZ,cAACwB,GAAA,EAAD,CAEIxW,MAAOgV,EAAO3V,KACd4G,MAAO+O,EAAOrW,IAFTqW,EAAOrW,SAMxB,cAAC8X,GAAA,EAAD,IACCd,EACG,cAAC,GAAD,2BAAgBlU,GAAhB,IAAsBkC,IAAK4R,EAAMrQ,EAAa9E,WAE9C,gCAC6B,YAAxB8E,EAAa9E,QACV,cAACsW,GAAA,EAAD,CACIzQ,MAAK,2BACEkQ,GADF,IAEDxS,IAAK4R,EAAMH,UAHnB,SAMI,eAACxC,GAAA,EAAD,CACI+D,WAAS,EACT9D,SAAS,OACTgD,SAAUA,EACVnR,cAAY,yBAJhB,UAMI,cAACkQ,GAAA,EAAD,CAAWtR,OAAO,OAClB,cAACmN,GAAA,EAAD,CAAWnN,OAAO,OAAOiP,UAAQ,IACjC,cAACqC,GAAA,EAAD,CAAWtR,OAAO,cAClB,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAACD,GAAA,EAAD,CACIC,OAAO,QACPC,QAAS,CACLvH,MAAO,WACPwH,SAAU,OAEd9E,UAAWb,EAAQoP,aAKV,cAAxB/H,EAAa9E,QACV,cAACsW,GAAA,EAAD,CACIzQ,MAAK,2BACEkQ,GADF,IAEDxS,IAAK4R,EAAMF,YAHnB,SAMI,eAACzC,GAAA,EAAD,WACI,cAACnC,GAAA,EAAD,CAAWnN,OAAO,OAAOiP,UAAQ,IACjC,cAACqC,GAAA,EAAD,CAAWtR,OAAO,cAClB,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAACD,GAAA,EAAD,CACIC,OAAO,QACPC,QAAS,CACLvH,MAAO,WACPwH,SAAU,OAEd9E,UAAWb,EAAQoP,QAEvB,cAACuF,GAAA,EAAD,CAAclP,OAAO,aACrB,cAAC,KAAD,SAIa,cAAxB4B,EAAa9E,QACV,cAACsW,GAAA,EAAD,CACIzQ,MAAK,2BACEkQ,GADF,IAEDxS,IAAK4R,EAAMD,YAHnB,SAMI,eAAC1C,GAAA,EAAD,WACI,cAACnC,GAAA,EAAD,CAAWnN,OAAO,OAAOiP,UAAQ,IACjC,cAACqC,GAAA,EAAD,CAAWtR,OAAO,cAClB,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAACD,GAAA,EAAD,CACIC,OAAO,QACPC,QAAS,CACLvH,MAAO,WACPwH,SAAU,OAEd9E,UAAWb,EAAQoP,QAEvB,cAACuF,GAAA,EAAD,CAAclP,OAAO,aACrB,cAAC,KAAD,gBAU1BsT,GAAyD,SAAAhb,GAC3D,IAAMiC,EAAUoX,KACVU,EAAWvM,aAAqB,SAAAxM,GAAK,OACvCA,EAAMW,YAAYuH,KAAK,SAErB8Q,EACFlG,SAAS1U,aAAaQ,QAAQ,eAAiB,IAAK,IAAM,EAC9D,OACI,cAAC,GAAD,aACIqC,QAASA,EACT8X,SAAUA,EACVC,WAAYA,GACRha,KAiBDib,GAZkB,SAAC,GAAD,EAAGhZ,QAAH,IAAejC,EAAf,mCAC7B,cAAC,IAAD,2BACQA,GADR,IAEIkb,oBAAqB,CAAE1W,OAAQ,WAC/BqH,KAAM,CAAEC,MAAO,OAAQC,MAAO,QAC9B4B,QAAS,GACTD,QAAS,cAAC,GAAD,IALb,SAOI,cAAC,GAAD,Q,sFCrPF5M,GAAYC,YAAW,CACzBoa,UAAW,CAAEC,SAAU,OAAQlE,WAAY,OAC3CmE,iBAAkB,CAAErV,UAAW,SAC/BsV,SAAU,CAAEhb,WAAY,UA6Kbib,GA1KuB,SAAC,GAAgB,IAAdlX,EAAa,EAAbA,OAC/BpC,EAAUnB,KACViD,EAAYC,cAFgC,EAIfwX,aAC/B,CACItgB,KAAM,UACNkH,SAAU,WACVC,QAAS,CACL0F,IAAK1D,EAASA,EAAOoU,OAAOpQ,KAAI,SAAAoT,GAAI,OAAIA,EAAKC,cAAc,KAGnE,IACA,SAAC/B,GAKG,OAJmBtV,EACbA,EAAOoU,OAAOpQ,KAAI,SAAAoT,GAAI,OAAIA,EAAKC,cAC/B,IAGDrT,KACG,SAAAsT,GAAS,OACLhC,EAAMiC,MAAMzX,UAAU0X,SAAS3Z,KAC3ByZ,MAGXrZ,QAAO,SAAAwZ,GAAC,MAAiB,qBAANA,KACnBC,QAAO,SAACC,EAAMC,GAEX,OADAD,EAAKC,EAAKlZ,IAAMkZ,EACTD,IACR,OAzBPhT,EAJ0C,EAI1CA,OAAc6S,EAJ4B,EAIlC3Z,KA6BhB,OAAK8G,GAAW3E,EAGZ,cAAC6X,GAAA,EAAD,CAAOpZ,UAAWb,EAAQkZ,UAAWxY,UAAW,EAAhD,SACI,eAACwZ,GAAA,EAAD,WACI,cAACC,GAAA,EAAD,UACI,eAACC,GAAA,EAAD,WACI,cAACC,GAAA,EAAD,UACKvY,EACG,gDAGR,cAACuY,GAAA,EAAD,CAAWxZ,UAAWb,EAAQoZ,iBAA9B,SACKtX,EACG,iDAGR,cAACuY,GAAA,EAAD,CAAWxZ,UAAWb,EAAQoZ,iBAA9B,SACKtX,EACG,+CAGR,cAACuY,GAAA,EAAD,CAAWxZ,UAAWb,EAAQoZ,iBAA9B,SACKtX,EACG,iDAKhB,eAACwY,GAAA,EAAD,WACKlY,EAAOoU,OAAOpQ,KACX,SAACoT,GAAD,OACII,EAASJ,EAAKC,aACV,eAACW,GAAA,EAAD,WACI,cAACC,GAAA,EAAD,UACI,cAAClZ,GAAA,EAAD,CACIF,GAAE,oBAAeuY,EAAKC,YAD1B,SAIQG,EAASJ,EAAKC,YACTpX,cAIjB,cAACgY,GAAA,EAAD,CACIxZ,UAAWb,EAAQoZ,iBADvB,SAGKQ,EACGJ,EAAKC,YACPpV,MAAMkW,oBAAe3T,EAAW,CAC9BzI,MAAO,WACPwH,SAAU,UAGlB,cAAC0U,GAAA,EAAD,CACIxZ,UAAWb,EAAQoZ,iBADvB,SAGKI,EAAKgB,WAEV,cAACH,GAAA,EAAD,CACIxZ,UAAWb,EAAQoZ,iBADvB,UAIQQ,EAASJ,EAAKC,YAAYpV,MAC1BmV,EAAKgB,UACPD,oBAAe3T,EAAW,CACxBzI,MAAO,WACPwH,SAAU,YAlCP6T,EAAKC,eAwChC,eAACW,GAAA,EAAD,WACI,cAACC,GAAA,EAAD,CAAWI,QAAS,IACpB,cAACJ,GAAA,EAAD,UACKvY,EAAU,0CAEf,cAACuY,GAAA,EAAD,CAAWxZ,UAAWb,EAAQoZ,iBAA9B,SACKhX,EAAOsY,eAAeH,oBAAe3T,EAAW,CAC7CzI,MAAO,WACPwH,SAAU,aAItB,eAACyU,GAAA,EAAD,WACI,cAACC,GAAA,EAAD,CAAWI,QAAS,IACpB,cAACJ,GAAA,EAAD,UACKvY,EACG,+CAGR,cAACuY,GAAA,EAAD,CAAWxZ,UAAWb,EAAQoZ,iBAA9B,SACKhX,EAAOuY,cAAcJ,oBAAe3T,EAAW,CAC5CzI,MAAO,WACPwH,SAAU,aAItB,eAACyU,GAAA,EAAD,WACI,cAACC,GAAA,EAAD,CAAWI,QAAS,IACpB,cAACJ,GAAA,EAAD,UACKvY,EACG,+CAGR,cAACuY,GAAA,EAAD,CAAWxZ,UAAWb,EAAQoZ,iBAA9B,SACKhX,EAAOwY,SAASL,oBAAe3T,EAAW,CACvCzI,MAAO,iBAInB,eAACic,GAAA,EAAD,WACI,cAACC,GAAA,EAAD,CAAWI,QAAS,IACpB,cAACJ,GAAA,EAAD,CAAWxZ,UAAWb,EAAQqZ,SAA9B,SACKvX,EACG,4CAGR,cAACuY,GAAA,EAAD,CACIxZ,UAAWyO,KACPtP,EAAQqZ,SACRrZ,EAAQoZ,kBAHhB,SAMKhX,EAAOgN,MAAMmL,oBAAe3T,EAAW,CACpCzI,MAAO,WACPwH,SAAU,qBA/HP,MCnC7BkV,GAAsC,SAAC,GAAgB,IAAdzY,EAAa,EAAbA,OACrCN,EAAYC,cAElB,OAAKK,EAKD,+BACKN,EAAU,2BAA4B,CACnCO,UAAWD,EAAOC,cANnB,MAYTyY,GAAgBhc,YAAW,CAC7BjF,KAAM,CAAEiY,WAAY,gBC7BT,IACXvF,KAAMyM,GACNnM,KD8B6B,SAAA9O,GAC7B,IAAMiC,EAAU8a,KAChB,OACI,cAAC3O,GAAA,EAAD,yBACIlN,MAAO,cAAC,GAAD,IACP6L,MAAO,cAAC,GAAD,IACP9K,QAASA,GACLjC,GAJR,aAMI,eAAC,KAAD,WACI,cAACoW,GAAA,EAAD,CAAW1O,OAAO,SAClB,cAACkE,GAAA,EAAD,CAAgBlE,OAAO,cAAcpD,UAAU,YAA/C,SACI,cAAC4U,GAAA,EAAD,CACIC,WAAY,SAACC,GAAD,gBACLA,EAAO3U,WADF,YACgB2U,EAAO1U,gBAI3C,cAACsH,GAAA,EAAD,CACItE,OAAO,SACPgM,QAAS,CACL,CAAE3Q,GAAI,YAAaU,KAAM,aACzB,CAAEV,GAAI,UAAWU,KAAM,WACvB,CAAEV,GAAI,YAAaU,KAAM,aACzB,CACIV,GAAI,UACJU,KAAM,UACNiO,UAAU,MAItB,cAACsL,GAAA,EAAD,CAActV,OAAO,oBC5DjCyC,KAAM8S,M,kHCoDKC,GA/Cc,WACzB,IAAMC,EAASC,eACTC,EAAa9X,eACb+X,EAAcC,aAAe,WAC3BC,EAAgB1V,eAAhB0V,YAJuB,EAMAC,aAC3B,UACAD,EACA,CAAEhZ,OAAQ,YACV,CACIkZ,OAAQC,KACRC,UAAU,EACVnY,UAAW,WACP0X,EACI,kDACA,OACA,IACA,GAEJE,EAAW,YACXC,KAEJO,UAAW,WACPV,EACI,gDACA,cA1Be,mBAMxBW,EANwB,KAMbC,EANa,KAMbA,QA0BlB,OACI,cAACxN,GAAA,EAAD,CACInM,MAAM,kCACNoM,QAASsN,EACTpM,SAAUqM,EAHd,SAKI,cAAC,KAAD,O,qBCSGC,GA/Cc,WACzB,IAAMb,EAASC,eACTC,EAAa9X,eACb+X,EAAcC,aAAe,WAC3BC,EAAgB1V,eAAhB0V,YAJuB,EAMDC,aAC1B,UACAD,EACA,CAAEhZ,OAAQ,YACV,CACIkZ,OAAQC,KACRC,UAAU,EACVnY,UAAW,WACP0X,EACI,kDACA,OACA,IACA,GAEJE,EAAW,YACXC,KAEJO,UAAW,WACPV,EACI,gDACA,cA1Be,mBAMxBtd,EANwB,KAMdke,EANc,KAMdA,QA0BjB,OACI,cAACxN,GAAA,EAAD,CACInM,MAAM,kCACNoM,QAAS3Q,EACT6R,SAAUqM,EAHd,SAKI,cAAC,KAAD,O,2CC5BNjd,GAAYC,YAAW,CACzBjF,KAAM,CACFc,MAAO,SAEXK,KAAM,CACFghB,eAAgB,OAChBliB,MAAO,WAEXmiB,OAAQ,CACJtiB,QAAS,YAIXuiB,GAAuB,WACzB,IAAMlc,EAAUnB,KADe,EAEPsd,cAAfC,EAFsB,oBAGzBC,EAAmBC,cAHM,EAW3BzW,eANApC,EAL2B,EAK3BA,SACAxD,EAN2B,EAM3BA,KACA6F,EAP2B,EAO3BA,IACAgW,EAR2B,EAQ3BA,QACA1M,EAT2B,EAS3BA,MACA/H,EAV2B,EAU3BA,aAGEkV,EAAmBC,KAAKC,UAAU,CACpCJ,mBACAhc,OAAQgH,IAWZ,OATAzE,qBAAU,WAAO,IACLL,EAAW8E,EAAX9E,OACc,qBAAXA,EACP6Z,EAAY,wBAAyB,CAAE7Z,WAEvC6Z,EAAY,aAGjB,CAACA,EAAaG,IACVT,GAAW1M,EAAQ,EACtB,cAAC,KAAD,CAAMvO,UAAWb,EAAQnG,KAAzB,SACKiM,EAAIM,KAAI,SAAAtF,GAAE,OACP,cAAC,IAAD,CACIG,GAAIqB,YAAamB,EAAU3C,GAC3BD,UAAWb,EAAQhF,KAFvB,SAKI,eAAC0hB,GAAA,EAAD,CAAUC,QAAM,EAAhB,UACI,cAACC,GAAA,EAAD,UACI,cAAChG,GAAA,EAAD,CACIxU,OAAQnC,EAAKa,GACb2E,OAAO,cACPpD,UAAU,YACVoB,SAAUA,EACVoZ,UAAU,EALd,SAOI,cAAC,GAAD,CAAa/M,KAAK,WAG1B,cAACgN,GAAA,EAAD,CACI5jB,QACI,qCACI,cAAC0d,GAAA,EAAD,CACIxU,OAAQnC,EAAKa,GACb2E,OAAO,cACPpD,UAAU,YACVoB,SAAUA,EACVoZ,UAAU,EALd,SAOI,cAACnG,GAAA,EAAD,CACIH,OAAQ,SAACnU,GAAD,OACJA,EAAM,UACGA,EAAOI,WADV,YACwBJ,EAAOK,WAC/B,IAEV7B,QAAQ,YACRC,UAAWb,EAAQic,WAET,IAjBtB,KAkBO,IACH,cAACrF,GAAA,EAAD,CACIxU,OAAQnC,EAAKa,GACb2E,OAAO,aACPpD,UAAU,WACVoB,SAAUA,EACVoZ,UAAU,EALd,SAOI,cAAC9F,GAAA,EAAD,CACItR,OAAO,YACP7E,QAAQ,YACRC,UAAWb,EAAQic,cAKnC3gB,UAAW2E,EAAKa,GAAIwU,QACpByH,yBAA0B,CAAEC,QAAQ,SAnDvClc,QAyDjB,MAqBRob,GAAiB7K,aAAe,CAC5BwL,SAAU,OACVI,gBAAgB,EAChB1B,YAAa,IAGFW,UCrJTgB,GAGD,SAAAnf,GAAK,OACN,cAAC6Y,GAAA,EAAD,yBACIzU,MAAM,UACNsD,OAAO,aACPpD,UAAU,YACNtE,GAJR,aAMI,cAACgZ,GAAA,EAAD,CAAWtR,OAAO,kBAI1ByX,GAAsB7L,aAAe,CACjCC,UAAU,GAGC4L,U,qBCfTre,GAAYC,YAAW,CACzBjF,KAAM,CACFsjB,QAAS,IACT/d,WAAY,UAEhBge,MAAO,CACHziB,MAAO,GACPqD,OAAQ,IAEZqf,MAAO,CACH1iB,MAAO,GACPqD,OAAQ,MAQVsf,GAA6C,SAAC,GAG7C,IAFHlb,EAEE,EAFFA,OAEE,IADF0N,YACE,MADK,QACL,EACI9P,EAAUnB,KAChB,OAAOuD,EACH,+BACK2C,MAAM3C,EAAOmb,QACT5e,MAAK,GACLyH,KAAI,SAACnB,EAAGuY,GAAJ,OACD,cAAC,KAAD,CAEI3c,UACa,UAATiP,EAAmB9P,EAAQod,MAAQpd,EAAQqd,OAF1CG,QAOrB,MAGRF,GAAgBjM,aAAe,CAC3BlP,MAAO,kCACPsD,OAAQ,SACR6L,UAAU,GAGCgM,U,+DCVAtF,GApCE,SAACyF,EAAiC1e,GAAlC,OAAmD,SAChEqD,EACAsb,GAEO,IADPC,EACM,uDADS,GAEXxf,EAAQwf,EAOZ,OANIF,IAAgBrb,EAAOtB,KACvB3C,EAAK,2BACEA,GADF,IAEDlE,gBAAiB8E,EAAM1F,QAAQoiB,OAAOmC,YAGxB,aAAlBxb,EAAOG,OACA,2BACApE,GADP,IAEI0f,gBAAiBC,KAAM,KACvBC,gBAAiB,EACjBC,gBAAiB,UAEH,YAAlB5b,EAAOG,OACA,2BACApE,GADP,IAEI0f,gBAAiBI,KAAO,KACxBF,gBAAiB,EACjBC,gBAAiB,UAEH,aAAlB5b,EAAOG,OACA,2BACApE,GADP,IAEI0f,gBAAiBK,KAAI,KACrBH,gBAAiB,EACjBC,gBAAiB,UAElB7f,IC1BL0Y,GAAgB/X,YAAW,CAC7Bqf,UAAW,CACPN,gBAAiB,QACjBE,gBAAiB,EACjBC,gBAAiB,SAErBI,WAAY,CACR3e,QAAS,mBAEb4e,QAAS,CACL5e,QAAS,mBAEb6V,QAAS,CACL3T,SAAU,OACVtC,SAAU,SACVF,aAAc,WACdC,WAAY,YAiDLkf,GA7CgD,SAAC,GAGzD,IAFHb,EAEE,EAFFA,YACG1f,EACD,gCACIiC,EAAU6W,KACV9X,EAAQ8Y,eAFZ,EAGsBsE,cAAfC,EAHP,oBAIIC,EAAmBC,cACjBjV,EAAiBxB,eAAjBwB,aAEFkV,EAAmBC,KAAKC,UAAU,CACpCJ,mBACAhc,OAAQgH,IAWZ,OATAzE,qBAAU,WAAO,IACLL,EAAW8E,EAAX9E,OACc,qBAAXA,EACP6Z,EAAY,wBAAyB,CAAE7Z,WAEvC6Z,EAAY,aAGjB,CAACA,EAAaG,IAEb,eAACxH,GAAA,EAAD,yBACIC,SAAS,OACTgD,SAAUA,GAASyF,EAAa1e,GAChCiB,QAAS,CACLme,UAAWne,EAAQme,UACnBC,WAAYpe,EAAQoe,WACpBC,QAASre,EAAQqe,SAErBvF,WAAS,GACL/a,GATR,cAWI,cAAC6U,GAAA,EAAD,CAAWnN,OAAO,SAClB,cAAC,GAAD,CAAwBzK,MAAM,IAC9B,cAAC,GAAD,CAAuBA,MAAM,IAC7B,cAAC,GAAD,CAAiB8U,KAAK,UACtB,cAACiH,GAAA,EAAD,CAAWtR,OAAO,UAAU8Y,cAAeve,EAAQsV,UACnD,cAACyB,GAAA,EAAD,CAAWtR,OAAO,gBC5DxB+Y,GAAkB1f,YAAW,CAC/ByD,OAAQ,CAAE5H,MAAO,OAiCN8jB,GA9BgC,SAAA1gB,GAC3C,IAAMiC,EAAUwe,KAChB,OACI,eAAChV,GAAA,EAAD,2BAAYzL,GAAZ,cACI,cAAC0L,GAAA,EAAD,CAAahE,OAAO,IAAIiE,UAAQ,IAChC,cAACK,GAAA,EAAD,CACItE,OAAO,SACPgM,QAAS,CACL,CAAE3Q,GAAI,WAAYU,KAAM,wBACxB,CAAEV,GAAI,UAAWU,KAAM,uBACvB,CAAEV,GAAI,WAAYU,KAAM,yBAE5BX,UAAWb,EAAQuC,SAEvB,cAACoH,GAAA,EAAD,CAAgBlE,OAAO,cAAcpD,UAAU,YAA/C,SACI,cAAC4U,GAAA,EAAD,CACIC,WAAY,SAACC,GAAD,gBACLA,EAAO3U,WADF,YACgB2U,EAAO1U,gBAI3C,cAACkH,GAAA,EAAD,CAAgBlE,OAAO,aAAapD,UAAU,WAA9C,SACI,cAAC4U,GAAA,EAAD,CAAmBC,WAAW,gBAElC,cAAC/C,GAAA,EAAD,CAAW1O,OAAO,aAClB,cAAC0O,GAAA,EAAD,CAAW1O,OAAO,kB,oFCqBfiZ,GAjD8B,SAAC,GAAgB,IAAdtc,EAAa,EAAbA,OACtCN,EAAYC,cACZmZ,EAASC,eACTC,EAAa9X,eAHsC,EAK1Bqb,aAC3B,UACAvc,EAAOtB,GACP,CAAEyB,OAAQ,YACVH,EACA,CACIuZ,UAAU,EACVnY,UAAW,WACP0X,EACI,kDACA,OACA,IACA,GAEJE,EAAW,aAEfQ,UAAW,WACPV,EACI,gDACA,cAxByC,mBAKlDW,EALkD,KAKvCC,EALuC,KAKvCA,QAyBlB,OAAO1Z,GAA4B,YAAlBA,EAAOG,OACpB,eAAC,KAAD,CACI3B,QAAQ,WACR9G,MAAM,UACNgW,KAAK,QACLvB,QAASsN,EACTpM,SAAUqM,EALd,UAOI,cAAC,KAAD,CACIhiB,MAAM,UACNqE,MAAO,CAAEzD,aAAc,QAASZ,MAAO,WAE1CgI,EAAU,sCAGf,0BCIO8c,GAjD8B,SAAC,GAAgB,IAAdxc,EAAa,EAAbA,OACtCN,EAAYC,cACZmZ,EAASC,eACTC,EAAa9X,eAHsC,EAK3Bqb,aAC1B,UACAvc,EAAOtB,GACP,CAAEyB,OAAQ,YACVH,EACA,CACIuZ,UAAU,EACVnY,UAAW,WACP0X,EACI,kDACA,OACA,IACA,GAEJE,EAAW,aAEfQ,UAAW,WACPV,EACI,gDACA,cAxByC,mBAKlDtd,EALkD,KAKxCke,EALwC,KAKxCA,QAyBjB,OAAO1Z,GAA4B,YAAlBA,EAAOG,OACpB,eAAC,KAAD,CACI3B,QAAQ,WACR9G,MAAM,UACNgW,KAAK,QACLvB,QAAS3Q,EACT6R,SAAUqM,EALd,UAOI,cAAC,KAAD,CACIhiB,MAAM,UACNqE,MAAO,CAAEzD,aAAc,QAASZ,MAAO,SAE1CgI,EAAU,sCAGf,0BCnDFjD,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnClF,KAAM,CACFI,gBAAiB8E,EAAM1F,QAAQgB,WAAW4V,MAC1CtW,QAAS,OACT2Y,eAAgB,qBA4CTuM,GAxC6B,SAAC,GAOtC,IANHpb,EAME,EANFA,SACAqb,EAKE,EALFA,yBACAC,EAIE,EAJFA,QACA3c,EAGE,EAHFA,OACAjC,EAEE,EAFFA,SACA6e,EACE,EADFA,OAEMhf,EAAUnB,KAChB,OAAKuD,EAKD,cAAC,KAAD,CAAYvB,UAAWb,EAAQnG,KAA/B,SACuB,YAAlBuI,EAAOG,OACJ,eAAC,WAAD,WACI,cAAC,GAAD,CAAcH,OAAQA,IACtB,cAAC,GAAD,CAAcA,OAAQA,OAG1B,eAAC,WAAD,WACI,cAAC6c,GAAA,EAAD,CACIH,yBAA0BA,EAC1BC,QAASA,EACTC,OAAQA,EACR3b,SAAS,OACT6b,eAAe,IAEnB,cAACC,GAAA,EAAD,CACI1b,SAAUA,EACVrB,OAAQA,EACRjC,SAAUA,SAtBnB,MCPTtB,GAAYC,aAAW,SAAAC,GAAK,YAAK,CACnClF,KAAM,CACF6H,WAAY,IAEhBzC,MAAO,CACHtF,QAAS,OACTmY,WAAY,SACZQ,eAAgB,gBAChBrO,OAAQ,OAEZmb,MAAI,mBACCrgB,EAAMW,YAAYC,GAAG,MAAQ,CAC1BhF,MAAO,MAFX,cAICoE,EAAMW,YAAYuH,KAAK,MAAQ,CAC5BtM,MAAO,QACPS,WAAY,KANhB,GASJikB,YAAa,CACT1lB,QAAS,eACTgB,MAAO,WAmDA2kB,GA/C+C,SAAC,GAGxD,IAFHC,EAEE,EAFFA,SACGxhB,EACD,6BACIiC,EAAUnB,KACV2gB,EAAkBC,aAAkB1hB,GACpC+D,EAAYC,cAClB,OAAKyd,EAAgBpd,OAIjB,sBAAKvB,UAAWb,EAAQnG,KAAxB,UACI,sBAAKgH,UAAWb,EAAQf,MAAxB,UACI,cAAC0B,EAAA,EAAD,CAAYC,QAAQ,KAApB,SACKkB,EAAU,8BAEf,cAACd,EAAA,EAAD,CAAYuN,QAASgR,EAArB,SACI,cAAC,KAAD,SAGR,eAAC,KAAD,CACI1e,UAAWb,EAAQof,KACnB3b,SAAU+b,EAAgB/b,SAC1BrB,OAAQod,EAAgBpd,OACxBO,KAAM6c,EAAgB7c,KACtB+c,QAASF,EAAgBE,QACzBrc,SAAS,OACTlD,SAAS,UACTwf,QAAS,cAAC,GAAD,IARb,UAUI,cAAC,GAAD,CACIxd,MAAM,uCACN+T,cAAelW,EAAQqf,cAG3B,cAAC,GAAD,CACIld,MAAM,sCACN+T,cAAelW,EAAQqf,cAE3B,cAACzM,GAAA,EAAD,CAAWnN,OAAO,OAAOyQ,cAAelW,EAAQqf,cAChD,cAAC,GAAD,CAAiBnJ,cAAelW,EAAQqf,cACxC,cAAChT,GAAA,EAAD,CAAW5G,OAAO,UAAUma,QAAS,GAAIvJ,WAAS,EAACD,WAAS,UAjC7D,MCxCTyJ,GAA+B,SAAC,GAAD,EAAG7c,SAAH,IAAgBjF,EAAhB,oCACjC,eAAC,WAAD,WACI,cAAC,GAAD,eAAsBA,IACtB,cAAC,GAAD,eAAsBA,IACtB,cAAC+hB,GAAA,EAAD,eAAsB/hB,QAIxBc,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnClF,KAAM,CACFF,QAAS,QAEb4S,KAAM,CACFwT,SAAU,EACVC,WAAYjhB,EAAMkhB,YAAYrT,OAAO,CAAC,OAAQ,CAC1CsT,SAAUnhB,EAAMkhB,YAAYC,SAASC,iBAEzCnZ,YAAa,GAEjBoZ,eAAgB,CACZpZ,YAAa,KAEjBvM,YAAa,CACTjB,OAAQ,SA2ED6mB,GAvEmB,SAAAtiB,GAC9B,IAAMiC,EAAUnB,KACViZ,EAAWvM,aAAqB,SAAAxM,GAAK,OACvCA,EAAMW,YAAYuH,KAAK,SAErBqZ,EAAUC,eAEVC,EAAcC,uBAAY,WAC5BH,EAAQI,KAAK,cACd,CAACJ,IAEJ,OACI,qBAAKzf,UAAWb,EAAQnG,KAAxB,SACI,cAAC,KAAD,CAAO8mB,KAAK,eAAZ,SACK,YAA8B,IAA3BC,EAA0B,EAA1BA,MACMC,KACFD,IACAA,EAAME,QACc,WAApBF,EAAME,OAAOhgB,IAGjB,OACI,eAAC,WAAD,WACI,cAAC8P,GAAA,EAAD,2BACQ7S,GADR,IAEI8C,UAAWyO,KAAWtP,EAAQuM,KAAT,eAChBvM,EAAQogB,eAAiBS,IAE9BE,kBAAmB,cAAC,GAAD,IACnBtV,QAAS,cAAC,GAAD,IACTC,QAAS,GACT9B,KAAM,CAAEC,MAAO,OAAQC,MAAO,QARlC,SAUKgO,EACG,cAACkJ,GAAD,IAEA,cAAC,GAAD,CACIvD,YACIoD,KACED,GACF/O,SAAS+O,EAAME,OAAOhgB,GAAI,SAK1C,cAACmgB,GAAA,EAAD,CACIrgB,QAAQ,aACRoO,KAAM6R,EACNK,OAAO,QACPlR,QAASwQ,EACTxgB,QAAS,CACLiQ,MAAOjQ,EAAQvF,aANvB,SAUKomB,GAAaD,EACV,cAAC,GAAD,aACI9f,GAAI8f,EAAME,OAAOhgB,GACjBye,SAAUiB,GACNziB,IAER,gBCjGrB,IACXmK,KAAMiZ,KACN5U,KAAM8T,IC8BJe,GAAiBtiB,aAAW,SAAAC,GAAK,MAAK,CACxClF,KAAK,aACDc,MAAO,KACNoE,EAAMW,YAAYuH,KAAK,MAAQ,CAC5BtN,QAAS,aAsBf0nB,GAAmD,SAAC,GAGnD,IAFHjf,EAEE,EAFFA,OACAqB,EACE,EADFA,SAEM3B,EAAYC,cADhB,EAEsCuf,aACpC,WACA,CAAEC,KAAM,EAAG7V,QAAS,KACpB,CAAE7B,MAAO,OAAQC,MAAO,QACxB,CAAE0X,YAAapf,GAAUA,EAAOtB,KAJtB2gB,EAFZ,EAEMxhB,KAAmByhB,EAFzB,EAEoB5b,IAFpB,EAQwCwb,aACtC,UACA,CAAEC,KAAM,EAAG7V,QAAS,KACpB,CAAE7B,MAAO,OAAQC,MAAO,QACxB,CAAE0X,YAAapf,GAAUA,EAAOtB,KAJtB6gB,EARZ,EAQM1hB,KAAoB2hB,EAR1B,EAQqB9b,IAOvB,IAAK2b,IAAWE,IAAYD,IAAaE,EACrC,OAAO,KAGX,IAAMC,EAASC,GAAoBL,EAAQC,EAAUC,EAASC,GAE9D,OACI,qCACI,cAAC3W,EAAA,EAAD,CAAKC,EAAE,cAAP,SACI,cAACpD,GAAA,EAAD,UACI,eAACC,EAAA,EAAD,WACI,cAACpH,EAAA,EAAD,CAAYC,QAAQ,KAAKmN,cAAY,EAArC,SACKjM,EACG,6CAGR,eAACmJ,EAAA,EAAD,CAAKtR,QAAQ,OAAb,UACI,eAACsR,EAAA,EAAD,CAAK8U,SAAU,EAAf,UACI,eAAC9U,EAAA,EAAD,CAAKtR,QAAQ,OAAOooB,GAAG,MAAvB,UACI,cAAC9W,EAAA,EAAD,CAAK+W,GAAG,MAAR,SACI,cAAC,KAAD,CACI1jB,SAAS,QACTxE,MAAM,eAGd,eAACmR,EAAA,EAAD,CAAK8U,SAAU,EAAf,UACI,cAACpf,EAAA,EAAD,UACKmB,EACG,2CAGR,cAAC8Q,GAAA,EAAD,CACIxQ,OAAQA,EACRqD,OAAO,qBAIlBic,EAASlhB,OAAS,GACf,eAACyK,EAAA,EAAD,CAAKtR,QAAQ,OAAb,UACI,cAACsR,EAAA,EAAD,CAAK+W,GAAG,MAAR,SACI,cAAC,GAAM9Z,KAAP,CACI5J,SAAS,QACTxE,MAAM,eAGd,cAACmR,EAAA,EAAD,CAAK8U,SAAU,EAAf,SACI,cAACpf,EAAA,EAAD,UACKmB,EACG,4BACA,CACIwK,YACIoV,EAASlhB,mBAQzC,eAACyK,EAAA,EAAD,CAAK8U,SAAU,EAAf,UACI,eAAC9U,EAAA,EAAD,CAAKtR,QAAQ,OAAOooB,GAAG,MAAvB,UACI,cAAC9W,EAAA,EAAD,CAAK+W,GAAG,MAAR,SACI,cAAC,KAAD,CACI1jB,SAAS,QACTxE,MAAM,eAGd,eAACmR,EAAA,EAAD,CAAK8U,SAAU,EAAf,UACI,cAACpf,EAAA,EAAD,UACKmB,EACG,0CAGR,cAAC8Q,GAAA,EAAD,CACIxQ,OAAQA,EACRqD,OAAO,oBAIlBmc,EAAUphB,OAAS,GAChB,eAACyK,EAAA,EAAD,CAAKtR,QAAQ,OAAb,UACI,cAACsR,EAAA,EAAD,CAAK+W,GAAG,MAAR,SACI,cAAC,GAAO9Z,KAAR,CACI5J,SAAS,QACTxE,MAAM,eAGd,cAACmR,EAAA,EAAD,CAAK8U,SAAU,EAAf,SACI,cAACpf,EAAA,EAAD,UACKmB,EACG,2BACA,CACIwK,YACIsV,EAAUphB,6BAazDqhB,EAAOzb,KAAI,SAAAwJ,GAAK,MACE,UAAfA,EAAM3W,KACF,cAAC,GAAD,CACImJ,OAAQwN,EAAM3P,KAEdwD,SAAUA,GAHd,gBAEkBmM,EAAM3P,KAAKa,KAI7B,cAAC,GAAD,CACIsB,OAAQwN,EAAM3P,KAEdwD,SAAUA,GAHd,iBAEmBmM,EAAM3P,KAAKa,YAe5CghB,GAAsB,SACxBL,EACAC,EACAC,EACAC,GAEA,IAAMK,EAAmBP,EAAStb,KAAsB,SAAAtF,GAAE,MAAK,CAC3D7H,KAAM,QACNipB,KAAMT,EAAO3gB,GAAIohB,KACjBjiB,KAAMwhB,EAAO3gB,OAGXqhB,EAAoBP,EAAUxb,KAAsB,SAAAtF,GAAE,MAAK,CAC7D7H,KAAM,SACNipB,KAAMP,EAAQ7gB,GAAIohB,KAClBjiB,KAAM0hB,EAAQ7gB,OAGZ+gB,EAAM,uBAAOI,GAAP,aAA4BE,IAIxC,OAHAN,EAAOjY,MACH,SAACwY,EAAIC,GAAL,OAAY,IAAI1O,KAAKyO,EAAGF,MAAMI,UAAY,IAAI3O,KAAK0O,EAAGH,MAAMI,aAEzDT,GAGLU,GAAiBzjB,YAAW,CAC9BqT,KAAM,CACFlO,OAAQ,eAEZue,WAAY,CACR1Q,WAAY,cAEhB2Q,MAAO,CACH9oB,QAAS,cACT,qBAAsB,EACtB,qBAAsB,WACtB0F,SAAU,YAIZqjB,GAA2D,SAAC,GAG3D,IAFHtgB,EAEE,EAFFA,OACAqB,EACE,EADFA,SAEM3B,EAAYC,cACZ/B,EAAUuiB,KAEhB,OAAKngB,EAKD,cAAC0F,GAAA,EAAD,CAAMjH,UAAWb,EAAQmS,KAAzB,SACI,cAACQ,GAAA,EAAD,CACI9R,UAAWb,EAAQwiB,WACnB5Q,OACI,cAACD,GAAA,EAAD,CACIzT,aAAY4D,EAAU,0BAA2B,CAC7CwK,YAAa,IAFrB,SAKI,cAAC,GAAMpE,KAAP,MAGRuT,OAAQ,cAAC,GAAD,CAAYrZ,OAAQA,EAAQqB,SAAS,cAC7CxE,MAAK,UAAK6C,EAAU,0BAA2B,CAC3CwK,YAAa,IADZ,aAEElK,EAAOC,WACdsgB,UACI,qCACI,cAAChiB,EAAA,EAAD,CAAYC,QAAQ,QAApB,SAA6BwB,EAAO8f,OACpC,eAACvhB,EAAA,EAAD,CAAYC,QAAQ,QAAQ9G,MAAM,gBAAlC,UACKgI,EAAU,8BAA+B,CACtCwK,YAAalK,EAAOoU,OAAOhW,OAC3ByE,EAAG,qCAHX,YAMI,cAACO,GAAA,EAAD,CACIC,OAAO,QACPC,QAAS,CACLvH,MAAO,WACPwH,SAAU,OAEdvD,OAAQA,EACRqB,SAAUA,IAblB,YAgBI,cAACsT,GAAA,EAAD,CACItR,OAAO,SACPrD,OAAQA,EACRqB,SAAUA,cA1C3B,MAoDTmf,GAA4D,SAAC,GAG5D,IAFHxgB,EAEE,EAFFA,OACAqB,EACE,EADFA,SAEM3B,EAAYC,cACZ/B,EAAUuiB,KAEhB,OAAKngB,EAKD,cAAC0F,GAAA,EAAD,CAAMjH,UAAWb,EAAQmS,KAAzB,SACI,cAACQ,GAAA,EAAD,CACI9R,UAAWb,EAAQwiB,WACnB5Q,OACI,cAACD,GAAA,EAAD,CACIzT,aAAY4D,EAAU,yBAA0B,CAC5CwK,YAAa,IAFrB,SAKI,cAAC,GAAOpE,KAAR,MAGRuT,OAAQ,cAAC,GAAD,CAAYrZ,OAAQA,EAAQqB,SAAS,aAC7CxE,MACI,iCACK6C,EAAU,wCAAyC,IACpD,cAAC,GAAD,CACI3B,SAAS,UACTiC,OAAQA,EACRqB,SAAUA,OAItBkf,UACI,qCACI,cAAChiB,EAAA,EAAD,CAAYC,QAAQ,QAApB,SAA6BwB,EAAO8f,OACpC,cAAC,GAAD,CAAiB9f,OAAQA,IACzB,cAACzB,EAAA,EAAD,CAAYC,QAAQ,UAAUC,UAAWb,EAAQyiB,MAAjD,SACKrgB,EAAOkT,iBAhCrB,MAyCTuN,GAA2D,SAAC,GAG3D,IAFHzgB,EAEE,EAFFA,OACAqB,EACE,EADFA,SAEM3B,EAAYC,cAClB,OACI,cAAC+gB,GAAA,EAAD,CAAS7jB,MAAO6C,EAAU,kBAA1B,SACI,cAACd,EAAA,EAAD,CACI9C,aAAY4D,EAAU,kBACtBZ,UAAWC,IACXF,GAAIqB,YAAamB,EAAUrB,GAAUA,EAAOtB,IAHhD,SAKI,cAAC,KAAD,SAMDoG,GA7U6C,SAAC,GAGtD,IAFH9E,EAEE,EAFFA,OACAqB,EACE,EADFA,SAEMzD,EAAUohB,KAChB,OACI,qBAAKvgB,UAAWb,EAAQnG,KAAxB,SACKuI,GAAU,cAAC,GAAD,CAAWA,OAAQA,EAAQqB,SAAUA,O,WCzCtDsf,GAA2B,SAAC,GAA0B,EAAxBC,SAAyB,IAAZpf,EAAW,6BAClD9B,EAAYC,cAClB,OACI,cAACkhB,GAAA,EAAD,2BACQrf,GADR,IAEI6N,QAASN,GAAS/K,KAAI,SAAA8K,GAAO,MAAK,CAC9BpQ,GAAIoQ,EAAQpQ,GACZU,KAAMM,EAAUoP,EAAQ1P,cAMxCuhB,GAAc1R,aAAe,CACzB2R,UAAU,EACVvd,OAAQ,SACRtF,SAAU,aAGC4iB,UCKTG,GAAyC,SAAC,GAAD,IAAG9gB,EAAH,EAAGA,OAAH,OAC3CA,EAAS,cAAC,GAAD,CAAeA,OAAQA,EAAQ0N,KAAK,OAAU,MAErDqT,GAAc,SAACplB,GACjB,IAAM+D,EAAYC,cAGlB,OAFAuJ,YAAqB,0BAA2BvN,GAG5C,cAACqlB,GAAA,EAAD,2BACQrlB,GADR,IAEIkY,SAAUR,GACVc,OAAQ,SAAC8M,GAAD,OACJ,cAACvb,GAAA,EAAD,UACI,iCACI,cAACC,EAAA,EAAD,UACI,eAACkD,EAAA,EAAD,CAAKtR,QAAS,CAAE2pB,GAAI,QAASC,GAAI,QAAjC,UACI,eAACtY,EAAA,EAAD,CAAK/L,KAAM,EAAG8iB,GAAI,CAAEsB,GAAI,EAAGC,GAAI,OAA/B,UACI,cAAC5iB,EAAA,EAAD,CAAYC,QAAQ,KAAKmN,cAAY,EAArC,SACKjM,EACG,8CAGR,eAACmJ,EAAA,EAAD,CAAKtR,QAAS,CAAE6pB,GAAI,QAASC,GAAI,QAAjC,UACI,cAACxY,EAAA,EAAD,CACI/L,KAAM,EACN8iB,GAAI,CAAEwB,GAAI,EAAGC,GAAI,SAFrB,SAII,cAACpX,GAAA,EAAD,CACI5G,OAAO,aACPtF,SAAS,YACTiW,WAAS,MAGjB,cAACnL,EAAA,EAAD,CACI/L,KAAM,EACNwkB,GAAI,CAAEF,GAAI,EAAGC,GAAI,SAFrB,SAII,cAACpX,GAAA,EAAD,CACI5G,OAAO,YACPtF,SAAS,YACTiW,WAAS,SAIrB,cAAC/J,GAAA,EAAD,CACIpT,KAAK,QACLwM,OAAO,QACPtF,SAAS,YACTgW,WAAY,CAAEjB,OAAO,GACrBkB,WAAS,IAEb,eAACnL,EAAA,EAAD,CAAKtR,QAAS,CAAE6pB,GAAI,QAASC,GAAI,QAAjC,UACI,cAACxY,EAAA,EAAD,CACI/L,KAAM,EACN8iB,GAAI,CAAEwB,GAAI,EAAGC,GAAI,SAFrB,SAII,cAACtP,GAAA,EAAD,CACI1O,OAAO,WACPtF,SAAS,YACTiW,WAAS,MAGjB,cAACnL,EAAA,EAAD,CACI/L,KAAM,EACNwkB,GAAI,CAAEF,GAAI,EAAGC,GAAI,cAIzB,cAACxY,EAAA,EAAD,CAAK0Y,GAAG,QAER,cAAChjB,EAAA,EAAD,CAAYC,QAAQ,KAAKmN,cAAY,EAArC,SACKjM,EACG,6CAGR,cAACuK,GAAA,EAAD,CACI5G,OAAO,UACPtF,SAAS,YACTkW,WAAS,EACTD,WAAS,IAEb,eAACnL,EAAA,EAAD,CAAKtR,QAAS,CAAE6pB,GAAI,QAASC,GAAI,QAAjC,UACI,cAACxY,EAAA,EAAD,CACI/L,KAAM,EACN8iB,GAAI,CAAEwB,GAAI,EAAGC,GAAI,SAFrB,SAII,cAACpX,GAAA,EAAD,CACI5G,OAAO,UACPtF,SAAS,YACTiW,WAAS,MAGjB,cAACnL,EAAA,EAAD,CACI/L,KAAM,EACNwkB,GAAI,CAAEF,GAAI,EAAGC,GAAI,SAFrB,SAII,cAACpX,GAAA,EAAD,CACI5G,OAAO,OACPtF,SAAS,YACTiW,WAAS,SAKrB,cAACnL,EAAA,EAAD,CAAK0Y,GAAG,QAER,cAAChjB,EAAA,EAAD,CAAYC,QAAQ,KAAKmN,cAAY,EAArC,SACKjM,EACG,qDAGR,eAACmJ,EAAA,EAAD,CAAKtR,QAAS,CAAE6pB,GAAI,QAASC,GAAI,QAAjC,UACI,cAACxY,EAAA,EAAD,CACI/L,KAAM,EACN8iB,GAAI,CAAEwB,GAAI,EAAGC,GAAI,SAFrB,SAII,cAACnN,GAAA,EAAD,CACI7Q,OAAO,WACPtF,SAAS,YACTiW,WAAS,MAGjB,cAACnL,EAAA,EAAD,CACI/L,KAAM,EACNwkB,GAAI,CAAEF,GAAI,EAAGC,GAAI,SAFrB,SAII,cAACnN,GAAA,EAAD,CACI7Q,OAAO,mBACPtF,SAAS,YACTiW,WAAS,YAKzB,eAACnL,EAAA,EAAD,CACI/L,KAAM,EACNwkB,GAAI,CAAEF,GAAI,EAAGD,GAAI,OACjBI,GAAI,CAAEH,GAAI,MAAOD,GAAI,GAHzB,UAKI,cAAC5iB,EAAA,EAAD,CAAYC,QAAQ,KAAKmN,cAAY,EAArC,SACKjM,EACG,2CAGR,8BACI,cAAC,GAAD,CAAesU,WAAS,MAE5B,8BACI,cAAChC,GAAA,EAAD,CACI3O,OAAO,iBACPtF,SAAS,wBAM7B,cAACyjB,GAAA,EAAD,CACIxhB,OAAQihB,EAAUjhB,OAClBqB,SAAU4f,EAAU5f,SACpBkY,UAAU,EACVoD,QAASsE,EAAUtE,QACnB8E,aAAcR,EAAUQ,aACxB7E,OAAQqE,EAAUrE,OAClB7e,SAAS,wBC/LtB,IACXoM,KAAMqI,GACNhI,OAAQoJ,GACRnJ,KDY+B,SAAA9O,GAC/B,OACI,cAACoO,GAAA,EAAD,yBACIlN,MAAO,cAAC,GAAD,IACP6L,MAAO,cAAC,GAAD,IACP5J,UAAU,OACNnD,GAJR,aAMI,cAAC,GAAD,QCnBRmK,KAAM4b,M,qBCAKC,GAPgC,SAAC,GAAD,IAAG3hB,EAAH,EAAGA,OAAH,OAC3CA,EACI,iCACKA,EAAO+S,QADZ,KACuB/S,EAAOiT,KAD9B,IACqCjT,EAAOgT,WAE5C,M,sBCQF4O,GAAgB,SAAC,GAAD,IAAG5hB,EAAH,EAAGA,OAAH,OAClBA,EACI,eAACzB,EAAA,EAAD,WACKyB,EAAOI,WADZ,IACyBJ,EAAOK,UAC5B,uBACCL,EAAO+S,QACR,uBACC/S,EAAOiT,KALZ,KAKoBjT,EAAOgT,WAE3B,MAqFO6O,GAnFoB,SAAAlmB,GAAU,IACjCqE,EAAW8hB,aAAkBnmB,GAA7BqE,OACFpC,EAAUnB,KAEhB,OAAKuD,EAED,cAAC0F,GAAA,EAAD,CAAMjH,UAAWb,EAAQnG,KAAzB,SACI,eAACkO,EAAA,EAAD,WACI,eAACoc,GAAA,EAAD,CAAMjL,WAAS,EAAC3Z,QAAS,EAAzB,UACI,cAAC4kB,GAAA,EAAD,CAAM3K,MAAI,EAACgK,GAAI,EAAf,SACI,cAAC7iB,EAAA,EAAD,CAAYC,QAAQ,KAAKmN,cAAY,EAArC,8BAIJ,cAACoW,GAAA,EAAD,CAAM3K,MAAI,EAACgK,GAAI,EAAf,SACI,eAAC7iB,EAAA,EAAD,CAAYC,QAAQ,KAAKmN,cAAY,EAACqW,MAAM,QAA5C,qBACahiB,EAAOtB,WAI5B,cAACqjB,GAAA,EAAD,CAAMjL,WAAS,EAAC3Z,QAAS,EAAzB,SACI,cAAC4kB,GAAA,EAAD,CAAM3K,MAAI,EAACgK,GAAI,GAAItK,WAAS,EAACmL,aAAa,WAA1C,SACI,cAACzN,GAAA,EAAD,CACIzW,SAAS,WACTkC,UAAU,YACVoD,OAAO,cACPhC,SAAS,YACTrB,OAAQA,EACRpH,MAAM,EANV,SAQI,cAAC,GAAD,UAIZ,qBAAK6F,UAAWb,EAAQskB,OAAxB,kBACA,eAACH,GAAA,EAAD,CAAMjL,WAAS,EAAC3Z,QAAS,EAAzB,UACI,eAAC4kB,GAAA,EAAD,CAAM3K,MAAI,EAACgK,GAAI,EAAf,UACI,eAAC7iB,EAAA,EAAD,CAAYC,QAAQ,KAAKmN,cAAY,EAACqW,MAAM,SAA5C,iBACS,OAET,cAACzjB,EAAA,EAAD,CAAYoN,cAAY,EAACqW,MAAM,SAA/B,SACK,IAAIzQ,KAAKvR,EAAO8f,MAAMqC,0BAI/B,eAACJ,GAAA,EAAD,CAAM3K,MAAI,EAACgK,GAAI,EAAf,UACI,cAAC7iB,EAAA,EAAD,CAAYC,QAAQ,KAAKmN,cAAY,EAACqW,MAAM,SAA5C,mBAGA,cAACxN,GAAA,EAAD,CACIzW,SAAS,WACTkC,UAAU,WACVoD,OAAO,aACPhC,SAAS,YACTrB,OAAQA,EACRpH,MAAM,EANV,SAQI,cAAC+b,GAAA,EAAD,CACItR,OAAO,YACP2e,MAAM,SACNljB,UAAU,IACV6M,cAAY,YAK5B,qBAAKlN,UAAWb,EAAQwkB,SAAxB,SACI,cAAC5N,GAAA,EAAD,CACIzW,SAAS,WACTkC,UAAU,WACVoD,OAAO,aACPhC,SAAS,YACTrB,OAAQA,EACRpH,MAAM,EANV,SAQI,cAAC,GAAD,aAvEA,MAiFlB6D,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnClF,KAAM,CACFc,MAAO,IACPsJ,OAAQ,OACRwgB,YAAa,QACbC,YAAa,EACbC,YAC2B,UAAvB5lB,EAAM1F,QAAQJ,KACRif,YAAQhe,YAAK6E,EAAM1F,QAAQurB,QAAS,GAAI,KACxCxM,YAAOle,YAAK6E,EAAM1F,QAAQurB,QAAS,GAAI,MAErDN,OAAQ,CAAEtmB,OAAQ,IAClBwmB,SAAU,CAAEvgB,OAAQ,cC3GlB4gB,GAAiD,SAAA9mB,GAAK,OACxD,eAACyL,GAAA,EAAD,2BAAYzL,GAAZ,cACI,cAACoW,GAAA,EAAD,CAAW1O,OAAO,WAAWiE,UAAQ,IACrC,cAACyK,GAAA,EAAD,CAAW1O,OAAO,WAAWiE,UAAQ,SChB9B,IACX6C,KDmB+B,SAAAxO,GAAK,OACpC,cAAC6S,GAAA,EAAD,2BAAU7S,GAAV,IAAiB0N,QAAS,cAAC,GAAD,IAAiBC,QAAS,GAApD,SACI,eAACqJ,GAAA,EAAD,CAAUC,SAAS,SAAS8P,OAAQ,cAAC,GAAD,IAApC,UACI,cAAC/N,GAAA,EAAD,CAAWtR,OAAO,OAClB,cAACmN,GAAA,EAAD,CAAWnN,OAAO,SAClB,cAACmR,GAAA,EAAD,CAAgBnR,OAAO,cAAcpD,UAAU,YAA/C,SACI,cAAC,GAAD,MAEJ,cAACuU,GAAA,EAAD,CACInR,OAAO,cACPpD,UAAU,YACVrH,MAAM,EACNmH,MAAM,oCAJV,SAMI,cAAC,GAAD,MAEJ,cAACyU,GAAA,EAAD,CAAgBnR,OAAO,aAAapD,UAAU,WAA9C,SACI,cAAC0U,GAAA,EAAD,CAAWtR,OAAO,gBAEtB,cAACD,GAAA,EAAD,CAAaC,OAAO,mBACpB,cAACD,GAAA,EAAD,CAAaC,OAAO,kBACpB,cAACD,GAAA,EAAD,CAAaC,OAAO,UACpB,cAACD,GAAA,EAAD,CAAaC,OAAO,iBCxC5ByC,KAAM6c,M,oFCCJlmB,GAAYC,YAAW,CACzBjF,KAAM,CAAEF,QAAS,eAAgByB,UAAW,MAAO5B,OAAQ,GAC3DwrB,QAAS,CAAEvlB,QAAS,EAAG,eAAgB,CAAEA,QAAS,IAClDwlB,IAAK,CACDtqB,MAAO,UACPwe,SAAU,UACVxX,SAAU,OACV0L,UAAW,UAkBJ6X,GAdyB,SAAC,GAAgB,IAAd9iB,EAAa,EAAbA,OACjCpC,EAAUnB,KAEhB,OAAKuD,EAGD,cAAC0F,GAAA,EAAD,CAAMjH,UAAWb,EAAQnG,KAAzB,SACI,cAACkO,EAAA,EAAD,CAAalH,UAAWb,EAAQglB,QAAhC,SACI,qBAAK7f,IAAK/C,EAAO+iB,MAAO9f,IAAI,GAAGxE,UAAWb,EAAQilB,UAL1C,M,sBCJXG,GAAS,CAClB/gB,MAAO,CAAE1J,MAAO,OAChBA,MAAO,CAAEA,MAAO,OAChBqD,OAAQ,CAAErD,MAAO,OACjB+N,MAAO,CAAE/N,MAAO,OAChB0qB,eAAgB,CAAE1rB,QAAS,gBAC3B2rB,gBAAiB,CAAE3rB,QAAS,eAAgBsb,WAAY,KAGtDpW,GAAYC,YAAWsmB,IAgFdG,GA9EwB,SAAAxnB,GACnCuN,YAAqB,2BACrB,IAAMtL,EAAUnB,KAChB,OACI,cAAC0E,GAAA,EAAD,2BAAYxF,GAAZ,aACI,eAACynB,GAAA,EAAD,WACI,eAACC,GAAA,EAAD,CAAStjB,MAAM,gCAAf,UACI,cAACkK,GAAA,EAAD,CAAW5G,OAAO,QAAQ2Q,WAAS,EAACH,SAAUL,iBAC9C,cAACvJ,GAAA,EAAD,CACI5G,OAAO,YACP2Q,WAAS,EACTH,SAAUL,oBAGlB,eAAC6P,GAAA,EAAD,CAAStjB,MAAM,kCAAkCwe,KAAK,UAAtD,UACI,cAACtU,GAAA,EAAD,CAAW5G,OAAO,YAAYwQ,SAAUL,iBACxC,cAAC5L,GAAA,EAAD,CACIvE,OAAO,QACPwQ,SAAUL,eACV/U,UAAWb,EAAQqE,MACnBqhB,WAAY,CACRC,eACI,cAACC,GAAA,EAAD,CAAgB5mB,SAAS,QAAzB,uBAMZ,cAACgL,GAAA,EAAD,CACIvE,OAAO,QACPwQ,SAAUL,eACV/U,UAAWb,EAAQrF,MACnBub,cAAelW,EAAQqlB,eACvBK,WAAY,CACRG,aACI,cAACD,GAAA,EAAD,CAAgB5mB,SAAS,QAAzB,mBAMZ,cAACgL,GAAA,EAAD,CACIvE,OAAO,SACPwQ,SAAUL,eACV/U,UAAWb,EAAQhC,OACnBkY,cAAelW,EAAQslB,gBACvBI,WAAY,CACRG,aACI,cAACD,GAAA,EAAD,CAAgB5mB,SAAS,QAAzB,mBAMZ,cAAC2K,GAAA,EAAD,CACIlE,OAAO,cACPpD,UAAU,aACVyjB,YAAU,EAHd,SAKI,cAAC/b,GAAA,EAAD,CAAatE,OAAO,WAExB,cAACuE,GAAA,EAAD,CACIvE,OAAO,QACPwQ,SAAUL,eACV/U,UAAWb,EAAQ0I,WAG3B,cAAC+c,GAAA,EAAD,CACItjB,MAAM,sCACNwe,KAAK,cAFT,SAII,cAAC,KAAD,CAAelb,OAAO,cAActD,MAAM,cC9FxDtD,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnCma,UAAW,CACPvf,QAAS,OACTyY,cAAe,SACf3S,QAAS,SACT9E,MAAO,IACP,QAAS,CACL2D,SAAU,GACVxE,MAAOiF,EAAM1F,QAAQwC,KAAK3C,QAC1B6K,UAAW,SAGf,2BAA4B,CACxBjK,MAC2B,UAAvBiF,EAAM1F,QAAQJ,KACRif,YAAQnZ,EAAM1F,QAAQwC,KAAK3C,QAAS,KACpCkf,YAAOrZ,EAAM1F,QAAQwC,KAAK3C,QAAS,OAGrDif,KAAM,CACF1Y,QAASV,EAAMQ,QAAQ,EAAG,GAC1B,OAAQ,CACJjB,SAAU,GACVxE,MAAOiF,EAAM1F,QAAQwC,KAAK3C,QAC1BmF,WAAY,UAEhB,OAAQ,CACJC,SAAU,GACVxE,MAC2B,UAAvBiF,EAAM1F,QAAQJ,KACRif,YAAQnZ,EAAM1F,QAAQwC,KAAK3C,QAAS,KACpCkf,YAAOrZ,EAAM1F,QAAQwC,KAAK3C,QAAS,KAC7CmF,WAAY,UAEhB,yBAA0B,CACtB4F,OAAQ,EACR,UAAW,CACPxE,QAAS,KAIrBsmB,QAAS,CACLpsB,QAAS,OACTyY,cAAe,UAEnB4T,QAAS,CACLvmB,QAASV,EAAMQ,QAAQ,IAE3B0mB,MAAO,CACHjnB,SAAU,WACVrE,MAAO,OACPgQ,cAAe,QACftQ,WAAY0E,EAAM1F,QAAQU,OAAOI,MACjCmC,UAAW,sCAEf4pB,IAAK,CACDlnB,SAAU,WACV3E,WAAY0E,EAAM1F,QAAQgB,WAAW4V,MACrCpQ,IAAK,UACLsmB,OAAQ,UACRvmB,KAAM,OACNmT,MAAO,OACPzW,UAAW,0CAEf8pB,IAAK,CACDpnB,SAAU,WACVa,IAAK,UACLsmB,OAAQ,UACRvmB,KAAM,UACNmT,MAAO,UACP,QAAS,CACLpY,MAAO,aAkCJ0rB,GA7BsB,SAAC,GAAgB,IAAdjkB,EAAa,EAAbA,OAC5B+iB,EAA2C/iB,EAA3C+iB,MAAOnnB,EAAoCoE,EAApCpE,OAAQrD,EAA4ByH,EAA5BzH,MAAO0J,EAAqBjC,EAArBiC,MAAOhC,EAAcD,EAAdC,UAC/BrC,EAAUnB,KAEhB,OACI,sBAAKgC,UAAWb,EAAQkZ,UAAxB,UACI,qBAAKrY,UAAWb,EAAQgmB,QAAxB,SACI,qBAAKnlB,UAAWb,EAAQimB,MAAxB,SACI,qBAAKplB,UAAWb,EAAQkmB,IAAxB,SACI,qBAAKrlB,UAAWb,EAAQomB,IAAxB,SACI,qBAAKjhB,IAAKggB,EAAO9f,IAAI,aAKrC,sBAAKxE,UAAWb,EAAQmY,KAAxB,UACI,cAACxX,EAAA,EAAD,CAAYC,QAAQ,KAApB,SAA0ByB,IAC1B,sBAAKxB,UAAWb,EAAQ+lB,QAAxB,UACI,eAACplB,EAAA,EAAD,CAAYC,QAAQ,UAApB,UACKjG,EADL,MACeqD,EADf,SAGA,eAAC2C,EAAA,EAAD,CAAYC,QAAQ,UAApB,UAA+ByD,EAA/B,eAEJ,cAAC,KAAD,CAAejC,OAAQA,EAAQD,MAAM,GAAGsD,OAAO,uBC1DzD6gB,GAAsC,SAAC,GAAD,IAAGlkB,EAAH,EAAGA,OAAH,OACxCA,EAAS,4CAAeA,EAAOC,aAAoB,MAEjDxD,GAAYC,YAAW,2BACtBynB,IADqB,IAExBjR,QAAS,CACLjW,SAAU,SACVF,aAAc,WACdC,WAAY,SACZuC,SAAU,KAEduX,UAAW,CACPvf,QAAS,OACT,mBAAoB,CAChBuF,KAAM,EACNia,SAAU,MACVxX,SAAU,OAEd,kBAAmB,CACfhH,MAAO,MACPyY,WAAY,IAGpBvZ,KAAM,CACF4F,QAAS,eACTzB,OAAQ,OACRrE,QAAS,OACTyY,cAAe,SACf,iBAAkB,CACdzY,QAAS,OACTyY,cAAe,SACflT,KAAM,GAEV,aAAc,CACV9D,UAAW,YAKjBorB,GAAmD,SAAC,GAGnD,IAFHxjB,EAEE,EAFFA,SACGjF,EACD,6BACIiC,EAAUnB,KAEhB,OADAyM,YAAqB,wBAAyBvN,GAE1C,cAACqlB,GAAA,EAAD,2BACQrlB,GADR,IAEIwY,OAAQ,SAAC8M,GACL,OACI,sBAAKxiB,UAAWb,EAAQkZ,UAAxB,UACI,cAACpR,GAAA,EAAD,UACI,cAACC,EAAA,EAAD,CAAalH,UAAWb,EAAQnG,KAAhC,SACI,cAAC,KAAD,2BAAgBwpB,GAAhB,aACKrgB,SAIb,qBAAK6D,cAAY,uBAAjB,SACI,cAAC4f,GAAA,EAAD,UACK,YAAgC,IAA7BC,EAA4B,EAA5BA,SACA,OAAO,cAACC,GAAD,CAAgBvkB,OAAQskB,iBA6H7DE,GAAyB,SAAA7oB,GAAU,IAC7BoC,EAAqBpC,EAArBoC,SAAUiC,EAAWrE,EAAXqE,OAEJuB,EAASkjB,YAAW1mB,EAAUiC,EAAOtB,IAA3Cb,KACF6mB,EAAgC,kBAAf,OAAJnjB,QAAI,IAAJA,OAAA,EAAAA,EAAMG,UAEzB,OACI,eAAC8f,GAAA,EAAD,2BAAa7lB,GAAb,cACI,cAACkhB,GAAA,EAAD,CAAYxP,UAAWqX,KACrBA,GAAc,cAAC,GAAD,CAAahjB,SAAQ,OAAEH,QAAF,IAAEA,OAAF,EAAEA,EAAMG,gBAKnDijB,GAAuBjoB,aAAW,SAAAC,GAAK,MAAK,CAC9ClF,KAAM,CACF4F,QAASV,EAAMQ,QAAQ,EAAG,QAI5BynB,GAAuB,SAAAjpB,GAAU,IAC3B+F,EAAgC/F,EAAhC+F,SAD0B,EACM/F,EAAtB6C,eADgB,MACN,QADM,EAE5BZ,EAAU+mB,GAAqBhpB,GAErC,OACI,eAAC4C,EAAA,EAAD,CAAYE,UAAWb,EAAQnG,KAAM+G,QAASA,EAA9C,oDAC4CkD,EAD5C,QAMOmjB,GAjJoB,SAAAlpB,GAAU,IACjCoC,EAAiBpC,EAAjBoC,SAAUW,EAAO/C,EAAP+C,GAEZd,EAAUnB,KACVqc,EAASC,eAmBf,OAjBoB+L,YAChB/mB,EACAW,EACA,eACA,CACI0C,UAAW,WACP0X,EAAO,6CAEXU,UAAW,WACPV,EAAO,sDAEXiM,gBAAiB,WACbjM,EAAO,6CAZXY,QAkBG,cAACsL,GAAA,EAAD,IAIP,cAACjb,GAAA,EAAD,2BAAUpO,GAAV,IAAiBkB,MAAO,cAAC,GAAD,IAAkBiC,UAAU,MAApD,SACI,eAAC,GAAD,CAA4Bye,QAAS,cAAC,GAAD,IAArC,UACI,cAAC,GAAD,IACA,cAACtT,GAAA,EAAD,CAAW5G,OAAO,QAAQ2Q,WAAS,IACnC,cAAC/J,GAAA,EAAD,CAAW5G,OAAO,YAAY2Q,WAAS,IACvC,cAAC,KAAD,CACIjU,MAAM,sCACNgE,eAAa,kBACbiQ,WAAS,EAHb,SAKI,cAAC,KAAD,CAAe3Q,OAAO,cAActD,MAAM,OAE9C,eAAC,KAAD,CACIA,MAAM,kCACNiU,WAAS,EAFb,UAII,cAAC/J,GAAA,EAAD,CAAW5G,OAAO,cAClB,cAACuE,GAAA,EAAD,CACIvE,OAAO,QACP5E,UAAWb,EAAQqE,MACnBqhB,WAAY,CACRC,eACI,cAACC,GAAA,EAAD,CAAgB5mB,SAAS,QAAzB,uBAMZ,cAACgL,GAAA,EAAD,CACIvE,OAAO,QACP5E,UAAWb,EAAQrF,MACnBub,cAAelW,EAAQqlB,eACvBK,WAAY,CACRG,aACI,cAACD,GAAA,EAAD,CAAgB5mB,SAAS,QAAzB,mBAMZ,cAACgL,GAAA,EAAD,CACIvE,OAAO,SACP5E,UAAWb,EAAQhC,OACnBkY,cAAelW,EAAQslB,gBACvBI,WAAY,CACRG,aACI,cAACD,GAAA,EAAD,CAAgB5mB,SAAS,QAAzB,mBAMZ,cAAC2K,GAAA,EAAD,CAAgBlE,OAAO,cAAcpD,UAAU,aAA/C,SACI,cAAC0H,GAAA,EAAD,CAAatE,OAAO,WAExB,cAACuE,GAAA,EAAD,CAAavE,OAAO,QAAQ5E,UAAWb,EAAQ0I,WAEnD,cAAC,KAAD,CACIvG,MAAM,kCACNiU,WAAS,EAFb,SAII,cAACiR,GAAA,EAAD,CACIllB,MAAM,GACNE,UAAU,UACVilB,OAAO,aACPC,WAAY,cAAC,GAAD,IACZnR,WAAS,EALb,SAOI,eAACrB,GAAA,EAAD,WACI,cAACnC,GAAA,EAAD,CAAWnN,OAAO,SAClB,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAACsR,GAAA,EAAD,CACItR,OAAO,UACP8Y,cAAeve,EAAQsV,UAE3B,cAACyB,GAAA,EAAD,CAAWtR,OAAO,WAClB,cAAC,KAAD,kBA6CtB+hB,GAAmC,SAAC,GAQpC,EAPFlW,SAOE,EANF8E,UAMG,IALArY,EAKD,yCACF,OAAO,cAACoN,GAAA,EAAD,eAAgBpN,KChRZ,IACXwO,KAAMlB,GACNuB,OAAQ2Y,GACR1Y,KAAMoa,GACN/e,KAAMuf,M,oBCKJC,GAAgB,SAAA3pB,GAAK,OACvB,eAAC,KAAD,2BAAaA,GAAb,cACI,cAACgZ,GAAA,EAAD,CAAWtR,OAAO,OAElB,cAAC4G,GAAA,EAAD,CAAW5G,OAAO,OAAOkiB,WAAS,IAClC,cAACtb,GAAA,EAAD,CAAW5G,OAAO,YAClB,cAAC4G,GAAA,EAAD,CAAW5G,OAAO,YAClB,cAAC0O,GAAA,EAAD,CAAW1O,OAAO,oBAIpBmiB,GAAuB,SAAA7pB,GACzB,IAAMiC,EAAUoK,KAChB,OAAO,cAAC,KAAD,2BAAiBrM,GAAjB,IAAwB8C,UAAWb,EAAQnG,SAGhDuQ,GAAuBtL,aAAW,SAAAC,GAAK,MAAK,CAC9ClF,KAAM,CACF8Q,cAAe,EACfjJ,WAAY3C,EAAMQ,QAAQ,QA+B5BV,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnClF,KAAM,CACFuB,WAAY2D,EAAMQ,QAAQ,Q,UC/DnB,IACX2I,K,QAAM2f,EACNtb,KDgCoC,SAAAxO,GACpC,IAAMiC,EAAUnB,KAChB,OACI,cAAC+R,GAAA,EAAD,2BACQ7S,GADR,IAEI8M,QAAS,cAAC,GAAD,IACThK,UAAWb,EAAQnG,KACnB+R,WAAS,EACTkc,OAAO,EACPpc,QAAS,GANb,SAQI,eAAC,KAAD,CACI7E,cAAY,iBACZmO,SAAS,OACT+S,WAAY,cAAC,GAAD,IACZC,SAAU,cAAC,GAAD,IAJd,UAMI,cAACjR,GAAA,EAAD,CAAWtR,OAAO,OAClB,cAACsR,GAAA,EAAD,CAAWtR,OAAO,SAClB,cAACsR,GAAA,EAAD,CAAWtR,OAAO,YAClB,cAACsR,GAAA,EAAD,CAAWtR,OAAO,YAClB,cAACmN,GAAA,EAAD,CAAWnN,OAAO,uBE1DrB0L,GAAW,CACpB,aACA,YACA,eACA,UACA,UACA,YAOWA,GAAS/K,KAAI,SAAA8K,GAAO,MAAK,CACpCpQ,GAAIoQ,EACJ1P,MAN2BymB,EAMC/W,EALrB+W,EAAOC,OAAO,GAAGC,cAAgBF,EAAOG,MAAM,KADzD,IAA+BH,KAIhB9W,IC8BTkX,GAAoB,CAAE/U,cAAe,4BACrCgV,GAAuB,CAAE7U,cAAe,4BAqCxC8U,GAAqBpV,aAAW,SAAApU,GAAK,MAAK,CAC5CypB,MAAO,CACH3oB,IAAK,GACLkT,MAAO,GACPxW,OAAO,aAAD,OAAewC,EAAM1F,QAAQgB,WAAW4V,OAC9CxQ,QAAS,YALU0T,CAOvB/R,KAuIWqnB,GArIS,SAAC,GAA6B,IAA3BC,EAA0B,EAA1BA,YAAanrB,EAAa,EAAbA,OAC9BuE,EAAYC,cACZ4mB,EA9CuB,SAACxoB,GAC9B,IAAMygB,EAAQgI,cACRC,EAAWvM,cAF0C,EAGvBzN,mBAAS,GAHc,mBAGpDia,EAHoD,KAGxCC,EAHwC,KAgC3D,OA3BAC,YAAyB7oB,GAAU,YAAkB,IAAfC,EAAc,EAAdA,QAClC,GAAKA,GAAYA,EAAQ0F,IAAzB,CAIA,IAAImjB,EAAQ7oB,EAAQ0F,IAAItF,OAExB,GAAIqoB,GAAYjI,EAAMzgB,GAAW,CAAC,IACtBiC,GAAWymB,IAAaA,EAASK,QAAU,KAA3C9mB,OACR,IAAKA,GAAuB,MAAbA,EAAOtB,GAClB,OAGJmoB,EAAQ7oB,EAAQ0F,IAAIzF,QAAO,SAAAS,GAAE,OAAIA,IAAOsB,EAAOtB,MAAIN,OAGnDyoB,GACAF,GAAc,SAAAI,GAAQ,OAAIA,EAAWF,SAI7CrmB,qBAAU,WACFge,EAAMzgB,IACN4oB,EAAc,KAEnB,CAACnI,EAAOzgB,IAEJ2oB,EAcqBM,CAAyB,YAE/CtR,EAAWvM,aAAc,SAACxM,GAAD,OAC3BA,EAAMW,YAAYuH,KAAK,SAK3B,OAFAoiB,aAAY,SAAC3R,GAAD,OAAqBA,EAAM3Y,SAGnC,eAAC,IAAD,CAAgB6B,QAAQ,aAAxB,UACI,cAAC,IAAD,CACIY,KAAK,YACLP,GAAG,IACHqoB,OAAK,EACLphB,KAAM,cAAC,IAAD,IACNqG,QAASma,EACTvmB,MAAM,sBAEV,cAAC,IAAD,CACIX,KAAK,UACL0G,KAAM,cAAC,GAASA,KAAV,IACNqG,QAASma,EACTvmB,MAAOL,EAAU,mBAAoB,CAAEwK,YAAa,IAJxD,SAMI,eAACvE,EAAA,EAAD,WACI,cAACpH,EAAA,EAAD,CAAYC,QAAQ,KAAKmN,cAAY,EAArC,SACKjM,EAAU,mBAAoB,CAAEwK,YAAa,MAElD,eAAC,IAAD,WACI,cAAC,IAAD,CACI9K,KAAK,WACLP,GAAG,YACHiH,KAAM,cAAC,GAASA,KAAV,IACNqG,QAASma,EACTvmB,MAAOL,EAAU,0BAA2B,CACxCwK,YAAa,MAGrB,cAAC,IAAD,CACI9K,KAAK,aACLP,GAAG,gBACHiH,KAAM,cAAC,GAAWA,KAAZ,IACNqG,QAASma,EACTvmB,MAAOL,EAAU,4BAA6B,CAC1CwK,YAAa,cAMjC,cAACic,GAAD,CACIlnB,aAAcsnB,EACd7uB,MAAM,UAFV,SAII,cAAC,IAAD,CACI0H,KAAK,WACLP,GAAG,YACHiH,KAAM,cAAC,GAAOA,KAAR,IACNqG,QAASma,EACTvmB,MAAOL,EAAU,0BAA2B,CACxCwK,YAAa,IAEjBzF,cAAY,oBAGpB,cAAC,IAAD,CACIrF,KAAK,WACLP,GAAG,sBACHiH,KAAM,cAACsc,GAAStc,KAAV,IACNqG,QAASma,EACTvmB,MAAOL,EAAU,0BAA2B,CACxCwK,YAAa,MAGrB,cAAC,IAAD,CACI9K,KAAK,WACL0G,KAAM,cAAC,GAASA,KAAV,IACNqG,QAASma,EACTvmB,MAAOL,EAAU,oBAAqB,CAAEwK,YAAa,IAJzD,SAMI,cAAC,GAAD,CAAcoc,YAAaA,MAE/B,cAAC,IAAD,CACIlnB,KAAK,UACL0G,KAAM,cAAC,GAAQA,KAAT,IACNqG,QAASma,EACTvmB,MAAOL,EAAU,yBAA0B,CAAEwK,YAAa,IAJ9D,SAMI,eAACvE,EAAA,EAAD,WACI,cAACpH,EAAA,EAAD,CAAYC,QAAQ,KAAKmN,cAAY,EAArC,SACKjM,EAAU,yBAA0B,CACjCwK,YAAa,MAEP,IACd,eAAC,IAAD,WACI,cAAC,IAAD,CACI9K,KAAK,mBACLP,GAAI,yCACJiH,KAAM,cAAC,IAAD,IACNqG,QAASma,EACTvmB,MAAM,yBAEV,cAAC,IAAD,CACIX,KAAK,mBACLP,GAAI,yCACJiH,KAAM,cAAC,IAAD,IACNqG,QAASma,EACTvmB,MAAM,yBAEV,cAAC,IAAD,CACIX,KAAK,kBACLP,GAAI,wCACJiH,KAAM,cAAC,IAAD,IACNqG,QAASma,EACTvmB,MAAM,gCAKtB,cAAC,IAAD,CACIX,KAAK,SACLP,GAAG,UACHiH,KAAM,cAACqhB,GAAOrhB,KAAR,IACNqG,QAASma,EACTvmB,MAAOL,EAAU,wBAAyB,CAAEwK,YAAa,MAE5DwL,GAAYva,MAOnBisB,GAA8D,SAAC,GAE9D,IADHd,EACE,EADFA,YAEM5mB,EAAYC,cAElB,OACI,cAACgG,EAAA,EAAD,UACI,eAACkD,EAAA,EAAD,CAAKtR,QAAQ,OAAO2Y,eAAe,gBAAnC,UACI,eAACrH,EAAA,EAAD,CAAKjE,YAAa,EAAlB,UACI,cAACrG,EAAA,EAAD,CAAYC,QAAQ,KAAKmN,cAAY,EAArC,SACKjM,EAAU,2BAA4B,CACnCwK,YAAa,MAGrB,eAAC,IAAD,WACI,cAAC,IAAD,CACI9K,KAAK,sBACLP,GAAE,4BAAuBub,KAAKC,UAC1B4L,KAEJ9Z,QAASma,EACTvmB,MAAOL,EAAU,yBAA0B,CACvCwK,YAAa,MAGrB,cAAC,IAAD,CACI9K,KAAK,6BACLP,GAAE,4BAAuBub,KAAKC,UAC1B6L,KAEJ/Z,QAASma,EACTvmB,MAAOL,EAAU,4BAA6B,CAC1CwK,YAAa,YAK7B,eAACrB,EAAA,EAAD,WACI,cAACtK,EAAA,EAAD,CAAYC,QAAQ,KAAKmN,cAAY,EAArC,SACKjM,EAAU,0BAA2B,CAClCwK,YAAa,MAGrB,cAAC,IAAD,UACK6E,GAAS/K,KAAI,SAAA8K,GAAO,OACjB,cAAC,IAAD,CAEI1P,KAAI,mBAAc0P,GAClBjQ,GAAE,wCAAmCiQ,EAAnC,MACF3C,QAASma,EACTvmB,MAAOL,EAAU,2BAAD,OACeoP,GAC3B,CACI5E,YAAa,KAPhB4E,iB,UC1PtBuY,GAZU,SAAA1rB,GACrB,OACI,cAAC,IAAD,2BACQA,GADR,IAEI2rB,OAAQjpB,EACRkpB,KAAMlB,GACNmB,WAAYC,EACZC,MAAOA,S,6FCGbjrB,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnC5F,KAAM,CACFQ,QAAS,OACTyY,cAAe,SACf2X,UAAW,QACXjY,WAAY,SACZQ,eAAgB,aAChBjY,WAAY,mDACZ2vB,iBAAkB,YAClBC,eAAgB,SAEpB9X,KAAM,CACFgH,SAAU,IACV/d,UAAW,OAEfwW,OAAQ,CACJ3N,OAAQ,MACRtK,QAAS,OACT2Y,eAAgB,UAEpBpK,KAAM,CACFjO,gBAAiB8E,EAAM1F,QAAQiC,UAAUnC,MAE7C2C,KAAM,CACFV,UAAW,MACXzB,QAAS,OACT2Y,eAAgB,SAChBxY,MAAOiF,EAAM1F,QAAQ4B,KAAK,MAE9BmkB,KAAM,CACF3f,QAAS,iBAEb8R,MAAO,CACHnW,UAAW,OAEfyP,QAAS,CACLpL,QAAS,qBAIXyqB,GAAc,SAAC,GAAD,QAChBC,KAAQC,GADQ,aACW,CAAEA,SAAS,EAAOC,WAAOzjB,GADpC,GACRwjB,QAASC,EADD,EACCA,MACLC,EAFI,mBAEhB/Y,OACGxT,EAHa,wCAKhB,cAAC,KAAD,qCACIssB,SAAUD,IAAWC,GACrBE,WAAYH,GAAWC,GACnBC,GACAvsB,GAJR,IAKIqY,WAAS,MASToU,GAASC,eAATD,KAEFE,GAAQ,WAAqB,IAAD,EACA7b,oBAAS,GADT,mBACvBiN,EADuB,KACd6O,EADc,KAExB7oB,EAAYC,cACZ/B,EAAUnB,KACVqc,EAASC,eACTle,EAAQ2tB,eACR/B,EAAWgC,eA8BjB,OACI,cAACL,GAAD,CACIM,SA9Ba,SAACC,GAClBJ,GAAW,GACX1tB,EAAM8tB,EAAMlC,EAASnR,MAAQmR,EAASnR,MAAMsT,aAAe,KAAKC,OAC5D,SAACZ,GACGM,GAAW,GACXzP,EACqB,kBAAVmP,EACDA,EACiB,qBAAVA,GAA0BA,EAAMa,QAEvCb,EAAMa,QADN,wBAEN,eAoBRjV,SAdS,SAACiT,GACd,IAAMxT,EAAqB,GAO3B,OANKwT,EAAOhsB,WACRwY,EAAOxY,SAAW4E,EAAU,2BAE3BonB,EAAO3T,WACRG,EAAOH,SAAWzT,EAAU,2BAEzB4T,GAOHa,OAAQ,gBAAGsN,EAAH,EAAGA,aAAH,OACJ,sBAAMiH,SAAUjH,EAAcsH,YAAU,EAAxC,SACI,sBAAKtqB,UAAWb,EAAQ7G,KAAxB,UACI,eAAC2O,GAAA,EAAD,CAAMjH,UAAWb,EAAQmS,KAAzB,UACI,qBAAKtR,UAAWb,EAAQ4R,OAAxB,SACI,cAACD,GAAA,EAAD,CAAQ9Q,UAAWb,EAAQkI,KAA3B,SACI,cAAC,KAAD,QAGR,qBAAKrH,UAAWb,EAAQlE,KAAxB,+BAGA,sBAAK+E,UAAWb,EAAQof,KAAxB,UACI,qBAAKve,UAAWb,EAAQuR,MAAxB,SACI,cAAC,KAAD,CACI/P,KAAK,WACLN,UAAWgpB,GACX/nB,MAAOL,EAAU,oBACjB2N,SAAUqM,MAGlB,qBAAKjb,UAAWb,EAAQuR,MAAxB,SACI,cAAC,KAAD,CACI/P,KAAK,WACLN,UAAWgpB,GACX/nB,MAAOL,EAAU,oBACjB7I,KAAK,WACLwW,SAAUqM,SAItB,cAACsP,GAAA,EAAD,CAAavqB,UAAWb,EAAQ6K,QAAhC,SACI,eAAC,KAAD,CACIjK,QAAQ,YACR3H,KAAK,SACLa,MAAM,UACN2V,SAAUqM,EACV1F,WAAS,EALb,UAOK0F,GACG,cAACsL,GAAA,EAAD,CACItX,KAAM,GACNub,UAAW,IAGlBvpB,EAAU,2BAIvB,cAACwpB,GAAA,EAAD,aAsBTC,GANQ,SAACxtB,GAAD,OACnB,cAACytB,GAAA,EAAD,CAAezsB,MAAO0sB,aAAe9vB,GAArC,SACI,cAAC,GAAD,eAAWoC,O,+DCtLN2tB,GAA8Ble,sBAAW,SAACzP,EAAO0P,GAAS,IAC3DxN,EAA2BlC,EAA3BkC,KAAMsO,EAAqBxQ,EAArBwQ,QAAY3K,EADwC,aAC/B7F,EAD+B,oBAGlE,OACI,cAAC,KAAD,aACImD,UAAW+R,IACXhS,GAAIhB,EAAK0rB,IACTpd,QAASA,EACTd,IAAKA,GACD7J,OAKhB8nB,GAAmBhe,YAAc,qBCH1B,IAAMke,GAA2B,SAAA7tB,GAAU,IACtCkC,EAAkBlC,EAAlBkC,KAAMsO,EAAYxQ,EAAZwQ,QACNyW,EAAY/kB,EAAZ+kB,QAEFhlB,EAAU6rB,KACV/pB,EAAYC,cAElB,OAAKijB,EAKD,eAACtI,GAAA,EAAD,CACIC,QAAM,EACNzb,UAAWwqB,GACXzrB,KAAMA,EACNsO,QAASA,EACTuD,WAAW,aALf,UAOI,cAAC8K,GAAA,EAAD,CAAgB/b,UAAWb,EAAQ4R,OAAnC,SACI,cAACD,GAAA,EAAD,CAAQtM,IAAK2f,EAAQ3iB,UAArB,SACI,cAAC,KAAD,CAAkB/D,SAAS,cAGnC,eAAC6lB,GAAA,EAAD,CAAMtjB,UAAWb,EAAQnG,KAAMqf,WAAS,EAAC3Z,QAAS,EAAlD,UACI,eAAC4kB,GAAA,EAAD,CAAMjL,WAAS,EAACM,MAAI,EAACgK,IAAE,EAAvB,UACI,cAACW,GAAA,EAAD,CAAM3K,MAAI,EAACgK,GAAI,GAAf,SACI,cAAC7iB,EAAA,EAAD,CACIE,UAAWb,EAAQqC,UACnBzB,QAAQ,QACR9G,MAAM,cACNiU,cAAY,EAJhB,SAMKiX,EAAQ3iB,cAGjB,cAAC8hB,GAAA,EAAD,CAAM3K,MAAI,EAACgK,GAAI,GAAf,SACI,cAAC7iB,EAAA,EAAD,CACIC,QAAQ,QACR9G,MAAM,cACNiU,cAAY,EAHhB,SAKK,IAAI4F,KAAKqR,EAAQ9C,MAAMqC,4BAIpC,eAACJ,GAAA,EAAD,CAAMjL,WAAS,EAACM,MAAI,EAACgK,IAAE,EAAvB,UACI,cAACW,GAAA,EAAD,CAAM3K,MAAI,EAACgK,GAAI,GAAf,SACI,eAAC7iB,EAAA,EAAD,CACIE,UAAWb,EAAQoP,MACnBxO,QAAQ,UACR9G,MAAM,cAHV,oBAKQgI,EACA,0CANR,YAOSkjB,EAAQ5V,OAPjB,cAWJ,cAAC+U,GAAA,EAAD,CAAM3K,MAAI,EAACgK,GAAI,GAAf,SACI,cAAC,GAAD,CAAejhB,OAAQyiB,EAAQziB,cAGvC,cAAC4hB,GAAA,EAAD,CAAMjL,WAAS,EAACM,MAAI,EAACgK,IAAE,EAAvB,SACI,cAACW,GAAA,EAAD,CAAM3K,MAAI,EAACgK,GAAI,GAAf,SACI,cAAC7iB,EAAA,EAAD,CACIC,QAAQ,QACR9G,MAAM,cACNiU,cAAY,EAHhB,mBAKQiX,EAAQ1Q,SAAS9R,WALzB,YAKuCwiB,EAAQ1Q,SAAS7R,uBA9DjE,MAuETopB,GAA2B/sB,aAAW,SAAAC,GAAK,MAAK,CAClD6S,OAAQ,CACJjX,MAAO,GACPqD,OAAQ,GACRtD,aAAcqE,EAAMQ,QAAQ,GAE5B,QAAS,CACL5E,MAAO,OACPqD,OAAQ,SAGhBnE,KAAM,CACF4F,QAASV,EAAMQ,QAAQ,EAAG,IAE9B8C,UAAW,CACPhE,WAAYU,EAAMyT,WAAWsZ,gBAEjC1c,MAAO,CACH/Q,WAAYU,EAAMyT,WAAWsZ,oBAI/BC,GAAwC,SAAC,GAAgB,IAAD,EAAbxpB,EAAa,EAAbA,OACvCvC,EAAUgsB,KAEhB,OACI,qBACInrB,UAAWyO,KAAWtP,EAAQnG,MAAT,mBAChBmG,EAAQuX,QAAqB,YAAXhV,GADF,cAEhBvC,EAAQwX,UAAuB,cAAXjV,GAFJ,cAGhBvC,EAAQyX,UAAuB,cAAXlV,GAHJ,IADzB,SAOI,cAAC5B,EAAA,EAAD,CAAYE,UAAWb,EAAQuC,OAAQ3B,QAAQ,UAA/C,SACK2B,OAMXypB,GAAyBltB,aAAW,SAAAC,GAAK,MAAK,CAChDlF,KAAM,CACF8H,SAAU,GACVlC,QAASV,EAAMQ,QAAQ,IAAM,GAC7BjF,aAAcyE,EAAMnD,MAAMtB,aAC1ByJ,UAAW,UAEfwT,QAAS,CACLtd,gBAAiBie,YAAQ+T,KAAK,KAAM,IACpCnyB,MAAOiF,EAAM1F,QAAQ6yB,gBAAgBhU,YAAQ+T,KAAK,KAAM,MAE5DzU,UAAW,CACPvd,gBAAiBie,YAAQnZ,EAAM1F,QAAQ8yB,QAAQhzB,KAAM,IACrDW,MAAOiF,EAAM1F,QAAQ6yB,gBACjBhU,YAAQnZ,EAAM1F,QAAQ8yB,QAAQhzB,KAAM,MAG5Cse,UAAW,CACPxd,gBAAiBie,YAAQnZ,EAAM1F,QAAQgxB,MAAMlxB,KAAM,IACnDW,MAAOiF,EAAM1F,QAAQ6yB,gBACjBhU,YAAQnZ,EAAM1F,QAAQgxB,MAAMlxB,KAAM,MAG1CoJ,OAAQ,CACJzI,MAAO,UACPsyB,cAAe,kBC3JVC,GAAa,SAAC,GAAD,IACtBrpB,EADsB,EACtBA,SACAb,EAFsB,EAEtBA,MACA+F,EAHsB,EAGtBA,KACAjH,EAJsB,EAItBA,GACG2C,EALmB,wDAYtB,eAACqH,EAAA,EAAD,yBACI/J,UAAU,KACVvH,QAAQ,OACRmY,WAAW,aACXQ,eAAe,SACfF,cAAc,UACVxO,GANR,cAQI,eAACqH,EAAA,EAAD,CAAKtR,QAAQ,OAAOmY,WAAW,SAAS1I,aAAc,EAAtD,UACI,cAAC6B,EAAA,EAAD,CAAKjE,YAAa,EAAlB,SAAsBkB,IACtB,cAACvH,EAAA,EAAD,CAAYO,UAAU,OAAtB,SAA8B8B,OAElC,cAAC,KAAD,CAAM9B,UAAW+R,IAAYrS,QAAQ,UAAUK,GAAIA,EAAnD,SACKkB,SCZP4a,GAA2B,CAC7B7b,UAAW,OAGForB,GAA4B,SAAAvuB,GAAU,IACvCkC,EAAkBlC,EAAlBkC,KAAMsO,EAAYxQ,EAAZwQ,QACNyW,EAAY/kB,EAAZ+kB,QAEFhlB,EAAUnB,KACViD,EAAYC,cAElB,IAAKijB,EACD,OAAO,KAGX,IAAMuH,EAAQ,UAAMvH,EAAQxiB,WAAd,YAA4BwiB,EAAQviB,WAElD,OACI,eAACia,GAAA,EAAD,CACIC,QAAM,EACNzb,UAAWwqB,GACXzrB,KAAMA,EACNsO,QAASA,EACTuD,WAAW,aALf,UAOI,cAAC8K,GAAA,EAAD,CAAgB/b,UAAWb,EAAQ4R,OAAnC,SACI,cAACD,GAAA,EAAD,CAAQtM,IAAKknB,EAAUpnB,IAAK6f,EAAQpT,WAExC,cAACkL,GAAA,EAAD,CACI5jB,QACI,cAACyH,EAAA,EAAD,CAAYC,QAAQ,KAAK9G,MAAM,cAA/B,SACKyyB,IAGTjxB,UACI,eAAC2P,EAAA,EAAD,CACI/J,UAAU,KACVvH,QAAQ,OACR2Y,eAAe,gBACfzR,UAAWb,EAAQwsB,MACnB/sB,QAAS,EACTrE,UAAW,EACXgO,aAAc,EAPlB,UASI,cAAC,GAAD,CACIlB,KAAM,cAAC,KAAD,IACN/F,MAAOL,EAAU,gCACjBb,GAAE,qEAAgE+jB,EAAQlkB,GAAxE,OAHN,SAKKkkB,EAAQyH,iBAEb,cAAC,GAAD,CACIvkB,KAAM,cAAC,KAAD,IACN/F,MAAOL,EACH,0CAEJb,GAAE,uEAAkE+jB,EAAQlkB,GAA1E,OALN,SAOKkkB,EAAQxQ,YAAY+F,mBAEzB,cAAC,GAAD,CACIrS,KAAM,cAAC,KAAD,IACN/F,MAAOL,EAAU,yBAA0B,CACvCwK,YAAa,IAEjBrL,GAAE,6CAAwC+jB,EAAQlkB,GAAhD,OALN,SAOKkkB,EAAQrD,aAKrB5E,yBAA0BA,SAMpCle,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnC6S,OAAQ,CACJjX,MAAO,GACPqD,OAAQ,GACRtD,aAAcqE,EAAMQ,QAAQ,GAE5B,QAAS,CACL5E,MAAO,OACPqD,OAAQ,SAGhBwuB,MAAO,CACH,OAAQ,CACJ7xB,MAAO,SACPwe,SAAU,UC/FhB4D,GAA2B,CAC7B7b,UAAW,OAGFwrB,GAA2B,SAAA3uB,GAAU,IACtCkC,EAAkBlC,EAAlBkC,KAAMsO,EAAYxQ,EAAZwQ,QACNyW,EAAY/kB,EAAZ+kB,QAEFhlB,EAAU2sB,KACV7qB,EAAYC,cAElB,OAAKijB,EAKD,eAACtI,GAAA,EAAD,CACIC,QAAM,EACNzb,UAAWwqB,GACXzrB,KAAMA,EACNsO,QAASA,EACTuD,WAAW,aALf,UAOI,cAAC8K,GAAA,EAAD,CAAgB/b,UAAWb,EAAQ4R,OAAnC,SACI,qBAAK/Q,UAAWb,EAAQomB,IAAxB,SACI,qBAAKjhB,IAAK6f,EAAQ5f,UAAWC,IAAK2f,EAAQ3iB,gBAGlD,cAACya,GAAA,EAAD,CACI5jB,QACI,cAACyH,EAAA,EAAD,CAAYC,QAAQ,KAAK9G,MAAM,cAA/B,SACKkrB,EAAQ3iB,YAGjB/G,UACI,cAAC2P,EAAA,EAAD,CACI/J,UAAU,KACVvH,QAAQ,OACR2Y,eAAe,gBACf7S,QAAS,EACTrE,UAAW,EACXgO,aAAc,EANlB,SAQI,cAAC,GAAD,CACIlB,KAAM,cAAC,KAAD,IACN/F,MAAOL,EAAU,yBAA0B,CACvCwK,YAAa,IAEjBrL,GAAE,4CAAuC+jB,EAAQlkB,GAA/C,OALN,SAOKkkB,EAAQrD,YAKrB5E,yBAA0BA,QA3C3B,MAiDT4P,GAA2B7tB,aAAW,SAAAC,GAAK,MAAK,CAClD6S,OAAQ,CACJjX,MAAO,GACPqD,OAAQ,GACRtD,aAAcqE,EAAMQ,QAAQ,IAEhC2mB,IAAK,CACD7rB,WAAY0E,EAAM1F,QAAQgB,WAAW4V,MACrC3T,UAAW,yCAEf8pB,IAAK,CACD,QAAS,CACLzrB,MAAO,a,WCzEboiB,GAA2B,CAC7B7b,UAAW,OAGF0rB,GAA0B,SAAA7uB,GAAU,IACrCkC,EAAkBlC,EAAlBkC,KAAMsO,EAAYxQ,EAAZwQ,QACRvO,EAAUnB,KACRmmB,EAAY/kB,EAAZ+kB,QAER,OAAKA,EAKD,eAACtI,GAAA,EAAD,CACIC,QAAM,EACNzb,UAAWwqB,GACXzrB,KAAMA,EACNsO,QAASA,EACTuD,WAAW,aALf,UAOI,cAAC8K,GAAA,EAAD,CAAgB/b,UAAWb,EAAQ4R,OAAnC,SACI,cAACD,GAAA,EAAD,CAAQtM,IAAK2f,EAAQ3iB,UAArB,SACI,cAAC,KAAD,CAAa/D,SAAS,cAG9B,cAACwe,GAAA,EAAD,CACI5jB,QAAS,cAAC2zB,GAAA,EAAD,CAAQzkB,MAAO4c,EAAQzH,OAAQuP,UAAQ,IAChDxxB,UAAW,cAAC,GAAD,CAAega,QAAS0P,EAAQ1P,UAE3CyH,yBAA0BA,QApB3B,MA0BTgQ,GAAyC,SAAC,GAAiB,IAAfzX,EAAc,EAAdA,QAC9C,OACI,8BACKA,EAAQ9U,QAAU,IACf,cAACG,EAAA,EAAD,CAAYC,QAAQ,UAAU9G,MAAM,cAApC,SACKwb,IAGL,cAACwN,GAAA,EAAD,CAAS7jB,MAAOqW,EAAhB,SACI,cAAC3U,EAAA,EAAD,CAAYC,QAAQ,UAAU9G,MAAM,cAApC,SACKkzB,GAAe1X,EAAS,YAQ1C,SAAS0X,GAAenxB,EAAcoxB,GAGzC,OAAIpxB,EAAK2E,QAAUysB,EACRpxB,EAGJA,EAAKusB,MAAM,EAAG6E,GAAO,MAGhC,IAAMpuB,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnC6S,OAAQ,CACJjX,MAAO,GACPqD,OAAQ,GACRtD,aAAcqE,EAAMQ,QAAQ,GAE5B,QAAS,CACL5E,MAAO,OACPqD,OAAQ,aCtDLkvB,GARuB,SAAAnvB,GAClC,OACI,cAAC,KAAD,2BAAYA,GAAZ,aACI,cAAC,GAAD,QAONovB,GAA0C,SAAApvB,GAC5C,IAAM+D,EAAYC,cACZ/B,EAAUotB,GAA2BrvB,GAFU,EAI3BsvB,eAAlBptB,EAJ6C,EAI7CA,KAAM+P,EAJuC,EAIvCA,QAEd,IAAK/P,GAAwB,IAAhBA,EAAKO,OACd,OACI,cAAC,KAAD,yBAAM8sB,OAAK,GAAKvvB,GAAhB,aACI,cAAC2e,GAAA,EAAD,UACI,cAACI,GAAA,EAAD,CACI5jB,QAAS4I,EAAU,mCAMvC,IAAMyrB,EAAcC,aAA6BvtB,EAAM6B,GAEvD,OACI,cAAC,KAAD,yBAAMwrB,OAAK,EAACzsB,UAAWb,EAAQnG,MAAUkE,GAAzC,aACKwvB,EAAYnnB,KAAI,SAAAqnB,GAAK,OAClB,eAAC,WAAD,WACI,cAACC,GAAA,EAAD,CACIC,KAAK,eACL9sB,UAAWb,EAAQ4tB,OACnBC,eAAa,EAHjB,SAKI,qCACI,cAACltB,EAAA,EAAD,CACIE,UAAWb,EAAQ8tB,YACnBltB,QAAQ,KAFZ,SAIKkB,EAAU2rB,EAAMtrB,MAAMyF,WAAY,CAC/B3C,EAAGwoB,EAAMtrB,UAGjB,cAACxB,EAAA,EAAD,CACIE,UAAWb,EAAQ+tB,YACnBntB,QAAQ,KAFZ,SAIKkB,EAAU,mBAAoB,CAC3BwK,YAAamhB,EAAMxtB,KAAKO,gBAKvCitB,EAAMxtB,KAAKmG,KAAI,SAAA4nB,GAAgB,OAC5B,cAAC,GAAD,CAEI/tB,KAAM+tB,EACNhe,QAASA,GAFJge,EAAiBltB,SA3BnB2sB,EAAMtrB,cAsC/BirB,GAA6BtuB,aAAW,SAAAC,GAAK,MAAK,CACpDlF,KAAM,CACFwT,UAAW,sBACX1L,SAAU,KAEdisB,OAAQ,CACJj0B,QAAS,OACTmY,WAAY,SACZQ,eAAgB,gBAChB7S,QAASV,EAAMQ,QAAQ,EAAG,IAE9BuuB,YAAa,CACT1B,cAAe,cAEnB2B,YAAa,CACT3B,cAAe,iBAIjB6B,GAAkC,SAAAlwB,GAAU,IACtCkC,EAA2BlC,EAA3BkC,KAAM+P,EAAqBjS,EAArBiS,QAAYpM,EADmB,aACV7F,EADU,oBAG7C,IAAKkC,EACD,OAAO,KAGX,OAAQA,EAAKhH,MACT,IAAK,YACD,OAAO,cAAC,GAAD,2BAAsB2K,GAAtB,IAA4B3D,KAAMA,EAAMsO,QAASyB,KAC5D,IAAK,WACD,OAAO,cAAC,GAAD,2BAAqBpM,GAArB,IAA2B3D,KAAMA,EAAMsO,QAASyB,KAC3D,IAAK,WACD,OAAO,cAAC,GAAD,2BAAqBpM,GAArB,IAA2B3D,KAAMA,EAAMsO,QAASyB,KAC3D,IAAK,UACD,OAAO,cAAC,GAAD,2BAAoBpM,GAApB,IAA0B3D,KAAMA,EAAMsO,QAASyB,KAC1D,QACI,OAAO,O,sECnIJ,OAA0B,iDCUnCnR,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnClF,KAAM,CACFQ,WAC2B,SAAvB0E,EAAM1F,QAAQJ,KACR,UADN,mHAGJa,MAAO,OACP2F,QAAS,GACTrE,UAAW2D,EAAMQ,QAAQ,GACzB6J,aAAc,OAElB8kB,MAAO,CACH7zB,WAAW,OAAD,OAAS8zB,GAAT,uBACVlZ,WAAY,QAEhBpK,QAAQ,eACH9L,EAAMW,YAAYuH,KAAK,MAAQ,CAC5BxH,QAAS,EACToR,SAAU,OACV,MAAO,CACHzV,UAAW,MACX6Z,WAAY,cACZjO,YAAa,aAmDdonB,GA7CK,WAChB,IAAMtsB,EAAYC,cACZ/B,EAAUnB,KAChB,OACI,cAACiJ,GAAA,EAAD,CAAMjH,UAAWb,EAAQnG,KAAzB,SACI,eAACoR,EAAA,EAAD,CAAKtR,QAAQ,OAAb,UACI,eAACsR,EAAA,EAAD,CAAK/L,KAAK,IAAV,UACI,cAACyB,EAAA,EAAD,CAAYC,QAAQ,KAAKM,UAAU,KAAK6M,cAAY,EAApD,SACKjM,EAAU,iCAEf,cAACmJ,EAAA,EAAD,CAAKtJ,SAAS,OAAd,SACI,cAAChB,EAAA,EAAD,CAAYC,QAAQ,QAAQM,UAAU,IAAI6M,cAAY,EAAtD,SACKjM,EAAU,sCAGnB,eAACspB,GAAA,EAAD,CAAavqB,UAAWb,EAAQ6K,QAAhC,UACI,cAAC,KAAD,CACIjK,QAAQ,YACRytB,KAAK,UACLC,UAAW,cAAC,IAAD,IAHf,SAKKxsB,EAAU,uCAEf,cAAC,KAAD,CACIlB,QAAQ,YACRytB,KAAK,sCACLC,UAAW,cAAC,KAAD,IAHf,SAKKxsB,EAAU,2CAKvB,cAACmJ,EAAA,EAAD,CACItR,QAAS,CAAE6pB,GAAI,OAAQC,GAAI,OAAQH,GAAI,SACvCziB,UAAWb,EAAQkuB,MACnBvzB,MAAM,OACNqD,OAAO,MACPqB,SAAS,iBC5DvBR,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnCoT,KAAM,CACF4X,UAAW,GACX7qB,KAAM,IACN,MAAO,CACH8c,eAAgB,OAChBliB,MAAO,YAGfX,KAAM,CACFkG,SAAU,UACVI,QAAS,GACTpF,WAAW,OAAD,OACiB,SAAvB0E,EAAM1F,QAAQJ,KC7BX,6+CCAA,6+CF4BG,eAGVU,QAAS,OACT2Y,eAAgB,gBAChBR,WAAY,SACZ,UAAW,CACPhY,MAA8B,SAAvBiF,EAAM1F,QAAQJ,KAAkB,UAAY,YAG3DgG,MAAO,OAgCIsvB,GA7BiB,SAAAxwB,GAAU,IAC9BmK,EAAwCnK,EAAxCmK,KAAMjJ,EAAkClB,EAAlCkB,MAAOsG,EAA2BxH,EAA3BwH,SAAUtE,EAAiBlD,EAAjBkD,GAAI+B,EAAajF,EAAbiF,SAC7BhD,EAAUnB,GAAUd,GAC1B,OACI,eAAC+J,GAAA,EAAD,CAAMjH,UAAWb,EAAQmS,KAAzB,UACI,cAAC,IAAD,CAAMlR,GAAIA,EAAV,SACI,sBAAKJ,UAAWb,EAAQ7G,KAAxB,UACI,cAAC8R,EAAA,EAAD,CAAKtQ,MAAM,MAAMkG,UAAU,OAA3B,SACK2tB,wBAActmB,EAAM,CAAE5J,SAAU,YAErC,eAAC2M,EAAA,EAAD,CAAKlH,UAAU,QAAf,UACI,cAACpD,EAAA,EAAD,CACIE,UAAWb,EAAQf,MACnBnF,MAAM,gBAFV,SAIKmF,IAEL,cAAC0B,EAAA,EAAD,CAAYC,QAAQ,KAAKM,UAAU,KAAnC,SACKqE,GAAY,mBAK5BvC,GAAY,cAAC4V,GAAA,EAAD,IACZ5V,MG1CEyrB,GAZmB,SAAC,GAAe,IAAbrmB,EAAY,EAAZA,MAC3BtG,EAAYC,cAClB,OACI,cAAC,GAAD,CACId,GAAG,YACHiH,KAAMwmB,KACNzvB,MAAO6C,EAAU,iCACjByD,SAAU6C,KCKPumB,GAZgB,SAAC,GAAe,IAAbvmB,EAAY,EAAZA,MACxBtG,EAAYC,cAClB,OACI,cAAC,GAAD,CACId,GAAG,YACHiH,KAAM0mB,KACN3vB,MAAO6C,EAAU,4BACjByD,SAAU6C,K,WCEhBvJ,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnClF,KAAM,CACFqF,KAAM,GAEV2vB,KAAM,CACF7nB,YAAa,MACblN,MAAOiF,EAAM1F,QAAQwC,KAAK3C,aA2DnB41B,GAvDkB,SAAC,GAAqC,IAAD,IAAlCrN,cAAkC,MAAzB,GAAyB,MAArBsN,iBAAqB,MAAT,GAAS,EAC5D/uB,EAAUnB,KACViD,EAAYC,cAClB,OACI,eAAC+F,GAAA,EAAD,CAAMjH,UAAWb,EAAQnG,KAAzB,UACI,cAAC8Y,GAAA,EAAD,CAAY1T,MAAO6C,EAAU,kCAC7B,cAAC,KAAD,CAAMwrB,OAAO,EAAb,SACK7L,EAAOrb,KAAI,SAAAhE,GAAM,OACd,eAACsa,GAAA,EAAD,CAEIC,QAAM,EACNzb,UAAWC,IACXF,GAAE,oBAAemB,EAAOtB,IAJ5B,UAMI,cAAC8b,GAAA,EAAD,UACKmS,EAAU3sB,EAAOof,aACd,cAAC7P,GAAA,EAAD,CACIxM,IAAG,UACC4pB,EAAU3sB,EAAOof,aAAa5P,OAD/B,iBAKP,cAACD,GAAA,EAAD,MAGR,cAACmL,GAAA,EAAD,CACI5jB,QAAS,IAAIya,KAAKvR,EAAO8f,MAAM3H,eAC3B,SAEJjf,UAAWwG,EAAU,4BAA6B,CAC9CwK,YAAalK,EAAOoU,OAAOhW,OAC3BwuB,SAAU5sB,EAAOoU,OAAOhW,OACxByuB,cAAeF,EAAU3sB,EAAOof,aAAjB,UAELuN,EAAU3sB,EAAOof,aACZhf,WAHA,YAKLusB,EAAU3sB,EAAOof,aACZ/e,WAET,OAGd,cAACysB,GAAA,EAAD,UACI,uBAAMruB,UAAWb,EAAQ6uB,KAAzB,UACKzsB,EAAOgN,MADZ,WAnCChN,EAAOtB,aCf9BjC,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnC6S,OAAQ,CACJvX,WAAY0E,EAAM1F,QAAQgB,WAAW4V,OAEzCkf,aAAc,CACV7hB,UAAW,SACXtP,OAAQ,MACRrE,QAAS,cACTy1B,gBAAiB,EACjBC,gBAAiB,gBAiDVC,GA7CmB,SAAC,GAA0C,IAAD,IAAvC3N,eAAuC,MAA7B,GAA6B,MAAzBoN,iBAAyB,MAAb,GAAa,EAATQ,EAAS,EAATA,GACzDvvB,EAAUnB,KACViD,EAAYC,cAClB,OACI,cAAC,GAAD,CACId,GAAG,WACHiH,KAAMsnB,KACNvwB,MAAO6C,EAAU,iCACjByD,SAAUgqB,EAJd,SAMI,cAAC,KAAD,UACK5N,EAAQvb,KAAI,SAAChE,GAAD,OACT,eAACsa,GAAA,EAAD,CAEIC,QAAM,EACNzb,UAAWC,IACXF,GAAE,mBAAcmB,EAAOtB,IACvBgR,WAAW,aALf,UAOI,cAAC8K,GAAA,EAAD,UACKmS,EAAU3sB,EAAOof,aACd,cAAC7P,GAAA,EAAD,CACIxM,IAAG,UACC4pB,EAAU3sB,EAAOof,aAAa5P,OAD/B,eAGH/Q,UAAWb,EAAQ4R,SAGvB,cAACD,GAAA,EAAD,MAIR,cAACmL,GAAA,EAAD,CACI5jB,QAAS,cAAC,GAAD,CAAiBkJ,OAAQA,IAClC9G,UAAW8G,EAAOkT,QAClBzU,UAAWb,EAAQmvB,aACnBhxB,MAAO,CAAEzD,aAAc,OAvBtB0H,EAAOtB,Y,qBCsBrB2uB,GA1DM,WACjB,IAAM3tB,EAAYC,cACZ2tB,EAAY/e,mBAAQ,WACtB,IAAMuR,EAAO,IAAIvO,KAMjB,OALAuO,EAAKyN,QAAQzN,EAAK0N,UAAY,IAC9B1N,EAAK2N,SAAS,GACd3N,EAAK4N,WAAW,GAChB5N,EAAK6N,WAAW,GAChB7N,EAAK8N,gBAAgB,GACd9N,IACR,IAVyC,EAYT3I,aAAkB,CACjDtgB,KAAM,UACNkH,SAAU,YACVC,QAAS,CACLC,OAAQ,CACJ4vB,aAAa,EACbC,eAAgBR,EAAUlc,eAE9B5J,KAAM,CAAEC,MAAO,aAAcC,MAAO,QACpCyd,WAAY,CAAEhG,KAAM,EAAG7V,QAAS,QAThC3E,EAZoC,EAYpCA,OAAcopB,EAZsB,EAY5BlwB,KAahB,IAAK8G,EAAQ,OAAO,KAEpB,IAAMwoB,EAAKY,EAAWA,EAASrW,QAAO,SAACyV,GAAD,QAAkBA,IAAI,GAAK,EACjE,OACI,cAAC,GAAD,CACItuB,GAAG,aACHiH,KAAMkoB,KACNnxB,MAAO6C,EAAU,+BACjByD,SAAUgqB,EAJd,SAMI,cAAC,KAAD,UACKY,EACKA,EAAS/pB,KAAI,SAAChE,GAAD,OACT,eAACsa,GAAA,EAAD,CACIC,QAAM,EACN1b,GAAE,qBAAgBmB,EAAOtB,IACzBI,UAAWC,IAHf,UAMI,cAACyb,GAAA,EAAD,UACI,cAACjL,GAAA,EAAD,CAAQxM,IAAG,UAAK/C,EAAOwP,OAAZ,mBAEf,cAACkL,GAAA,EAAD,CACI5jB,QAAO,UAAKkJ,EAAOI,WAAZ,YAA0BJ,EAAOK,eANvCL,EAAOtB,OAUpB,U,UClDhBuvB,GAAU,IAAI1c,MAAK,IAAIA,MAAO2c,gBAAgBC,UAE9CC,GAAgBzrB,MAAMC,KACxB,CAAExE,OAAQ,KACV,SAACyE,EAAGuY,GAAJ,OAAU6S,GAHC,MAGS7S,KACtBiT,UACIf,GAAY,IAAI/b,KACtB+b,GAAUC,QAAQD,GAAUE,UAAY,IAExC,IAAMc,GAAgB,SAACxO,GAAD,OAClB,IAAIvO,KAAKuO,GAAMqC,sBAcboM,GAAmB,SAAClP,GACtB,IAAMmP,EAbmB,SAACnP,GAAD,OACzBA,EACKphB,QAAO,SAACyJ,GAAD,MAAmC,cAAjBA,EAAMvH,UAC/BuX,QAAO,SAAC+W,EAAKC,GACV,IAAMC,EAAM,IAAIpd,KAAK,IAAIA,KAAKmd,EAAK5O,MAAMoO,gBAAgBC,UAKzD,OAJKM,EAAIE,KACLF,EAAIE,GAAO,GAEfF,EAAIE,IAAQD,EAAK1hB,MACVyhB,IACR,IAGiBG,CAAqBvP,GAC7C,OAAO+O,GAAcpqB,KAAI,SAAA8b,GAAI,MAAK,CAC9BA,OACA9S,MAAOwhB,EAAgB1O,IAAS,OAkDzB+O,GA9CI,SAAC,GAA2D,IAAzDxP,EAAwD,EAAxDA,OACZ3f,EAAYC,cAClB,OAAK0f,EAGD,eAAC3Z,GAAA,EAAD,WACI,cAAC6K,GAAA,EAAD,CAAY1T,MAAO6C,EAAU,iCAC7B,cAACiG,EAAA,EAAD,UACI,cAAC,KAAD,CAAqBpN,MAAM,OAAOqD,OAAQ,IAA1C,SACI,eAAC,KAAD,CAAUiC,KAAM0wB,GAAiBlP,GAAjC,UACI,cAAC,KAAD,CACIyP,QAAQ,OACR1vB,KAAK,OACLvI,KAAK,SACLk4B,MAAM,OACNC,OAAQ,CAAC1B,GAAUa,WAAW,IAAI5c,MAAO4c,WACzCc,cAAeX,GACfY,UAAQ,IAEZ,cAAC,KAAD,CAAOJ,QAAQ,QAAQ1vB,KAAK,UAAU+vB,KAAK,WAC3C,cAAC,KAAD,CAAeC,gBAAgB,QAC/B,cAAC,KAAD,CACIC,OAAQ,CAAED,gBAAiB,OAC3BE,UAAW,SAACtpB,GAAD,OACP,IAAIupB,KAAKC,kBAAahrB,EAAW,CAC7BzI,MAAO,WACPwH,SAAU,QACXksB,OAAOzpB,IAEd0pB,eAAgB,SAAC3vB,GAAD,OACZuuB,GAAcvuB,MAGtB,cAAC,KAAD,CAAK+uB,QAAQ,QAAQvyB,KAAK,sBA/B1B,MCTlBymB,GAAS,CACXlmB,KAAM,CAAEvF,QAAS,QACjBo4B,WAAY,CAAEp4B,QAAS,OAAQyY,cAAe,UAC9C4f,QAAS,CAAE9yB,KAAM,EAAG8H,YAAa,SACjCirB,SAAU,CAAE/yB,KAAM,EAAG+V,WAAY,SACjCid,UAAW,CAAE92B,UAAW,MAAOgO,aAAc,QAG3C+oB,GAAS,kBAAoB,sBAAMh0B,MAAO,CAAExD,MAAO,UACnDy3B,GAAiB,kBAAoB,sBAAMj0B,MAAO,CAAEH,OAAQ,UChDrDq0B,GDkDK,WAAqB,IAAD,EACRxjB,mBAAgB,IADR,mBAC3B6I,EAD2B,KACpBC,EADoB,KAE5B+H,EAAU4S,eACVC,EAAeC,eACf1a,EAAWvM,aAAc,SAACxM,GAAD,OAC3BA,EAAMW,YAAYuH,KAAK,SAErBkD,EAAUoB,aAAc,SAACxM,GAAD,OAC1BA,EAAMW,YAAYuH,KAAK,SAGrBwrB,EAAchS,sBAAW,wBAAC,uCAAAiS,EAAA,6DACtBhD,EAAY,IAAI/b,MACZgc,QAAQD,EAAUE,UAAY,IAFZ,SAGS2C,EAAaI,QAC9C,WACA,CACItyB,OAAQ,CAAEuyB,SAAUlD,EAAUlc,eAC9B5J,KAAM,CAAEC,MAAO,OAAQC,MAAO,QAC9Byd,WAAY,CAAEhG,KAAM,EAAG7V,QAAS,MARZ,uBAGdmnB,EAHc,EAGpB5yB,KAQF6yB,EAAeD,EAChBxyB,QAAO,SAAAyJ,GAAK,MAAqB,cAAjBA,EAAMvH,UACtBuX,QACG,SAAC0S,EAAmB1iB,GAQhB,MAPqB,cAAjBA,EAAMvH,SACNiqB,EAAMuG,SAAWjpB,EAAMsF,MACvBod,EAAMwG,eAEW,YAAjBlpB,EAAMvH,QACNiqB,EAAMyG,cAAcvS,KAAK5W,GAEtB0iB,IAEX,CACIuG,QAAS,EACTC,YAAa,EACbC,cAAe,KAG3Btb,GAAS,SAAAD,GAAK,kCACPA,GADO,IAEVmb,eACAE,QAASD,EAAaC,QAAQxY,oBAAe3T,EAAW,CACpDzI,MAAO,WACPwH,SAAU,MACVutB,sBAAuB,EACvBC,sBAAuB,IAE3BH,YAAaF,EAAaE,YAC1BC,cAAeH,EAAaG,mBAxCJ,UA0CMV,EAAaa,QAC3C,YACA,CACIttB,IAAKgtB,EAAaG,cAAc7sB,KAC5B,SAAC0D,GAAD,OAAkBA,EAAM0X,iBA9CR,iBA0CduN,EA1Cc,EA0CpB9uB,KAQR0X,GAAS,SAAAD,GAAK,kCACPA,GADO,IAEV2b,uBAAwBtE,EAAUjV,QAC9B,SAACC,EAAoBzF,GAEjB,OADAyF,EAAKzF,EAASxT,IAAMwT,EACbyF,IAEX,SAzDoB,4CA4D7B,CAACwY,IAEEe,EAAe7S,sBAAW,wBAAC,uCAAAiS,EAAA,sEACGH,EAAaI,QACzC,UACA,CACItyB,OAAQ,CAAEkC,OAAQ,WAClBqH,KAAM,CAAEC,MAAO,OAAQC,MAAO,QAC9Byd,WAAY,CAAEhG,KAAM,EAAG7V,QAAS,OANX,uBACfiW,EADe,EACrB1hB,KAQFszB,EAAmB5R,EAAQ7H,QAAO,SAACyV,GAAD,QAAkBA,IAAI,GACxDiE,EAAiB7R,EAAQyG,MAAM,EAAGnf,KAAKwqB,IAAI,GAAI9R,EAAQnhB,SAC7DmX,GAAS,SAAAD,GAAK,kCAAUA,GAAV,IAAiB8b,iBAAgBD,wBAXlB,SAYKhB,EAAaa,QAC3C,YACA,CACIttB,IAAK0tB,EAAeptB,KAAI,SAACstB,GAAD,OAAoBA,EAAOlS,iBAf9B,gBAYfuN,EAZe,EAYrB9uB,KAMR0X,GAAS,SAAAD,GAAK,kCACPA,GADO,IAEVic,wBAAyB5E,EAAUjV,QAC/B,SAACC,EAAoBzF,GAEjB,OADAyF,EAAKzF,EAASxT,IAAMwT,EACbyF,IAEX,SAzBqB,4CA4B9B,CAACwY,IAEJ3vB,qBAAU,WACN6vB,IACAa,MACD,CAAC5T,IA1G8B,IA6G9BsT,EAQAtb,EARAsb,YACAO,EAOA7b,EAPA6b,iBACAN,EAMAvb,EANAub,cACAI,EAKA3b,EALA2b,uBACAG,EAIA9b,EAJA8b,eACAG,EAGAjc,EAHAic,wBACAZ,EAEArb,EAFAqb,QACAF,EACAnb,EADAmb,aAEJ,OAAO/a,EACH,8BACI,sBAAK3Z,MAAOinB,GAAO2M,WAAnB,UACI,cAAC,GAAD,IACA,cAAC,GAAD,CAAgB3pB,MAAO2qB,IACvB,cAAC,GAAD,IACA,cAAC,GAAD,CAAa3qB,MAAO4qB,IACpB,cAAC,GAAD,IACA,cAAC,GAAD,CACIvR,OAAQwR,EACRlE,UAAWsE,SAIvBlpB,EACA,sBAAKhM,MAAOinB,GAAO2M,WAAnB,UACI,qBAAK5zB,MAAOinB,GAAO8M,UAAnB,SACI,cAAC,GAAD,MAEJ,sBAAK/zB,MAAOinB,GAAOlmB,KAAnB,UACI,cAAC,GAAD,CAAgBkJ,MAAO2qB,IACvB,cAAC,GAAD,IACA,cAAC,GAAD,CAAa3qB,MAAO4qB,OAExB,qBAAK70B,MAAOinB,GAAO8M,UAAnB,SACI,cAAC,GAAD,CAAYzQ,OAAQoR,MAExB,qBAAK10B,MAAOinB,GAAO8M,UAAnB,SACI,cAAC,GAAD,CACIzQ,OAAQwR,EACRlE,UAAWsE,SAKvB,qCACI,cAAC,GAAD,IACA,sBAAKl1B,MAAOinB,GAAOlmB,KAAnB,UACI,sBAAKf,MAAOinB,GAAO4M,QAAnB,UACI,sBAAK7zB,MAAOinB,GAAOlmB,KAAnB,UACI,cAAC,GAAD,CAAgBkJ,MAAO2qB,IACvB,cAAC,GAAD,IACA,cAAC,GAAD,CAAa3qB,MAAO4qB,OAExB,qBAAK70B,MAAOinB,GAAO8M,UAAnB,SACI,cAAC,GAAD,CAAYzQ,OAAQoR,MAExB,qBAAK10B,MAAOinB,GAAO8M,UAAnB,SACI,cAAC,GAAD,CACIzQ,OAAQwR,EACRlE,UAAWsE,SAIvB,qBAAKl1B,MAAOinB,GAAO6M,SAAnB,SACI,sBAAK9zB,MAAOinB,GAAOlmB,KAAnB,UACI,cAAC,GAAD,CACIqwB,GAAIgE,EACJ5R,QAAS6R,EACTzE,UAAW4E,IAEf,cAAC,GAAD,IACA,cAAC,GAAD,gB,UE/NlB90B,GAAYC,YAAW,CACzBoJ,KAAM,CAAExN,aAAc,SACtBM,KAAM,CACFrB,QAAS,cACTmY,WAAY,YA4BL8hB,GAxB6C,SAAC,GAAiB,IAAf1iB,EAAc,EAAdA,QACrDpP,EAAYC,cACZ/B,EAAUnB,KAChB,OACI,eAAC,KAAD,CACIiR,KAAK,QACLhW,MAAM,UACNoH,UAAWC,IACXF,GAAI,CACA4yB,SAAU,aACVC,OAAQrX,qBAAU,CACd8E,KAAM,EACN7V,QAAS,GACTrL,OAAQmc,KAAKC,UAAU,CAAEzL,OAAQE,OAGzCrQ,UAAWb,EAAQhF,KAZvB,UAcI,cAAC,GAASkN,KAAV,CAAerH,UAAWb,EAAQkI,OACjCpG,EAAU,2CCtBjBjD,GAAYC,YAAW,CACzBjF,KAAM,CACFuB,UAAW,MAmCJ24B,GA/BM,WACjB,IAAMjyB,EAAYC,cACZ/B,EAAUnB,KAEhB,OADAyM,YAAqB,qBAEjB,eAACxD,GAAA,EAAD,CAAMjH,UAAWb,EAAQnG,KAAzB,UACI,cAACmR,GAAA,EAAD,CAAO/L,MAAO6C,EAAU,6BACxB,eAACoY,GAAA,EAAD,CAAOpK,KAAK,QAAZ,UACI,cAACqK,GAAA,EAAD,UACI,eAACC,GAAA,EAAD,WACI,cAACC,GAAA,EAAD,UACKvY,EAAU,oCAEf,cAACuY,GAAA,EAAD,SAGR,cAACC,GAAA,EAAD,UACKnJ,GAAS/K,KAAI,SAAA8K,GAAO,OACjB,eAACkJ,GAAA,EAAD,WACI,cAACC,GAAA,EAAD,UAAYvY,EAAUoP,EAAQ1P,QAC9B,cAAC6Y,GAAA,EAAD,UACI,cAAC,GAAD,CAAwBnJ,QAASA,EAAQpQ,SAHlCoQ,EAAQpQ,gB,UCpBhCkzB,GAdU,WAAO,IACpBC,EAASC,eAATD,KADmB,EAEME,eAFN,mBAElBC,EAFkB,KAElBA,QAAaC,EAFK,KAELA,MAStB,OAPAzxB,qBAAU,YACFyxB,GAAUD,GACVC,EAAMJ,MAKPG,EAAU,cAAC,KAAD,CAAUnzB,GAAG,MAAS,MCV5B,IACX,cAAC,KAAD,CAAsBqoB,OAAK,EAAC3I,KAAK,YAAYpK,OAAQ,kBAAM,cAAC,GAAD,MAAhD,YACX,cAAC,KAAD,CAEIoK,KAAK,eACLpK,OAAQ,kBAAM,cAAC,GAAD,MAFV,kB,oBCyPG+d,GAtPoCC,aAC/CC,KACA,CACI,UAAW,CACP/Y,OAAQ,CACJgZ,SAAU,+BAGlB,YAAa,CACT5xB,OAAO,wCAEX6xB,IAAK,CACDZ,OAAQ,SACRa,cAAe,gBACfC,SAAU,WACV71B,MAAO,CACHyC,KAAM,QACNjG,MAAO,QACPC,KAAM,QAEV6E,OAAQ,cACRw0B,UAAW,CACPC,gBAAiB,kBACjBC,cAAe,yBACfC,WAAY,aACZC,gBAAiB,kBACjBC,cAAe,gBACfzI,eAAgB,iBAChB3iB,MAAO,CACHqrB,MACI,6EAERC,QAAS,CACLn2B,MAAO,qDACPsG,SACI,kNACJ8vB,UAAW,sCACXC,YAAa,qBAGrB3L,KAAM,CACFphB,MAAO,QACPgtB,QAAS,UACTC,SAAU,WACVN,cAAe,gBACfO,iBAAkB,oBAEtB9T,QAAS,CACL+T,SAAU,WACVC,SAAU,WACVC,QAAS,YAGjB1zB,UAAW,CACP6sB,UAAW,CACPvtB,KAAM,0BACNgJ,OAAQ,CACJqrB,SAAU,SACVC,WAAY,aACZ9kB,OAAQ,WACRuD,UAAW,YACXjB,cAAe,gBACf9R,KAAM,OACNgT,YAAa,cACbe,SAAU,WACVC,iBAAkB,mBAClBL,QAAS,UACT4gB,SAAU,WACV1gB,KAAM,OACN7S,WAAY,aACZyR,eAAgB,iBAChBgc,YAAa,cACbxtB,UAAW,YACXgS,gBAAiB,kBACjBW,QAAS,cACTvC,YAAa,UAEjBpH,QAAS,CACLuqB,aAAc,eACdC,MAAO,QACPC,UAAW,YACXC,UAAW,YACXC,WAAY,aACZC,WAAY,aACZC,QAAS,UACTrG,YAAa,cACbhc,eAAgB,iBAChBwZ,MAAO,WAEX8I,YAAa,CACTzyB,SAAU,WACVqR,QAAS,UACTqX,MAAO,QACPlM,QAAS,UACT/K,SAAU,WACVihB,gBAAiB,mBAErBjV,KAAM,CACFkV,OAAQ,mBAEZ/gB,OAAQ,CACJghB,kBACI,+DAGZb,SAAU,CACNr0B,KAAM,oBACNm1B,OAAQ,qCACR13B,MAAO,qBACPuL,OAAQ,CACJgM,OAAQ,CACJogB,SAAU,WACVv0B,UAAW,YACXmY,SAAU,WACVqc,IAAK,MACLjc,SAAU,WACVxL,MAAO,QACP0nB,WAAY,cAEhBtV,YAAa,WACboR,SAAU,eACVmE,SAAU,gBACV/H,SAAU,cACV3sB,UAAW,kBACX20B,SAAU,WACVz0B,OAAQ,SACR00B,UAAW,eAGnBzS,SAAU,CACNhjB,KAAM,wBACNgJ,OAAQ,CACJ0X,KAAM,eACNV,YAAa,WACb0V,WAAY,QACZtE,SAAU,eACVmE,SAAU,gBACVE,UAAW,aACX9hB,QAAS,YAGjByE,SAAU,CACNpY,KAAM,sBACNgJ,OAAQ,CACJ1J,GAAI,aACJ6G,YAAa,WACbwvB,WAAY,aACZC,WAAY,aACZp5B,OAAQ,SACRmnB,MAAO,QACP9gB,MAAO,QACPhC,UAAW,YACXkG,MAAO,QACP8uB,UAAW,YACX3uB,MAAO,QACPtD,UAAW,YACXkyB,UAAW,YACXC,UAAW,YACX58B,MAAO,SAEX0c,KAAM,CACF8N,MAAO,QACPY,QAAS,UACTyR,YAAa,cACb7V,QAAS,WAEblW,QAAS,CACLgsB,WAAY,aACZ/uB,MAAO,QACPgvB,SAAU,eACVC,UAAW,cACXC,cAAe,gBACfC,aAAc,kBACdtvB,MAAO,QACPuvB,aAAc,eACdC,gBAAiB,UACjBC,YAAa,MACbC,WAAY,eAGpBR,WAAY,CACRj2B,KAAM,2BACNgJ,OAAQ,CACJoP,SAAU,YAEd/O,QAAS,CACLqtB,eAAgB,kBAGxBvW,QAAS,CACLngB,KAAM,sBACNm1B,OAAQ,uCACRwB,mBAAoB,mBACpBC,OAAQ,gBACR5tB,OAAQ,CACJgX,YAAa,WACb0V,WAAY,QACZzd,WAAY,UACZmZ,SAAU,eACVmE,SAAU,gBACV7U,KAAM,OACN5M,QAAS,UACTiI,OAAQ,UAEZ9B,OAAQ,CACJ4c,OAAQ,SACRz6B,OAAQ,UAEZ06B,aAAc,CACVC,iBAAkB,kBAClBC,eAAgB,6BAChBC,iBAAkB,kBAClBC,eAAgB,+BAGxBvnB,SAAU,CACN3P,KAAM,WACNgJ,OAAQ,CACJukB,UAAW,YACXvtB,KAAM,QAEVvB,KAAM,CACF04B,WAAY,aACZC,UAAW,YACXC,aAAc,eACdC,QAAS,UACTC,QAAS,UACTC,SAAU,aAGlBzP,OAAQ,CACJ/nB,KAAM,SACNgJ,OAAQ,CACJ6K,KAAM,OACN4jB,QAAS,UACT9jB,QAAS,UACT+jB,WAAY,eAGpBnzB,MAAO,CACHozB,QAAS,kC,UCYVC,GA5PmC7E,aAC9C8E,KACA,CACI,UAAW,CACP5d,OAAQ,CACJgZ,SAAU,yCAGlB,YAAa,CACT5xB,OAAO,kDAEX6xB,IAAK,CACDZ,OAAQ,aACRa,cAAe,gBACfC,SAAU,SACV71B,MAAO,CACHyC,KAAM,QACNjG,MAAO,QACPC,KAAM,UAEV6E,OAAQ,gBACRw0B,UAAW,CACPC,gBAAiB,mBACjBC,cAAe,iCACfC,WAAY,sBACZC,gBAAiB,+BACjBC,cAAe,mBACfzI,eAAgB,yBAChB3iB,MAAO,CACHqrB,MACI,kFAERC,QAAS,CACLn2B,MACI,6DACJsG,SACI,gTACJ8vB,UAAW,qCACXC,YAAa,0BAGrB3L,KAAM,CACFphB,MAAO,SACPgtB,QAAS,YACTC,SAAU,WACVN,cAAe,mBACfO,iBAAkB,mBAEtB9T,QAAS,CACL+T,SAAU,cACVC,SAAU,aACVC,QAAS,eAGjB1zB,UAAW,CACP6sB,UAAW,CACPvtB,KAAM,sBACNgJ,OAAQ,CACJ2K,QAAS,MACT4gB,SAAU,eACV1gB,KAAM,QACNwgB,SAAU,YACVrzB,WAAY,YACZszB,WAAY,qBACZ9kB,OAAQ,WACRiD,eAAgB,+BAChBgc,YAAa,gBACbxtB,UAAW,MACX8R,UAAW,QACXjB,cAAe,YACfmB,gBAAiB,gBACjBjT,KAAM,MACNgT,YAAa,cACbY,QAAS,cACTG,SAAU,eACVC,iBAAkB,4BAClB3C,YAAa,aAEjBpH,QAAS,CACLuqB,aAAc,qBACdC,MAAO,cACPC,UAAW,gBACXC,UAAW,yBACXC,WAAY,aACZC,WAAY,kBACZC,QAAS,cACTrG,YAAa,2BACbhc,eAAgB,uBAChBwZ,MAAO,WAEX8I,YAAa,CACTzyB,SAAU,cACVqR,QAAS,UACTqX,MAAO,eACPlM,QAAS,aACT/K,SAAU,eACVihB,gBAAiB,2BAErBjV,KAAM,CACFkV,OAAQ,uBAEZ/gB,OAAQ,CACJghB,kBACI,sEAGZb,SAAU,CACNr0B,KAAM,0BACNm1B,OAAQ,2CACR13B,MAAO,6BACPuL,OAAQ,CACJgM,OAAQ,CACJogB,SAAU,qBACVv0B,UAAW,kBACXmY,SAAU,cACVqc,IAAK,aACLjc,SAAU,MACVxL,MAAO,QACP0nB,WAAY,QAEhBtV,YAAa,SACboR,SAAU,gBACVmE,SAAU,eACV/H,SAAU,cACV3sB,UAAW,kBACX20B,SAAU,aACVz0B,OAAQ,OACR00B,UAAW,oBAGnBzS,SAAU,CACNhjB,KAAM,wBACNgJ,OAAQ,CACJ1J,GAAI,YACJohB,KAAM,kBACNV,YAAa,SACb0V,WAAY,WACZtE,SAAU,gBACVmE,SAAU,eACV5hB,QAAS,UACTuF,eAAgB,aAChBC,cAAe,qBACf2e,MAAO,QAGf1f,SAAU,CACNpY,KAAM,sBACNgJ,OAAQ,CACJ1J,GAAI,cACJ6G,YAAa,eACbwvB,WAAY,eACZC,WAAY,eACZp5B,OAAQ,UACRmnB,MAAO,QACP9gB,MAAO,OACPhC,UAAW,kBACXkG,MAAO,SACP8uB,UAAW,eACX3uB,MAAO,QACPtD,UAAW,YACXkyB,UAAW,eACXC,UAAW,eACX58B,MAAO,WAEX0c,KAAM,CACF8N,MAAO,QACPY,QAAS,aACTyR,YAAa,cACb7V,QAAS,gBAEblW,QAAS,CACLgsB,WAAY,gBACZ/uB,MAAO,QACPgvB,SAAU,aACVC,UAAW,kBACXC,cAAe,oBACfC,aAAc,uBACdtvB,MAAO,SACPuvB,aAAc,oBACdC,gBAAiB,WACjBC,YAAa,YACbC,WAAY,iBAGpBR,WAAY,CACRj2B,KAAM,kCACNgJ,OAAQ,CACJhJ,KAAM,MACNoY,SAAU,YAEd/O,QAAS,CACLqtB,eAAgB,uBAGxBvW,QAAS,CACLngB,KAAM,gCACNm1B,OAAQ,iDACRwB,mBAAoB,kBACpBC,OAAQ,2BACR5tB,OAAQ,CACJgX,YAAa,SACb0V,WAAY,WACZzd,WAAY,UACZmZ,SAAU,mBACVmE,SAAU,kBACV7U,KAAM,OACN5M,QAAS,QACT/S,OAAQ,SACRgb,OAAQ,cAEZ9B,OAAQ,CACJ4c,OAAQ,WACRz6B,OAAQ,WAEZ06B,aAAc,CACVC,iBAAkB,0BAClBC,eAAgB,sCAChBC,iBAAkB,wBAClBC,eAAgB,sCAGxBvnB,SAAU,CACN3P,KAAM,WACNgJ,OAAQ,CACJukB,UAAW,UACXvtB,KAAM,OAEVvB,KAAM,CACF04B,WAAY,YACZC,UAAW,iBACXC,aAAc,gBACdC,QAAS,cACTC,QAAS,eACTC,SAAU,iBAGlBzP,OAAQ,CACJ/nB,KAAM,WACNgJ,OAAQ,CACJ6K,KAAM,QACN4jB,QAAS,OACT9jB,QAAS,UACT+jB,WAAY,cAGpBnzB,MAAO,CACHozB,QAAS,wC,8HCnPnBt6B,GAAYC,YAAW,CACzBjF,KAAM,CACF8H,SAAU,IACV8vB,OAAQ,UACRxtB,OAAQ,GACRkZ,QAAS,GACT6C,WAAY,2BACZ,yBAA0B,CACtB7C,QAAS,IAGjBoc,QAAS,CACLpc,QAAS,IAEb+Q,MAAO,CACHlwB,OAAQ,KAEZw7B,YAAa,CACTvkB,WAAY,QAEhB+P,QAAS,CACLhmB,SAAU,WACV+qB,UAAW,KAEf0P,QAAS,CACLz6B,SAAU,WACVa,IAAK,GACLkT,MAAO,IAEXlI,QAAS,CACLF,cAAe,GAEnB+uB,QAAS,CACLzkB,WAAY,mBAEhB0kB,kBAAmB,CACfr6B,YAAa,GACboC,WAAY,EACZiJ,cAAe,MA6ERivB,GAzEsB,SAAC,GAAgB,IAAdx3B,EAAa,EAAbA,OAC9BpC,EAAUnB,KACVsE,EAAUC,eAFiC,EAI1B+wB,eAJ0B,mBAIrCE,GAJqC,UAIrCA,OAJqC,EAM7BwF,aAChB,CACI5gC,KAAM,SACNkH,SAAU,QACVC,QAAS,CAAEU,GAAIsB,EAAOtB,GAAIb,KAAM,CAAEK,SAAU,IAAIqT,QAEpD,CACInQ,UAAWL,IAPZ22B,EAN0C,oBAwBjD,OACI,eAAChyB,GAAA,EAAD,CACIjH,UAAWyO,KAAWtP,EAAQnG,KAAT,eAChBmG,EAAQu5B,QAAUn3B,EAAO9B,WAE9BiO,QAZkB,WAClB8lB,GACAA,EAAMjyB,EAAO6xB,MAEjB6F,KAIA,UAMI,cAACC,GAAA,EAAD,CACIl5B,UAAWb,EAAQkuB,MACnB/I,MAAK,UAAK6U,sBAAL,YAA+B53B,EAAO+iB,OAC3ClmB,MAAOmD,EAAOnD,QAElB,eAAC8I,EAAA,EAAD,CAAalH,UAAWb,EAAQglB,QAAhC,WACM5iB,EAAO9B,UACL,cAAC,KAAD,CACIxG,MAAM,QACNwE,SAAS,QACTuC,UAAWb,EAAQy5B,UAG3B,cAAC94B,EAAA,EAAD,CAAYC,QAAQ,KAAKM,UAAU,KAAK6M,cAAY,EAApD,SACK3L,EAAOnD,QAEZ,cAAC0B,EAAA,EAAD,CAAYC,QAAQ,QAAQmN,cAAY,EAAxC,SACK3L,EAAOkT,aAGhB,cAAC8V,GAAA,EAAD,CAAavqB,UAAWb,EAAQ6K,QAAhC,SACI,cAAC,KAAD,CAAQiF,KAAK,QAAQwe,UAAW,cAAC,KAAD,IAAcx0B,MAAM,UAApD,oBAIJ,qBAAK+G,UAAWb,EAAQ25B,kBAAxB,SACI,cAACh5B,EAAA,EAAD,CACIC,QAAQ,UACRjH,QAAQ,QACRG,MAAM,gBAHV,SAKKsI,EAAO9B,SAAP,yBACuB,IAAIqT,KAClBvR,EAAO9B,UACTia,kBAHP,8BCnGf1b,GAAYC,YAAW,CACzBkmB,QAAS,CACLzoB,OAAQ,OACRlC,WAAY,OACZiC,UAAW,UAIbua,GAAgB/X,YAAW,CAC7Bm7B,cAAe,CACXtgC,QAAS,OACTkX,SAAU,UAIZ3G,GAAoC,SAAC,GAAqC,IAAnCrJ,EAAkC,EAAlCA,UAAW4K,EAAuB,EAAvBA,QAAY7H,EAAW,wCACrET,EAAUC,eAD2D,EAQvEyC,aAAejC,GALfkC,EAHuE,EAGvEA,IACAuB,EAJuE,EAIvEA,aACAlH,EALuE,EAKvEA,SACAmH,EANuE,EAMvEA,iBACA6H,EAPuE,EAOvEA,WAPuE,EAUhC0qB,aACvC,CACI5gC,KAAM,aACNkH,SAAU,QACVC,QAAS,CAAE0F,IAAKA,EAAK7F,KAAM,CAAEK,SAAU,QAE3C,CACIkD,UAAW,WACPL,OAlB+D,mBAUpE+2B,EAVoE,KAUlDC,EAVkD,KAU3Dre,QAV2D,EAuBlB+d,aACrD,CACI5gC,KAAM,aACNkH,SAAU,QACVC,QAAS,CAAE0F,IAAKA,EAAK7F,KAAM,CAAEK,SAAU,IAAIqT,QAE/C,CACInQ,UAAW,WACPL,OA/B+D,mBAuBpEi3B,EAvBoE,KAuB3CC,EAvB2C,KAuBpDve,QAavB,OACI,eAACzR,GAAA,EAAD,yBAAYxJ,UAAWA,GAAe0O,aAAsB3L,IAA5D,cACK6H,GACG+D,uBAAa/D,EAAS,CAClBtL,WACAgP,aACA7H,mBACAD,eACAiD,QAAS,WAGjB,cAACgE,GAAA,EAAD,CACIC,QAAS6rB,EACTj4B,MAAM,qBACNsN,SAAU4qB,EAHd,SAKI,cAAC,KAAD,MAEJ,cAAC/rB,GAAA,EAAD,CAAQC,QAAS2rB,EAAO/3B,MAAM,QAAQsN,SAAU0qB,EAAhD,SACI,cAAC,KAAD,WAMVG,GAAe,WACjB,IAAMt6B,EAAU6W,KADO,EAEDhR,eAAdC,EAFe,EAEfA,IAAK7F,EAFU,EAEVA,KACb,OACI,qBAAKY,UAAWb,EAAQi6B,cAAxB,SACKn0B,EAAIM,KAAI,SAAAtF,GAAE,OACP,cAAC,GAAD,CAAesB,OAAQnC,EAAKa,IAAjBA,SCjGZ,IACXyL,KDsG4B,SAAAxO,GAC5B,IAAMiC,EAAUnB,KAEhB,OACI,cAAC+R,GAAA,EAAD,2BACQ7S,GADR,IAEI2N,QAAS,GACT6b,WAAY,cAACpc,GAAA,EAAD,CAAYC,mBAAoB,CAAC,GAAI,GAAI,MACrDxB,KAAM,CAAEC,MAAO,KAAMC,MAAO,OAC5B9J,QAASA,EACT6K,QAAS,cAAC,GAAD,IANb,SAQI,cAAC,GAAD,QCjHR3C,KAAMqyB,M,0CCHNC,GAA+B,GAsCpBC,GApC6B,SACxClI,GAEA,OAAO,2BACAA,GADP,IAEImI,UAAU,WAAD,8BAAE,WAAOC,EAAOC,GAAd,UAAAlI,EAAA,6DACP8H,GAAc9Z,KAAK,CAAEia,QAAOC,yBADrB,kBAEAv9B,QAAQC,QAAQ,CAAE2C,KAAM,QAFxB,2CAAF,qDAAC,GAKV46B,YAAY,WAAD,8BAAE,WAAOF,EAAOC,GAAd,UAAAlI,EAAA,6DACT8H,GAAgBA,GAAcn6B,QAC1B,SAAAy6B,GAAY,OACRA,EAAaH,QAAUA,GACvBG,EAAaF,uBAAyBA,KAJrC,kBAMFv9B,QAAQC,QAAQ,CAAE2C,KAAM,QANtB,2CAAF,qDAAC,GASZ86B,QAAS,SAACJ,EAAO/qB,GACb,OAAK+qB,EAGA/qB,EAAM3W,MAGXuhC,GAAcp0B,KACV,SAAA00B,GAAY,OACRH,IAAUG,EAAaH,OACvBG,EAAaF,qBAAqBhrB,MAEnCvS,QAAQC,QAAQ,CAAE2C,KAAM,QAPpB5C,QAAQO,OAAO,IAAIo9B,MAAM,2BAHzB39B,QAAQO,OAAO,IAAIo9B,MAAM,gCCxB1CC,GAAgB,CAAC,YAAa,WAAY,WAAY,WA6B7CC,GA3BS,SAAA3I,GACpB,OAAO,2BACAA,GADP,IAEIuB,OAAO,WAAD,8BAAE,kCAAApB,EAAA,6DAASyI,EAAT,EAASA,OAAQC,EAAjB,EAAiBA,MAAjB,SAC4B/9B,QAAQg+B,KACnCF,GAAUF,IAAe70B,KAAI,SAAAjG,GAAQ,OAClCm7B,GAAiB/I,EAAcpyB,EAAUi7B,OAH7C,cACEG,EADF,yBAOG,CACHt7B,KAAMs7B,EAAkBzhB,QACpB,SAAC+W,EAAK2K,GAAN,6BACO3K,GADP,aAEO2K,EAAkBv7B,SAEzB,IAEJmP,MAAOmsB,EAAkBzhB,QACrB,SAAC+W,EAAK2K,GAAN,OAA4B3K,EAAM2K,EAAkBpsB,QACpD,KAjBJ,2CAAF,mDAAC,MA0BTksB,GAAgB,yCAAG,WAAO/I,EAAcpyB,EAAUi7B,GAA/B,oBAAA1I,EAAA,sEACSH,EAAaI,QAAQxyB,EAAU,CACzDE,OAAQ,CAAEo7B,EAAGL,GACb7T,WAAY,CAAEhG,KAAM,EAAG7V,QAAS,GAChC9B,KAAM,CAAEC,MAAO,KAAMC,MAAO,SAJX,uBACb7J,EADa,EACbA,KAAMmP,EADO,EACPA,MADO,SAQL/R,QAAQg+B,IAChBp7B,EAAKmG,IAAL,yCAAS,WAAMhE,GAAN,UAAAswB,EAAA,4EACEvyB,EADF,YACciC,EAAOtB,IADrB,KAECX,EAFD,gBAGIA,EAHJ,YAGgBiC,EAAOtB,IAHvB,SAIU46B,GAAev7B,GAAUiC,EAAQmwB,GAJ3C,6CACLzxB,GADK,KAEL7H,KAFK,KAGL0yB,IAHK,KAIL3G,QAJK,kDAAT,wDATa,+BAgBjB5V,EAhBiB,mBAQjBnP,KARiB,KAgBjBmP,MAhBiB,mDAAH,0DAoBhBssB,GAAiB,CACnB3M,UAAU,WAAD,8BAAE,WAAO3sB,EAAQmwB,GAAf,kBAAAG,EAAA,sEACcH,EAAaI,QAAQ,WAAY,CAClDtyB,OAAQ,CAAEmhB,YAAapf,EAAOtB,GAAIyB,OAAQ,WAC1CglB,WAAY,CAAEhG,KAAM,EAAG7V,QAAS,GAChC9B,KAAM,CAAEC,MAAO,KAAMC,MAAO,SAJzB,cACD2X,EADC,gBAMe8Q,EAAaI,QAAQ,UAAW,CAClDtyB,OAAQ,CAAEmhB,YAAapf,EAAOtB,IAC9BymB,WAAY,CAAEhG,KAAM,EAAG7V,QAAS,GAChC9B,KAAM,CAAEC,MAAO,KAAMC,MAAO,SATzB,cAMD6X,EANC,oDAaAvf,GAbA,IAcHqqB,eAAgBhL,EAAOrS,MACvBuS,QAASA,EAAQvS,SAfd,2CAAF,qDAAC,GAkBVwK,SAAS,WAAD,8BAAE,WAAOxX,EAAQmwB,GAAf,gBAAAG,EAAA,sEACgBH,EAAaI,QAAQ,UAAW,CAClDtyB,OAAQ,CAAEoZ,WAAYrX,EAAOtB,IAC7BymB,WAAY,CAAEhG,KAAM,EAAG7V,QAAS,GAChC9B,KAAM,CAAEC,MAAO,KAAMC,MAAO,SAJ1B,cACA6X,EADA,oDAQCvf,GARD,IASFuf,QAASA,EAAQvS,SATf,2CAAF,qDAAC,GAYTymB,SAAS,WAAD,8BAAE,WAAOzzB,EAAQmwB,GAAf,gBAAAG,EAAA,sEACiBH,EAAaoJ,OAAO,YAAa,CACpD76B,GAAIsB,EAAOof,cAFT,cACAlN,EADA,oDAMClS,GAND,IAOFkS,SAAUA,EAASrU,QAPjB,2CAAF,qDAAC,GAUT0hB,QAAQ,WAAD,8BAAE,WAAMvf,GAAN,UAAAswB,EAAA,+EACEtwB,GADF,2CAAF,mDAAC,IC5FNw5B,GAAc,IAAIjoB,MAAK,IAAIA,MAAO2O,UAAY,SAE9CuZ,GAAY,SAACnJ,EAAGoJ,GAClB,IAAMC,EAASrJ,EAAEryB,QAAO,SAAA27B,GAAK,OAAKF,EAAEz1B,MAAK,SAAA41B,GAAK,OAAID,EAAMl7B,KAAOm7B,EAAMn7B,SAC/Do7B,EAASxJ,EAAEryB,QAAO,SAAA27B,GAAK,OAAIF,EAAEz1B,MAAK,SAAA41B,GAAK,OAAID,EAAMl7B,KAAOm7B,EAAMn7B,SAC9Dq7B,EAASL,EAAEz7B,QAAO,SAAA47B,GAAK,OAAKvJ,EAAErsB,MAAK,SAAA21B,GAAK,OAAIC,EAAMn7B,KAAOk7B,EAAMl7B,SACrE,MAAO,uBACAi7B,GADA,aAEAG,EAAO91B,KAAI,SAAA41B,GACV,IAAMC,EAAQH,EAAEz1B,MAAK,SAAA41B,GAAK,OAAID,EAAMl7B,KAAOm7B,EAAMn7B,MACjD,OAAO,2BAAKk7B,GAAZ,IAAmB17B,SAAU27B,EAAM37B,eAJpC,aAMA67B,IACLvyB,MAAK,SAACwyB,EAAGx9B,GAAJ,OAAUw9B,EAAEt7B,GAAKlC,EAAEkC,OCJxBu7B,GAAeC,KACjBC,IACA9B,GACA+B,KACAtB,GAJiBoB,CAKnBG,aAAmB,0BAEfC,GAAkB,CACpB5S,MDFW,WAAsC,IAArC6S,EAAoC,uDAArB,GACrBC,EAAM,SAACp7B,GACT,IAAMgY,EAAOrc,aAAaQ,QAAQ6D,GAC5Bq7B,EAAarjB,EAAOgD,KAAKsgB,MAAMtjB,GAAQ,GAC7C,OAAOqiB,GAAUc,EAAan7B,GAAOq7B,IAGnCE,EAAM,SAACv7B,EAAcgY,GACvB,OAAOrc,aAAaC,QAAQoE,EAAMgb,KAAKC,UAAUjD,KAG/CwjB,EAAS,SAAC78B,EAAD,GAA6B,IAAhBW,EAAe,EAAfA,GAAIb,EAAW,EAAXA,KACtB48B,EAAaD,EAAIz8B,GAEjBqZ,EAAOqjB,EAAWx2B,MAAK,SAAAmT,GAAI,OAAIA,EAAK1Y,KAAOA,KAEjD,IAAK0Y,EACD,MAAO,CAAEvZ,KAAM,MAGnB,IAAMg9B,EAAO,uCAAQzjB,GAASvZ,GAAjB,IAAuBa,OAOpC,OALAi8B,EAAI58B,EAAD,uBACI08B,EAAWx8B,QAAO,SAAA68B,GAAS,OAAIA,EAAUp8B,KAAOA,MADpD,CAECm8B,KAGG,CAAEh9B,KAAMg9B,IAGbE,EAAS,SAACh9B,EAAD,GAAuB,IAAVW,EAAS,EAATA,GACpB+7B,EAAaD,EAAIz8B,GAEfqZ,EAAOqjB,EAAWx2B,MAAK,SAAAmT,GAAI,OAAIA,EAAK1Y,KAAOA,KAEjD,OAAK0Y,GAILqjB,EAAaA,EAAWx8B,QAAO,SAAAmZ,GAAI,OAAIA,EAAK1Y,KAAOA,KAEnDi8B,EAAI58B,EAAU08B,GAEP,CAAE58B,KAAMuZ,IAPJ,CAAEvZ,KAAM,OAUvB,MAAO,CACH0yB,QAAS,SAACxyB,EAAD,GAA6C,IAAhCE,EAA+B,EAA/BA,OAAQuJ,EAAuB,EAAvBA,KAAM2d,EAAiB,EAAjBA,WAC5BsV,EAAaD,EAAIz8B,GAEjBE,IACAw8B,EAAaO,OAAOC,KAAKh9B,GAAQyZ,QAC7B,SAAC+W,EAAKhsB,GACF,IAAMuD,EAAQ/H,EAAOwE,GACrB,OAAOgsB,EAAIxwB,QAAO,SAAAi9B,GAAC,OAAIA,EAAEz4B,KAASuD,OAH7Bg1B,OAAA,KAAAA,CAKLP,KAGZ,IAAMztB,EAAQytB,EAAWr8B,OACzB,GAAIoJ,EAAM,CAAC,IACCC,EAAiBD,EAAjBC,MAAOC,EAAUF,EAAVE,MACf+yB,EAAaA,EAAWjzB,MAAK,SAAC8oB,EAAGoJ,GAAJ,MACf,QAAVhyB,EAAkB4oB,EAAE7oB,GAASiyB,EAAEjyB,GAASiyB,EAAEjyB,GAAS6oB,EAAE7oB,MAG7D,GAAI0d,EAAY,CAAC,IACLhG,EAAkBgG,EAAlBhG,KAAM7V,EAAY6b,EAAZ7b,QACdmxB,EAAaA,EAAWzU,OACnB7G,EAAO,GAAK7V,EACb6V,EAAO7V,EAAU,GAIzB,OAAOrO,QAAQC,QAAQ,CACnB2C,KAAM48B,EACNztB,WAIRusB,OAAQ,SAACx7B,EAAD,GAAuB,IAAVW,EAAS,EAATA,GAGX0Y,EAFaojB,EAAIz8B,GAECkG,MAAK,SAAAmT,GAAI,OAAIA,EAAK1Y,KAAOA,KAEjD,OAAOzD,QAAQC,QAAQ,CACnB2C,KAAMuZ,EACN+jB,WAAY3B,MAIpBxI,QAAS,SAACjzB,EAAD,GAAwB,IAAX2F,EAAU,EAAVA,IAGZqvB,EAFayH,EAAIz8B,GAEEE,QAAO,SAAAmZ,GAAI,OAAI1T,EAAI03B,SAAShkB,EAAK1Y,OAE1D,OAAOzD,QAAQC,QAAQ,CACnB2C,KAAMk1B,EACNoI,WAAY3B,MAIpB6B,iBAAkB,SAACt9B,EAAD,GAA6C,IAAhCE,EAA+B,EAA/BA,OAAQuJ,EAAuB,EAAvBA,KAAM2d,EAAiB,EAAjBA,WACrCsV,EAAaD,EAAIz8B,GAEjBE,IACAw8B,EAAaO,OAAOC,KAAKh9B,GAAQyZ,QAC7B,SAAC+W,EAAKhsB,GACF,IAAMuD,EAAQ/H,EAAOwE,GACrB,OAAOgsB,EAAIxwB,QAAO,SAAAi9B,GAAC,OAAIA,EAAEz4B,KAASuD,OAH7Bg1B,OAAA,KAAAA,CAKLP,KAGZ,IAAMztB,EAAQytB,EAAWr8B,OACzB,GAAIoJ,EAAM,CAAC,IACCC,EAAiBD,EAAjBC,MAAOC,EAAUF,EAAVE,MACf+yB,EAAaA,EAAWjzB,MAAK,SAAC8oB,EAAGoJ,GAAJ,MACf,QAAVhyB,EAAkB4oB,EAAE7oB,GAASiyB,EAAEjyB,GAASiyB,EAAEjyB,GAAS6oB,EAAE7oB,MAG7D,GAAI0d,EAAY,CAAC,IACLhG,EAAkBgG,EAAlBhG,KAAM7V,EAAY6b,EAAZ7b,QACdmxB,EAAaA,EAAWzU,OACnB7G,EAAO,GAAK7V,EACb6V,EAAO7V,EAAU,GAIzB,OAAOrO,QAAQC,QAAQ,CACnB2C,KAAM48B,EACNztB,WAIR4tB,OAAQ,SAAC78B,EAAU2gB,GACf,OAAOzjB,QAAQC,QAAQ0/B,EAAO78B,EAAU2gB,KAE5C4c,WAAY,SAACv9B,EAAD,GAA8B,IAAjB2F,EAAgB,EAAhBA,IAAK7F,EAAW,EAAXA,KACpB09B,EAAgB73B,EAAIM,KAAI,SAAAtF,GAAE,OAAIk8B,EAAO78B,EAAU,CAAEW,KAAIb,YAE3D,OAAO5C,QAAQC,QAAQ,CACnB2C,KAAM09B,EACDt9B,QAAO,SAAAu9B,GAAG,OAAIA,EAAI39B,MAAQ29B,EAAI39B,KAAKa,MACnCsF,KAAI,SAAAw3B,GAAG,OAAIA,EAAI39B,KAAKa,SAIjC8L,OAAQ,SAACzM,EAAD,GAAyB,IAAZF,EAAW,EAAXA,KACX48B,EAAaD,EAAIz8B,GAEjBW,EAAK+7B,EAAWr8B,OAAS,EACzBgZ,EAAOqjB,EAAWx2B,MAAK,SAAAmT,GAAI,OAAIA,EAAK1Y,KAAOA,KAEjD,GAAI0Y,EACA,OAAOnc,QAAQC,QAAQ,CAAE2C,KAAMuZ,IAGnC,IAAMyjB,EAAO,2BAAQh9B,GAAR,IAAca,GAAIA,IAK/B,OAJA+7B,EAAWnc,KAAKuc,GAEhBF,EAAI58B,EAAU08B,GAEPx/B,QAAQC,QAAQ,CAAE2C,KAAMg9B,KAGnCxG,OAAQ,SAACt2B,EAAU2gB,GAAX,OAAsBzjB,QAAQC,QAAQ6/B,EAAOh9B,EAAU2gB,KAE/D+c,WAAY,SAAC19B,EAAD,GAAwB,IAC1B29B,EADyB,EAAVh4B,IACKM,KAAI,SAAAtF,GAAE,OAAIq8B,EAAOh9B,EAAU,CAAEW,UAEvD,OAAOzD,QAAQC,QAAQ,CACnB2C,KAAM69B,EACDz9B,QAAO,SAAAu9B,GAAG,OAAIA,EAAI39B,MAAQ29B,EAAI39B,KAAKa,MACnCsF,KAAI,SAAAw3B,GAAG,OAAIA,EAAI39B,KAAKa,UC5K9Bi9B,CCnBI,CACXjU,MAAO,CACH,CACIhpB,GAAI,EACJqkB,MAAO,kCACPlmB,MAAO,iBACPg1B,KAAM,iBACN3e,QAAQ,4FACR+Y,KAAM,kCACN/tB,SAAU,MAEd,CACIQ,GAAI,EACJqkB,MAAO,4CACPlmB,MAAO,4BACPg1B,KAAM,2BACN3e,QAAQ,iEACR+Y,KAAM,kCACN/tB,SAAU,MAEd,CACIQ,GAAI,EACJqkB,MAAO,+BACPlmB,MAAO,cACPg1B,KAAM,cACN3e,QAAQ,6EACR+Y,KAAM,kCACN/tB,SAAU,MAEd,CACIQ,GAAI,EACJqkB,MAAO,wCACPlmB,MAAO,uBACPg1B,KAAM,uBACN3e,QAAQ,wDACR+Y,KAAM,kCACN/tB,SAAU,MAEd,CACIQ,GAAI,EACJqkB,MAAO,2BACPlmB,MAAO,UACPg1B,KAAM,UACN3e,QAAQ,yJACR+Y,KAAM,kCACN/tB,SAAU,MAEd,CACIQ,GAAI,EACJqkB,MAAO,+BACPlmB,MAAO,cACPg1B,KAAM,cACN3e,QAAQ,uEACR+Y,KAAM,kCACN/tB,SAAU,UDhChB09B,GAAgB,GA2BPC,GA1Ba,IAAIC,MAAM7B,GAAc,CAChDO,IAAK,SAACtV,EAAQ9lB,EAAM28B,GAChB,MAAa,SAAT38B,EACO28B,EAGJ,SAACh+B,EAAU2gB,GACd,IAAIsd,EAAW/B,GAYf,OAXIK,GAAgBv8B,KAChBi+B,EAAW1B,GAAgBv8B,IAG3B69B,GAAc79B,KACdi+B,EAAQ,2BACDA,GACAJ,GAAc79B,GAAUi+B,KAI5B,IAAI/gC,SAAQ,SAAAC,GAAO,OACtB+gC,YAAW,kBAAM/gC,EAAQ8gC,EAAS58B,GAAMrB,EAAU2gB,MAAU,Y,8DE3C7D,IACX2W,WAAY,CACR,CACI32B,GAAI,EACJU,KAAM,aACNyB,QAAQ,EACRD,SAAU,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,IAAK,MAGhE,CAAElC,GAAI,EAAGU,KAAM,UAAWyB,QAAQ,EAAOD,SAAU,CAAC,EAAG,EAAG,IAC1D,CAAElC,GAAI,EAAGU,KAAM,OAAQyB,QAAQ,EAAOD,SAAU,IAChD,CAAElC,GAAI,EAAGU,KAAM,QAASyB,QAAQ,EAAOD,SAAU,IACjD,CAAElC,GAAI,EAAGU,KAAM,QAASyB,QAAQ,EAAOD,SAAU,IAEjD,CAAElC,GAAI,GAAIU,KAAM,QAASyB,QAAQ,EAAOD,SAAU,CAAC,GAAI,KACvD,CAAElC,GAAI,GAAIU,KAAM,QAASyB,QAAQ,EAAOD,SAAU,IAClD,CAAElC,GAAI,GAAIU,KAAM,WAAYyB,QAAQ,EAAOD,SAAU,IAErD,CAAElC,GAAI,GAAIU,KAAM,WAAYyB,QAAQ,EAAOD,SAAU,IAErD,CAAElC,GAAI,GAAIU,KAAM,OAAQyB,QAAQ,EAAOD,SAAU,CAAC,GAAI,KACtD,CAAElC,GAAI,GAAIU,KAAM,OAAQyB,QAAQ,EAAOD,SAAU,IACjD,CAAElC,GAAI,GAAIU,KAAM,OAAQyB,QAAQ,EAAOD,SAAU,IAEjD,CAAElC,GAAI,GAAIU,KAAM,OAAQyB,QAAQ,EAAOD,SAAU,IACjD,CAAElC,GAAI,GAAIU,KAAM,UAAWyB,QAAQ,EAAOD,SAAU,IAEpD,CAAElC,GAAI,GAAIU,KAAM,OAAQyB,QAAQ,EAAOD,SAAU,CAAC,GAAI,KACtD,CAAElC,GAAI,GAAIU,KAAM,SAAUyB,QAAQ,EAAOD,SAAU,IACnD,CAAElC,GAAI,GAAIU,KAAM,QAASyB,QAAQ,EAAOD,SAAU,IAElD,CAAElC,GAAI,GAAIU,KAAM,SAAUyB,QAAQ,EAAOD,SAAU,IAEnD,CAAElC,GAAI,GAAIU,KAAM,SAAUyB,QAAQ,EAAOD,SAAU,CAAC,GAAI,GAAI,KAC5D,CAAElC,GAAI,GAAIU,KAAM,MAAOyB,QAAQ,EAAOD,SAAU,IAChD,CAAElC,GAAI,GAAIU,KAAM,SAAUyB,QAAQ,EAAOD,SAAU,IACnD,CAAElC,GAAI,GAAIU,KAAM,OAAQyB,QAAQ,EAAOD,SAAU,IAEjD,CAAElC,GAAI,GAAIU,KAAM,SAAUyB,QAAQ,EAAOD,SAAU,IACnD,CAAElC,GAAI,IAAKU,KAAM,OAAQyB,QAAQ,EAAOD,SAAU,IAClD,CAAElC,GAAI,IAAKU,KAAM,SAAUyB,QAAQ,EAAOD,SAAU,IACpD,CAAElC,GAAI,IAAKU,KAAM,QAASyB,QAAQ,EAAOD,SAAU,KAEvDumB,OAAQ,CACJ,CACIzoB,GAAI,EACJuU,KAAM,QACN4jB,QAAS,SACT9jB,QAAS,kBACT+jB,WAAY,IAAIvlB,KAAK,KAAM,EAAG,KAElC,CACI7S,GAAI,EACJuU,KAAM,OACN4jB,QAAS,SACT9jB,QAAS,6BACT+jB,WAAY,IAAIvlB,KAAK,KAAM,EAAG,KAElC,CACI7S,GAAI,EACJuU,KAAM,OACN4jB,QAAS,SACT9jB,QAAS,iBACT+jB,WAAY,IAAIvlB,KAAK,KAAM,EAAG,KAElC,CACI7S,GAAI,EACJuU,KAAM,WACN4jB,QAAS,SACT9jB,QAAS,qBACT+jB,WAAY,IAAIvlB,KAAK,KAAM,EAAG,IAElC,CACI7S,GAAI,EACJuU,KAAM,QACN4jB,QAAS,SACT9jB,QAAS,0BACT+jB,WAAY,IAAIvlB,KAAK,KAAM,GAAI,IAEnC,CACI7S,GAAI,EACJuU,KAAM,QACN4jB,QAAS,SACT9jB,QAAS,iBACT+jB,WAAY,IAAIvlB,KAAK,KAAM,EAAG,MAGtC5N,MAAO,IC9ELu4B,GAA2B,SAA3BA,EACF7G,EACA8G,GAEA,IAAMC,EAAiB/G,EAAWpxB,MAAK,qBAAGvF,KAAgBy9B,KAC1D,IAAKC,EACD,MAAO,GAEX,IAAMx7B,EAAWw7B,EAAex7B,SAASoD,KAAI,SAAAq4B,GAAO,OAChDH,EAAyB7G,EAAYgH,MAGzC,MAAM,CAAEF,GAAR,oBAAqBv7B,KAyCV,cACX,IAtCA07B,EACAC,EAqCM1+B,EAAO2+B,KAAa,CAAEC,eAAe,IACrCjlB,EAAW3Z,EAAK2Z,SAASxT,KAvC/Bs4B,EAwC8Bz+B,EAAKw3B,WAvCnCkH,EAuC+CG,GAASrH,WAtCvD,SAACsH,GACF,IAAMC,EAAmBN,EAAmBr4B,MACxC,SAAA+1B,GAAC,OAAIA,EAAEt7B,KAAOi+B,EAAQp3B,eAG1B,IAAKq3B,EACD,OAAOD,EAGX,IAAME,EAAsBN,EAAct4B,MACtC,SAAA+1B,GAAC,OAAIA,EAAE56B,OAASw9B,EAAiBx9B,QAGrC,IAAKy9B,EACD,OAAOF,EAIX,GAA4C,IAAxCE,EAAoBj8B,SAASxC,OAC7B,OAAO,2BACAu+B,GADP,IAEIp3B,YAAas3B,EAAoBn+B,KAIzC,IAAMo+B,EAAgBh2B,UAAOi2B,aACzBF,EAAoBj8B,UAAY,IAGpC,OAAO,2BACA+7B,GADP,IAEIp3B,YAAau3B,OAUXE,EAAU,uCAAQn/B,GAAS6+B,IAAjB,IAA2BllB,aAErCylB,EAAa,IAAIC,KAASC,YAAY,yBAuB5C,OAtBIz8B,SACAA,OAAOu8B,WAAaA,GAExBA,EAAWG,uBAAsB,SAAAC,GAc7B,MAXuB,QAAnBA,EAAQC,QACRD,EAAQ9T,IAAI6R,SAAS,cACrBiC,EAAQ3e,OAAOzgB,aACuBuG,IAAtC64B,EAAQ3e,OAAOzgB,OAAOsH,cAGtB83B,EAAQ3e,OAAOzgB,OAAOsH,YAAc22B,GAChCc,EAAW3H,WACX5lB,SAAS4tB,EAAQ3e,OAAOzgB,OAAOsH,eAGhC83B,KAEXJ,EAAWM,KAAKP,GAChBC,EAAWO,gBACXC,KAAUC,KAAK,8BAA+BT,EAAWU,cAClD,kBAAMF,KAAUG,YCjErBC,GAAW,CACbC,GAAI1L,GACJ2L,GAAI9G,IAGF+G,GAAeC,YAAkBJ,GAAU,MAqClCK,GAnCH,WAQR,OAPA19B,qBAAU,WACN,IAAM29B,EAAeC,KACrB,OAAO,WACHD,OAEL,IAGC,eAAC,IAAD,CACIthC,MAAM,GACNszB,aAAcA,GACdkO,aAAcA,GACdzjC,aAAcA,EACd63B,UAAWxC,GACXqO,UAAWhW,GACXiW,OAAQC,GACRR,aAAcA,GAEdzkC,WAAYA,EACZvC,UAAWA,EAXf,UAaI,cAACynC,EAAA,EAAD,aAAUr/B,KAAK,aAAgB2uB,KAC/B,cAAC0Q,EAAA,EAAD,aAAUr/B,KAAK,YAAeigB,KAC9B,cAACof,EAAA,EAAD,aAAUr/B,KAAK,YAAegjB,KAC9B,cAACqc,EAAA,EAAD,aAAUr/B,KAAK,YAAeoY,KAC9B,cAACinB,EAAA,EAAD,aAAUr/B,KAAK,cAAiBi2B,KAChC,cAACoJ,EAAA,EAAD,aAAUr/B,KAAK,WAAcmgB,KAC7B,cAACkf,EAAA,EAAD,aAAUr/B,KAAK,UAAa+nB,KAC5B,cAACsX,EAAA,EAAD,aAAUr/B,KAAK,SAAYsoB,KAC3B,cAAC+W,EAAA,EAAD,CAAUr/B,KAAK,c,QCzD3Bs/B,IAASvqB,OAAO,cAAC,GAAD,IAASwqB,SAASC,eAAe,U,iCCuBlCC,IAtBc,SAAClpB,GAC1B,IAAMvB,EAAS,IAAIzR,MAAMkE,KAAKi4B,MAAsB,EAAhBj4B,KAAKC,UAAgB,GAAG9C,KAAI,iBAAO,CACnEqT,WAAYxQ,KAAKi4B,MAAsB,GAAhBj4B,KAAKC,UAC5BsR,SAAUvR,KAAKi4B,MAAsB,EAAhBj4B,KAAKC,UAAgB,MAG9C,MAAO,CACHpI,GAAImI,KAAKi4B,MAAsB,GAAhBj4B,KAAKC,UACpBgZ,KAAM,IAAIvO,KACVvE,MAAQnG,KAAKi4B,MAAsB,IAAhBj4B,KAAKC,UAAoB,IAAOsN,EAAOhW,OAC1D+B,OAAQ,UACRF,UAAW4G,KAAKC,SACXtB,SAAS,IACTu5B,QAAQ,WAAY,IACpBC,OAAO,EAAG,GACVjZ,cACL3G,YAAavY,KAAKi4B,MAAsB,GAAhBj4B,KAAKC,UAC7BsN,SACAyB,MAAOF,K,sGCtBTspB,EAAe,SAAC5N,EAAKxG,GAGvB,OAFAwG,EAAMxqB,KAAKq4B,KAAK7N,GAChBxG,EAAMhkB,KAAKs4B,MAAMtU,GACVhkB,KAAKs4B,MAAMt4B,KAAKC,UAAY+jB,EAAMwG,IAAQA,GAG/C+N,EAAU,SAAAC,GAAE,OAAI,IAAIpkC,SAAQ,SAAAC,GAAO,OAAI+gC,WAAW/gC,EAASmkC,OAC3DC,EAAW,SAACC,EAAUC,EAAYC,GAAvB,OACb,IAAIxkC,SAAQ,SAAAC,GACR,IAAMwkC,EAAcC,YAAYJ,EAAUC,GAC1CvD,YAAW,WACP2D,cAAcF,GACdxkC,MACDukC,OAGPI,EAA2B,GAEzBnY,EAAoC,CACtC,cAAe,CACXoY,OAAO,WAAD,4BAAE,uBAAAxP,EAAA,6DAASrvB,EAAT,EAASA,UACJ,aADL,SAEEm+B,EAAQ,KAFV,2CAAF,mDAAC,GAIPW,MAAO,CACH,CACI7a,OAAO,4CAAD,OAA8C+Z,EAChD,EACA,GAFE,KAINe,eAAe,EACfpd,QACI,qFACJqd,aAAc,CACVjd,OAAQ,CACJkd,OAAQ,CACJlnC,WAAY,OAIxBmnC,MAAO,YAA2B,IAAxBjb,EAAuB,EAAvBA,QAENjkB,EAF6B,EAAfA,UACKikB,EAAOkb,aAAa,QAAQpa,MAAM,MAI7D,CACId,OAAQ,mCACRtC,QAAS,gDACTud,MAAO,YAAgB,EAAbjb,OACCmb,UAGf,CACInb,OAAQ,wBACRtC,QACI,2EAER,CACIsC,OAAQ,4BACRtC,QAAS,wCAEb,CACIsC,OAAQ,6BACRtC,QACI,gEAER,CACIsC,OAAQ,qCACRtC,QACI,8EAIhB,iBAAkB,CACdmd,MAAO,CACH,CACI7a,OAAQ,oCACR8a,eAAe,EACfpd,QACI,oGAER,CACIsC,OAAQ,6CACRtC,QAAS,+BACTud,MAAO,aACHl/B,EADqB,EAAfA,UACG,gBAGjB,CACIikB,OAAQ,6CACRtC,QACI,6DACJod,eAAe,EACfG,MAAO,YAAgB,EAAbjb,OACCmb,UAGf,CACInb,OAAQ,uCACRtC,QACI,kGACJqd,aAAc,CACVjd,OAAQ,CACJ1f,QAAS,CACLlM,OAAQ,OAIpB+oC,MAAO,WACH,IAAMG,EAAkC3B,SAAS4B,cAC7C,iDAECD,GAGLA,EAAYD,UAGpB,CACIP,OAAQ,aACJU,EADuC,EAAhCA,oBAAgC,EAAZlrB,QAG/B4P,OAAQ,OACRtC,QACI,yJACJqd,aAAc,CACVjd,OAAQ,CACJ1f,QAAS,CACLm9B,WAAY,iBAIxBN,MAAO,aACHK,EAD+B,EAAzBA,oBACa,QAKnC,UAAW,CACPV,OAAO,WAAD,4BAAE,uBAAAxP,EAAA,6DAASrvB,EAAT,EAASA,UACJ,iBADL,SAEEm+B,EAAQ,KAFV,2CAAF,mDAAC,GAIPW,MAAO,CACH,CACI7a,OAAQ,WACRtC,QACI,8FACJod,eAAe,GAEnB,CACIF,OAAQ,YAAiB,IAAd5a,EAAa,EAAbA,OACPoa,GACI,WACI,IAAMoB,EAAWxb,EAAOqb,cACpB,4CAGAG,GACAA,EAASL,UAGjB,IACA,MAGRnb,OAAQ,WACRtC,QACI,6EACJud,MAAM,WAAD,4BAAE,6BAAA7P,EAAA,6DAASpL,EAAT,EAASA,OAAT,SACGoa,GACF,WACI,IAAMoB,EAAWxb,EAEZqb,cACG,gFAGJG,GACAA,EAASL,UAGjB,IACA,KAdD,2CAAF,mDAAC,IAkBV,CACIP,OAAQ,YAAmB,IAAhB7+B,EAAe,EAAfA,SACPg7B,YAAW,WACPh7B,EAAS,wBACV,MAEPikB,OAAQ,4CACRtC,QACI,+DAIhB,cAAe,CACXkd,OAAO,WAAD,4BAAE,sBAAAxP,EAAA,sDACJv1B,aAAaC,QAAQ,aAAc,KAD/B,2CAAF,kDAAC,GAGP+kC,MAAO,CACH,CACID,OAAO,WAAD,4BAAE,6BAAAxP,EAAA,6DAASH,EAAT,EAASA,aACbp1B,aAAaC,QAAQ,aAAc,KAEnC,CAAC,CAAC,GAAI,CAAC,GAAI,CAAC,GAAI,CAAC,IAAI0c,QACjB,SAAA+W,GAAG,OACCA,EAAIkS,KAAJ,cAAArQ,EAAA,MAAS,gCAAAA,EAAA,sEAIKH,EAAa3lB,OAAO,WAAY,CACtC3M,KAAMghC,YAAqB,KAL1B,gBAGK+B,EAHL,EAGD/iC,KAKJgiC,EAAevhB,KAAKsiB,EAAWliC,IAEzB65B,EAAQ,oBACdpI,EAAawI,QAAQJ,EAAO,CACxB1hC,KAAM,UACN0hC,MAAOA,EACPv6B,QAAS,CAAE0F,IAAK,CAACk9B,EAAWliC,KAC5BohB,KAAM,IAAIvO,OAfT,8CAkBb6tB,EAAQ,IAvBR,SAyBEA,EAAQ,MAzBV,2CAAF,mDAAC,GA2BPla,OAAQ,gCACRtC,QAAS,qDACTod,eAAe,EACfC,aAAc,CACVY,gBAAgB,GAEpBV,MAAM,WAAD,4BAAE,6BAAA7P,EAAA,6DAASrvB,EAAT,EAASA,SACZlG,aAAaC,QAAQ,aAAc,KADhC,SAEGokC,EAAQ,KAFX,OAGHn+B,EAAS,aAHN,2CAAF,mDAAC,IAMV,CACIikB,OAAQ,uCACRtC,QAAS,4CACTqd,aAAc,CACVY,gBAAgB,IAGxB,CACIf,OAAO,WAAD,4BAAE,uCAAAxP,EAAA,6DAASH,EAAT,EAASA,aACbp1B,aAAaC,QAAQ,aAAc,KAD/B,SAGgCm1B,EAAa3lB,OAC7C,WACA,CACI3M,KAAMghC,YAAqB,KAN/B,uBAGUiC,EAHV,EAGIjjC,KAMRgiC,EAAevhB,KAAKwiB,EAAYpiC,IAT5B,SAUgCyxB,EAAa3lB,OAC7C,WACA,CACI3M,KAAMghC,YAAqB,KAb/B,uBAUUkC,EAVV,EAUIljC,KAMRgiC,EAAevhB,KAAKyiB,EAAYriC,IAE1B65B,EAAQ,oBACdpI,EAAawI,QAAQJ,EAAO,CACxB1hC,KAAM,UACN0hC,QACAv6B,QAAS,CAAE0F,IAAK,CAACo9B,EAAYpiC,GAAIqiC,EAAYriC,KAC7CohB,KAAM,IAAIvO,OAvBV,UAyBE6tB,EAAQ,KAzBV,4CAAF,mDAAC,GA2BPla,OAAQ,uCACRtC,QACI,yDACJqd,aAAc,CACVY,gBAAgB,GAEpBV,MAAM,WAAD,4BAAE,iCAAA7P,EAAA,6DAASH,EAAT,EAASA,aAAc6Q,EAAvB,EAAuBA,SAAU//B,EAAjC,EAAiCA,SAAjC,SAEGhG,QAAQg+B,IACV,CAAC,EAAG,EAAG,GAAGj1B,KAAI,SAAAG,GACV,OAAOgsB,EACF5uB,KAAK,WAAY,CACd4C,WACAzC,SAAUu/B,gBAEbN,MAAK,YAAqB,IAAZp/B,EAAW,EAAjB1D,KACLmjC,EAAS,CACLnqC,KAAM,kBACNmH,QAAS,CACLH,KAAM0D,GAEVwmB,KAAM,CACFmZ,cAAe,UACfnjC,SAAU,WACVoG,qBAlBrB,OA0BHlD,EAAS,iDA1BN,2CAAF,mDAAC,IA6BV,CACI6+B,OAAO,WAAD,4BAAE,qCAAAxP,EAAA,6DAASH,EAAT,EAASA,aAAc6Q,EAAvB,EAAuBA,SAAvB,SACE5B,EAAQ,KADV,QAKE+B,EAAWC,EAAOzC,SAAS4B,cAC7B,mCAGoBc,cACdl9B,EAAWsL,SACb0xB,EAASG,QAAQC,UAAY,GAC7B,IAGE7/B,EAAWy/B,EAASG,QAAQE,aAElCvF,YAAW,WACP9L,EACKsR,OAAO,WAAY,CAChBt9B,WACAzC,aAEHi/B,MAAK,YAAqB,IAAZp/B,EAAW,EAAjB1D,KACLmjC,EAAS,CACLnqC,KAAM,oBACNmH,QAAS,CACLH,KAAM0D,GAEVwmB,KAAM,CACFmZ,cAAe,YACfnjC,SAAU,WACVoG,mBAIjB,MApCH,2CAAF,mDAAC,GAuCP+gB,OAAQ,gCACRtC,QACI,kFACJqd,aAAc,CACVY,gBAAgB,GAEpBV,MAAM,WAAD,4BAAE,iCAAA7P,EAAA,6DAASH,EAAT,EAASA,aAAc6Q,EAAvB,EAAuBA,SAAUjgC,EAAjC,EAAiCA,QAAjC,SAGG9F,QAAQg+B,IACV,CAAC,EAAG,GAAGj1B,KAAI,SAAAG,GACP,IAAMg9B,EAAWC,EAAOzC,SAAS4B,cAAhB,2BACOp8B,EADP,OAGjB,GAAIg9B,aAAoBE,YAAa,CACjC,IAAM3/B,EAAWy/B,EAASG,QAAQE,aAElC,OAAOrR,EACFsR,OAAO,WAAY,CAChBt9B,WACAzC,aAEHi/B,MAAK,YAAqB,IAAZp/B,EAAW,EAAjB1D,KACLmjC,EAAS,CACLnqC,KAAM,oBACNmH,QAAS,CACLH,KAAM0D,GAEVwmB,KAAM,CACFmZ,cAAe,YACfnjC,SAAU,WACVoG,iBAKpB,OAAOlJ,QAAQC,cAErBylC,MAAK,WACH5/B,OAjCD,2CAAF,mDAAC,KAsCdo/B,MAAM,WAAD,4BAAE,+BAAA7P,EAAA,6DAASH,EAAT,EAASA,aAAcpvB,EAAvB,EAAuBA,QAC1BhG,aAAaC,QAAQ,aAAc,KADhC,SAIGm1B,EAAasL,WAAW,WAAY,CACtC/3B,IAAKm8B,IALN,OAQH9+B,IACA8+B,EAAiB,GATd,2CAAF,mDAAC,IAYV,uBAAwB,CACpBC,OAAO,WAAD,4BAAE,uBAAAxP,EAAA,6DAASrvB,EAAT,EAASA,UACJ,WADL,SAEEm+B,EAAQ,KAFV,2CAAF,mDAAC,GAIPW,MAAO,CACH,CACI7a,OACI,0DACJtC,QACI,qMAER,CACIkd,OAAQ,YAAgB,EAAb5a,OACAqb,cAAc,mBAAmBF,SAE5Cnb,OACI,0DACJtC,QACI,gFACJud,MAAO,YAAiB,IAAdjb,EAAa,EAAbA,OACNwc,IAAUC,OAAOzc,EAAOqb,cAAc,YAAa,CAC/Crb,OAAQ,CAAElf,MAAO,wBAI7B,CACIkf,OACI,6EACJtC,QACI,0DACJud,MAAO,YAAgB,EAAbjb,OACCmb,UAGf,CACInb,OAAQ,wBACRtC,QAAS,sDACTud,MAAO,YAAgB,EAAbjb,OACCmb,UAGf,CACIF,MAAO,YAAiB,IAAdjb,EAAa,EAAbA,OACNwc,IAAUC,OAAOzc,EAAOqb,cAAc,SAAU,CAC5Crb,OAAQ,CAAElf,MAAO,YAErB07B,IAAUC,OAAOzc,EAAOqb,cAAc,YAAa,CAC/Crb,OAAQ,CAAElf,MAAO,YAErB07B,IAAUC,OAAOzc,EAAOqb,cAAc,YAAa,CAC/Crb,OAAQ,CAAElf,MAAO,yBAErB07B,IAAUC,OAAOzc,EAAOqb,cAAc,eAAgB,CAClDrb,OAAQ,CAAElf,MAAO,iBAGzBkf,OACI,0DACJtC,QACI,4FAER,CACIsC,OACI,6EACJtC,QACI,uEACJud,MAAO,YAAgB,EAAbjb,OACCmb,YAKvB,2BAA4B,CACxBP,OAAO,WAAD,4BAAE,uBAAAxP,EAAA,6DAASrvB,EAAT,EAASA,UACJ,aADL,SAEEm+B,EAAQ,KAFV,2CAAF,mDAAC,GAIPW,MAAO,CACH,CACI7a,OAAQ,4CACRtC,QACI,2DACJod,eAAe,EACfC,aAAc,CACV2B,kBAAkB,IAG1B,CACI1c,OAAO,4CAAD,OAA8C+Z,EAChD,EACA,GAFE,KAINe,eAAe,EACfpd,QAAS,kCACTud,MAAO,YAA2B,IAAxBjb,EAAuB,EAAvBA,QAENjkB,EAF6B,EAAfA,UACKikB,EAAOkb,aAAa,QAAQpa,MAAM,MAI7D,CACId,OAAQ,4CACRtC,QACI,4DACJod,eAAe,EACfC,aAAc,CACV4B,aAAc,KAGtB,CACI3c,OAAQ,gCACRtC,QAAS,kDACTod,eAAe,EACfC,aAAc,CACV2B,kBAAkB,GAEtBzB,MAAO,aACHl/B,EADqB,EAAfA,UACG,eAGjB,CACIikB,OAAQ,4CACRtC,QAAS,mDACTod,eAAe,EACfC,aAAc,CACV2B,kBAAkB,IAG1B,CACI1c,OAAQ,4CACRtC,QACI,2FACJod,eAAe,EACfC,aAAc,CACV2B,kBAAkB,GAEtBzB,MAAO,aACHl/B,EADqB,EAAfA,UACG,OAGjB,CACIikB,OAAQ,4BACRtC,QACI,uJACJod,eAAe,EACfC,aAAc,CACV2B,kBAAkB,OAOvBla,Q,mDCrjBf,sCAAMoa,EAAoB,CACtB,gBACA,iBACA,iBACA,cACA,iBACA,iBACA,gBACA,cACA,mBACA,mBAGG,SAASb,IAA0D,IAAzCc,EAAwC,uDAA3BD,EAC1C,OAAOC,EAAWl7B,KAAKs4B,MAAMt4B,KAAKC,SAAWi7B,EAAW3jC,Y","file":"static/js/main.ca8f4f60.chunk.js","sourcesContent":["import { ThemeOptions } from '@react-admin/ra-enterprise';\nimport { fade } from '@material-ui/core';\nimport { grey } from '@material-ui/core/colors';\nimport createPalette from '@material-ui/core/styles/createPalette';\n\nconst darkPalette = createPalette({\n    type: 'dark', // Switching the dark mode on is a single property value change.\n    primary: {\n        main: '#90caf9',\n    },\n});\n\nexport const darkTheme: ThemeOptions = {\n    palette: darkPalette,\n    overrides: {\n        MuiAppBar: {\n            // Hide MenuItemCategory shadow behind the appbar\n            zIndex: 9999,\n        },\n        RaAppBar: {\n            menuButton: {\n                // Since sub-<Menu /> hide labels when sidebar is closed\n                // We need to disallow sidebar closing (hiding button is simpler)\n                display: 'none',\n            },\n        },\n        RaSearchInput: {\n            root: {\n                color: darkPalette.common.white,\n                backgroundColor: fade(darkPalette.common.black, 0.04),\n                '&:hover': {\n                    backgroundColor: fade(darkPalette.common.black, 0.13),\n                },\n                '&:focus': {\n                    backgroundColor: fade(darkPalette.common.black, 0.13),\n                },\n                '&:focus-within': {\n                    backgroundColor: fade(darkPalette.common.black, 0.13),\n                },\n            },\n            inputBase: {\n                background: fade(darkPalette.common.black, 0.04),\n                borderRadius: 10,\n                '&:hover': {\n                    background: fade(darkPalette.common.black, 0.1),\n                },\n            },\n            inputAdornmentStart: {\n                color: darkPalette.common.white,\n            },\n        },\n        RaSidebar: {\n            drawerPaper: {\n                paddingRight: 16,\n                width: 'auto',\n            },\n        },\n        RaMenuItemCategory: {\n            closeButton: {\n                color: 'white',\n            },\n            popoverPaper: {\n                backgroundColor: '#424242',\n            },\n        },\n        RaMenuItem: {\n            root: {\n                color: 'white',\n            },\n            link: {\n                '&:hover': {\n                    color: 'black',\n                    backgroundColor: grey[200],\n                },\n            },\n        },\n        RaFilterFormInput: {\n            body: {\n                // Fixes search filter breadcrumb overlap\n                '& > div': {\n                    marginTop: 8,\n                },\n            },\n        },\n    },\n};\n\nconst lightPalette = createPalette({\n    type: 'light',\n    primary: {\n        main: '#4f3cc9',\n    },\n    secondary: {\n        light: '#5f5fc4',\n        main: '#283593',\n        dark: '#001064',\n        contrastText: '#fff',\n    },\n    background: {\n        default: '#fcfcfe',\n    },\n});\n\nexport const lightTheme: ThemeOptions = {\n    palette: lightPalette,\n    shape: {\n        borderRadius: 10,\n    },\n    overrides: {\n        RaAppBar: {\n            menuButton: {\n                // Since sub-<Menu /> hide labels when sidebar is closed\n                // We need to disallow sidebar closing (hiding button is simpler)\n                display: 'none',\n            },\n        },\n        RaSearchInput: {\n            root: {\n                color: lightPalette.text.primary,\n                backgroundColor: fade(lightPalette.common.black, 0.04),\n                '&:hover': {\n                    backgroundColor: fade(lightPalette.common.black, 0.13),\n                },\n                '&:focus': {\n                    backgroundColor: fade(lightPalette.common.black, 0.13),\n                },\n                '&:focus-within': {\n                    backgroundColor: fade(lightPalette.common.black, 0.13),\n                },\n            },\n            inputBase: {\n                background: fade(lightPalette.common.black, 0.04),\n                borderRadius: 10,\n                '&:hover': {\n                    background: fade(lightPalette.common.black, 0.1),\n                },\n            },\n            inputAdornmentStart: {\n                color: lightPalette.text.hint,\n            },\n        },\n        RaMenuItemLink: {\n            root: {\n                borderLeft: '3px solid #fff',\n            },\n            active: {\n                borderLeft: '3px solid #808080',\n            },\n        },\n        RaMenuItemCategory: {\n            root: {\n                color: '#808080',\n                '&:hover': {\n                    color: 'black',\n                    backgroundColor: grey[200],\n                },\n            },\n        },\n        RaMenuItem: {\n            root: {\n                color: '#808080',\n            },\n        },\n        RaMultiLevelMenu: {\n            navWithCategories: {\n                backgroundColor: '#fff',\n            },\n        },\n        MuiPaper: {\n            elevation1: {\n                boxShadow: 'none',\n            },\n            root: {\n                border: '1px solid #e0e0e3',\n                backgroundClip: 'padding-box',\n            },\n        },\n        MuiButton: {\n            contained: {\n                backgroundColor: '#fff',\n                color: '#4f3cc9',\n                boxShadow: 'none',\n            },\n        },\n        MuiAppBar: {\n            // Hide MenuItemCategory shadow behind the appbar\n            root: { zIndex: 9999 },\n            colorSecondary: {\n                color: '#808080',\n                backgroundColor: '#fff',\n            },\n        },\n        MuiLinearProgress: {\n            colorPrimary: {\n                backgroundColor: '#f5f5f5',\n            },\n            barColorPrimary: {\n                backgroundColor: '#d7d7d7',\n            },\n        },\n        MuiFilledInput: {\n            root: {\n                backgroundColor: 'rgba(0, 0, 0, 0.04)',\n                '&$disabled': {\n                    backgroundColor: 'rgba(0, 0, 0, 0.04)',\n                },\n            },\n        },\n        RaSidebar: {\n            drawerPaper: {\n                paddingRight: 16,\n                width: 'auto',\n            },\n        },\n        RaFilterFormInput: {\n            body: {\n                // Fixes search filter breadcrumb overlap\n                '& > div': {\n                    marginTop: 8,\n                },\n            },\n        },\n    },\n};\n","import { AuthProvider } from 'ra-core';\n\nconst authProvider: AuthProvider = {\n    login: ({ username }) => {\n        localStorage.setItem('username', username);\n        // accept all username/password combinations\n        return Promise.resolve();\n    },\n    logout: () => {\n        localStorage.removeItem('username');\n        return Promise.resolve();\n    },\n    checkError: () => Promise.resolve(),\n    checkAuth: () =>\n        localStorage.getItem('username') ? Promise.resolve() : Promise.reject(),\n    getPermissions: () => Promise.reject('Unknown method'),\n};\n\nexport default authProvider;\n","import * as React from 'react';\nimport { SVGProps } from 'react';\n\nconst Logo = (props: SVGProps<SVGSVGElement>): React.ReactElement => (\n    <svg width={234.532} height={20.475} viewBox=\"0 0 62.053 5.417\" {...props}>\n        <g\n            aria-label=\"~Posters Galore~\"\n            style={{\n                lineHeight: 1.25,\n            }}\n            fontWeight={400}\n            fontSize={7.056}\n            fontFamily=\"Permanent Marker\"\n            letterSpacing={0}\n            wordSpacing={0}\n            strokeWidth={0.265}\n            fill=\"#4f3cc9\"\n        >\n            <path d=\"M.227 3.659Q.124 3.652.062 3.61 0 3.562 0 3.486q0-.068.062-.124.041-.103.083-.165L.24 3.06q.07-.096.138-.193.069-.096.152-.193.04-.034.068-.048.076-.055.152-.103.076-.055.172-.09.173-.062.338-.062.165-.007.282 0 .097.007.18.02.09.008.151.022.103.048.165.09.07.04.131.096.076.04.118.09.048.04.082.089.02.027.083.09.062.061.151.061.083 0 .138-.075.062-.076.124-.131.055-.145.18-.22.055-.028.089-.035l.076-.014q.02-.007.041-.007l.035-.014.075-.007h.09q.117-.034.207-.034.103.007.165.055.062.041.062.117 0 .076-.062.124-.041.11-.09.172-.04.062-.09.131l-.137.193q-.069.097-.158.193-.028.035-.07.048-.068.056-.144.11-.076.049-.172.083-.18.062-.345.07-.158 0-.275-.008l-.186-.013q-.083-.014-.152-.028-.096-.048-.165-.09-.07-.04-.131-.09-.076-.047-.117-.089-.042-.048-.076-.096-.02-.028-.09-.09-.069-.069-.144-.062-.076.007-.145.083-.062.069-.124.124-.041.138-.172.22-.056.028-.097.035l-.069.014-.041.013q-.02 0-.035.007l-.075.007h-.09q-.117.035-.207.035zM4.417 3.225q.007-.028.027-.021.028 0 .048-.007-.055-.055-.068-.145-.014-.096-.07-.158.014-.035.021-.069.014-.034.062-.028-.02-.151.007-.282.028-.131.083-.248.062-.117.138-.228.082-.117.158-.234.062-.014.076.014.014.02.048-.014.11-.076.152-.165.041-.097.041-.207.062-.179.138-.351.083-.18.186-.331.103-.152.22-.262.118-.117.255-.179.097-.083.242-.152.151-.068.316-.103.173-.041.352-.041.179-.007.33.034.035.014.042-.014Q7.228 0 7.255 0q.345.041.614.138.275.096.468.269.131.206.248.447.117.235.18.496.068.255.061.531-.007.276-.117.551-.241.303-.585.49-.345.179-.745.303-.392.117-.82.193-.42.075-.82.165.007.186 0 .4-.006.206-.048.42-.034.207-.11.406-.069.2-.193.372-.138-.006-.29.028-.144.034-.261.069l-.11-.069q-.049-.028-.124-.034.02-.083-.042-.173-.055-.09-.117-.172-.055-.09-.076-.172-.013-.09.083-.159-.055-.048-.055-.151.028.027.069.027-.014-.124.027-.296.049-.172.076-.338.035-.172.014-.31-.02-.144-.165-.206zm1.791-1.613l-.048.138q-.014.055-.035.103-.02.049-.048.097l-.048.11q.014.042.055.062.041.02.055.062.097-.048.193-.069.097-.027.193-.041.096-.014.193-.035.096-.02.2-.068.103-.049.213-.076l.228-.07q.11-.034.213-.075.104-.048.18-.124-.097-.09-.29-.158-.193-.07-.42-.083-.22-.02-.448.028-.22.048-.386.2zM12.506 3.1q-.007.083.013.16.021.075.049.15.034.07.062.145.027.076.041.152.014.096 0 .214-.014.11-.048.22-.035.103-.09.193-.055.083-.13.124-.097.124-.235.193-.138.069-.255.165-.076.048-.172.07l-.186.04q-.076.042-.18.09l-.213.083q-.11.034-.22.055-.11.014-.193.007-.207.076-.407.096-.193.028-.455-.027-.248.034-.461-.021-.207-.055-.372-.172-.159-.124-.283-.29-.117-.172-.193-.358-.055-.393.028-.71.083-.323.234-.592.159-.276.358-.503.2-.234.386-.455.042.014.062 0 .028-.02.048-.048.021-.035.042-.062.027-.028.062-.035.048-.103.138-.151.096-.055.151-.152.062-.014.104-.041.04-.028.075-.062.042-.035.083-.062.041-.035.097-.048v-.076q.124-.055.179-.124l.144-.18q.062-.006.097-.006.041 0 .117-.014.055-.096.096-.145.049-.048.138-.103.083.041.18.055.103.014.178.09.007.069.042.11.034.034.076.069.041.027.075.062.042.034.056.096.027.007.034-.007.014-.013.041-.007.021.097.049.131.027.028.055.117-.035.07-.055.145-.014.07-.083.104-.007.048.027.055.035 0 .042.034.007.062-.02.09.164.268.295.572.131.296.297.565zm-.862.655q.028-.076.07-.124.048-.048.054-.145-.034-.055-.04-.082-.008-.035-.008-.104-.151-.213-.262-.454-.11-.248-.248-.462-.013.028-.048.055-.034.028-.076-.014-.013.055-.048.083-.034.02-.076.02-.041-.006-.09-.02-.04-.02-.075-.048-.2.158-.4.31-.2.151-.358.351-.028.014-.034.014-.007-.007-.042.007-.055.13-.138.241-.075.103-.151.214-.076.11-.131.234-.055.124-.062.29.117.096.276.116.158.021.323.007.173-.013.331-.041.165-.034.303-.034.29-.07.496-.18.207-.117.434-.234zM12.898 2.067q.049-.145.152-.248.11-.103.234-.172.131-.076.269-.124t.262-.083q.275-.117.585-.22.317-.11.641-.193.331-.083.676-.104.344-.027.723.083.02.069.062.13l.083.125q.048.062.082.124.035.055.042.117.069.062.11.138.041.069.014.186-.07.055-.138.103-.062.042-.138.076-.255-.062-.517-.041-.261.02-.468.034-.062-.062-.152-.062-.082 0-.179.028l-.186.055q-.09.027-.172.014-.07.055-.172.075-.097.014-.214.028-.007.034.014.048.02.007.007.042.041.048.103.068l.138.042q.076.02.13.055.056.027.076.096.104 0 .18.049.075.048.124.117.048.069.069.151.027.076.027.138.02.055.048.048.028-.007.062.028.021.09.104.186.082.09.13.2.014.172.021.31.007.13-.048.269-.103.254-.29.454-.178.2-.413.359-.227.151-.489.261-.262.11-.51.186-.027-.006-.055 0-.027.007-.014-.034-.055.048-.124.062-.062.014-.138.007-.075 0-.158-.007-.076-.007-.145.007-.048-.048-.09-.097-.034-.04-.054-.11-.035 0-.035-.034.007-.035-.02-.035.04-.069.034-.076 0-.013-.02-.02l-.028-.014q-.014-.014-.007-.034.027-.056.02-.124l-.013-.152q-.007-.076.007-.145.02-.069.103-.11.234.028.44-.014.215-.048.4-.13.187-.083.352-.18.172-.096.338-.172.02-.062.055-.103.041-.042.082-.076.042-.035.076-.076.035-.041.048-.103.007-.049-.027-.055-.028-.014-.028-.056l-.076-.02q-.13-.076-.296-.124-.165-.055-.282-.117-.076.04-.145.02-.062-.02-.165-.041-.235-.014-.455-.048-.214-.035-.414-.124-.013-.035-.034-.062-.02-.028-.076-.014-.041-.055-.082-.103-.042-.056-.076-.118.014-.082.02-.137.007-.062-.04-.118.027-.09.04-.144.014-.055 0-.145z\" />\n            <path d=\"M19.988 1.853q-.172 0-.372.028-.2.02-.392.048-.138.02-.27.035-.123.013-.226.02-.049.152-.097.27-.048.116-.103.226-.055.118-.104.242-.041.117-.082.255-.07.11-.117.206-.042.09-.07.207-.082.103-.123.22-.042.11-.062.193l-.028.083q-.041.041-.048.069-.007.02-.035.041-.007.076-.048.152-.014.034-.02.069-.007.027-.007.041 0 .069-.035.09.007.034 0 .075l-.014.07q-.02.082-.013.13l.034.049q.02.02.028.055.04.027.062.034.027.02.082.048l.062.07q.035.199-.062.316-.103.131-.351.131h-.083q-.034-.034-.041-.055l-.09-.034q-.034-.014-.062-.056-.09-.04-.144-.068l-.062-.035v-.083q-.049-.062-.076-.137-.02-.076-.035-.152-.013-.062-.034-.117-.014-.055-.041-.097-.014-.4.075-.675.09-.275.186-.53l.11-.276q.056-.145.097-.296l.062-.07.076-.178.069-.152q.02-.048.034-.09l.035-.082q-.042 0-.076.007-.035 0-.069.007l-.076.013h-.069q-.048 0-.069-.006-.075.034-.165.034H17.019q-.014-.007-.028-.007-.069 0-.11.02h-.228q-.013 0-.034.008h-.034q-.049 0-.104-.007-.055-.014-.117-.048-.082-.11-.11-.118l-.062-.082q-.007-.042-.02-.076-.014-.041-.028-.09-.028-.069-.055-.144-.021-.083-.021-.193.007-.055.028-.083l.034-.048.02-.104.09.007h.193q.22 0 .448-.013l.469-.042.275-.027.296-.028q.028-.062.056-.117l.068-.034q.124-.007.173.034.055.034.09.069l.302-.028q.159-.02.317-.048.235-.034.469-.062.241-.027.462-.027.096 0 .186.006.09.007.165.021l.069.048q.02.042.055.076l.083.069q.082.076.165.18.083.103.062.302-.055.083-.083.097l-.062.082-.069-.006q-.04 0-.075.013-.035.007-.07.021l-.054.028-.062.013h-.104q-.034-.007-.076-.007z\" />\n            <path d=\"M23.303 1.288q.007.049 0 .076 0 .02-.007.042v.048q0 .02.014.069-.145.234-.338.324-.186.082-.407.124-.22.034-.454.075-.228.042-.455.18-.09-.035-.166 0-.068.034-.206.02-.042.042-.104.062-.062.014-.124.035.028.062.021.13 0 .063.02.104.242.02.531-.007.297-.028.58-.034.006.034-.008.048-.014.007-.007.034.049.035.097.09l.096.096q.048.049.097.083.055.028.124.02.027.056.034.125.014.062-.014.13-.11.076-.22.159-.11.076-.234.138-.118.062-.255.103-.131.035-.297.028h-.055q-.014 0-.041-.02-.055.034-.159.02-.096-.014-.151.02-.076-.034-.186-.027-.104 0-.186-.028-.11.145-.2.31-.09.166-.159.352.235.034.386.027.159-.007.297-.02.137-.021.282-.035.145-.02.365-.014.138-.075.324-.096.193-.028.352-.083.055.021.096.076.041.048.076.097.041.04.082.075.042.035.104.028.027.027.034.069.014.034.02.069.008.034.022.062.02.02.062.013-.104.228-.242.352-.13.117-.303.179-.172.062-.386.096-.206.035-.461.083-.062.014-.104-.007-.04-.014-.096-.014-.158.035-.379.062-.22.028-.448.021-.227-.007-.434-.062-.207-.048-.338-.179-.055-.048-.075-.11-.014-.07-.09-.104-.007-.09-.027-.2l-.042-.227q-.02-.124-.034-.24-.007-.118.014-.215.02-.103.082-.186.07-.082.048-.179.035-.007.042-.034.007-.035.055-.028.041-.124.09-.234.048-.11.096-.214.055-.103.103-.206.055-.11.104-.241-.097-.09-.145-.193-.041-.11-.062-.214-.02-.11-.035-.22-.013-.118-.048-.235.07-.103.166-.165.103-.069.22-.11.117-.042.255-.07.138-.027.29-.061.275-.09.489-.138.22-.048.427-.076.213-.034.44-.062.228-.027.518-.083.062.062.117.062.027-.062.062-.034.041.02.034-.041.07.117.172.2.11.075.242.13zM24.185 4.451q-.076.276-.138.42-.055.138-.172.29-.09-.014-.125.02-.034.035-.075.062-.062.014-.09 0-.027-.013-.048-.034-.02-.014-.055-.034-.028-.014-.09-.014-.014-.055-.034-.104-.014-.048-.09-.034.014-.055.007-.09-.007-.041-.02-.069l-.014-.062q-.007-.034.007-.082-.035 0-.056-.048-.02-.049-.048-.097.02-.124.042-.234.02-.11.048-.207.034-.096.055-.193.02-.096-.02-.2.027.021.04-.007.014-.034.021-.082.007-.055.007-.104 0-.055-.007-.09.07-.178.11-.364.049-.193.083-.38.041-.185.083-.364.041-.18.11-.331.076-.014.165.02.097.028.118.076.179-.138.317-.33.137-.2.282-.386.145-.186.317-.331.18-.145.448-.172.138.103.303.213.172.104.282.276.056.027.09.062.041.028.097.062v.083q.082.075.13.179.056.096.097.213l.083.228q.04.11.096.213-.014.035-.014.062 0 .021.007.049.014.027.02.055.008.027 0 .076-.02.303-.199.489-.172.186-.42.31-.248.117-.53.2-.283.082-.51.179 0 .027.02.027.028 0 .02.035.166.103.262.165.097.062.18.103.09.042.186.076.103.028.282.07.18.04.276.068.103.02.186.041l.165.028.248.02q.062.063.104.152.048.083.062.172.013.083.006.166-.006.076-.048.124.007.02.028.02.027-.006.055 0-.041.028-.069.07l-.055.082q-.028.041-.062.069-.035.034-.097.041-.213.083-.537.007-.324-.069-.82-.262-.248-.096-.406-.165-.152-.076-.27-.145-.11-.075-.206-.158l-.22-.2zm.985-2.363q-.076.11-.172.2-.09.09-.18.186-.082.09-.151.206-.069.11-.097.262.242-.027.503-.13.262-.111.496-.208-.027-.213-.151-.344-.117-.13-.248-.172zM27.01 2.067q.048-.145.151-.248.11-.103.234-.172.131-.076.27-.124.137-.048.26-.083.277-.117.587-.22.317-.11.64-.193.331-.083.676-.104.344-.027.723.083.02.069.062.13l.083.125q.048.062.082.124.035.055.042.117.069.062.11.138.041.069.014.186-.07.055-.138.103-.062.042-.138.076-.255-.062-.517-.041-.261.02-.468.034-.062-.062-.152-.062-.082 0-.179.028l-.186.055q-.09.027-.172.014-.069.055-.172.075-.097.014-.214.028-.007.034.014.048.02.007.007.042.041.048.103.068l.138.042q.076.02.13.055.056.027.077.096.103 0 .179.049.076.048.124.117t.069.151q.027.076.027.138.02.055.048.048.028-.007.062.028.021.09.104.186.083.09.13.2.015.172.021.31.007.13-.048.269-.103.254-.29.454-.178.2-.413.359-.227.151-.489.261-.262.11-.51.186-.027-.006-.055 0-.027.007-.014-.034-.055.048-.124.062-.062.014-.137.007-.076 0-.159-.007-.076-.007-.145.007-.048-.048-.09-.097-.034-.04-.054-.11-.035 0-.035-.034.007-.035-.02-.035.04-.069.034-.076 0-.013-.02-.02l-.028-.014q-.014-.014-.007-.034.027-.056.02-.124l-.013-.152q-.007-.076.007-.145.02-.069.103-.11.234.028.441-.014.214-.048.4-.13.186-.083.351-.18.172-.096.338-.172.02-.062.055-.103.041-.042.082-.076.042-.035.076-.076.035-.041.048-.103.007-.049-.027-.055-.028-.014-.028-.056l-.075-.02q-.131-.076-.297-.124-.165-.055-.282-.117-.076.04-.145.02-.062-.02-.165-.041-.235-.014-.455-.048-.214-.035-.413-.124-.014-.035-.035-.062-.02-.028-.076-.014-.041-.055-.082-.103-.042-.056-.076-.118.014-.082.02-.137.007-.062-.04-.118.027-.09.04-.144.014-.055 0-.145zM32.797 3.535q0-.076.021-.138.02-.062.007-.159.213-.454.482-.84.276-.393.655-.69.062-.047.096-.096.042-.055.076-.103.041-.048.09-.083.048-.041.124-.055.172-.2.413-.365.241-.165.503-.317t.524-.31q.268-.159.482-.345.076.049.117.035.048-.02.097-.007.062.13.158.186.103.048.207.103.11.049.2.124.096.07.144.193-.048 0-.048.035.007.034.02.076.014.04.014.075 0 .035-.062.035 0 .048.049.048.048 0 .048.048 0 .042-.02.07-.015.02 0 .075-.166.11-.373.214l-.427.206q-.22.11-.455.241-.227.124-.455.29-.227.165-.461.365-.228.2-.441.427-.214.22-.4.462-.186.234-.317.461.014.035.035.062.027.028.041.063.262.013.49 0 .227-.021.454.027.028-.02.034-.055.007-.035.042-.048.468-.049.875-.152.406-.11.827-.22-.124-.049-.22-.076-.042-.041 0-.069.047-.034.075-.069-.11-.062-.186-.165-.069-.104-.083-.269.049-.041.049-.096 0-.056-.049-.09-.034-.014-.041 0l-.014.027q0 .014-.014.028-.007.014-.034 0 .007-.076.034-.124.028-.048.042-.117l.572-.38q.09.07.22.146.131.075.276.151.144.076.296.159.152.075.282.151.125.055.214.138.09.076.172.165l.166.166q.082.082.2.138-.014.11.013.179.028.069.014.165-.13.234-.317.4-.186.158-.42.275-.228.117-.49.2-.261.076-.537.152-.275.069-.558.151-.276.076-.544.18-.117 0-.2.006-.083.007-.159.021l-.151.028q-.076.013-.165.02-.035-.007-.049.014-.007.02-.027.035-.138.02-.248.02h-.186q-.097 0-.2.028-.104.027-.193.02-.62-.027-.972-.44-.351-.414-.385-1.137.006-.035-.014-.042-.02-.014-.035-.027z\" />\n            <path d=\"M42.01 4.589q-.042.117-.125.241-.075.117-.186.214-.103.09-.234.151-.13.062-.275.07-.09-.022-.124-.05-.028-.02-.062-.04-.021-.014-.042-.021-.014-.014-.027-.02l-.083-.035.028-.09q.013-.055-.007-.083-.021-.034-.083-.09l-.041-.04q-.021-.021-.035-.042l-.117-.13.186-.049q.172-.048.227-.124.062-.076.049-.255-.138-.027-.235-.007-.09.02-.186.048-.124.035-.255.062-.124.021-.275.021h-.104l-.103-.014-.069-.013q-.014-.076-.027-.083l-.028-.028q-.034-.034-.076-.09-.034-.061-.013-.15-.035-.063-.042-.125-.041.083-.062.172l-.027.07-.07.013q-.013.007-.02.035-.007.02-.007.034l-.034.117-.028.028q-.014.007-.027.02-.014.062-.035.124-.02.062-.041.118-.035.09-.062.179-.02.082-.014.165l-.028.076q-.034.041-.075.069l-.083.041q-.014.014-.041.028l-.035.013-.02.076-.083.014-.11.02q-.028.008-.07.008l-.068-.007-.117-.097q-.042-.041-.097-.076-.062-.082-.069-.124l-.014-.075q-.013-.042-.013-.07-.007-.027-.021-.04l-.09-.083.076-.062.007-.117q.138-.352.29-.676l.323-.661q.056-.11.104-.22l.11-.221q-.007-.02-.007-.048t.014-.062q.076-.118.124-.207l.096-.193q.055-.117.11-.227.063-.11.152-.228l.11-.048.049-.014q.027-.014.062-.014l.103.014q.193-.09.338-.248.144-.165.296-.393l.069-.096.09.055q.034.02.096.041.062.014.13.035.125.027.235.062.11.034.18.103.04.11.047.166.007.055.021.11.02.117.035.234.02.117.027.262.035.117.055.234.028.11.048.228l.07.323q.034.152.089.29.055 0 .069.007.034-.014.069-.021l.09-.014.075-.007.028.07q.007.034.069.068.09.007.13.042.042.027.076.062.028.027.055.04l.104.042-.055.104q-.07.124-.2.24-.124.111-.283.187.007.041.007.082.007.035.02.076.022.117.035.241.014.124 0 .255zm-1.992-1.192q.207-.014.372-.028.173-.02.38-.062-.049-.206-.104-.427-.055-.227-.117-.448l-.042.07q-.137.144-.268.323-.124.18-.214.338l-.083.124q-.04.062-.075.124.041-.007.075-.007.042 0 .076-.007zM44.29 5.092q-.193.062-.42.124-.228.062-.455.062-.344 0-.544-.172-.035-.076-.062-.104l-.042-.055q-.013-.034-.02-.09-.083-.096-.131-.22-.048-.13-.07-.262-.013-.138-.006-.275.014-.138.048-.262.014-.028.014-.055l.014-.062q.027-.11.055-.214.034-.103.09-.179-.028-.062 0-.138.027-.076.061-.138.097-.261.159-.44.069-.187.138-.366.117-.31.22-.613.104-.303.186-.655.055-.034.083-.048.041-.014.069-.02.124.062.29.124.165.055.275.055.055.034.069.055l.027.027q.076.09.131.186.055.09.035.242-.042.062-.062.062-.035.137-.076.234-.035.096-.076.193-.048.103-.09.206-.04.104-.068.255-.028.035-.042.062-.007.028-.02.062-.014.035-.035.076-.014.035-.048.062-.02.18-.069.29-.041.11-.09.22-.082.2-.151.4-.062.2-.076.454.035-.013.062-.013h.062q.062 0 .145.02.207-.11.448-.13.248-.021.489-.028H45q.096 0 .179-.014.062.035.076.041h.055q.048 0 .083.007.082.076.158.11.076.035.159.063.075.027.144.062.076.027.145.082l.048.297q.048.062.041.082 0 .055-.027.083l.014.076q-.104.02-.145.048-.034.027-.069.062-.055.007-.083.007h-.04q-.097 0-.235.034-.186-.062-.386-.062-.076 0-.159.007l-.165.014q-.083.014-.172.02-.083.008-.172.008zM50.25 3.1q-.007.083.014.16.02.075.048.15.035.07.062.145.028.076.041.152.014.096 0 .214-.013.11-.048.22-.034.103-.09.193-.054.083-.13.124-.097.124-.235.193-.137.069-.254.165-.076.048-.173.07l-.186.04q-.076.042-.179.09l-.213.083q-.11.034-.221.055-.11.014-.193.007-.207.076-.406.096-.193.028-.455-.027-.248.034-.462-.021-.207-.055-.372-.172-.158-.124-.282-.29-.118-.172-.193-.358-.055-.393.027-.71.083-.323.235-.592.158-.276.358-.503.2-.234.386-.455.041.014.062 0 .027-.02.048-.048.02-.035.041-.062.028-.028.062-.035.048-.103.138-.151.097-.055.152-.152.062-.014.103-.041.041-.028.076-.062.041-.035.082-.062.042-.035.097-.048v-.076q.124-.055.18-.124l.144-.18q.062-.006.096-.006.042 0 .117-.014.056-.096.097-.145.048-.048.138-.103.082.041.179.055.103.014.179.09.007.069.041.11.035.034.076.069.041.027.076.062.041.034.055.096.028.007.034-.007.014-.013.042-.007.02.097.048.131.028.028.055.117-.034.07-.055.145-.014.07-.083.104-.007.048.028.055.034 0 .041.034.007.062-.02.09.165.268.296.572.13.296.296.565zm-.861.655q.027-.076.069-.124.048-.048.055-.145-.035-.055-.041-.082-.007-.035-.007-.104-.152-.213-.262-.454-.11-.248-.248-.462-.014.028-.048.055-.035.028-.076-.014-.014.055-.048.083-.035.02-.076.02-.042-.006-.09-.02-.041-.02-.076-.048-.2.158-.4.31-.2.151-.358.351-.027.014-.034.014-.007-.007-.041.007-.055.13-.138.241-.076.103-.152.214-.076.11-.13.234-.056.124-.063.29.118.096.276.116.158.021.324.007.172-.013.33-.041.166-.034.304-.034.29-.07.496-.18.207-.117.434-.234zM51.78 4.451q-.076.276-.138.42-.055.138-.172.29-.09-.014-.124.02-.035.035-.076.062-.062.014-.09 0-.027-.013-.048-.034-.02-.014-.055-.034-.028-.014-.09-.014-.013-.055-.034-.104-.014-.048-.09-.034.014-.055.007-.09-.007-.041-.02-.069l-.014-.062q-.007-.034.007-.082-.034 0-.055-.048-.02-.049-.048-.097.02-.124.04-.234.022-.11.05-.207.034-.096.054-.193.02-.096-.02-.2.027.021.04-.007.015-.034.022-.082.007-.055.007-.104 0-.055-.007-.09.068-.178.11-.364.048-.193.082-.38l.083-.364q.041-.18.11-.331.076-.014.166.02.096.028.117.076.179-.138.317-.33.138-.2.282-.386.145-.186.317-.331.18-.145.448-.172.138.103.303.213.173.104.283.276.055.027.09.062.04.028.096.062v.083q.083.075.13.179.056.096.097.213.042.11.083.228.041.11.097.213-.014.035-.014.062 0 .021.007.049.014.027.02.055.007.027 0 .076-.02.303-.2.489-.172.186-.42.31-.248.117-.53.2-.283.082-.51.179 0 .027.02.027.028 0 .021.035.166.103.262.165.097.062.18.103.089.042.185.076.104.028.283.07.179.04.275.068.104.02.186.041l.166.028.248.02q.062.063.103.152.048.083.062.172.014.083.007.166-.007.076-.048.124.007.02.028.02.027-.006.055 0-.042.028-.07.07l-.054.082q-.028.041-.062.069-.035.034-.097.041-.213.083-.537.007-.324-.069-.82-.262-.248-.096-.407-.165-.151-.076-.268-.145-.11-.075-.207-.158l-.22-.2zm.985-2.363q-.076.11-.172.2-.09.09-.18.186-.082.09-.15.206-.07.11-.097.262.24-.027.503-.13.261-.111.496-.208-.028-.213-.152-.344-.117-.13-.248-.172zM58.332 1.288q.007.049 0 .076 0 .02-.007.042v.048q0 .02.014.069-.145.234-.337.324-.186.082-.407.124-.22.034-.455.075-.227.042-.454.18-.09-.035-.166 0-.069.034-.207.02-.04.042-.103.062-.062.014-.124.035.028.062.02.13 0 .063.021.104.242.02.531-.007.296-.028.579-.034.007.034-.007.048-.014.007-.007.034.048.035.096.09l.097.096q.048.049.096.083.055.028.124.02.028.056.035.125.014.062-.014.13-.11.076-.22.159-.11.076-.235.138-.117.062-.255.103-.13.035-.296.028h-.055q-.014 0-.041-.02-.056.034-.159.02-.096-.014-.152.02-.075-.034-.186-.027-.103 0-.186-.028-.11.145-.2.31-.089.166-.158.352.234.034.386.027.158-.007.296-.02.138-.021.283-.035.144-.02.365-.014.138-.075.324-.096.193-.028.351-.083.055.021.097.076.041.048.075.097.042.04.083.075.041.035.104.028.027.027.034.069.014.034.02.069.008.034.021.062.021.02.062.013-.103.228-.24.352-.132.117-.304.179-.172.062-.386.096-.206.035-.461.083-.062.014-.104-.007-.041-.014-.096-.014-.159.035-.38.062-.22.028-.447.021-.227-.007-.434-.062-.207-.048-.338-.179-.055-.048-.076-.11-.013-.07-.09-.104-.006-.09-.027-.2l-.041-.227q-.02-.124-.035-.24-.007-.118.014-.215.02-.103.083-.186.069-.082.048-.179.035-.007.041-.034.007-.035.056-.028.04-.124.09-.234.047-.11.096-.214.055-.103.103-.206.055-.11.103-.241-.096-.09-.144-.193-.042-.11-.062-.214-.021-.11-.035-.22-.014-.118-.048-.235.069-.103.165-.165.104-.069.22-.11.118-.042.256-.07.138-.027.29-.061.275-.09.488-.138.22-.048.427-.076.214-.034.441-.062.228-.027.517-.083.062.062.117.062.028-.062.062-.034.042.02.035-.041.069.117.172.2.11.075.241.13zM58.394 3.659q-.103-.007-.165-.049-.062-.048-.062-.124 0-.068.062-.124.041-.103.083-.165l.096-.138q.07-.096.138-.193.069-.096.152-.193.04-.034.068-.048.076-.055.152-.103.076-.055.172-.09.173-.062.338-.062.165-.007.282 0 .097.007.18.02.09.008.151.022.104.048.166.09.068.04.13.096.076.04.118.09.048.04.082.089.021.027.083.09.062.061.152.061.082 0 .137-.075.062-.076.124-.131.056-.145.18-.22.055-.028.09-.035l.075-.014q.02-.007.041-.007.021-.007.035-.014l.076-.007h.09q.116-.034.206-.034.103.007.165.055.062.041.062.117 0 .076-.062.124-.041.11-.09.172-.04.062-.089.131l-.138.193q-.069.097-.158.193-.028.035-.07.048-.068.056-.144.11-.076.049-.172.083-.18.062-.345.07-.158 0-.275-.008l-.186-.013q-.083-.014-.152-.028-.096-.048-.165-.09-.07-.04-.131-.09-.076-.047-.117-.089-.042-.048-.076-.096-.02-.028-.09-.09-.069-.069-.144-.062-.076.007-.145.083-.062.069-.124.124-.041.138-.172.22-.055.028-.097.035l-.069.014-.041.013q-.02 0-.035.007l-.075.007h-.09q-.117.035-.207.035z\" />\n        </g>\n    </svg>\n);\n\nexport default Logo;\n","import React, { FC } from 'react';\nimport { AppBar, useQuery } from 'react-admin';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport Badge from '@material-ui/core/Badge';\nimport TourIcon from '@material-ui/icons/Flag';\nimport { Link } from 'react-router-dom';\nimport {\n    ToggleThemeButton,\n    LanguageSwitcher,\n} from '@react-admin/ra-preferences';\n\nimport { Search } from './index';\nimport Logo from './Logo';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: 'relative',\n    },\n    title: {\n        flex: 1,\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n        paddingLeft: theme.spacing(1),\n    },\n    logo: {\n        padding: theme.spacing(0, 2),\n        [theme.breakpoints.up('lg')]: {\n            position: 'absolute',\n            left: '50%',\n            top: '50%',\n            transform: 'translate(-50%, -50%)',\n        },\n    },\n}));\n\nconst CustomAppBar: FC = props => {\n    const classes = useStyles();\n\n    const { data } = useQuery({\n        type: 'getList',\n        resource: 'tours',\n        payload: { filter: { playedOn: null } },\n    });\n\n    let numberOfTours = 0;\n    if (data) {\n        numberOfTours = data.length;\n    }\n\n    return (\n        <AppBar {...props} elevation={1}>\n            <Typography\n                variant=\"h6\"\n                color=\"inherit\"\n                className={classes.title}\n                id=\"react-admin-title\"\n            />\n            <Logo className={classes.logo} />\n            <Search />\n            <IconButton to=\"/tours\" component={Link} color=\"inherit\">\n                <Badge badgeContent={numberOfTours} color=\"error\" variant=\"dot\">\n                    <TourIcon />\n                </Badge>\n            </IconButton>\n            <ToggleThemeButton />\n            <LanguageSwitcher\n                languages={[\n                    { locale: 'en', name: 'English' },\n                    { locale: 'fr', name: 'Français' },\n                ]}\n                defaultLanguage=\"English\"\n            />\n        </AppBar>\n    );\n};\n\nexport default CustomAppBar;\n","import React, { FC } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    Breadcrumb,\n    BreadcrumbItem,\n    ResourceBreadcrumbItems,\n} from '@react-admin/ra-navigation';\nimport { linkToRecord, useTranslate, Record } from 'ra-core';\n\nconst CustomBreadcrumb: FC = props => {\n    const classes = useStyles();\n    const translate = useTranslate();\n\n    const editLabel = translate('ra.action.edit');\n    const createLabel = translate('ra.action.create');\n    return (\n        <Breadcrumb className={classes.root} {...props}>\n            <ResourceBreadcrumbItems\n                resources={['invoices', 'stores', 'tours']}\n            />\n            <BreadcrumbItem\n                name=\"catalog\"\n                label={translate('pos.menu.catalog', 1)}\n            >\n                <BreadcrumbItem\n                    name=\"products\"\n                    label={translate('resources.products.name', 2)}\n                    to=\"/products\"\n                >\n                    <BreadcrumbItem\n                        name=\"edit\"\n                        label={({ record }: { record?: Record }): string =>\n                            `${editLabel} ${\n                                record ? `\"${record.reference}\"` : '...'\n                            }`\n                        }\n                        to={({ record }: { record?: Record }): string =>\n                            record\n                                ? `${linkToRecord('/products', record.id)}/edit`\n                                : ''\n                        }\n                    />\n                    <BreadcrumbItem\n                        name=\"create\"\n                        label={createLabel}\n                        to=\"/products/create\"\n                    />\n                </BreadcrumbItem>\n                <BreadcrumbItem\n                    name=\"categories\"\n                    label={translate('resources.categories.name', 2)}\n                />\n            </BreadcrumbItem>\n            <BreadcrumbItem\n                name=\"reviews\"\n                label={translate('resources.reviews.name', 2)}\n                to=\"/reviews?filter={}\"\n            >\n                <BreadcrumbItem\n                    name=\"status_filter\"\n                    label={({ status }): string =>\n                        `${translate('pos.filter')} status \"${translate(\n                            `pos.reviews.${status}`\n                        )}\"`\n                    }\n                />\n            </BreadcrumbItem>\n            <BreadcrumbItem\n                name=\"commands\"\n                label={translate('resources.commands.name', 2)}\n                to=\"/commands\"\n            >\n                <BreadcrumbItem\n                    name=\"edit\"\n                    label={({ record }: { record?: Record }): string =>\n                        `${editLabel} ${\n                            record ? `\"${record.reference}\"` : '...'\n                        }`\n                    }\n                    to={({ record }: { record?: Record }): string =>\n                        record\n                            ? `${linkToRecord('/products', record.id)}/edit`\n                            : ''\n                    }\n                />\n            </BreadcrumbItem>\n            <BreadcrumbItem\n                name=\"audience\"\n                label={translate('pos.menu.audience', 1)}\n            >\n                <BreadcrumbItem\n                    name=\"customers\"\n                    label={translate('resources.customers.name', 2)}\n                    to=\"/customers\"\n                >\n                    <BreadcrumbItem\n                        name=\"edit\"\n                        label={({ record }: { record?: Record }): string =>\n                            `${editLabel} ${\n                                record\n                                    ? `\"${record.first_name} ${record.last_name}\"`\n                                    : '...'\n                            }`\n                        }\n                        to={({ record }: { record?: Record }): string =>\n                            record\n                                ? `${linkToRecord(\n                                      '/customers',\n                                      record.id\n                                  )}/edit`\n                                : ''\n                        }\n                    />\n                    <BreadcrumbItem\n                        name=\"create\"\n                        label={createLabel}\n                        to=\"/customers/create\"\n                    />\n                </BreadcrumbItem>\n                <BreadcrumbItem\n                    name=\"segments\"\n                    label={translate('resources.segments.name', 2)}\n                />\n            </BreadcrumbItem>\n        </Breadcrumb>\n    );\n};\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        paddingTop: theme.spacing(1),\n        fontSize: 'small',\n        // Display the Breadcrumb over the custom Layout of some pages by adding a zIndex and a maxWidth\n        // @see \"src/products/ProductList.tsx\" or \"src/visitors/VisitorList.tsx\"\n        maxWidth: '700px',\n        zIndex: 1,\n        '& a': {\n            pointerEvents: 'visible',\n        },\n    },\n}));\n\nexport default CustomBreadcrumb;\n","import React, { FC, useEffect } from 'react';\nimport { Create, useRefresh, useRedirect, CreateProps } from 'react-admin';\n\ninterface PromptProps {\n    label: string;\n    record?: any;\n    save?: (data) => any;\n}\n\nconst Prompt: FC<PromptProps> = ({\n    save = (): any => undefined,\n    record = {},\n}) => {\n    useEffect(() => {\n        const result = window.prompt('Category', record.name);\n        save({ ...record, name: result, children: [], isRoot: true });\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    return null;\n};\n\nconst CategoryCreate: FC<CreateProps> = props => {\n    const refresh = useRefresh();\n    const redirect = useRedirect();\n\n    const onSuccess = (): void => {\n        redirect(props.basePath as string);\n        refresh();\n    };\n\n    return (\n        <Create {...props} onSuccess={onSuccess}>\n            <Prompt label=\"Category name\" />\n        </Create>\n    );\n};\n\nexport default CategoryCreate;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { useTranslate } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Lock as LockIcon } from '@material-ui/icons';\nimport { Typography } from '@material-ui/core';\n\nexport const LockOverlay: FC<any> = ({ lock, ...rest }) => {\n    const classes = useStyles();\n    const translate = useTranslate();\n\n    return (\n        <div className={classes.root} {...rest}>\n            <LockIcon />\n            <div className={classes.identity}>\n                <Typography variant=\"body1\" color=\"inherit\">\n                    {translate('resources.locks.overlay', {\n                        name: lock.identity,\n                    })}\n                </Typography>\n            </div>\n        </div>\n    );\n};\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        background: 'rgba(0, 0, 0, 0.9)',\n        position: 'absolute',\n        textAlign: 'center',\n        color: theme.palette.common.white,\n        padding: '25% 0',\n    },\n    identity: {\n        paddingTop: '1em',\n    },\n}));\n","import * as React from 'react';\nimport { FC } from 'react';\nimport MuiGridList from '@material-ui/core/GridList';\nimport GridListTile from '@material-ui/core/GridListTile';\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport withWidth, { WithWidth } from '@material-ui/core/withWidth';\nimport { linkToRecord, NumberField, useListContext } from 'react-admin';\nimport { Record } from 'ra-core';\nimport { Link } from 'react-router-dom';\nimport { Breakpoint } from '@material-ui/core/styles/createBreakpoints';\nimport { Lock, useHasLocks } from '@react-admin/ra-realtime';\n\nimport { LockOverlay } from './LockOverlay';\nimport { DatagridProps, Product } from '../types';\n\nconst useStyles = makeStyles(theme => ({\n    gridList: {\n        margin: 0,\n    },\n    tile: {\n        position: 'relative',\n    },\n    tileBar: {\n        background:\n            'linear-gradient(to top, rgba(0,0,0,0.8) 0%,rgba(0,0,0,0.4) 70%,rgba(0,0,0,0) 100%)',\n    },\n    placeholder: {\n        backgroundColor: theme.palette.grey[300],\n        height: '100%',\n    },\n    price: {\n        display: 'inline',\n        fontSize: '1em',\n    },\n    link: {\n        color: '#fff',\n    },\n}));\n\nconst getColsForWidth = (width: Breakpoint): number => {\n    if (width === 'xs') return 2;\n    if (width === 'sm') return 3;\n    if (width === 'md') return 4;\n    if (width === 'lg') return 5;\n    return 6;\n};\n\nconst times = (nbChildren: number, fn: (key: number) => any): Array<any> =>\n    Array.from({ length: nbChildren }, (_, key) => fn(key));\n\nconst LoadingGridList: FC<GridProps & { nbItems?: number }> = ({\n    width,\n    nbItems = 20,\n}) => {\n    const classes = useStyles();\n\n    return (\n        <MuiGridList\n            cellHeight={180}\n            cols={getColsForWidth(width)}\n            className={classes.gridList}\n        >\n            {times(nbItems, key => (\n                <GridListTile key={key}>\n                    <div className={classes.placeholder} />\n                </GridListTile>\n            ))}\n        </MuiGridList>\n    );\n};\n\ntype ProductTitleProps = {\n    record: Record;\n};\n\nconst ProductTile: FC<ProductTitleProps> = ({ record }) => {\n    const classes = useStyles();\n\n    return (\n        <>\n            <img src={record.thumbnail} alt=\"\" />\n            <GridListTileBar\n                className={classes.tileBar}\n                title={record.reference}\n                subtitle={\n                    <span>\n                        {record.width}x{record.height},{' '}\n                        <NumberField\n                            className={classes.price}\n                            source=\"price\"\n                            record={record}\n                            color=\"inherit\"\n                            options={{\n                                style: 'currency',\n                                currency: 'USD',\n                            }}\n                        />\n                    </span>\n                }\n            />\n        </>\n    );\n};\n\nconst LoadedGridList: FC<GridProps> = ({ width }) => {\n    const { ids, data, basePath, resource } = useListContext();\n    const { data: locks } = useHasLocks(resource);\n    const classes = useStyles();\n\n    const firstLockRecordId = React.useRef();\n\n    if (!ids || !data) return null;\n\n    return (\n        <MuiGridList\n            cellHeight={180}\n            cols={getColsForWidth(width)}\n            className={classes.gridList}\n            data-tour-id=\"grid-line\"\n        >\n            {ids.map(id => {\n                const lock = locks.find((l: Lock) => l.recordId === id);\n                if (lock && !firstLockRecordId.current) {\n                    firstLockRecordId.current = lock.recordId;\n                }\n\n                const isFirstLock = firstLockRecordId.current === id;\n\n                return (\n                    <GridListTile\n                        key={id}\n                        component={lock ? 'span' : Link}\n                        to={linkToRecord(basePath, id)}\n                        className={classes.tile}\n                        data-productid={id}\n                        data-lockidentity={lock ? lock.identity : undefined}\n                        data-testid={\n                            isFirstLock ? 'productlocktile' : undefined\n                        }\n                    >\n                        <ProductTile record={data[id]} />\n                        {lock && <LockOverlay lock={lock} />}\n                    </GridListTile>\n                );\n            })}\n        </MuiGridList>\n    );\n};\n\ninterface GridProps extends DatagridProps<Product>, WithWidth {}\n\nconst GridList: FC<WithWidth> = ({ width }) => {\n    const { loaded } = useListContext();\n\n    return loaded ? (\n        <LoadedGridList width={width} />\n    ) : (\n        <LoadingGridList width={width} />\n    );\n};\n\nexport default withWidth()(GridList);\n","import * as React from 'react';\nimport { ReactElement } from 'react';\nimport { Card, CardContent } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport LocalOfferIcon from '@material-ui/icons/LocalOfferOutlined';\nimport BarChartIcon from '@material-ui/icons/BarChart';\nimport AttachMoneyIcon from '@material-ui/icons/AttachMoney';\nimport {\n    FilterList,\n    FilterListItem,\n    FilterLiveSearch,\n    ListProps,\n} from 'react-admin';\nimport { useListFilterContext } from 'ra-core';\nimport { useGetTree, Tree, getRCTree } from '@react-admin/ra-tree';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        [theme.breakpoints.up('sm')]: {\n            width: '15em',\n            marginRight: '1em',\n            overflow: 'initial',\n        },\n        [theme.breakpoints.down('sm')]: {\n            display: 'none',\n        },\n    },\n}));\n\nconst Aside = (props: ListProps): ReactElement => {\n    const { setFilters, filterValues, displayedFilters } = useListFilterContext(\n        props\n    );\n\n    const { data } = useGetTree('categories');\n\n    const tree = data ? getRCTree(data, 'name') : undefined;\n\n    const defaultExpandedKeys = filterValues.category_id\n        ? [filterValues.category_id.toString()]\n        : !!tree\n        ? [tree[0].key]\n        : undefined;\n\n    const defaultSelectedKeys =\n        filterValues.category_id !== undefined\n            ? [filterValues.category_id.toString()]\n            : [];\n\n    const handleSelectCategory = (\n        selectedKeys: any,\n        { selectedNodes }: any\n    ): void => {\n        const [{ id }] = selectedNodes;\n\n        setFilters(\n            {\n                ...filterValues,\n                category_id: id,\n            },\n            displayedFilters\n        );\n    };\n\n    const classes = useStyles();\n    return (\n        <Card className={classes.root}>\n            <CardContent>\n                <FilterLiveSearch />\n\n                <FilterList\n                    label=\"resources.products.filters.sales\"\n                    icon={<AttachMoneyIcon />}\n                >\n                    <FilterListItem\n                        label=\"resources.products.filters.best_sellers\"\n                        value={{\n                            sales_lte: undefined,\n                            sales_gt: 25,\n                            sales: undefined,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.average_sellers\"\n                        value={{\n                            sales_lte: 25,\n                            sales_gt: 10,\n                            sales: undefined,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.low_sellers\"\n                        value={{\n                            sales_lte: 10,\n                            sales_gt: 0,\n                            sales: undefined,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.never_sold\"\n                        value={{\n                            sales_lte: undefined,\n                            sales_gt: undefined,\n                            sales: 0,\n                        }}\n                    />\n                </FilterList>\n\n                <FilterList\n                    label=\"resources.products.filters.stock\"\n                    icon={<BarChartIcon />}\n                >\n                    <FilterListItem\n                        label=\"resources.products.filters.no_stock\"\n                        value={{\n                            stock_lt: undefined,\n                            stock_gt: undefined,\n                            stock: 0,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.low_stock\"\n                        value={{\n                            stock_lt: 10,\n                            stock_gt: 0,\n                            stock: undefined,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.average_stock\"\n                        value={{\n                            stock_lt: 50,\n                            stock_gt: 9,\n                            stock: undefined,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.enough_stock\"\n                        value={{\n                            stock_lt: undefined,\n                            stock_gt: 49,\n                            stock: undefined,\n                        }}\n                    />\n                </FilterList>\n\n                <FilterList\n                    label=\"resources.products.filters.categories\"\n                    icon={<LocalOfferIcon />}\n                >\n                    <Tree\n                        // HACK: ensure the tree is updated and expland nodes correctly\n                        // see https://github.com/react-component/tree/issues/234#issuecomment-599297897\n                        // I tried passing a JSON.stringify version of\n                        // defaultSelectedKeys and defaultExpandedKeys without success\n                        key={Math.random()}\n                        treeData={tree ? tree[0].children : []}\n                        onSelect={handleSelectCategory}\n                        defaultSelectedKeys={defaultSelectedKeys}\n                        defaultExpandedKeys={defaultExpandedKeys}\n                        autoExpandParent\n                    />\n                </FilterList>\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default Aside;\n","import * as React from 'react';\nimport { ReactElement, FC } from 'react';\nimport { Box, Chip, useMediaQuery, Theme } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { InputProps } from 'ra-core';\nimport {\n    ListBase,\n    NumberInput,\n    Pagination,\n    ReferenceInput,\n    SearchInput,\n    SelectInput,\n    TopToolbar,\n    CreateButton,\n    ExportButton,\n    SortButton,\n    Title,\n    useTranslate,\n    useListContext,\n    Filter,\n    ListProps,\n    FilterProps,\n    ListActionsProps,\n} from 'react-admin';\nimport { useDefineAppLocation } from '@react-admin/ra-navigation';\n\nimport GridList from './GridList';\nimport Aside from './Aside';\n\nconst useQuickFilterStyles = makeStyles(theme => ({\n    root: {\n        marginBottom: theme.spacing(3),\n    },\n}));\n\nconst QuickFilter = ({ label }: InputProps): ReactElement => {\n    const translate = useTranslate();\n    const classes = useQuickFilterStyles();\n    return <Chip className={classes.root} label={translate(label)} />;\n};\n\nexport const ProductFilter = (\n    props: Omit<FilterProps, 'children'>\n): ReactElement => (\n    <Filter {...props}>\n        <SearchInput source=\"q\" alwaysOn />\n        <ReferenceInput\n            source=\"category_id\"\n            reference=\"categories\"\n            sort={{ field: 'id', order: 'ASC' }}\n        >\n            <SelectInput source=\"name\" />\n        </ReferenceInput>\n        <NumberInput source=\"width_gte\" />\n        <NumberInput source=\"width_lte\" />\n        <NumberInput source=\"height_gte\" />\n        <NumberInput source=\"height_lte\" />\n        <QuickFilter\n            label=\"resources.products.fields.stock_lte\"\n            source=\"stock_lte\"\n            defaultValue={10}\n        />\n    </Filter>\n);\n\nconst ListActions = ({\n    isSmall,\n}: ListActionsProps & { isSmall: boolean }): ReactElement => {\n    const classes = useListActionsStyles();\n\n    return (\n        <TopToolbar className={classes.root}>\n            {isSmall && <ProductFilter context=\"button\" />}\n            <SortButton fields={['reference', 'sales', 'stock']} />\n            <CreateButton basePath=\"/products\" />\n            <ExportButton />\n        </TopToolbar>\n    );\n};\n\nconst useListActionsStyles = makeStyles(theme => ({\n    root: {\n        paddingBottom: 0,\n        paddingTop: theme.spacing(4),\n    },\n}));\n\nconst ProductList: FC<ListProps> = ({ actions, ...props }) => {\n    useDefineAppLocation('catalog.products');\n    const isSmall = useMediaQuery<Theme>(theme => theme.breakpoints.down('sm'));\n\n    return (\n        <ListBase\n            filters={isSmall ? <ProductFilter /> : null}\n            perPage={20}\n            sort={{ field: 'reference', order: 'ASC' }}\n            {...props}\n        >\n            <ProductListView\n                actions={actions}\n                isSmall={isSmall}\n                aside={props.aside}\n                title={props.title}\n            />\n        </ListBase>\n    );\n};\n\n// The aside prop is only used to disable the aside here if explicitly set to false\n// If undefined, we consider the aside is not explicitly disabled an display the filter\n// vertical bar\nconst ProductListView = ({\n    isSmall,\n    actions = <ListActions isSmall={isSmall} />,\n    aside,\n    title,\n}: {\n    isSmall: boolean;\n    actions?: ReactElement | false;\n    aside?: ReactElement | false;\n    title?: string | ReactElement;\n}): ReactElement => {\n    const { defaultTitle } = useListContext();\n    const classes = useStyles();\n    return (\n        <div className={classes.root}>\n            <Title title={title || defaultTitle} />\n            {actions}\n            {(isSmall || aside === false) && (\n                <Box m={1}>\n                    <ProductFilter context=\"form\" />\n                </Box>\n            )}\n            <Box display=\"flex\">\n                {aside !== false ? <Aside /> : null}\n                <Box\n                    width={\n                        isSmall || aside === false\n                            ? 'auto'\n                            : 'calc(100% - 16em)'\n                    }\n                >\n                    <GridList />\n                    <Pagination rowsPerPageOptions={[10, 20, 40]} />\n                </Box>\n            </Box>\n        </div>\n    );\n};\n\nexport default ProductList;\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        marginTop: -theme.spacing(7),\n    },\n}));\n","import React, { FC, ReactElement } from 'react';\nimport { useTranslate } from 'ra-core';\nimport {\n    TopToolbar,\n    CreateButton,\n    ExportButton,\n    SortButton,\n    EditProps,\n} from 'ra-ui-materialui';\nimport { Edit, TextInput } from 'react-admin';\nimport { SimpleForm } from '@react-admin/ra-tree';\n\nimport ProductList from '../products/ProductList';\nimport { Typography, makeStyles } from '@material-ui/core';\n\nconst CategoryEdit: FC<EditProps> = props => {\n    const translate = useTranslate();\n    const classes = useStyles();\n\n    return (\n        <>\n            <Edit {...props}>\n                <SimpleForm>\n                    <TextInput source=\"name\" />\n                </SimpleForm>\n            </Edit>\n            <Typography className={classes.subtitle} variant=\"h5\">\n                {translate('resources.products.name', { smart_count: 2 })}\n            </Typography>\n            <CategoryEditAside {...props} />\n        </>\n    );\n};\n\nconst CategoryEditAside = ({ id, ...rest }: EditProps): ReactElement => (\n    <ProductList\n        {...rest}\n        title=\" \"\n        basePath=\"/products\"\n        resource=\"products\"\n        hasCreate\n        hasEdit\n        hasList={false}\n        hasShow={false}\n        filter={{ category_id: id }}\n        exporter={false}\n        aside={undefined}\n        actions={<ProductListActions />}\n    />\n);\n\nconst ProductListActions = (): ReactElement => (\n    <TopToolbar>\n        <SortButton fields={['reference', 'sales', 'stock']} />\n        <CreateButton\n            label=\"resources.categories.actions.create_product\"\n            basePath=\"/products\"\n        />\n        <ExportButton />\n    </TopToolbar>\n);\n\nexport default CategoryEdit;\n\nconst useStyles = makeStyles(theme => ({\n    subtitle: {\n        marginTop: theme.spacing(6),\n    },\n}));\n","import CategoryIcon from '@material-ui/icons/Bookmark';\n\nimport CategoryList from './CategoryList';\n\nexport default {\n    list: CategoryList,\n    icon: CategoryIcon,\n};\n","import React, { FC, useEffect } from 'react';\nimport { ListProps } from 'react-admin';\nimport { TreeWithDetails, useTreeController } from '@react-admin/ra-tree';\nimport { useDefineAppLocation } from '@react-admin/ra-navigation';\n\nimport CategoryCreate from './CategoryCreate';\nimport CategoryEdit from './CategoryEdit';\n\nconst CategoryList: FC<ListProps> = props => {\n    // We need to override the \"category\" location to highlight menu item in the sidebar\n    useDefineAppLocation('catalog.categories');\n\n    const { handleExpand } = useTreeController({\n        resource: props.resource as string,\n        titleField: 'name',\n    });\n\n    useEffect(() => {\n        handleExpand(['5']);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return (\n        <TreeWithDetails\n            create={CategoryCreate}\n            edit={CategoryEdit}\n            titleField=\"name\"\n            draggable\n            allowMultipleRoots\n            defaultSelectedKeys={['5']}\n            {...props}\n        />\n    );\n};\n\nexport default CategoryList;\n","import React, {\n    cloneElement,\n    useMemo,\n    forwardRef,\n    ReactElement,\n    FC,\n    ReactNode,\n    JSXElementConstructor,\n    useRef,\n} from 'react';\n\nimport {\n    List,\n    Button,\n    TopToolbar,\n    CreateButton,\n    sanitizeListRestProps,\n    ExportButton,\n    useListContext,\n    ListProps,\n} from 'react-admin';\nimport classnames from 'classnames';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n    SelectColumnsMenu,\n    useSelectedColumns,\n    usePreferences,\n} from '@react-admin/ra-preferences';\n\nimport TableChartIcon from '@material-ui/icons/TableChart';\nimport AppsIcon from '@material-ui/icons/Apps';\n\nimport IconButton from '@material-ui/core/IconButton';\nimport Menu from '@material-ui/core/Menu';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport { ColumnList } from '@react-admin/ra-preferences/esm/src/list/useSelectedColumns';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        paddingBottom: 0,\n        paddingTop: theme.spacing(4),\n    },\n    menuPaper: {\n        padding: '1rem 0',\n    },\n    menuList: {\n        '&> * > *': {\n            padding: '0 2rem',\n        },\n    },\n    toolContainer: {\n        margin: '20px 0',\n        '&:first-child': {\n            marginTop: 0,\n        },\n        '&:last-child': {\n            marginBottom: 0,\n        },\n    },\n    columnsList: {\n        maxHeight: '250px',\n        overflowY: 'auto',\n        margin: 0,\n        background: '#eee',\n    },\n}));\n\nconst ToolContainer = forwardRef<HTMLDivElement, any>(({ children }, ref) => {\n    const classes = useStyles();\n\n    return (\n        <div ref={ref} className={classes.toolContainer}>\n            {children}\n        </div>\n    );\n});\nToolContainer.displayName = 'ToolContainer';\n\nconst ColumnsTool: FC<{\n    preferenceKey: string;\n    defaultColumns: { [key: string]: ReactElement };\n}> = ({ preferenceKey, defaultColumns }) => {\n    const classes = useStyles();\n    const ref = useRef<HTMLDivElement | null>(null);\n\n    return (\n        <>\n            <Typography\n                variant=\"overline\"\n                gutterBottom\n                key=\"columns-selector-tool-title\"\n                component=\"div\"\n                ref={ref}\n            >\n                Columns to display\n            </Typography>\n            <SelectColumnsMenu\n                key=\"columns-selector-tool-menu\"\n                preference={preferenceKey}\n                columns={defaultColumns}\n                className={classes.columnsList}\n            />\n        </>\n    );\n};\n\ntype View = 'table' | 'grid' | 'small';\ntype SetView = (view: View) => void;\n\nconst GridOrListTool: FC<{\n    view: View;\n    setView: SetView;\n}> = ({ view, setView }) => (\n    <>\n        <Typography\n            variant=\"overline\"\n            gutterBottom\n            key=\"view-selector-tool-title\"\n            component=\"div\"\n        >\n            Layout\n        </Typography>\n\n        <ButtonGroup key=\"view-selector-tool-menu\">\n            <Button\n                color={view === 'table' ? 'primary' : 'default'}\n                onClick={(): void => setView('table')}\n                label=\"table\"\n            >\n                <TableChartIcon />\n            </Button>\n            <Button\n                color={view === 'grid' ? 'primary' : 'default'}\n                onClick={(): void => setView('grid')}\n                label=\"grid\"\n            >\n                <AppsIcon />\n            </Button>\n        </ButtonGroup>\n    </>\n);\n\nconst Actions: FC<{\n    className?: string;\n    defaultColumns: { [key: string]: ReactElement };\n    filters?: ReactElement | false;\n    hasColumnsSelector?: boolean;\n    hasList?: boolean;\n    hasShow?: boolean;\n    hasViewSelector?: boolean;\n    maxResults?: number;\n    permanentFilter?: any;\n    preferenceKey: string;\n    setView: SetView;\n    view: View;\n}> = ({\n    className,\n    defaultColumns,\n    filters,\n    hasColumnsSelector,\n    hasList,\n    hasShow,\n    hasViewSelector,\n    maxResults,\n    permanentFilter,\n    preferenceKey,\n    setView,\n    view,\n    ...rest\n}) => {\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const classes = useStyles();\n    const open = Boolean(anchorEl);\n    const {\n        basePath,\n        currentSort,\n        displayedFilters,\n        exporter,\n        filterValues,\n        resource,\n        showFilter,\n        total,\n    } = useListContext();\n\n    const handleClick = (event): void => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = (): void => {\n        setAnchorEl(null);\n    };\n\n    const hasTools = hasColumnsSelector || hasViewSelector;\n\n    return (\n        <TopToolbar\n            className={classnames(className, classes.root)}\n            {...sanitizeListRestProps(rest)}\n        >\n            {filters &&\n                cloneElement(filters, {\n                    resource,\n                    showFilter,\n                    displayedFilters,\n                    filterValues,\n                    context: 'button',\n                })}\n            <CreateButton basePath={basePath} />\n            {exporter && (\n                <ExportButton\n                    disabled={total === 0}\n                    resource={resource}\n                    sort={currentSort}\n                    filterValues={{ ...filterValues, ...permanentFilter }}\n                    exporter={exporter}\n                    maxResults={maxResults}\n                />\n            )}\n\n            {hasTools && (\n                <>\n                    <IconButton\n                        aria-label=\"more\"\n                        aria-controls=\"user-preference-menu\"\n                        aria-haspopup=\"true\"\n                        onClick={handleClick}\n                        size=\"small\"\n                    >\n                        <MoreVertIcon />\n                    </IconButton>\n                    <Menu\n                        id=\"user-preference-menu\"\n                        anchorEl={anchorEl}\n                        keepMounted\n                        open={open}\n                        onClose={handleClose}\n                        classes={{\n                            paper: classes.menuPaper,\n                            list: classes.menuList,\n                        }}\n                    >\n                        {hasViewSelector && (\n                            <ToolContainer>\n                                <GridOrListTool view={view} setView={setView} />\n                            </ToolContainer>\n                        )}\n                        {hasColumnsSelector && (\n                            <ToolContainer>\n                                <ColumnsTool\n                                    preferenceKey={preferenceKey}\n                                    defaultColumns={defaultColumns}\n                                />\n                            </ToolContainer>\n                        )}\n                    </Menu>\n                </>\n            )}\n        </TopToolbar>\n    );\n};\nconst elementHasProp = (element, name, value): boolean =>\n    element.props[name] && element.props[name] === value;\n\nconst hasChildren = (element, type, props): boolean => {\n    if (!React.isValidElement(element)) return false;\n\n    let hasChildrenOfType = false;\n\n    React.Children.map(element, child => {\n        if (hasChildrenOfType) return;\n        if (!React.isValidElement<{ children?: ReactNode }>(child)) return;\n\n        if (\n            (child.type as JSXElementConstructor<any>).name === type &&\n            Object.keys(props).every(propName =>\n                elementHasProp(child, propName, props[propName])\n            )\n        ) {\n            hasChildrenOfType = true;\n            return;\n        }\n\n        hasChildrenOfType = hasChildren(child.props.children, type, props);\n    });\n\n    return hasChildrenOfType;\n};\n\nconst EnterpriseList: FC<\n    {\n        children: (props?: any) => ReactElement;\n        classes: any;\n        className?: string;\n        defaultColumns: ColumnList;\n        defaultOmittedColumns: string[];\n        defaultView?: View;\n        hasColumnsSelector?: boolean;\n        hasViewSelector?: boolean;\n        preferenceKey: string;\n    } & Omit<ListProps, 'children'>\n> = props => {\n    const {\n        className,\n        preferenceKey,\n\n        hasColumnsSelector = true,\n        defaultColumns = {},\n        defaultOmittedColumns = [],\n\n        hasViewSelector = true,\n        defaultView = 'small',\n\n        children,\n        ...rest\n    } = props;\n    const visibleColumns = useSelectedColumns({\n        preferences: `${preferenceKey}.columns`,\n        columns: defaultColumns,\n        omit: defaultOmittedColumns,\n    });\n\n    const [view, setView] = usePreferences<View>(\n        `${preferenceKey}.view`,\n        defaultView\n    );\n\n    const childrenElements = useMemo(\n        () => children({ ...rest, columns: visibleColumns, view }),\n        [visibleColumns, view, children, rest]\n    );\n\n    if (process.env.NODE_ENV === 'development') {\n        if (\n            hasColumnsSelector &&\n            hasChildren(childrenElements, 'Datagrid', { optimized: true })\n        ) {\n            throw new Error(\n                'Columns selector is not compatible with optimized Datagrids, please remove the optimized prop'\n            );\n        }\n    }\n\n    return (\n        <List\n            {...rest}\n            className={className}\n            actions={\n                <Actions\n                    preferenceKey={`${preferenceKey}.columns`}\n                    hasColumnsSelector={hasColumnsSelector}\n                    defaultColumns={defaultColumns}\n                    hasViewSelector={hasViewSelector}\n                    view={view}\n                    setView={setView}\n                />\n            }\n        >\n            {childrenElements}\n        </List>\n    );\n};\n\nexport default EnterpriseList;\n","export default [\n    { id: 'compulsive', name: 'resources.segments.data.compulsive' },\n    { id: 'collector', name: 'resources.segments.data.collector' },\n    { id: 'ordered_once', name: 'resources.segments.data.ordered_once' },\n    { id: 'regular', name: 'resources.segments.data.regular' },\n    { id: 'returns', name: 'resources.segments.data.returns' },\n    { id: 'reviewer', name: 'resources.segments.data.reviewer' },\n];\n","import React, { FC } from 'react';\nimport Chip from '@material-ui/core/Chip';\nimport { FieldProps, useTranslate } from 'react-admin';\nimport segments from '../segments/data';\nimport { makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles({\n    main: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        marginTop: -8,\n        marginBottom: -8,\n    },\n    chip: { margin: 4 },\n});\n\nconst SegmentsField: FC<FieldProps> = ({ record }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n\n    return record ? (\n        <span className={classes.main}>\n            {record.groups &&\n                record.groups.map(segmentId => {\n                    const segment = segments.find(s => s.id === segmentId);\n\n                    return segment ? (\n                        <Chip\n                            key={segment.id}\n                            className={classes.chip}\n                            label={translate(segment.name)}\n                        />\n                    ) : null;\n                })}\n        </span>\n    ) : null;\n};\n\nSegmentsField.defaultProps = {\n    addLabel: true,\n    source: 'groups',\n};\n\nexport default SegmentsField;\n","import React, { FC } from 'react';\nimport { useTranslate, SelectInput } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { InputProps } from 'ra-core';\n\nimport segments from '../segments/data';\n\nconst useStyles = makeStyles({\n    input: { width: 150 },\n});\n\ninterface Props extends Omit<InputProps, 'source'> {\n    source?: string;\n}\n\nconst SegmentInput: FC<Props> = props => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <SelectInput\n            {...props}\n            choices={segments.map(segment => ({\n                id: segment.id,\n                name: translate(segment.name),\n            }))}\n            className={classes.input}\n        />\n    );\n};\n\nSegmentInput.defaultProps = {\n    source: 'groups',\n};\n\nexport default SegmentInput;\n","import React, { FC } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport { Record } from 'react-admin';\n\ninterface Props {\n    className?: string;\n    record?: Record;\n    size?: string;\n}\n\nconst AvatarField: FC<Props> = ({ record, size = '25', className }) =>\n    record ? (\n        <Avatar\n            src={`${record.avatar}?size=${size}x${size}`}\n            style={{ width: parseInt(size, 10), height: parseInt(size, 10) }}\n            className={className}\n        />\n    ) : null;\n\nexport default AvatarField;\n","import React, { FC } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport pure from 'recompose/pure';\n\nimport AvatarField from './AvatarField';\nimport { FieldProps, Customer } from '../types';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: 'flex',\n        flexWrap: 'nowrap',\n        alignItems: 'center',\n    },\n    avatar: {\n        marginRight: theme.spacing(1),\n    },\n}));\n\ninterface Props extends FieldProps<Customer> {\n    size?: string;\n}\n\nconst FullNameField: FC<Props> = ({ record, size }) => {\n    const classes = useStyles();\n    return record ? (\n        <div className={classes.root}>\n            <AvatarField\n                className={classes.avatar}\n                record={record}\n                size={size}\n            />\n            {record.first_name} {record.last_name}\n        </div>\n    ) : null;\n};\n\nconst PureFullNameField = pure(FullNameField);\n\nPureFullNameField.defaultProps = {\n    source: 'last_name',\n    label: 'resources.customers.fields.name',\n};\n\nexport default PureFullNameField;\n","import React, { FC } from 'react';\nimport { Link } from 'react-admin';\n\nimport FullNameField from './FullNameField';\nimport { FieldProps, Customer } from '../types';\n\nconst CustomerLinkField: FC<FieldProps<Customer>> = props =>\n    props.record ? (\n        <Link to={`/customers/${props.record.id}`}>\n            <FullNameField {...props} />\n        </Link>\n    ) : null;\n\nCustomerLinkField.defaultProps = {\n    source: 'customer_id',\n    addLabel: true,\n};\n\nexport default CustomerLinkField;\n","import React, { ReactElement } from 'react';\nimport { NumberField, NumberFieldProps } from 'react-admin';\n\nconst ColoredNumberField = (props: NumberFieldProps): ReactElement | null =>\n    props.record && props.source ? (\n        props.record[props.source] > 500 ? (\n            <span style={{ color: 'red' }}>\n                <NumberField {...props} />\n            </span>\n        ) : (\n            <NumberField {...props} />\n        )\n    ) : null;\n\nColoredNumberField.defaultProps = NumberField.defaultProps;\n\nexport default ColoredNumberField;\n","// in src/comments.js\nimport React, { FC } from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { DateField, EditButton, useTranslate, NumberField } from 'react-admin';\n\nimport AvatarField from './AvatarField';\nimport ColoredNumberField from './ColoredNumberField';\nimport SegmentsField from './SegmentsField';\nimport { useListContext } from 'ra-core';\n\nconst useStyles = makeStyles(theme => ({\n    root: { margin: '1em' },\n    card: {\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        margin: '0.5rem 0',\n    },\n    cardTitleContent: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n    },\n    cardContent: {\n        ...theme.typography.body1,\n        display: 'flex',\n        flexDirection: 'column',\n    },\n}));\n\nconst MobileGrid: FC = props => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    const { ids, data, basePath } = useListContext(props);\n\n    if (!ids || !data) {\n        return null;\n    }\n\n    return (\n        <div className={classes.root}>\n            {ids.map(id => (\n                <Card key={id} className={classes.card}>\n                    <CardHeader\n                        title={\n                            <div className={classes.cardTitleContent}>\n                                <h2>{`${data[id].first_name} ${data[id].last_name}`}</h2>\n                                <EditButton\n                                    resource=\"visitors\"\n                                    basePath={basePath}\n                                    record={data[id]}\n                                />\n                            </div>\n                        }\n                        avatar={<AvatarField record={data[id]} size=\"45\" />}\n                    />\n                    <CardContent className={classes.cardContent}>\n                        <div>\n                            {translate(\n                                'resources.customers.fields.last_seen_gte'\n                            )}\n                            &nbsp;\n                            <DateField record={data[id]} source=\"last_seen\" />\n                        </div>\n                        <div>\n                            {translate(\n                                'resources.commands.name',\n                                data[id].nb_commands || 1\n                            )}\n                            &nbsp;:&nbsp;\n                            <NumberField\n                                record={data[id]}\n                                source=\"nb_commands\"\n                                label=\"resources.customers.fields.commands\"\n                            />\n                        </div>\n                        <div>\n                            {translate(\n                                'resources.customers.fields.total_spent'\n                            )}\n                            &nbsp; :{' '}\n                            <ColoredNumberField\n                                record={data[id]}\n                                source=\"total_spent\"\n                                options={{ style: 'currency', currency: 'USD' }}\n                            />\n                        </div>\n                    </CardContent>\n                    {data[id].groups && data[id].groups.length > 0 && (\n                        <CardContent className={classes.cardContent}>\n                            <SegmentsField record={data[id]} />\n                        </CardContent>\n                    )}\n                </Card>\n            ))}\n        </div>\n    );\n};\n\nexport default MobileGrid;\n","import React, { FC, cloneElement } from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link as RouterLink } from 'react-router-dom';\n\nimport { useTranslate } from 'react-admin';\n\nimport AvatarField from './AvatarField';\nimport { linkToRecord, useListContext } from 'ra-core';\n\nimport EditIcon from '@material-ui/icons/Edit';\nimport IconButton from '@material-ui/core/IconButton';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        margin: '1em',\n        display: 'flex',\n        flexWrap: 'wrap',\n        alignItems: 'stretch',\n        justifyContent: 'space-between',\n    },\n    card: {\n        width: 265,\n        display: 'flex',\n        flexDirection: 'column',\n        margin: '0.5rem 0',\n    },\n    cardTitleContent: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        position: 'relative',\n    },\n    editButton: {\n        position: 'absolute',\n        top: 0,\n        right: 0,\n    },\n    cardContent: {\n        ...theme.typography.body1,\n        display: 'flex',\n        flexDirection: 'column',\n    },\n}));\n\ninterface Props {\n    fields: any;\n}\n\nconst DesktopGrid: FC<Props> = ({ fields, ...rest }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    const { ids, data, basePath } = useListContext(rest);\n\n    if (!ids || !data) {\n        return null;\n    }\n\n    return (\n        <div className={classes.root}>\n            {ids.map(id => (\n                <Card key={id} className={classes.card}>\n                    <CardContent className={classes.cardContent}>\n                        <div className={classes.cardTitleContent}>\n                            <AvatarField record={data[id]} size=\"120\" />\n                            <h2>{`${data[id].first_name} ${data[id].last_name}`}</h2>\n\n                            <IconButton\n                                color=\"secondary\"\n                                aria-label=\"Edit\"\n                                component={RouterLink}\n                                className={classes.editButton}\n                                to={linkToRecord(basePath, id)}\n                            >\n                                <EditIcon />\n                            </IconButton>\n                        </div>\n                        {fields\n                            .filter(\n                                field => field.props.source !== 'customer_id'\n                            ) // we already display customer up there\n                            .filter(field => !!data[id][field.props.source])\n                            .map(field => {\n                                const fieldName = field.props.source;\n\n                                return (\n                                    <div\n                                        key={fieldName}\n                                        style={{\n                                            display: 'flex',\n                                            flexWrap: 'wrap',\n                                        }}\n                                    >\n                                        <div\n                                            style={{\n                                                marginRight: '1em',\n                                                marginBottom: '0.5em',\n                                                marginTop: '1em',\n                                            }}\n                                        >\n                                            {translate(\n                                                `resources.customers.fields.${fieldName}`\n                                            )}\n                                        </div>\n                                        <div\n                                            style={{\n                                                whiteSpace: 'nowrap',\n                                                marginBottom: '0.5em',\n                                                marginTop: '1em',\n                                            }}\n                                        >\n                                            {cloneElement(field, {\n                                                record: data[id],\n                                            })}\n                                        </div>\n                                    </div>\n                                );\n                            })}\n                    </CardContent>\n                </Card>\n            ))}\n        </div>\n    );\n};\n\nexport default DesktopGrid;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { Card as MuiCard, CardContent } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOnOutlined';\nimport MailIcon from '@material-ui/icons/MailOutline';\nimport LocalOfferIcon from '@material-ui/icons/LocalOfferOutlined';\nimport { FilterList, FilterListItem, FilterLiveSearch } from 'react-admin';\nimport {\n    endOfYesterday,\n    startOfWeek,\n    subWeeks,\n    startOfMonth,\n    subMonths,\n} from 'date-fns';\n\nimport segments from '../segments/data';\n\nconst Card = withStyles(theme => ({\n    root: {\n        flexShrink: 0,\n        [theme.breakpoints.up('sm')]: {\n            order: -1,\n            width: '15em',\n            marginRight: '1em',\n        },\n        [theme.breakpoints.down('sm')]: {\n            display: 'none',\n        },\n    },\n}))(MuiCard);\n\nconst Aside: FC = () => (\n    <Card>\n        <CardContent>\n            <FilterLiveSearch />\n\n            <FilterList\n                label=\"resources.customers.filters.last_visited\"\n                icon={<AccessTimeIcon />}\n            >\n                <FilterListItem\n                    label=\"resources.customers.filters.today\"\n                    value={{\n                        last_seen_gte: endOfYesterday().toISOString(),\n                        last_seen_lte: undefined,\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.this_week\"\n                    value={{\n                        last_seen_gte: startOfWeek(new Date()).toISOString(),\n                        last_seen_lte: undefined,\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.last_week\"\n                    value={{\n                        last_seen_gte: subWeeks(\n                            startOfWeek(new Date()),\n                            1\n                        ).toISOString(),\n                        last_seen_lte: startOfWeek(new Date()).toISOString(),\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.this_month\"\n                    value={{\n                        last_seen_gte: startOfMonth(new Date()).toISOString(),\n                        last_seen_lte: undefined,\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.last_month\"\n                    value={{\n                        last_seen_gte: subMonths(\n                            startOfMonth(new Date()),\n                            1\n                        ).toISOString(),\n                        last_seen_lte: startOfMonth(new Date()).toISOString(),\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.earlier\"\n                    value={{\n                        last_seen_gte: undefined,\n                        last_seen_lte: subMonths(\n                            startOfMonth(new Date()),\n                            1\n                        ).toISOString(),\n                    }}\n                />\n            </FilterList>\n\n            <FilterList\n                label=\"resources.customers.filters.has_ordered\"\n                icon={<MonetizationOnIcon />}\n            >\n                <FilterListItem\n                    label=\"ra.boolean.true\"\n                    value={{\n                        nb_commands_gte: 1,\n                        nb_commands_lte: undefined,\n                    }}\n                />\n                <FilterListItem\n                    label=\"ra.boolean.false\"\n                    value={{\n                        nb_commands_gte: undefined,\n                        nb_commands_lte: 0,\n                    }}\n                />\n            </FilterList>\n\n            <FilterList\n                label=\"resources.customers.filters.has_newsletter\"\n                icon={<MailIcon />}\n            >\n                <FilterListItem\n                    label=\"ra.boolean.true\"\n                    value={{ has_newsletter: true }}\n                />\n                <FilterListItem\n                    label=\"ra.boolean.false\"\n                    value={{ has_newsletter: false }}\n                />\n            </FilterList>\n\n            <FilterList\n                label=\"resources.customers.filters.group\"\n                icon={<LocalOfferIcon />}\n            >\n                {segments.map(segment => (\n                    <FilterListItem\n                        label={segment.name}\n                        key={segment.id}\n                        value={{ groups: segment.id }}\n                    />\n                ))}\n            </FilterList>\n        </CardContent>\n    </Card>\n);\n\nexport default Aside;\n","import React, { FC } from 'react';\nimport {\n    BooleanField,\n    Datagrid,\n    DateField,\n    DateInput,\n    NullableBooleanInput,\n    NumberField,\n    SearchInput,\n    Filter,\n    ListProps,\n} from 'react-admin';\nimport { useDefineAppLocation } from '@react-admin/ra-navigation';\nimport { useMediaQuery, Theme, makeStyles } from '@material-ui/core';\n\nimport EnterpriseList from '../ra-enterprise/List';\nimport SegmentsField from './SegmentsField';\nimport SegmentInput from './SegmentInput';\nimport CustomerLinkField from './CustomerLinkField';\nimport ColoredNumberField from './ColoredNumberField';\nimport MobileGrid from './MobileGrid';\nimport DesktopGrid from './DesktopGrid';\nimport VisitorListAside from './VisitorListAside';\n\nconst VisitorFilter: FC = (props: any) => (\n    <Filter {...props}>\n        <SearchInput source=\"q\" alwaysOn />\n        <DateInput source=\"last_seen_gte\" />\n        <NullableBooleanInput source=\"has_ordered\" />\n        <NullableBooleanInput source=\"has_newsletter\" defaultValue />\n        <SegmentInput />\n    </Filter>\n);\n\nconst visitorListColumn = {\n    customer: <CustomerLinkField />,\n    last_seen: <DateField source=\"last_seen\" />,\n    nb_commands: <NumberField source=\"nb_commands\" label=\"Commands\" />,\n    total_spent: (\n        <ColoredNumberField\n            source=\"total_spent\"\n            options={{ style: 'currency', currency: 'USD' }}\n        />\n    ),\n    latest_purchase: <DateField source=\"latest_purchase\" showTime />,\n    has_newsletter: <BooleanField source=\"has_newsletter\" label=\"News.\" />,\n    segments: <SegmentsField />,\n};\n\nconst VisitorList: FC<ListProps> = props => {\n    const isXsmall = useMediaQuery<Theme>(theme =>\n        theme.breakpoints.down('xs')\n    );\n    useDefineAppLocation('audience.customers');\n    const isSmall = useMediaQuery<Theme>(theme => theme.breakpoints.down('sm'));\n\n    const classes = useStyles();\n\n    return (\n        <EnterpriseList\n            {...props}\n            classes={classes}\n            preferenceKey=\"visitors.list\"\n            hasColumnsSelector\n            defaultColumns={visitorListColumn}\n            defaultOmittedColumns={['last_seen']}\n            hasViewSelector\n            filters={isSmall ? <VisitorFilter /> : undefined}\n            aside={<VisitorListAside />}\n            sort={{ field: 'last_seen', order: 'DESC' }}\n            perPage={25}\n        >\n            {({\n                columns,\n                view,\n                hasShow,\n                hasList,\n                hasEdit,\n                hasCreate,\n                ...rest\n            }): JSX.Element => {\n                if (isXsmall) {\n                    return <MobileGrid />;\n                }\n                if (view === 'grid') {\n                    return <DesktopGrid fields={columns} />;\n                }\n                return (\n                    <Datagrid rowClick=\"edit\" {...rest}>\n                        {columns}\n                    </Datagrid>\n                );\n            }}\n        </EnterpriseList>\n    );\n};\n\nexport default VisitorList;\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        marginTop: -theme.spacing(7),\n    },\n}));\n","import React, { FC, ReactElement } from 'react';\nimport {\n    Create,\n    DateInput,\n    SimpleForm,\n    TextInput,\n    useTranslate,\n    PasswordInput,\n    required,\n    CreateProps,\n} from 'react-admin';\nimport { useDefineAppLocation } from '@react-admin/ra-navigation';\nimport { Typography, Box } from '@material-ui/core';\nimport { makeStyles, Theme } from '@material-ui/core/styles';\nimport { Styles } from '@material-ui/styles/withStyles';\n\nexport const styles: Styles<Theme, any> = {\n    first_name: { display: 'inline-block' },\n    last_name: { display: 'inline-block', marginLeft: 32 },\n    email: { width: 544 },\n    address: { maxWidth: 544 },\n    zipcode: { display: 'inline-block' },\n    city: { display: 'inline-block', marginLeft: 32 },\n    comment: {\n        maxWidth: '20em',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n    },\n    password: { display: 'inline-block' },\n    confirm_password: { display: 'inline-block', marginLeft: 32 },\n};\n\nconst useStyles = makeStyles(styles);\n\nexport const validatePasswords = ({\n    password,\n    confirm_password,\n}: {\n    password: string;\n    confirm_password: string;\n}): any => {\n    const errors = {} as any;\n\n    if (password && confirm_password && password !== confirm_password) {\n        errors.confirm_password = [\n            'resources.customers.errors.password_mismatch',\n        ];\n    }\n\n    return errors;\n};\n\nconst VisitorCreate: FC<CreateProps> = props => {\n    const classes = useStyles();\n    useDefineAppLocation('audience.customers.create');\n\n    return (\n        <Create {...props}>\n            <SimpleForm validate={validatePasswords}>\n                <SectionTitle label=\"resources.customers.fieldGroups.identity\" />\n                <TextInput\n                    source=\"first_name\"\n                    formClassName={classes.first_name}\n                    validate={requiredValidate}\n                />\n                <TextInput\n                    source=\"last_name\"\n                    formClassName={classes.last_name}\n                    validate={requiredValidate}\n                />\n                <TextInput\n                    type=\"email\"\n                    source=\"email\"\n                    validation={{ email: true }}\n                    fullWidth={true}\n                    formClassName={classes.email}\n                    validate={requiredValidate}\n                />\n                <DateInput source=\"birthday\" />\n                <Separator />\n                <SectionTitle label=\"resources.customers.fieldGroups.address\" />\n                <TextInput\n                    source=\"address\"\n                    formClassName={classes.address}\n                    multiline={true}\n                    fullWidth={true}\n                />\n                <TextInput source=\"zipcode\" formClassName={classes.zipcode} />\n                <TextInput source=\"city\" formClassName={classes.city} />\n                <Separator />\n                <SectionTitle label=\"resources.customers.fieldGroups.password\" />\n                <PasswordInput\n                    source=\"password\"\n                    formClassName={classes.password}\n                />\n                <PasswordInput\n                    source=\"confirm_password\"\n                    formClassName={classes.confirm_password}\n                />\n            </SimpleForm>\n        </Create>\n    );\n};\n\nconst requiredValidate = [required()];\n\nconst SectionTitle = ({ label }: { label: string }): ReactElement => {\n    const translate = useTranslate();\n\n    return (\n        <Typography variant=\"h6\" gutterBottom>\n            {translate(label)}\n        </Typography>\n    );\n};\n\nconst Separator = (): ReactElement => <Box pt=\"1em\" />;\n\nexport default VisitorCreate;\n","import React, { FC, ReactNode } from 'react';\nimport { FunctionField, FunctionFieldProps, Record } from 'react-admin';\n\nconst render = (record?: Record): ReactNode =>\n    record ? record.basket.length : null;\n\nconst NbItemsField: FC<Omit<FunctionFieldProps, 'render'>> = props => (\n    <FunctionField {...props} render={render} />\n);\n\nNbItemsField.defaultProps = {\n    label: 'Nb Items',\n    textAlign: 'right',\n};\n\nexport default NbItemsField;\n","import React, { FC } from 'react';\nimport { ReferenceField, ReferenceFieldProps } from 'react-admin';\n\nimport FullNameField from './FullNameField';\n\nconst CustomerReferenceField: FC<Omit<\n    ReferenceFieldProps,\n    'children' | 'source' | 'reference'\n>> = props => (\n    <ReferenceField source=\"customer_id\" reference=\"customers\" {...props}>\n        <FullNameField />\n    </ReferenceField>\n);\n\nCustomerReferenceField.defaultProps = {\n    addLabel: true,\n};\n\nexport default CustomerReferenceField;\n","// in src/comments.js\nimport React, { FC } from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardContent from '@material-ui/core/CardContent';\nimport { makeStyles } from '@material-ui/core/';\nimport {\n    DateField,\n    EditButton,\n    NumberField,\n    TextField,\n    BooleanField,\n    useTranslate,\n    ListControllerProps,\n} from 'react-admin';\n\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\n\nconst useListStyles = makeStyles(theme => ({\n    card: {\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        margin: '0.5rem 0',\n    },\n    cardTitleContent: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n    },\n    cardContent: theme.typography.body1,\n    cardContentRow: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        margin: '0.5rem 0',\n    },\n}));\n\nconst MobileGrid: FC<Partial<ListControllerProps>> = ({\n    ids,\n    data,\n    basePath,\n}) => {\n    const translate = useTranslate();\n    const classes = useListStyles();\n\n    if (!ids || !data) {\n        return null;\n    }\n    return (\n        <div style={{ margin: '1em' }}>\n            {ids.map(id => (\n                <Card key={id} className={classes.card}>\n                    <CardHeader\n                        title={\n                            <div className={classes.cardTitleContent}>\n                                <span>\n                                    {translate('resources.commands.name', 1)}\n                                    :&nbsp;\n                                    <TextField\n                                        record={data[id]}\n                                        source=\"reference\"\n                                    />\n                                </span>\n                                <EditButton\n                                    resource=\"commands\"\n                                    basePath={basePath}\n                                    record={data[id]}\n                                />\n                            </div>\n                        }\n                    />\n                    <CardContent className={classes.cardContent}>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.customers.name', 1)}:&nbsp;\n                            <CustomerReferenceField\n                                record={data[id]}\n                                basePath={basePath}\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.reviews.fields.date')}:&nbsp;\n                            <DateField\n                                record={data[id]}\n                                source=\"date\"\n                                showTime\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate(\n                                'resources.commands.fields.basket.total'\n                            )}\n                            :&nbsp;\n                            <NumberField\n                                record={data[id]}\n                                source=\"total\"\n                                options={{ style: 'currency', currency: 'USD' }}\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.commands.fields.status')}\n                            :&nbsp;\n                            <TextField source=\"status\" record={data[id]} />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.commands.fields.returned')}\n                            :&nbsp;\n                            <BooleanField record={data[id]} source=\"returned\" />\n                        </span>\n                    </CardContent>\n                </Card>\n            ))}\n        </div>\n    );\n};\n\nMobileGrid.defaultProps = {\n    data: {},\n    ids: [],\n};\n\nexport default MobileGrid;\n","import React, { Fragment, useState, useEffect, FC } from 'react';\nimport {\n    AutocompleteInput,\n    BooleanField,\n    Datagrid,\n    DateField,\n    DateInput,\n    EditButton,\n    NullableBooleanInput,\n    NumberField,\n    ReferenceInput,\n    SearchInput,\n    TextField,\n    TextInput,\n    Filter,\n    ListProps,\n    ListControllerProps,\n    ListContextProvider,\n    useListContext,\n} from 'react-admin';\nimport {\n    makeStyles,\n    useMediaQuery,\n    Divider,\n    Tabs,\n    Tab,\n    useTheme,\n    lighten,\n    darken,\n    fade,\n    Theme,\n} from '@material-ui/core';\nimport { RealTimeList } from '@react-admin/ra-realtime';\nimport NbItemsField from './NbItemsField';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport MobileGrid from './MobileGrid';\n\nconst OrderFilter: FC = props => (\n    <Filter {...props}>\n        <SearchInput source=\"q\" alwaysOn />\n        <ReferenceInput source=\"customer_id\" reference=\"customers\">\n            <AutocompleteInput\n                optionText={(choice): string =>\n                    choice.first_name && choice.last_name\n                        ? `${choice.first_name} ${choice.last_name}`\n                        : ''\n                }\n            />\n        </ReferenceInput>\n        <DateInput source=\"date_gte\" />\n        <DateInput source=\"date_lte\" />\n        <TextInput source=\"total_gte\" />\n        <NullableBooleanInput source=\"returned\" />\n    </Filter>\n);\n\nconst useDatagridStyles = makeStyles({\n    total: { fontWeight: 'bold' },\n});\n\nconst orderRowStyle = (batchLevel, theme) => (record): any => {\n    let backgroundColor;\n    switch (record.batch) {\n        case batchLevel:\n            backgroundColor =\n                theme.palette.type === 'light'\n                    ? lighten(fade(theme.palette.info.light, 1), 0.68)\n                    : darken(fade(theme.palette.info.dark, 1), 0.88);\n            break;\n        case 1:\n            if (batchLevel > 0) {\n                backgroundColor =\n                    theme.palette.type === 'light'\n                        ? lighten(fade(theme.palette.info.light, 1), 0.78)\n                        : darken(fade(theme.palette.info.dark, 1), 0.78);\n            }\n            break;\n        default:\n            backgroundColor = theme.palette.background.paper;\n    }\n\n    return {\n        backgroundColor,\n    };\n};\n\nconst tabs = [\n    { id: 'ordered', name: 'ordered' },\n    { id: 'delivered', name: 'delivered' },\n    { id: 'cancelled', name: 'cancelled' },\n];\n\nconst TabbedDatagrid: FC<\n    Partial<ListControllerProps> & {\n        isXSmall: boolean;\n        classes: any;\n        batchLevel: number;\n    }\n> = props => {\n    const [state, setState] = useState({\n        ordered: [],\n        delivered: [],\n        cancelled: [],\n    });\n\n    useEffect(() => {\n        if (props.ids !== state[props.filterValues.status]) {\n            setState(prevState => ({\n                ...prevState,\n                [props.filterValues.status]: props.ids,\n            }));\n        }\n    }, [props.filterValues.status, props.ids, state]);\n\n    const handleChange = (event, value): void => {\n        const { filterValues, setFilters } = props;\n        if (setFilters) {\n            setFilters({ ...filterValues, status: value }, {});\n        }\n    };\n\n    const theme = useTheme();\n    const { isXSmall, classes, filterValues, batchLevel, ...rest } = props;\n    const rowStyle = orderRowStyle(batchLevel, theme);\n    const listContext = useListContext(props);\n\n    return (\n        <Fragment>\n            <Tabs\n                variant=\"fullWidth\"\n                centered\n                value={filterValues.status}\n                indicatorColor=\"primary\"\n                onChange={handleChange}\n            >\n                {tabs.map(choice => (\n                    <Tab\n                        key={choice.id}\n                        label={choice.name}\n                        value={choice.id}\n                    />\n                ))}\n            </Tabs>\n            <Divider />\n            {isXSmall ? (\n                <MobileGrid {...rest} ids={state[filterValues.status]} />\n            ) : (\n                <div>\n                    {filterValues.status === 'ordered' && (\n                        <ListContextProvider\n                            value={{\n                                ...listContext,\n                                ids: state.ordered,\n                            }}\n                        >\n                            <Datagrid\n                                optimized\n                                rowClick=\"edit\"\n                                rowStyle={rowStyle}\n                                data-testid=\"order-ordered-datagrid\"\n                            >\n                                <TextField source=\"id\" />\n                                <DateField source=\"date\" showTime />\n                                <TextField source=\"reference\" />\n                                <CustomerReferenceField />\n                                <NbItemsField />\n                                <NumberField\n                                    source=\"total\"\n                                    options={{\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    }}\n                                    className={classes.total}\n                                />\n                            </Datagrid>\n                        </ListContextProvider>\n                    )}\n                    {filterValues.status === 'delivered' && (\n                        <ListContextProvider\n                            value={{\n                                ...listContext,\n                                ids: state.delivered,\n                            }}\n                        >\n                            <Datagrid>\n                                <DateField source=\"date\" showTime />\n                                <TextField source=\"reference\" />\n                                <CustomerReferenceField />\n                                <NbItemsField />\n                                <NumberField\n                                    source=\"total\"\n                                    options={{\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    }}\n                                    className={classes.total}\n                                />\n                                <BooleanField source=\"returned\" />\n                                <EditButton />\n                            </Datagrid>\n                        </ListContextProvider>\n                    )}\n                    {filterValues.status === 'cancelled' && (\n                        <ListContextProvider\n                            value={{\n                                ...listContext,\n                                ids: state.cancelled,\n                            }}\n                        >\n                            <Datagrid>\n                                <DateField source=\"date\" showTime />\n                                <TextField source=\"reference\" />\n                                <CustomerReferenceField />\n                                <NbItemsField />\n                                <NumberField\n                                    source=\"total\"\n                                    options={{\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    }}\n                                    className={classes.total}\n                                />\n                                <BooleanField source=\"returned\" />\n                                <EditButton />\n                            </Datagrid>\n                        </ListContextProvider>\n                    )}\n                </div>\n            )}\n        </Fragment>\n    );\n};\n\nconst StyledTabbedDatagrid: FC<Partial<ListControllerProps>> = props => {\n    const classes = useDatagridStyles();\n    const isXSmall = useMediaQuery<Theme>(theme =>\n        theme.breakpoints.down('xs')\n    );\n    const batchLevel =\n        parseInt(localStorage.getItem('batchLevel') || '0', 0) || 0;\n    return (\n        <TabbedDatagrid\n            classes={classes}\n            isXSmall={isXSmall}\n            batchLevel={batchLevel}\n            {...props}\n        />\n    );\n};\n\nconst OrderList: FC<ListProps> = ({ classes, ...props }) => (\n    <RealTimeList\n        {...props}\n        filterDefaultValues={{ status: 'ordered' }}\n        sort={{ field: 'date', order: 'DESC' }}\n        perPage={25}\n        filters={<OrderFilter />}\n    >\n        <StyledTabbedDatagrid />\n    </RealTimeList>\n);\n\nexport default OrderList;\n","import React, { FC } from 'react';\nimport classnames from 'classnames';\n\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport { Link, useTranslate, useQueryWithStore } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FieldProps, AppState, Order, Product } from '../types';\n\nconst useStyles = makeStyles({\n    container: { minWidth: '35em', marginLeft: '1em' },\n    rightAlignedCell: { textAlign: 'right' },\n    boldCell: { fontWeight: 'bold' },\n});\n\nconst Basket: FC<FieldProps<Order>> = ({ record }) => {\n    const classes = useStyles();\n    const translate = useTranslate();\n\n    const { loaded, data: products } = useQueryWithStore(\n        {\n            type: 'getMany',\n            resource: 'products',\n            payload: {\n                ids: record ? record.basket.map(item => item.product_id) : [],\n            },\n        },\n        {},\n        (state: AppState) => {\n            const productIds = record\n                ? record.basket.map(item => item.product_id)\n                : [];\n\n            return productIds\n                .map<Product>(\n                    productId =>\n                        state.admin.resources.products.data[\n                            productId\n                        ] as Product\n                )\n                .filter(r => typeof r !== 'undefined')\n                .reduce((prev, next) => {\n                    prev[next.id] = next;\n                    return prev;\n                }, {} as { [key: string]: Product });\n        }\n    );\n\n    if (!loaded || !record) return null;\n\n    return (\n        <Paper className={classes.container} elevation={2}>\n            <Table>\n                <TableHead>\n                    <TableRow>\n                        <TableCell>\n                            {translate(\n                                'resources.commands.fields.basket.reference'\n                            )}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {translate(\n                                'resources.commands.fields.basket.unit_price'\n                            )}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {translate(\n                                'resources.commands.fields.basket.quantity'\n                            )}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {translate(\n                                'resources.commands.fields.basket.total'\n                            )}\n                        </TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {record.basket.map(\n                        (item: any) =>\n                            products[item.product_id] && (\n                                <TableRow key={item.product_id}>\n                                    <TableCell>\n                                        <Link\n                                            to={`/products/${item.product_id}`}\n                                        >\n                                            {\n                                                products[item.product_id]\n                                                    .reference\n                                            }\n                                        </Link>\n                                    </TableCell>\n                                    <TableCell\n                                        className={classes.rightAlignedCell}\n                                    >\n                                        {products[\n                                            item.product_id\n                                        ].price.toLocaleString(undefined, {\n                                            style: 'currency',\n                                            currency: 'USD',\n                                        })}\n                                    </TableCell>\n                                    <TableCell\n                                        className={classes.rightAlignedCell}\n                                    >\n                                        {item.quantity}\n                                    </TableCell>\n                                    <TableCell\n                                        className={classes.rightAlignedCell}\n                                    >\n                                        {(\n                                            products[item.product_id].price *\n                                            item.quantity\n                                        ).toLocaleString(undefined, {\n                                            style: 'currency',\n                                            currency: 'USD',\n                                        })}\n                                    </TableCell>\n                                </TableRow>\n                            )\n                    )}\n                    <TableRow>\n                        <TableCell colSpan={2} />\n                        <TableCell>\n                            {translate('resources.commands.fields.basket.sum')}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {record.total_ex_taxes.toLocaleString(undefined, {\n                                style: 'currency',\n                                currency: 'USD',\n                            })}\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell colSpan={2} />\n                        <TableCell>\n                            {translate(\n                                'resources.commands.fields.basket.delivery'\n                            )}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {record.delivery_fees.toLocaleString(undefined, {\n                                style: 'currency',\n                                currency: 'USD',\n                            })}\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell colSpan={2} />\n                        <TableCell>\n                            {translate(\n                                'resources.commands.fields.basket.tax_rate'\n                            )}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {record.tax_rate.toLocaleString(undefined, {\n                                style: 'percent',\n                            })}\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell colSpan={2} />\n                        <TableCell className={classes.boldCell}>\n                            {translate(\n                                'resources.commands.fields.basket.total'\n                            )}\n                        </TableCell>\n                        <TableCell\n                            className={classnames(\n                                classes.boldCell,\n                                classes.rightAlignedCell\n                            )}\n                        >\n                            {record.total.toLocaleString(undefined, {\n                                style: 'currency',\n                                currency: 'USD',\n                            })}\n                        </TableCell>\n                    </TableRow>\n                </TableBody>\n            </Table>\n        </Paper>\n    );\n};\n\nexport default Basket;\n","import React, { FC } from 'react';\nimport {\n    AutocompleteInput,\n    BooleanInput,\n    DateInput,\n    Edit,\n    EditProps,\n    Record,\n    ReferenceInput,\n    SelectInput,\n    SimpleForm,\n    useTranslate,\n} from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Basket from './Basket';\n\nconst OrderTitle: FC<{ record?: Record }> = ({ record }) => {\n    const translate = useTranslate();\n\n    if (!record) {\n        return null;\n    }\n\n    return (\n        <span>\n            {translate('resources.commands.title', {\n                reference: record.reference,\n            })}\n        </span>\n    );\n};\n\nconst useEditStyles = makeStyles({\n    root: { alignItems: 'flex-start' },\n});\n\nconst OrderEdit: FC<EditProps> = props => {\n    const classes = useEditStyles();\n    return (\n        <Edit\n            title={<OrderTitle />}\n            aside={<Basket />}\n            classes={classes}\n            {...props}\n        >\n            <SimpleForm>\n                <DateInput source=\"date\" />\n                <ReferenceInput source=\"customer_id\" reference=\"customers\">\n                    <AutocompleteInput\n                        optionText={(choice: Record): string =>\n                            `${choice.first_name} ${choice.last_name}`\n                        }\n                    />\n                </ReferenceInput>\n                <SelectInput\n                    source=\"status\"\n                    choices={[\n                        { id: 'delivered', name: 'delivered' },\n                        { id: 'ordered', name: 'ordered' },\n                        { id: 'cancelled', name: 'cancelled' },\n                        {\n                            id: 'unknown',\n                            name: 'unknown',\n                            disabled: true,\n                        },\n                    ]}\n                />\n                <BooleanInput source=\"returned\" />\n            </SimpleForm>\n        </Edit>\n    );\n};\n\nexport default OrderEdit;\n","import OrderIcon from '@material-ui/icons/AttachMoney';\n\nimport OrderList from './OrderList';\nimport OrderEdit from './OrderEdit';\n\nexport default {\n    list: OrderList,\n    edit: OrderEdit,\n    icon: OrderIcon,\n};\n","import React, { FC } from 'react';\nimport PropTypes from 'prop-types';\nimport ThumbUp from '@material-ui/icons/ThumbUp';\nimport {\n    Button,\n    useUpdateMany,\n    useNotify,\n    useRedirect,\n    useUnselectAll,\n    CRUD_UPDATE_MANY,\n    useListContext,\n} from 'react-admin';\n\nconst BulkAcceptButton: FC = () => {\n    const notify = useNotify();\n    const redirectTo = useRedirect();\n    const unselectAll = useUnselectAll('reviews');\n    const { selectedIds } = useListContext();\n\n    const [approve, { loading }] = useUpdateMany(\n        'reviews',\n        selectedIds,\n        { status: 'accepted' },\n        {\n            action: CRUD_UPDATE_MANY,\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.approved_success',\n                    'info',\n                    {},\n                    true\n                );\n                redirectTo('/reviews');\n                unselectAll();\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.approved_error',\n                    'warning'\n                );\n            },\n        }\n    );\n\n    return (\n        <Button\n            label=\"resources.reviews.action.accept\"\n            onClick={approve}\n            disabled={loading}\n        >\n            <ThumbUp />\n        </Button>\n    );\n};\n\nBulkAcceptButton.propTypes = {\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n};\n\nexport default BulkAcceptButton;\n","import React, { FC } from 'react';\nimport PropTypes from 'prop-types';\nimport ThumbDown from '@material-ui/icons/ThumbDown';\nimport {\n    Button,\n    useUpdateMany,\n    useNotify,\n    useRedirect,\n    useUnselectAll,\n    CRUD_UPDATE_MANY,\n    useListContext,\n} from 'react-admin';\n\nconst BulkRejectButton: FC = () => {\n    const notify = useNotify();\n    const redirectTo = useRedirect();\n    const unselectAll = useUnselectAll('reviews');\n    const { selectedIds } = useListContext();\n\n    const [reject, { loading }] = useUpdateMany(\n        'reviews',\n        selectedIds,\n        { status: 'rejected' },\n        {\n            action: CRUD_UPDATE_MANY,\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.approved_success',\n                    'info',\n                    {},\n                    true\n                );\n                redirectTo('/reviews');\n                unselectAll();\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.approved_error',\n                    'warning'\n                );\n            },\n        }\n    );\n\n    return (\n        <Button\n            label=\"resources.reviews.action.reject\"\n            onClick={reject}\n            disabled={loading}\n        >\n            <ThumbDown />\n        </Button>\n    );\n};\n\nBulkRejectButton.propTypes = {\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n};\n\nexport default BulkRejectButton;\n","import React, { FC, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport {\n    linkToRecord,\n    ReferenceField,\n    FunctionField,\n    TextField,\n    useListContext,\n    Record,\n} from 'react-admin';\nimport {\n    useAppLocationState,\n    useResourceAppLocation,\n} from '@react-admin/ra-navigation';\n\nimport AvatarField from '../visitors/AvatarField';\n\nconst useStyles = makeStyles({\n    root: {\n        width: '100vw',\n    },\n    link: {\n        textDecoration: 'none',\n        color: 'inherit',\n    },\n    inline: {\n        display: 'inline',\n    },\n});\n\nconst ReviewMobileList: FC = () => {\n    const classes = useStyles();\n    const [, setLocation] = useAppLocationState();\n    const resourceLocation = useResourceAppLocation();\n    const {\n        basePath,\n        data,\n        ids,\n        loading,\n        total,\n        filterValues,\n    } = useListContext();\n\n    const effectDependency = JSON.stringify({\n        resourceLocation,\n        filter: filterValues,\n    });\n    useEffect(() => {\n        const { status } = filterValues;\n        if (typeof status !== 'undefined') {\n            setLocation('reviews.status_filter', { status });\n        } else {\n            setLocation('reviews');\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [setLocation, effectDependency]);\n    return loading || total > 0 ? (\n        <List className={classes.root}>\n            {ids.map(id => (\n                <Link\n                    to={linkToRecord(basePath, id)}\n                    className={classes.link}\n                    key={id}\n                >\n                    <ListItem button>\n                        <ListItemAvatar>\n                            <ReferenceField\n                                record={data[id]}\n                                source=\"customer_id\"\n                                reference=\"customers\"\n                                basePath={basePath}\n                                linkType={false}\n                            >\n                                <AvatarField size=\"40\" />\n                            </ReferenceField>\n                        </ListItemAvatar>\n                        <ListItemText\n                            primary={\n                                <>\n                                    <ReferenceField\n                                        record={data[id]}\n                                        source=\"customer_id\"\n                                        reference=\"customers\"\n                                        basePath={basePath}\n                                        linkType={false}\n                                    >\n                                        <FunctionField\n                                            render={(record?: Record): string =>\n                                                record\n                                                    ? `${record.first_name} ${record.last_name}`\n                                                    : ''\n                                            }\n                                            variant=\"subtitle1\"\n                                            className={classes.inline}\n                                        />\n                                    </ReferenceField>{' '}\n                                    on{' '}\n                                    <ReferenceField\n                                        record={data[id]}\n                                        source=\"product_id\"\n                                        reference=\"products\"\n                                        basePath={basePath}\n                                        linkType={false}\n                                    >\n                                        <TextField\n                                            source=\"reference\"\n                                            variant=\"subtitle1\"\n                                            className={classes.inline}\n                                        />\n                                    </ReferenceField>\n                                </>\n                            }\n                            secondary={data[id].comment}\n                            secondaryTypographyProps={{ noWrap: true }}\n                        />\n                    </ListItem>\n                </Link>\n            ))}\n        </List>\n    ) : null;\n};\n\nReviewMobileList.propTypes = {\n    basePath: PropTypes.string,\n    data: PropTypes.object,\n    hasBulkActions: PropTypes.bool.isRequired,\n    ids: PropTypes.array,\n    leftAvatar: PropTypes.func,\n    leftIcon: PropTypes.func,\n    linkType: PropTypes.oneOfType([PropTypes.string, PropTypes.bool])\n        .isRequired,\n    onToggleItem: PropTypes.func,\n    primaryText: PropTypes.func,\n    rightAvatar: PropTypes.func,\n    rightIcon: PropTypes.func,\n    secondaryText: PropTypes.func,\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n    tertiaryText: PropTypes.func,\n};\n\nReviewMobileList.defaultProps = {\n    linkType: 'edit',\n    hasBulkActions: false,\n    selectedIds: [],\n};\n\nexport default ReviewMobileList;\n","import React, { FC } from 'react';\nimport { ReferenceField, ReferenceFieldProps, TextField } from 'react-admin';\n\nconst ProductReferenceField: FC<Omit<\n    ReferenceFieldProps,\n    'children' | 'source' | 'reference'\n>> = props => (\n    <ReferenceField\n        label=\"Product\"\n        source=\"product_id\"\n        reference=\"products\"\n        {...props}\n    >\n        <TextField source=\"reference\" />\n    </ReferenceField>\n);\n\nProductReferenceField.defaultProps = {\n    addLabel: true,\n};\n\nexport default ProductReferenceField;\n","import React, { FC } from 'react';\nimport Icon from '@material-ui/icons/Stars';\nimport { makeStyles } from '@material-ui/core';\n\nimport { FieldProps } from '../types';\n\nconst useStyles = makeStyles({\n    root: {\n        opacity: 0.87,\n        whiteSpace: 'nowrap',\n    },\n    large: {\n        width: 20,\n        height: 20,\n    },\n    small: {\n        width: 15,\n        height: 15,\n    },\n});\n\ninterface OwnProps {\n    size?: 'large' | 'small';\n}\n\nconst StarRatingField: FC<FieldProps & OwnProps> = ({\n    record,\n    size = 'large',\n}) => {\n    const classes = useStyles();\n    return record ? (\n        <span>\n            {Array(record.rating)\n                .fill(true)\n                .map((_, i) => (\n                    <Icon\n                        key={i}\n                        className={\n                            size === 'large' ? classes.large : classes.small\n                        }\n                    />\n                ))}\n        </span>\n    ) : null;\n};\n\nStarRatingField.defaultProps = {\n    label: 'resources.reviews.fields.rating',\n    source: 'rating',\n    addLabel: true,\n};\n\nexport default StarRatingField;\n","import { Theme } from '@material-ui/core';\nimport green from '@material-ui/core/colors/green';\nimport orange from '@material-ui/core/colors/orange';\nimport red from '@material-ui/core/colors/red';\nimport { Identifier, Record } from 'react-admin';\n\nconst rowStyle = (selectedRow: Identifier | false, theme: Theme) => (\n    record: Record,\n    index: number,\n    defaultStyle = {}\n): any => {\n    let style = defaultStyle;\n    if (selectedRow === record.id) {\n        style = {\n            ...style,\n            backgroundColor: theme.palette.action.selected,\n        };\n    }\n    if (record.status === 'accepted')\n        return {\n            ...style,\n            borderLeftColor: green[500],\n            borderLeftWidth: 5,\n            borderLeftStyle: 'solid',\n        };\n    if (record.status === 'pending')\n        return {\n            ...style,\n            borderLeftColor: orange[500],\n            borderLeftWidth: 5,\n            borderLeftStyle: 'solid',\n        };\n    if (record.status === 'rejected')\n        return {\n            ...style,\n            borderLeftColor: red[500],\n            borderLeftWidth: 5,\n            borderLeftStyle: 'solid',\n        };\n    return style;\n};\n\nexport default rowStyle;\n","import React, { FC, useEffect } from 'react';\nimport { Datagrid, DateField, TextField, useListContext } from 'react-admin';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport {\n    useAppLocationState,\n    useResourceAppLocation,\n} from '@react-admin/ra-navigation';\nimport ProductReferenceField from '../products/ProductReferenceField';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport StarRatingField from './StarRatingField';\n\nimport rowStyle from './rowStyle';\n\nconst useListStyles = makeStyles({\n    headerRow: {\n        borderLeftColor: 'white',\n        borderLeftWidth: 5,\n        borderLeftStyle: 'solid',\n    },\n    headerCell: {\n        padding: '6px 8px 6px 8px',\n    },\n    rowCell: {\n        padding: '6px 8px 6px 8px',\n    },\n    comment: {\n        maxWidth: '18em',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n    },\n});\n\nconst ReviewListDesktop: FC<{ selectedRow: number | false }> = ({\n    selectedRow,\n    ...props\n}) => {\n    const classes = useListStyles();\n    const theme = useTheme();\n    const [, setLocation] = useAppLocationState();\n    const resourceLocation = useResourceAppLocation();\n    const { filterValues } = useListContext();\n\n    const effectDependency = JSON.stringify({\n        resourceLocation,\n        filter: filterValues,\n    });\n    useEffect(() => {\n        const { status } = filterValues;\n        if (typeof status !== 'undefined') {\n            setLocation('reviews.status_filter', { status });\n        } else {\n            setLocation('reviews');\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [setLocation, effectDependency]);\n    return (\n        <Datagrid\n            rowClick=\"edit\"\n            rowStyle={rowStyle(selectedRow, theme)}\n            classes={{\n                headerRow: classes.headerRow,\n                headerCell: classes.headerCell,\n                rowCell: classes.rowCell,\n            }}\n            optimized\n            {...props}\n        >\n            <DateField source=\"date\" />\n            <CustomerReferenceField link={false} />\n            <ProductReferenceField link={false} />\n            <StarRatingField size=\"small\" />\n            <TextField source=\"comment\" cellClassName={classes.comment} />\n            <TextField source=\"status\" />\n        </Datagrid>\n    );\n};\n\nexport default ReviewListDesktop;\n","import React, { FC } from 'react';\nimport {\n    AutocompleteInput,\n    DateInput,\n    ReferenceInput,\n    SearchInput,\n    SelectInput,\n    Filter,\n    FilterProps,\n    Record,\n} from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useFilterStyles = makeStyles({\n    status: { width: 150 },\n});\n\nconst ReviewFilter: FC<Partial<FilterProps>> = props => {\n    const classes = useFilterStyles();\n    return (\n        <Filter {...props}>\n            <SearchInput source=\"q\" alwaysOn />\n            <SelectInput\n                source=\"status\"\n                choices={[\n                    { id: 'accepted', name: 'pos.reviews.accepted' },\n                    { id: 'pending', name: 'pos.reviews.pending' },\n                    { id: 'rejected', name: 'pos.reviews.rejected' },\n                ]}\n                className={classes.status}\n            />\n            <ReferenceInput source=\"customer_id\" reference=\"customers\">\n                <AutocompleteInput\n                    optionText={(choice: Record): string =>\n                        `${choice.first_name} ${choice.last_name}`\n                    }\n                />\n            </ReferenceInput>\n            <ReferenceInput source=\"product_id\" reference=\"products\">\n                <AutocompleteInput optionText=\"reference\" />\n            </ReferenceInput>\n            <DateInput source=\"date_gte\" />\n            <DateInput source=\"date_lte\" />\n        </Filter>\n    );\n};\n\nexport default ReviewFilter;\n","import React, { FC } from 'react';\nimport Button from '@material-ui/core/Button';\nimport ThumbUp from '@material-ui/icons/ThumbUp';\nimport {\n    useTranslate,\n    useUpdate,\n    useNotify,\n    useRedirect,\n    Record,\n} from 'react-admin';\n\n/**\n * This custom button demonstrate using useUpdate to update data\n */\nconst AcceptButton: FC<{ record: Record }> = ({ record }) => {\n    const translate = useTranslate();\n    const notify = useNotify();\n    const redirectTo = useRedirect();\n\n    const [approve, { loading }] = useUpdate(\n        'reviews',\n        record.id,\n        { status: 'accepted' },\n        record,\n        {\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.approved_success',\n                    'info',\n                    {},\n                    true\n                );\n                redirectTo('/reviews');\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.approved_error',\n                    'warning'\n                );\n            },\n        }\n    );\n\n    return record && record.status === 'pending' ? (\n        <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            size=\"small\"\n            onClick={approve}\n            disabled={loading}\n        >\n            <ThumbUp\n                color=\"primary\"\n                style={{ paddingRight: '0.5em', color: 'green' }}\n            />\n            {translate('resources.reviews.action.accept')}\n        </Button>\n    ) : (\n        <span />\n    );\n};\n\nexport default AcceptButton;\n","import React, { FC } from 'react';\nimport Button from '@material-ui/core/Button';\nimport ThumbDown from '@material-ui/icons/ThumbDown';\nimport {\n    useTranslate,\n    useUpdate,\n    useNotify,\n    useRedirect,\n    Record,\n} from 'react-admin';\n\n/**\n * This custom button demonstrate using a custom action to update data\n */\nconst RejectButton: FC<{ record: Record }> = ({ record }) => {\n    const translate = useTranslate();\n    const notify = useNotify();\n    const redirectTo = useRedirect();\n\n    const [reject, { loading }] = useUpdate(\n        'reviews',\n        record.id,\n        { status: 'rejected' },\n        record,\n        {\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.rejected_success',\n                    'info',\n                    {},\n                    true\n                );\n                redirectTo('/reviews');\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.rejected_error',\n                    'warning'\n                );\n            },\n        }\n    );\n\n    return record && record.status === 'pending' ? (\n        <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            size=\"small\"\n            onClick={reject}\n            disabled={loading}\n        >\n            <ThumbDown\n                color=\"primary\"\n                style={{ paddingRight: '0.5em', color: 'red' }}\n            />\n            {translate('resources.reviews.action.reject')}\n        </Button>\n    ) : (\n        <span />\n    );\n};\n\nexport default RejectButton;\n","import React, { FC, Fragment } from 'react';\nimport MuiToolbar from '@material-ui/core/Toolbar';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { SaveButton, DeleteButton, ToolbarProps } from 'react-admin';\nimport AcceptButton from './AcceptButton';\nimport RejectButton from './RejectButton';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        backgroundColor: theme.palette.background.paper,\n        display: 'flex',\n        justifyContent: 'space-between',\n    },\n}));\n\nconst ReviewEditToolbar: FC<ToolbarProps> = ({\n    basePath,\n    handleSubmitWithRedirect,\n    invalid,\n    record,\n    resource,\n    saving,\n}) => {\n    const classes = useStyles();\n    if (!record) {\n        return null;\n    }\n\n    return (\n        <MuiToolbar className={classes.root}>\n            {record.status === 'pending' ? (\n                <Fragment>\n                    <AcceptButton record={record} />\n                    <RejectButton record={record} />\n                </Fragment>\n            ) : (\n                <Fragment>\n                    <SaveButton\n                        handleSubmitWithRedirect={handleSubmitWithRedirect}\n                        invalid={invalid}\n                        saving={saving}\n                        redirect=\"list\"\n                        submitOnEnter={true}\n                    />\n                    <DeleteButton\n                        basePath={basePath}\n                        record={record}\n                        resource={resource}\n                    />\n                </Fragment>\n            )}\n        </MuiToolbar>\n    );\n};\n\nexport default ReviewEditToolbar;\n","import React, { FC } from 'react';\nimport {\n    useEditController,\n    useTranslate,\n    TextInput,\n    SimpleForm,\n    DateField,\n    EditProps,\n} from 'react-admin';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport ProductReferenceField from '../products/ProductReferenceField';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport StarRatingField from './StarRatingField';\nimport ReviewEditToolbar from './ReviewEditToolbar';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        paddingTop: 40,\n    },\n    title: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        margin: '1em',\n    },\n    form: {\n        [theme.breakpoints.up('xs')]: {\n            width: 400,\n        },\n        [theme.breakpoints.down('xs')]: {\n            width: '100vw',\n            marginTop: -30,\n        },\n    },\n    inlineField: {\n        display: 'inline-block',\n        width: '50%',\n    },\n}));\n\nconst ReviewEdit: FC<EditProps & { onCancel?: () => void }> = ({\n    onCancel,\n    ...props\n}) => {\n    const classes = useStyles();\n    const controllerProps = useEditController(props);\n    const translate = useTranslate();\n    if (!controllerProps.record) {\n        return null;\n    }\n    return (\n        <div className={classes.root}>\n            <div className={classes.title}>\n                <Typography variant=\"h6\">\n                    {translate('resources.reviews.detail')}\n                </Typography>\n                <IconButton onClick={onCancel}>\n                    <CloseIcon />\n                </IconButton>\n            </div>\n            <SimpleForm\n                className={classes.form}\n                basePath={controllerProps.basePath}\n                record={controllerProps.record}\n                save={controllerProps.save}\n                version={controllerProps.version}\n                redirect=\"list\"\n                resource=\"reviews\"\n                toolbar={<ReviewEditToolbar />}\n            >\n                <CustomerReferenceField\n                    label=\"resources.reviews.fields.customer_id\"\n                    formClassName={classes.inlineField}\n                />\n\n                <ProductReferenceField\n                    label=\"resources.reviews.fields.product_id\"\n                    formClassName={classes.inlineField}\n                />\n                <DateField source=\"date\" formClassName={classes.inlineField} />\n                <StarRatingField formClassName={classes.inlineField} />\n                <TextInput source=\"comment\" rowsMax={15} multiline fullWidth />\n            </SimpleForm>\n        </div>\n    );\n};\n\nexport default ReviewEdit;\n","import React, { FC, Fragment, ReactElement, useCallback } from 'react';\nimport classnames from 'classnames';\nimport { BulkDeleteButton, List, ListProps } from 'react-admin';\nimport { Route, useHistory } from 'react-router-dom';\nimport { Drawer, useMediaQuery, makeStyles, Theme } from '@material-ui/core';\nimport BulkAcceptButton from './BulkAcceptButton';\nimport BulkRejectButton from './BulkRejectButton';\nimport ReviewListMobile from './ReviewListMobile';\nimport ReviewListDesktop from './ReviewListDesktop';\nimport ReviewFilter from './ReviewFilter';\nimport ReviewEdit from './ReviewEdit';\n\nconst ReviewsBulkActionButtons: FC = ({ children, ...props }) => (\n    <Fragment>\n        <BulkAcceptButton {...props} />\n        <BulkRejectButton {...props} />\n        <BulkDeleteButton {...props} />\n    </Fragment>\n);\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: 'flex',\n    },\n    list: {\n        flexGrow: 1,\n        transition: theme.transitions.create(['all'], {\n            duration: theme.transitions.duration.enteringScreen,\n        }),\n        marginRight: 0,\n    },\n    listWithDrawer: {\n        marginRight: 400,\n    },\n    drawerPaper: {\n        zIndex: 100,\n    },\n}));\n\nconst ReviewList: FC<ListProps> = props => {\n    const classes = useStyles();\n    const isXSmall = useMediaQuery<Theme>(theme =>\n        theme.breakpoints.down('xs')\n    );\n    const history = useHistory();\n\n    const handleClose = useCallback(() => {\n        history.push('/reviews');\n    }, [history]);\n\n    return (\n        <div className={classes.root}>\n            <Route path=\"/reviews/:id\">\n                {({ match }): ReactElement => {\n                    const isMatch = !!(\n                        match &&\n                        match.params &&\n                        match.params.id !== 'create'\n                    );\n\n                    return (\n                        <Fragment>\n                            <List\n                                {...props}\n                                className={classnames(classes.list, {\n                                    [classes.listWithDrawer]: isMatch,\n                                })}\n                                bulkActionButtons={<ReviewsBulkActionButtons />}\n                                filters={<ReviewFilter />}\n                                perPage={25}\n                                sort={{ field: 'date', order: 'DESC' }}\n                            >\n                                {isXSmall ? (\n                                    <ReviewListMobile />\n                                ) : (\n                                    <ReviewListDesktop\n                                        selectedRow={\n                                            isMatch &&\n                                            !!match &&\n                                            parseInt(match.params.id, 10)\n                                        }\n                                    />\n                                )}\n                            </List>\n                            <Drawer\n                                variant=\"persistent\"\n                                open={isMatch}\n                                anchor=\"right\"\n                                onClose={handleClose}\n                                classes={{\n                                    paper: classes.drawerPaper,\n                                }}\n                            >\n                                {/* To avoid any errors if the route does not match, we don't render at all the component in this case */}\n                                {isMatch && !!match ? (\n                                    <ReviewEdit\n                                        id={match.params.id}\n                                        onCancel={handleClose}\n                                        {...props}\n                                    />\n                                ) : null}\n                            </Drawer>\n                        </Fragment>\n                    );\n                }}\n            </Route>\n        </div>\n    );\n};\n\nexport default ReviewList;\n","import ReviewIcon from '@material-ui/icons/Comment';\nimport ReviewList from './ReviewList';\n\nexport default {\n    icon: ReviewIcon,\n    list: ReviewList,\n};\n","import React, { FC } from 'react';\nimport {\n    NumberField,\n    TextField,\n    DateField,\n    useTranslate,\n    useGetList,\n    linkToRecord,\n    Record as RaRecord,\n    ListProps,\n    Identifier,\n    RecordMap,\n} from 'react-admin';\nimport PropTypes from 'prop-types';\nimport {\n    Tooltip,\n    Typography,\n    Card,\n    CardContent,\n    CardHeader,\n    Avatar,\n    IconButton,\n    Box,\n} from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\nimport ContentCreate from '@material-ui/icons/Create';\nimport order from '../orders';\nimport review from '../reviews';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ProductReferenceField from '../products/ProductReferenceField';\nimport StarRatingField from '../reviews/StarRatingField';\nimport { Order, Review } from '../types';\n\nconst useAsideStyles = makeStyles(theme => ({\n    root: {\n        width: 400,\n        [theme.breakpoints.down('md')]: {\n            display: 'none',\n        },\n    },\n}));\n\nconst Aside: FC<{ record?: RaRecord; basePath?: string }> = ({\n    record,\n    basePath,\n}) => {\n    const classes = useAsideStyles();\n    return (\n        <div className={classes.root}>\n            {record && <EventList record={record} basePath={basePath} />}\n        </div>\n    );\n};\n\nAside.propTypes = {\n    record: PropTypes.any,\n    basePath: PropTypes.string,\n};\n\nconst EventList: FC<ListProps & { record?: RaRecord }> = ({\n    record,\n    basePath,\n}) => {\n    const translate = useTranslate();\n    const { data: orders, ids: orderIds } = useGetList<Order>(\n        'commands',\n        { page: 1, perPage: 100 },\n        { field: 'date', order: 'DESC' },\n        { customer_id: record && record.id }\n    );\n    const { data: reviews, ids: reviewIds } = useGetList<Review>(\n        'reviews',\n        { page: 1, perPage: 100 },\n        { field: 'date', order: 'DESC' },\n        { customer_id: record && record.id }\n    );\n\n    if (!orders || !reviews || !orderIds || !reviewIds) {\n        return null;\n    }\n\n    const events = mixOrdersAndReviews(orders, orderIds, reviews, reviewIds);\n\n    return (\n        <>\n            <Box m=\"0 0 1em 1em\">\n                <Card>\n                    <CardContent>\n                        <Typography variant=\"h6\" gutterBottom>\n                            {translate(\n                                'resources.customers.fieldGroups.history'\n                            )}\n                        </Typography>\n                        <Box display=\"flex\">\n                            <Box flexGrow={1}>\n                                <Box display=\"flex\" mb=\"1em\">\n                                    <Box mr=\"1em\">\n                                        <AccessTimeIcon\n                                            fontSize=\"small\"\n                                            color=\"disabled\"\n                                        />\n                                    </Box>\n                                    <Box flexGrow={1}>\n                                        <Typography>\n                                            {translate(\n                                                'resources.customers.fields.first_seen'\n                                            )}\n                                        </Typography>\n                                        <DateField\n                                            record={record}\n                                            source=\"first_seen\"\n                                        />\n                                    </Box>\n                                </Box>\n                                {orderIds.length > 0 && (\n                                    <Box display=\"flex\">\n                                        <Box mr=\"1em\">\n                                            <order.icon\n                                                fontSize=\"small\"\n                                                color=\"disabled\"\n                                            />\n                                        </Box>\n                                        <Box flexGrow={1}>\n                                            <Typography>\n                                                {translate(\n                                                    'resources.commands.amount',\n                                                    {\n                                                        smart_count:\n                                                            orderIds.length,\n                                                    }\n                                                )}\n                                            </Typography>\n                                        </Box>\n                                    </Box>\n                                )}\n                            </Box>\n                            <Box flexGrow={1}>\n                                <Box display=\"flex\" mb=\"1em\">\n                                    <Box mr=\"1em\">\n                                        <AccessTimeIcon\n                                            fontSize=\"small\"\n                                            color=\"disabled\"\n                                        />\n                                    </Box>\n                                    <Box flexGrow={1}>\n                                        <Typography>\n                                            {translate(\n                                                'resources.customers.fields.last_seen'\n                                            )}\n                                        </Typography>\n                                        <DateField\n                                            record={record}\n                                            source=\"last_seen\"\n                                        />\n                                    </Box>\n                                </Box>\n                                {reviewIds.length > 0 && (\n                                    <Box display=\"flex\">\n                                        <Box mr=\"1em\">\n                                            <review.icon\n                                                fontSize=\"small\"\n                                                color=\"disabled\"\n                                            />\n                                        </Box>\n                                        <Box flexGrow={1}>\n                                            <Typography>\n                                                {translate(\n                                                    'resources.reviews.amount',\n                                                    {\n                                                        smart_count:\n                                                            reviewIds.length,\n                                                    }\n                                                )}\n                                            </Typography>\n                                        </Box>\n                                    </Box>\n                                )}\n                            </Box>\n                        </Box>\n                    </CardContent>\n                </Card>\n            </Box>\n\n            {events.map(event =>\n                event.type === 'order' ? (\n                    <OrderEvent\n                        record={event.data}\n                        key={`event_${event.data.id}`}\n                        basePath={basePath}\n                    />\n                ) : (\n                    <ReviewEvent\n                        record={event.data}\n                        key={`review_${event.data.id}`}\n                        basePath={basePath}\n                    />\n                )\n            )}\n        </>\n    );\n};\n\ntype OrderReviewEvent = {\n    type: 'order' | 'review';\n    date: Date;\n    data: Order | Review;\n};\n\nconst mixOrdersAndReviews = (\n    orders: RecordMap<Order>,\n    orderIds: Identifier[],\n    reviews: RecordMap<Review>,\n    reviewIds: Identifier[]\n): OrderReviewEvent[] => {\n    const eventsFromOrders = orderIds.map<OrderReviewEvent>(id => ({\n        type: 'order',\n        date: orders[id].date,\n        data: orders[id],\n    }));\n\n    const eventsFromReviews = reviewIds.map<OrderReviewEvent>(id => ({\n        type: 'review',\n        date: reviews[id].date,\n        data: reviews[id],\n    }));\n\n    const events = [...eventsFromOrders, ...eventsFromReviews];\n    events.sort(\n        (e1, e2) => new Date(e1.date).valueOf() - new Date(e2.date).valueOf()\n    );\n    return events;\n};\n\nconst useEventStyles = makeStyles({\n    card: {\n        margin: '0 0 1em 1em',\n    },\n    cardHeader: {\n        alignItems: 'flex-start',\n    },\n    clamp: {\n        display: '-webkit-box',\n        '-webkit-line-clamp': 3,\n        '-webkit-box-orient': 'vertical',\n        overflow: 'hidden',\n    },\n});\n\nconst OrderEvent: FC<{ record?: RaRecord; basePath?: string }> = ({\n    record,\n    basePath,\n}) => {\n    const translate = useTranslate();\n    const classes = useEventStyles();\n\n    if (!record) {\n        return null;\n    }\n\n    return (\n        <Card className={classes.card}>\n            <CardHeader\n                className={classes.cardHeader}\n                avatar={\n                    <Avatar\n                        aria-label={translate('resources.commands.name', {\n                            smart_count: 1,\n                        })}\n                    >\n                        <order.icon />\n                    </Avatar>\n                }\n                action={<EditButton record={record} basePath=\"/commands\" />}\n                title={`${translate('resources.commands.name', {\n                    smart_count: 1,\n                })} #${record.reference}`}\n                subheader={\n                    <>\n                        <Typography variant=\"body2\">{record.date}</Typography>\n                        <Typography variant=\"body2\" color=\"textSecondary\">\n                            {translate('resources.commands.nb_items', {\n                                smart_count: record.basket.length,\n                                _: '1 item |||| %{smart_count} items',\n                            })}\n                            &nbsp;-&nbsp;\n                            <NumberField\n                                source=\"total\"\n                                options={{\n                                    style: 'currency',\n                                    currency: 'USD',\n                                }}\n                                record={record}\n                                basePath={basePath}\n                            />\n                            &nbsp;-&nbsp;\n                            <TextField\n                                source=\"status\"\n                                record={record}\n                                basePath={basePath}\n                            />\n                        </Typography>\n                    </>\n                }\n            />\n        </Card>\n    );\n};\n\nconst ReviewEvent: FC<{ record?: RaRecord; basePath?: string }> = ({\n    record,\n    basePath,\n}) => {\n    const translate = useTranslate();\n    const classes = useEventStyles();\n\n    if (!record) {\n        return null;\n    }\n\n    return (\n        <Card className={classes.card}>\n            <CardHeader\n                className={classes.cardHeader}\n                avatar={\n                    <Avatar\n                        aria-label={translate('resources.reviews.name', {\n                            smart_count: 1,\n                        })}\n                    >\n                        <review.icon />\n                    </Avatar>\n                }\n                action={<EditButton record={record} basePath=\"/reviews\" />}\n                title={\n                    <span>\n                        {translate('resources.reviews.relative_to_poster')}{' '}\n                        <ProductReferenceField\n                            resource=\"reviews\"\n                            record={record}\n                            basePath={basePath}\n                        />\n                    </span>\n                }\n                subheader={\n                    <>\n                        <Typography variant=\"body2\">{record.date}</Typography>\n                        <StarRatingField record={record} />\n                        <Typography variant=\"inherit\" className={classes.clamp}>\n                            {record.comment}\n                        </Typography>\n                    </>\n                }\n            />\n        </Card>\n    );\n};\n\nconst EditButton: FC<{ record?: RaRecord; basePath?: string }> = ({\n    record,\n    basePath,\n}) => {\n    const translate = useTranslate();\n    return (\n        <Tooltip title={translate('ra.action.edit')}>\n            <IconButton\n                aria-label={translate('ra.action.edit')}\n                component={Link}\n                to={linkToRecord(basePath, record && record.id)}\n            >\n                <ContentCreate />\n            </IconButton>\n        </Tooltip>\n    );\n};\n\nexport default Aside;\n","import React, { FC } from 'react';\nimport { useTranslate, SelectArrayInput } from 'react-admin';\nimport { InputProps } from 'ra-core';\n\nimport segments from '../segments/data';\n\ninterface Props extends Omit<InputProps, 'source'> {\n    source?: string;\n}\n\nconst SegmentsInput: FC<Props> = ({ addField, ...rest }) => {\n    const translate = useTranslate();\n    return (\n        <SelectArrayInput\n            {...rest}\n            choices={segments.map(segment => ({\n                id: segment.id,\n                name: translate(segment.name),\n            }))}\n        />\n    );\n};\n\nSegmentsInput.defaultProps = {\n    addField: true,\n    source: 'groups',\n    resource: 'customers',\n};\n\nexport default SegmentsInput;\n","import React, { FC, ReactElement } from 'react';\nimport {\n    DateInput,\n    Edit,\n    EditProps,\n    NullableBooleanInput,\n    TextInput,\n    PasswordInput,\n    Toolbar,\n    useTranslate,\n    FormWithRedirect,\n} from 'react-admin';\nimport { useDefineAppLocation } from '@react-admin/ra-navigation';\nimport { Box, Card, CardContent, Typography } from '@material-ui/core';\n\nimport Aside from './Aside';\nimport FullNameField from './FullNameField';\nimport SegmentsInput from './SegmentsInput';\nimport { validatePasswords } from './VisitorCreate';\nimport { Customer, FieldProps } from '../types';\n\nconst VisitorEdit: FC<EditProps> = props => {\n    return (\n        <Edit\n            title={<VisitorTitle />}\n            aside={<Aside />}\n            component=\"div\"\n            {...props}\n        >\n            <VisitorForm />\n        </Edit>\n    );\n};\n\nconst VisitorTitle: FC<FieldProps<Customer>> = ({ record }) =>\n    record ? <FullNameField record={record} size=\"32\" /> : null;\n\nconst VisitorForm = (props: any): ReactElement => {\n    const translate = useTranslate();\n    useDefineAppLocation('audience.customers.edit', props);\n\n    return (\n        <FormWithRedirect\n            {...props}\n            validate={validatePasswords}\n            render={(formProps: any): ReactElement => (\n                <Card>\n                    <form>\n                        <CardContent>\n                            <Box display={{ md: 'block', lg: 'flex' }}>\n                                <Box flex={2} mr={{ md: 0, lg: '1em' }}>\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.identity'\n                                        )}\n                                    </Typography>\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"first_name\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={1}\n                                            ml={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"last_name\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                    </Box>\n                                    <TextInput\n                                        type=\"email\"\n                                        source=\"email\"\n                                        resource=\"customers\"\n                                        validation={{ email: true }}\n                                        fullWidth\n                                    />\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <DateInput\n                                                source=\"birthday\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={2}\n                                            ml={{ xs: 0, sm: '0.5em' }}\n                                        />\n                                    </Box>\n\n                                    <Box mt=\"1em\" />\n\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.address'\n                                        )}\n                                    </Typography>\n                                    <TextInput\n                                        source=\"address\"\n                                        resource=\"customers\"\n                                        multiline\n                                        fullWidth\n                                    />\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"zipcode\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={2}\n                                            ml={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"city\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                    </Box>\n\n                                    <Box mt=\"1em\" />\n\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.change_password'\n                                        )}\n                                    </Typography>\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <PasswordInput\n                                                source=\"password\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={1}\n                                            ml={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <PasswordInput\n                                                source=\"confirm_password\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                    </Box>\n                                </Box>\n                                <Box\n                                    flex={1}\n                                    ml={{ xs: 0, lg: '1em' }}\n                                    mt={{ xs: '1em', lg: 0 }}\n                                >\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.stats'\n                                        )}\n                                    </Typography>\n                                    <div>\n                                        <SegmentsInput fullWidth />\n                                    </div>\n                                    <div>\n                                        <NullableBooleanInput\n                                            source=\"has_newsletter\"\n                                            resource=\"customers\"\n                                        />\n                                    </div>\n                                </Box>\n                            </Box>\n                        </CardContent>\n                        <Toolbar\n                            record={formProps.record}\n                            basePath={formProps.basePath}\n                            undoable={true}\n                            invalid={formProps.invalid}\n                            handleSubmit={formProps.handleSubmit}\n                            saving={formProps.saving}\n                            resource=\"customers\"\n                        />\n                    </form>\n                </Card>\n            )}\n        />\n    );\n};\n\nexport default VisitorEdit;\n","import VisitorIcon from '@material-ui/icons/People';\n\nimport VisitorList from './VisitorList';\nimport VisitorCreate from './VisitorCreate';\nimport VisitorEdit from './VisitorEdit';\n\nexport default {\n    list: VisitorList,\n    create: VisitorCreate,\n    edit: VisitorEdit,\n    icon: VisitorIcon,\n};\n","import React, { FC } from 'react';\nimport { FieldProps, Customer } from '../types';\n\nconst AddressField: FC<FieldProps<Customer>> = ({ record }) =>\n    record ? (\n        <span>\n            {record.address}, {record.city} {record.zipcode}\n        </span>\n    ) : null;\n\nexport default AddressField;\n","import React, { FC, ReactElement } from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles, darken, fade, lighten } from '@material-ui/core/styles';\nimport {\n    useShowController,\n    ReferenceField,\n    TextField,\n    ShowProps,\n} from 'react-admin';\n\nimport Basket from '../orders/Basket';\nimport { FieldProps, Customer } from '../types';\n\nconst CustomerField = ({ record }: FieldProps<Customer>): ReactElement | null =>\n    record ? (\n        <Typography>\n            {record.first_name} {record.last_name}\n            <br />\n            {record.address}\n            <br />\n            {record.city}, {record.zipcode}\n        </Typography>\n    ) : null;\n\nconst InvoiceShow: FC<ShowProps> = props => {\n    const { record } = useShowController(props);\n    const classes = useStyles();\n\n    if (!record) return null;\n    return (\n        <Card className={classes.root}>\n            <CardContent>\n                <Grid container spacing={2}>\n                    <Grid item xs={6}>\n                        <Typography variant=\"h6\" gutterBottom>\n                            Posters Galore\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={6}>\n                        <Typography variant=\"h6\" gutterBottom align=\"right\">\n                            Invoice {record.id}\n                        </Typography>\n                    </Grid>\n                </Grid>\n                <Grid container spacing={2}>\n                    <Grid item xs={12} container alignContent=\"flex-end\">\n                        <ReferenceField\n                            resource=\"invoices\"\n                            reference=\"customers\"\n                            source=\"customer_id\"\n                            basePath=\"/invoices\"\n                            record={record}\n                            link={false}\n                        >\n                            <CustomerField />\n                        </ReferenceField>\n                    </Grid>\n                </Grid>\n                <div className={classes.spacer}>&nbsp;</div>\n                <Grid container spacing={2}>\n                    <Grid item xs={6}>\n                        <Typography variant=\"h6\" gutterBottom align=\"center\">\n                            Date{' '}\n                        </Typography>\n                        <Typography gutterBottom align=\"center\">\n                            {new Date(record.date).toLocaleDateString()}\n                        </Typography>\n                    </Grid>\n\n                    <Grid item xs={5}>\n                        <Typography variant=\"h6\" gutterBottom align=\"center\">\n                            Order\n                        </Typography>\n                        <ReferenceField\n                            resource=\"invoices\"\n                            reference=\"commands\"\n                            source=\"command_id\"\n                            basePath=\"/invoices\"\n                            record={record}\n                            link={false}\n                        >\n                            <TextField\n                                source=\"reference\"\n                                align=\"center\"\n                                component=\"p\"\n                                gutterBottom\n                            />\n                        </ReferenceField>\n                    </Grid>\n                </Grid>\n                <div className={classes.invoices}>\n                    <ReferenceField\n                        resource=\"invoices\"\n                        reference=\"commands\"\n                        source=\"command_id\"\n                        basePath=\"/invoices\"\n                        record={record}\n                        link={false}\n                    >\n                        <Basket />\n                    </ReferenceField>\n                </div>\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default InvoiceShow;\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        width: 600,\n        margin: 'auto',\n        borderStyle: 'solid',\n        borderWidth: 1,\n        borderColor:\n            theme.palette.type === 'light'\n                ? lighten(fade(theme.palette.divider, 1), 0.88)\n                : darken(fade(theme.palette.divider, 1), 0.68),\n    },\n    spacer: { height: 20 },\n    invoices: { margin: '10px 0' },\n}));\n","import React, { FC } from 'react';\nimport {\n    List,\n    Datagrid,\n    TextField,\n    DateField,\n    ReferenceField,\n    NumberField,\n    DateInput,\n    Filter,\n    ListProps,\n    FilterProps,\n} from 'react-admin';\nimport FullNameField from '../visitors/FullNameField';\nimport AddressField from '../visitors/AddressField';\nimport InvoiceShow from './InvoiceShow';\n\nconst ListFilters: FC<Omit<FilterProps, 'children'>> = props => (\n    <Filter {...props}>\n        <DateInput source=\"date_gte\" alwaysOn />\n        <DateInput source=\"date_lte\" alwaysOn />\n    </Filter>\n);\n\nconst InvoiceList: FC<ListProps> = props => (\n    <List {...props} filters={<ListFilters />} perPage={25}>\n        <Datagrid rowClick=\"expand\" expand={<InvoiceShow />}>\n            <TextField source=\"id\" />\n            <DateField source=\"date\" />\n            <ReferenceField source=\"customer_id\" reference=\"customers\">\n                <FullNameField />\n            </ReferenceField>\n            <ReferenceField\n                source=\"customer_id\"\n                reference=\"customers\"\n                link={false}\n                label=\"resources.invoices.fields.address\"\n            >\n                <AddressField />\n            </ReferenceField>\n            <ReferenceField source=\"command_id\" reference=\"commands\">\n                <TextField source=\"reference\" />\n            </ReferenceField>\n            <NumberField source=\"total_ex_taxes\" />\n            <NumberField source=\"delivery_fees\" />\n            <NumberField source=\"taxes\" />\n            <NumberField source=\"total\" />\n        </Datagrid>\n    </List>\n);\n\nexport default InvoiceList;\n","import InvoiceIcon from '@material-ui/icons/LibraryBooks';\n\nimport InvoiceList from './InvoiceList';\n\nexport default {\n    list: InvoiceList,\n    icon: InvoiceIcon,\n};\n","import * as React from 'react';\nimport { FC } from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FieldProps, Product } from '../types';\n\nconst useStyles = makeStyles({\n    root: { display: 'inline-block', marginTop: '1em', zIndex: 2 },\n    content: { padding: 0, '&:last-child': { padding: 0 } },\n    img: {\n        width: 'initial',\n        minWidth: 'initial',\n        maxWidth: '42em',\n        maxHeight: '15em',\n    },\n});\n\nconst Poster: FC<FieldProps<Product>> = ({ record }) => {\n    const classes = useStyles();\n\n    if (!record) return null;\n\n    return (\n        <Card className={classes.root}>\n            <CardContent className={classes.content}>\n                <img src={record.image} alt=\"\" className={classes.img} />\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default Poster;\n","import React, { FC } from 'react';\nimport {\n    Create,\n    FormTab,\n    NumberInput,\n    ReferenceInput,\n    SelectInput,\n    TabbedForm,\n    TextInput,\n    required,\n    CreateProps,\n} from 'react-admin';\nimport { InputAdornment } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { MarkdownInput } from '@react-admin/ra-markdown';\nimport { useDefineAppLocation } from '@react-admin/ra-navigation';\n\nexport const styles = {\n    price: { width: '7em' },\n    width: { width: '7em' },\n    height: { width: '7em' },\n    stock: { width: '7em' },\n    widthFormGroup: { display: 'inline-block' },\n    heightFormGroup: { display: 'inline-block', marginLeft: 32 },\n};\n\nconst useStyles = makeStyles(styles);\n\nconst ProductCreate: FC<CreateProps> = props => {\n    useDefineAppLocation('catalog.products.create');\n    const classes = useStyles();\n    return (\n        <Create {...props}>\n            <TabbedForm>\n                <FormTab label=\"resources.products.tabs.image\">\n                    <TextInput source=\"image\" fullWidth validate={required()} />\n                    <TextInput\n                        source=\"thumbnail\"\n                        fullWidth\n                        validate={required()}\n                    />\n                </FormTab>\n                <FormTab label=\"resources.products.tabs.details\" path=\"details\">\n                    <TextInput source=\"reference\" validate={required()} />\n                    <NumberInput\n                        source=\"price\"\n                        validate={required()}\n                        className={classes.price}\n                        InputProps={{\n                            startAdornment: (\n                                <InputAdornment position=\"start\">\n                                    €\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <NumberInput\n                        source=\"width\"\n                        validate={required()}\n                        className={classes.width}\n                        formClassName={classes.widthFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <NumberInput\n                        source=\"height\"\n                        validate={required()}\n                        className={classes.height}\n                        formClassName={classes.heightFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <ReferenceInput\n                        source=\"category_id\"\n                        reference=\"categories\"\n                        allowEmpty\n                    >\n                        <SelectInput source=\"name\" />\n                    </ReferenceInput>\n                    <NumberInput\n                        source=\"stock\"\n                        validate={required()}\n                        className={classes.stock}\n                    />\n                </FormTab>\n                <FormTab\n                    label=\"resources.products.tabs.description\"\n                    path=\"description\"\n                >\n                    <MarkdownInput source=\"description\" label=\"\" />\n                </FormTab>\n            </TabbedForm>\n        </Create>\n    );\n};\n\nexport default ProductCreate;\n","import React, { FC } from 'react';\nimport { MarkdownField } from '@react-admin/ra-markdown';\nimport { Typography } from '@material-ui/core';\nimport { makeStyles, lighten, darken } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    container: {\n        display: 'flex',\n        flexDirection: 'column',\n        padding: '0 20px',\n        width: 350,\n        '& > p': {\n            fontSize: 12,\n            color: theme.palette.text.primary,\n            textAlign: 'right',\n        },\n        // Temporary until darkmode is correctly implemented in ra-markdown\n        '& .tui-editor-contents p': {\n            color:\n                theme.palette.type === 'light'\n                    ? lighten(theme.palette.text.primary, 0.38)\n                    : darken(theme.palette.text.primary, 0.38),\n        },\n    },\n    info: {\n        padding: theme.spacing(2, 3),\n        '& h1': {\n            fontSize: 18,\n            color: theme.palette.text.primary,\n            fontWeight: 'normal',\n        },\n        '& h2': {\n            fontSize: 14,\n            color:\n                theme.palette.type === 'light'\n                    ? lighten(theme.palette.text.primary, 0.38)\n                    : darken(theme.palette.text.primary, 0.38),\n            fontWeight: 'normal',\n        },\n        '& .MuiFormControl-root': {\n            margin: 0,\n            '& > div': {\n                padding: 0,\n            },\n        },\n    },\n    details: {\n        display: 'flex',\n        flexDirection: 'column',\n    },\n    preview: {\n        padding: theme.spacing(2),\n    },\n    frame: {\n        position: 'relative',\n        width: '100%',\n        paddingBottom: '82.5%',\n        background: theme.palette.common.black,\n        boxShadow: '0 10px 7px -5px rgba(0, 0, 0, 0.3)',\n    },\n    mat: {\n        position: 'absolute',\n        background: theme.palette.background.paper,\n        top: '3.0303%',\n        bottom: '3.0303%',\n        left: '2.5%',\n        right: '2.5%',\n        boxShadow: '0px 0px 20px 0px rgba(0,0,0,0.5) inset',\n    },\n    art: {\n        position: 'absolute',\n        top: '16.129%',\n        bottom: '16.129%',\n        left: '13.158%',\n        right: '13.158%',\n        '& img': {\n            width: '100%',\n        },\n    },\n}));\n\nconst Preview: FC<{ record: any }> = ({ record }) => {\n    const { image, height, width, price, reference } = record;\n    const classes = useStyles();\n\n    return (\n        <div className={classes.container}>\n            <div className={classes.preview}>\n                <div className={classes.frame}>\n                    <div className={classes.mat}>\n                        <div className={classes.art}>\n                            <img src={image} alt=\"\" />\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div className={classes.info}>\n                <Typography variant=\"h1\">{reference}</Typography>\n                <div className={classes.details}>\n                    <Typography variant=\"caption\">\n                        {width} x {height} cm\n                    </Typography>\n                    <Typography variant=\"caption\">{price}€</Typography>\n                </div>\n                <MarkdownField record={record} label=\"\" source=\"description\" />\n            </div>\n        </div>\n    );\n};\n\nexport default Preview;\n","import React, { FC } from 'react';\nimport {\n    Datagrid,\n    DateField,\n    Edit,\n    EditButton,\n    SimpleForm,\n    NumberInput,\n    Pagination,\n    ReferenceInput,\n    ReferenceManyField,\n    SelectInput,\n    TextField,\n    TextInput,\n    FormDataConsumer,\n    FormWithRedirect,\n    useNotify,\n    SaveButton,\n    Toolbar,\n    EditProps,\n} from 'react-admin';\nimport { MarkdownInput } from '@react-admin/ra-markdown';\nimport { useLock, useHasLock } from '@react-admin/ra-realtime';\nimport { useDefineAppLocation } from '@react-admin/ra-navigation';\nimport { AccordionSection } from '@react-admin/ra-form-layout';\nimport {\n    Card,\n    CardContent,\n    InputAdornment,\n    Typography,\n    CircularProgress,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport StarRatingField from '../reviews/StarRatingField';\nimport Poster from './Poster';\nimport { styles as createStyles } from './ProductCreate';\nimport ProductPreview from './ProductPreview';\n\nimport { Product } from '../types';\n\ninterface ProductTitleProps {\n    record?: Product;\n}\n\nconst ProductTitle: FC<ProductTitleProps> = ({ record }) =>\n    record ? <span>Poster #{record.reference}</span> : null;\n\nconst useStyles = makeStyles({\n    ...createStyles,\n    comment: {\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n        maxWidth: 256,\n    },\n    container: {\n        display: 'flex',\n        '& > :first-child': {\n            flex: 1,\n            minWidth: '60%',\n            maxWidth: '70%',\n        },\n        '& > :last-child': {\n            width: '25%',\n            flexShrink: 0,\n        },\n    },\n    root: {\n        padding: '0 !important',\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        '& .tabbed-form': {\n            display: 'flex',\n            flexDirection: 'column',\n            flex: 1,\n        },\n        '& .toolbar': {\n            marginTop: 'auto',\n        },\n    },\n});\n\nconst ProductEditFormWithPreview: FC<{ toolbar: any }> = ({\n    children,\n    ...props\n}) => {\n    const classes = useStyles();\n    useDefineAppLocation('catalog.products.edit', props);\n    return (\n        <FormWithRedirect\n            {...props}\n            render={(formProps): JSX.Element => {\n                return (\n                    <div className={classes.container}>\n                        <Card>\n                            <CardContent className={classes.root}>\n                                <SimpleForm {...formProps}>\n                                    {children}\n                                </SimpleForm>\n                            </CardContent>\n                        </Card>\n                        <div data-testid=\"product-edit-preview\">\n                            <FormDataConsumer>\n                                {({ formData }): JSX.Element => {\n                                    return <ProductPreview record={formData} />;\n                                }}\n                            </FormDataConsumer>\n                        </div>\n                    </div>\n                );\n            }}\n        />\n    );\n};\n\nconst ProductEdit: FC<EditProps> = props => {\n    const { resource, id } = props;\n\n    const classes = useStyles();\n    const notify = useNotify();\n\n    const { loading } = useLock(\n        resource as string,\n        id as string,\n        'todousername',\n        {\n            onSuccess: () => {\n                notify('ra-realtime.notification.lock.lockedByMe');\n            },\n            onFailure: () => {\n                notify('ra-realtime.notification.lock.lockedBySomeoneElse');\n            },\n            onUnlockSuccess: () => {\n                notify('ra-realtime.notification.lock.unlocked');\n            },\n        }\n    );\n\n    if (loading) {\n        return <CircularProgress />;\n    }\n\n    return (\n        <Edit {...props} title={<ProductTitle />} component=\"div\">\n            <ProductEditFormWithPreview toolbar={<CustomToolbar />}>\n                <Poster />\n                <TextInput source=\"image\" fullWidth />\n                <TextInput source=\"thumbnail\" fullWidth />\n                <AccordionSection\n                    label=\"resources.products.tabs.description\"\n                    data-tour-id=\"description-tab\"\n                    fullWidth\n                >\n                    <MarkdownInput source=\"description\" label=\"\" />\n                </AccordionSection>\n                <AccordionSection\n                    label=\"resources.products.tabs.details\"\n                    fullWidth\n                >\n                    <TextInput source=\"reference\" />\n                    <NumberInput\n                        source=\"price\"\n                        className={classes.price}\n                        InputProps={{\n                            startAdornment: (\n                                <InputAdornment position=\"start\">\n                                    €\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <NumberInput\n                        source=\"width\"\n                        className={classes.width}\n                        formClassName={classes.widthFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <NumberInput\n                        source=\"height\"\n                        className={classes.height}\n                        formClassName={classes.heightFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <ReferenceInput source=\"category_id\" reference=\"categories\">\n                        <SelectInput source=\"name\" />\n                    </ReferenceInput>\n                    <NumberInput source=\"stock\" className={classes.stock} />\n                </AccordionSection>\n                <AccordionSection\n                    label=\"resources.products.tabs.reviews\"\n                    fullWidth\n                >\n                    <ReferenceManyField\n                        label=\"\"\n                        reference=\"reviews\"\n                        target=\"product_id\"\n                        pagination={<ReferenceManyFieldPagination />}\n                        fullWidth\n                    >\n                        <Datagrid>\n                            <DateField source=\"date\" />\n                            <CustomerReferenceField />\n                            <StarRatingField />\n                            <TextField\n                                source=\"comment\"\n                                cellClassName={classes.comment}\n                            />\n                            <TextField source=\"status\" />\n                            <EditButton />\n                        </Datagrid>\n                    </ReferenceManyField>\n                </AccordionSection>\n            </ProductEditFormWithPreview>\n        </Edit>\n    );\n};\n\nconst CustomToolbar: FC<any> = props => {\n    const { resource, record } = props;\n\n    const { data: lock } = useHasLock(resource, record.id);\n    const isMeLocker = lock?.identity === 'todousername';\n\n    return (\n        <Toolbar {...props}>\n            <SaveButton disabled={!isMeLocker} />\n            {!isMeLocker && <LockMessage identity={lock?.identity} />}\n        </Toolbar>\n    );\n};\n\nconst useLockMessageStyles = makeStyles(theme => ({\n    root: {\n        padding: theme.spacing(0, 1),\n    },\n}));\n\nconst LockMessage: FC<any> = props => {\n    const { identity, variant = 'body1' } = props;\n    const classes = useLockMessageStyles(props);\n\n    return (\n        <Typography className={classes.root} variant={variant}>\n            This record is locked by another user: {identity}.\n        </Typography>\n    );\n};\n\nexport default ProductEdit;\n\n// There is an issue with the ReferenceManyField or the Pagination component\n// which do not sanitize some props (addLabel, fullWidth)\n// TODO: Fix react-admin and remove this component\nconst ReferenceManyFieldPagination: FC = ({\n    addLabel,\n    fullWidth,\n    ...props\n}: {\n    addLabel?: boolean;\n    fullWidth?: boolean;\n    [key: string]: any;\n}) => {\n    return <Pagination {...props} />;\n};\n","import ProductIcon from '@material-ui/icons/Collections';\nimport ProductList from './ProductList';\nimport ProductEdit from './ProductEdit';\nimport ProductCreate from './ProductCreate';\n\nexport default {\n    list: ProductList,\n    create: ProductCreate,\n    edit: ProductEdit,\n    icon: ProductIcon,\n};\n","import React, { FC } from 'react';\nimport {\n    List,\n    ListActions,\n    DateField,\n    DateInput,\n    TextField,\n    TextInput,\n    ListProps,\n} from 'react-admin';\n\nimport { EditableDatagrid, RowForm } from '@react-admin/ra-editable-datagrid';\nimport { makeStyles } from '@material-ui/core';\n\nconst StoreForm: FC = props => (\n    <RowForm {...props}>\n        <TextField source=\"id\" />\n        {/* eslint-disable-next-line */}\n        <TextInput source=\"city\" autoFocus />\n        <TextInput source=\"country\" />\n        <TextInput source=\"address\" />\n        <DateInput source=\"created_at\" />\n    </RowForm>\n);\n\nconst StoreListActions: FC = props => {\n    const classes = useListActionsStyles();\n    return <ListActions {...props} className={classes.root} />;\n};\n\nconst useListActionsStyles = makeStyles(theme => ({\n    root: {\n        paddingBottom: 0,\n        paddingTop: theme.spacing(4),\n    },\n}));\n\nexport const StoreList: FC<ListProps> = props => {\n    const classes = useStyles();\n    return (\n        <List\n            {...props}\n            actions={<StoreListActions />}\n            className={classes.root}\n            hasCreate\n            empty={false}\n            perPage={25}\n        >\n            <EditableDatagrid\n                data-testid=\"store-datagrid\"\n                rowClick=\"edit\"\n                createForm={<StoreForm />}\n                editForm={<StoreForm />}\n            >\n                <TextField source=\"id\" />\n                <TextField source=\"city\" />\n                <TextField source=\"country\" />\n                <TextField source=\"address\" />\n                <DateField source=\"created_at\" />\n            </EditableDatagrid>\n        </List>\n    );\n};\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        marginTop: -theme.spacing(7),\n    },\n}));\n","import { StoreList } from './StoreList';\nimport StoreIcon from '@material-ui/icons/Store';\n\nexport default {\n    icon: StoreIcon,\n    list: StoreList,\n};\n","export const segments = [\n    'compulsive',\n    'collector',\n    'ordered_once',\n    'regular',\n    'returns',\n    'reviewer',\n];\n\nfunction capitalizeFirstLetter(string: string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nexport default segments.map(segment => ({\n    id: segment,\n    name: capitalizeFirstLetter(segment),\n}));\n","import React, { FC, ReactNode, useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useTranslate } from 'react-admin';\nimport { useSubscribeToRecordList } from '@react-admin/ra-realtime';\nimport DashboardIcon from '@material-ui/icons/Dashboard';\nimport CheckCircleOutlineIcon from '@material-ui/icons/CheckCircleOutline';\nimport AVTimerIcon from '@material-ui/icons/AvTimer';\nimport BlockIcon from '@material-ui/icons/Block';\n\nimport {\n    MultiLevelMenu,\n    MenuItem,\n    MenuItemCategory,\n    Menu as NavigationMenu,\n    useAppLocationMatcher,\n    useResourceAppLocation,\n} from '@react-admin/ra-navigation';\n\nimport {\n    useMediaQuery,\n    Theme,\n    CardContent,\n    Typography,\n    withStyles,\n    Badge,\n    Box,\n} from '@material-ui/core';\n\nimport categories from '../categories';\nimport visitors from '../visitors';\nimport orders from '../orders';\nimport invoices from '../invoices';\nimport products from '../products';\nimport reviews from '../reviews';\nimport stores from '../stores';\nimport { AppState } from '../types';\nimport { segments } from '../visitors/segments';\n\ninterface Props {\n    logout?: ReactNode;\n    onMenuClick?: () => void;\n}\n\nconst newCustomerFilter = { last_seen_gte: '2020-07-31T22:00:00.000Z' };\nconst formerCustomerFilter = { last_seen_lte: '2020-06-30T22:00:00.000Z' };\n\nconst useResourceChangeCounter = (resource: string): number => {\n    const match = useAppLocationMatcher();\n    const location = useResourceAppLocation();\n    const [countEvent, setCountEvent] = useState(0);\n\n    useSubscribeToRecordList(resource, ({ payload }) => {\n        if (!payload || !payload.ids) {\n            return;\n        }\n\n        let count = payload.ids.length;\n\n        if (location && match(resource)) {\n            const { record } = location && (location.values || {});\n            if (!record || record.id == null) {\n                return;\n            }\n\n            count = payload.ids.filter(id => id !== record.id).length;\n        }\n\n        if (count) {\n            setCountEvent(previous => previous + count);\n        }\n    });\n\n    useEffect(() => {\n        if (match(resource)) {\n            setCountEvent(0);\n        }\n    }, [match, resource]);\n\n    return countEvent;\n};\n\nconst StyledBadgeForText = withStyles(theme => ({\n    badge: {\n        top: 13,\n        right: 13,\n        border: `1px solid ${theme.palette.background.paper}`,\n        padding: '0 4px',\n    },\n}))(Badge);\n\nconst Menu: FC<Props> = ({ onMenuClick, logout }) => {\n    const translate = useTranslate();\n    const commandsChangeCount = useResourceChangeCounter('commands');\n\n    const isXSmall = useMediaQuery((theme: Theme) =>\n        theme.breakpoints.down('xs')\n    );\n\n    useSelector((state: AppState) => state.theme); // force rerender on theme change\n\n    return (\n        <MultiLevelMenu variant=\"categories\">\n            <MenuItemCategory\n                name=\"dashboard\"\n                to=\"/\"\n                exact\n                icon={<DashboardIcon />}\n                onClick={onMenuClick}\n                label=\"ra.page.dashboard\"\n            />\n            <MenuItemCategory\n                name=\"catalog\"\n                icon={<products.icon />}\n                onClick={onMenuClick}\n                label={translate(`pos.menu.catalog`, { smart_count: 1 })}\n            >\n                <CardContent>\n                    <Typography variant=\"h6\" gutterBottom>\n                        {translate(`pos.menu.catalog`, { smart_count: 1 })}\n                    </Typography>\n                    <NavigationMenu>\n                        <MenuItem\n                            name=\"products\"\n                            to=\"/products\"\n                            icon={<products.icon />}\n                            onClick={onMenuClick}\n                            label={translate(`resources.products.name`, {\n                                smart_count: 2,\n                            })}\n                        />\n                        <MenuItem\n                            name=\"categories\"\n                            to=\"/categories/5\"\n                            icon={<categories.icon />}\n                            onClick={onMenuClick}\n                            label={translate(`resources.categories.name`, {\n                                smart_count: 2,\n                            })}\n                        />\n                    </NavigationMenu>\n                </CardContent>\n            </MenuItemCategory>\n            <StyledBadgeForText\n                badgeContent={commandsChangeCount}\n                color=\"primary\"\n            >\n                <MenuItemCategory\n                    name=\"commands\"\n                    to=\"/commands\"\n                    icon={<orders.icon />}\n                    onClick={onMenuClick}\n                    label={translate(`resources.commands.name`, {\n                        smart_count: 2,\n                    })}\n                    data-testid=\"commands-menu\"\n                />\n            </StyledBadgeForText>\n            <MenuItemCategory\n                name=\"invoices\"\n                to=\"/invoices?filter={}\"\n                icon={<invoices.icon />}\n                onClick={onMenuClick}\n                label={translate(`resources.invoices.name`, {\n                    smart_count: 2,\n                })}\n            />\n            <MenuItemCategory\n                name=\"audience\"\n                icon={<visitors.icon />}\n                onClick={onMenuClick}\n                label={translate(`pos.menu.audience`, { smart_count: 2 })}\n            >\n                <AudienceMenu onMenuClick={onMenuClick} />\n            </MenuItemCategory>\n            <MenuItemCategory\n                name=\"reviews\"\n                icon={<reviews.icon />}\n                onClick={onMenuClick}\n                label={translate(`resources.reviews.name`, { smart_count: 2 })}\n            >\n                <CardContent>\n                    <Typography variant=\"h6\" gutterBottom>\n                        {translate(`resources.reviews.name`, {\n                            smart_count: 2,\n                        })}\n                    </Typography>{' '}\n                    <NavigationMenu>\n                        <MenuItem\n                            name=\"reviews.accepted\"\n                            to={'/reviews?filter={\"status\": \"accepted\"}'}\n                            icon={<CheckCircleOutlineIcon />}\n                            onClick={onMenuClick}\n                            label=\"pos.reviews.accepted\"\n                        />\n                        <MenuItem\n                            name=\"reviews.rejected\"\n                            to={'/reviews?filter={\"status\": \"rejected\"}'}\n                            icon={<BlockIcon />}\n                            onClick={onMenuClick}\n                            label=\"pos.reviews.rejected\"\n                        />\n                        <MenuItem\n                            name=\"reviews.pending\"\n                            to={'/reviews?filter={\"status\": \"pending\"}'}\n                            icon={<AVTimerIcon />}\n                            onClick={onMenuClick}\n                            label=\"pos.reviews.pending\"\n                        />\n                    </NavigationMenu>\n                </CardContent>\n            </MenuItemCategory>\n            <MenuItemCategory\n                name=\"stores\"\n                to=\"/stores\"\n                icon={<stores.icon />}\n                onClick={onMenuClick}\n                label={translate(`resources.stores.name`, { smart_count: 2 })}\n            />\n            {isXSmall && logout}\n        </MultiLevelMenu>\n    );\n};\n\nexport default Menu;\n\nconst AudienceMenu: FC<{ onMenuClick: (() => void) | undefined }> = ({\n    onMenuClick,\n}) => {\n    const translate = useTranslate();\n\n    return (\n        <CardContent>\n            <Box display=\"flex\" justifyContent=\"space-between\">\n                <Box marginRight={2}>\n                    <Typography variant=\"h6\" gutterBottom>\n                        {translate(`resources.customers.name`, {\n                            smart_count: 2,\n                        })}\n                    </Typography>\n                    <NavigationMenu>\n                        <MenuItem\n                            name=\"customers.newcomers\"\n                            to={`/customers?filter=${JSON.stringify(\n                                newCustomerFilter\n                            )}`}\n                            onClick={onMenuClick}\n                            label={translate(`pos.menu.new_customers`, {\n                                smart_count: 2,\n                            })}\n                        />\n                        <MenuItem\n                            name=\"customers.former_customers\"\n                            to={`/customers?filter=${JSON.stringify(\n                                formerCustomerFilter\n                            )}`}\n                            onClick={onMenuClick}\n                            label={translate(`pos.menu.former_customers`, {\n                                smart_count: 2,\n                            })}\n                        />\n                    </NavigationMenu>\n                </Box>\n                <Box>\n                    <Typography variant=\"h6\" gutterBottom>\n                        {translate(`resources.segments.name`, {\n                            smart_count: 2,\n                        })}\n                    </Typography>\n                    <NavigationMenu>\n                        {segments.map(segment => (\n                            <MenuItem\n                                key={segment}\n                                name={`segments.${segment}`}\n                                to={`/customers?filter={\"groups\": \"${segment}\"}`}\n                                onClick={onMenuClick}\n                                label={translate(\n                                    `resources.segments.data.${segment}`,\n                                    {\n                                        smart_count: 2,\n                                    }\n                                )}\n                            />\n                        ))}\n                    </NavigationMenu>\n                </Box>\n            </Box>\n        </CardContent>\n    );\n};\n","import React, { FC } from 'react';\nimport { Layout } from '@react-admin/ra-enterprise';\n\nimport AppBar from './AppBar';\nimport Menu from './Menu';\nimport Breadcrumb from './Breadcrumb';\n\nimport tours from '../tours/tours';\n\nconst CustomLayout: FC = props => {\n    return (\n        <Layout\n            {...props}\n            appBar={AppBar}\n            menu={Menu}\n            breadcrumb={Breadcrumb}\n            tours={tours}\n        />\n    );\n};\n\nexport default CustomLayout;\n","import React, { ReactElement, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Field, withTypes } from 'react-final-form';\nimport { useLocation } from 'react-router-dom';\n\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport TextField from '@material-ui/core/TextField';\nimport { createMuiTheme, makeStyles } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport LockIcon from '@material-ui/icons/Lock';\n\nimport { Notification } from 'react-admin';\nimport { useTranslate, useLogin, useNotify } from 'ra-core';\nimport { lightTheme } from './themes';\n\nconst useStyles = makeStyles(theme => ({\n    main: {\n        display: 'flex',\n        flexDirection: 'column',\n        minHeight: '100vh',\n        alignItems: 'center',\n        justifyContent: 'flex-start',\n        background: 'url(https://source.unsplash.com/random/1600x900)',\n        backgroundRepeat: 'no-repeat',\n        backgroundSize: 'cover',\n    },\n    card: {\n        minWidth: 300,\n        marginTop: '6em',\n    },\n    avatar: {\n        margin: '1em',\n        display: 'flex',\n        justifyContent: 'center',\n    },\n    icon: {\n        backgroundColor: theme.palette.secondary.main,\n    },\n    hint: {\n        marginTop: '1em',\n        display: 'flex',\n        justifyContent: 'center',\n        color: theme.palette.grey[500],\n    },\n    form: {\n        padding: '0 1em 1em 1em',\n    },\n    input: {\n        marginTop: '1em',\n    },\n    actions: {\n        padding: '0 1em 1em 1em',\n    },\n}));\n\nconst renderInput = ({\n    meta: { touched, error } = { touched: false, error: undefined },\n    input: { ...inputProps },\n    ...props\n}: any): ReactElement => (\n    <TextField\n        error={!!(touched && error)}\n        helperText={touched && error}\n        {...inputProps}\n        {...props}\n        fullWidth\n    />\n);\n\ninterface FormValues {\n    username?: string;\n    password?: string;\n}\n\nconst { Form } = withTypes<FormValues>();\n\nconst Login = (): ReactElement => {\n    const [loading, setLoading] = useState(false);\n    const translate = useTranslate();\n    const classes = useStyles();\n    const notify = useNotify();\n    const login = useLogin();\n    const location = useLocation<{ nextPathname: string } | null>();\n\n    const handleSubmit = (auth: FormValues): void => {\n        setLoading(true);\n        login(auth, location.state ? location.state.nextPathname : '/').catch(\n            (error: Error) => {\n                setLoading(false);\n                notify(\n                    typeof error === 'string'\n                        ? error\n                        : typeof error === 'undefined' || !error.message\n                        ? 'ra.auth.sign_in_error'\n                        : error.message,\n                    'warning'\n                );\n            }\n        );\n    };\n\n    const validate = (values: FormValues): any => {\n        const errors: FormValues = {};\n        if (!values.username) {\n            errors.username = translate('ra.validation.required');\n        }\n        if (!values.password) {\n            errors.password = translate('ra.validation.required');\n        }\n        return errors;\n    };\n\n    return (\n        <Form\n            onSubmit={handleSubmit}\n            validate={validate}\n            render={({ handleSubmit }): ReactElement => (\n                <form onSubmit={handleSubmit} noValidate>\n                    <div className={classes.main}>\n                        <Card className={classes.card}>\n                            <div className={classes.avatar}>\n                                <Avatar className={classes.icon}>\n                                    <LockIcon />\n                                </Avatar>\n                            </div>\n                            <div className={classes.hint}>\n                                Hint: demo / demo\n                            </div>\n                            <div className={classes.form}>\n                                <div className={classes.input}>\n                                    <Field\n                                        name=\"username\"\n                                        component={renderInput}\n                                        label={translate('ra.auth.username')}\n                                        disabled={loading}\n                                    />\n                                </div>\n                                <div className={classes.input}>\n                                    <Field\n                                        name=\"password\"\n                                        component={renderInput}\n                                        label={translate('ra.auth.password')}\n                                        type=\"password\"\n                                        disabled={loading}\n                                    />\n                                </div>\n                            </div>\n                            <CardActions className={classes.actions}>\n                                <Button\n                                    variant=\"contained\"\n                                    type=\"submit\"\n                                    color=\"primary\"\n                                    disabled={loading}\n                                    fullWidth\n                                >\n                                    {loading && (\n                                        <CircularProgress\n                                            size={25}\n                                            thickness={2}\n                                        />\n                                    )}\n                                    {translate('ra.auth.sign_in')}\n                                </Button>\n                            </CardActions>\n                        </Card>\n                        <Notification />\n                    </div>\n                </form>\n            )}\n        />\n    );\n};\n\nLogin.propTypes = {\n    authProvider: PropTypes.func,\n    previousRoute: PropTypes.string,\n};\n\n// We need to put the ThemeProvider decoration in another component\n// Because otherwise the useStyles() hook used in Login won't get\n// the right theme\nconst LoginWithTheme = (props: any): ReactElement => (\n    <ThemeProvider theme={createMuiTheme(lightTheme)}>\n        <Login {...props} />\n    </ThemeProvider>\n);\n\nexport default LoginWithTheme;\n","import React, { FC, forwardRef } from 'react';\nimport { Link } from '@material-ui/core';\nimport { Link as RouterLink } from 'react-router-dom';\n\n// This component could be added to ra-search\nexport const SearchListItemLink: FC<any> = forwardRef((props, ref) => {\n    const { data, onClick, ...rest } = props;\n\n    return (\n        <Link\n            component={RouterLink}\n            to={data.url}\n            onClick={onClick}\n            ref={ref}\n            {...rest}\n        />\n    );\n});\n\nSearchListItemLink.displayName = 'SearchListItemLink';\n","import React, { FC } from 'react';\nimport classnames from 'classnames';\nimport { useTranslate } from 'react-admin';\nimport {\n    Avatar,\n    Grid,\n    ListItem,\n    ListItemAvatar,\n    Typography,\n} from '@material-ui/core';\nimport { makeStyles, lighten } from '@material-ui/core/styles';\nimport { blue } from '@material-ui/core/colors';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\n\nimport { SearchListItemLink } from './SearchListItemLink';\n\nexport const CommandListItem: FC<any> = props => {\n    const { data, onClick } = props;\n    const { content } = data;\n\n    const classes = useCommandListItemStyles();\n    const translate = useTranslate();\n\n    if (!content) {\n        return null;\n    }\n\n    return (\n        <ListItem\n            button\n            component={SearchListItemLink}\n            data={data}\n            onClick={onClick}\n            alignItems=\"flex-start\"\n        >\n            <ListItemAvatar className={classes.avatar}>\n                <Avatar alt={content.reference}>\n                    <ShoppingCartIcon fontSize=\"large\" />\n                </Avatar>\n            </ListItemAvatar>\n            <Grid className={classes.root} container spacing={2}>\n                <Grid container item xs>\n                    <Grid item xs={12}>\n                        <Typography\n                            className={classes.reference}\n                            variant=\"body2\"\n                            color=\"textPrimary\"\n                            gutterBottom\n                        >\n                            {content.reference}\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={12}>\n                        <Typography\n                            variant=\"body1\"\n                            color=\"textPrimary\"\n                            gutterBottom\n                        >\n                            {new Date(content.date).toLocaleDateString()}\n                        </Typography>\n                    </Grid>\n                </Grid>\n                <Grid container item xs>\n                    <Grid item xs={12}>\n                        <Typography\n                            className={classes.total}\n                            variant=\"caption\"\n                            color=\"textPrimary\"\n                        >\n                            {`${translate(\n                                'resources.commands.fields.basket.total'\n                            )} ${content.total}`}\n                            €\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={12}>\n                        <CommandStatus status={content.status} />\n                    </Grid>\n                </Grid>\n                <Grid container item xs>\n                    <Grid item xs={12}>\n                        <Typography\n                            variant=\"body2\"\n                            color=\"textPrimary\"\n                            gutterBottom\n                        >\n                            {`${content.customer.first_name} ${content.customer.last_name}`}\n                        </Typography>\n                    </Grid>\n                </Grid>\n            </Grid>\n        </ListItem>\n    );\n};\n\nconst useCommandListItemStyles = makeStyles(theme => ({\n    avatar: {\n        width: 64,\n        height: 64,\n        paddingRight: theme.spacing(2),\n\n        '& > *': {\n            width: '100%',\n            height: '100%',\n        },\n    },\n    root: {\n        padding: theme.spacing(1, 0),\n    },\n    reference: {\n        fontWeight: theme.typography.fontWeightBold,\n    },\n    total: {\n        fontWeight: theme.typography.fontWeightBold,\n    },\n}));\n\nconst CommandStatus: FC<{ status: string }> = ({ status }) => {\n    const classes = useCommandStatusStyles();\n\n    return (\n        <div\n            className={classnames(classes.root, {\n                [classes.ordered]: status === 'ordered',\n                [classes.delivered]: status === 'delivered',\n                [classes.cancelled]: status === 'cancelled',\n            })}\n        >\n            <Typography className={classes.status} variant=\"caption\">\n                {status}\n            </Typography>\n        </div>\n    );\n};\n\nconst useCommandStatusStyles = makeStyles(theme => ({\n    root: {\n        maxWidth: 64,\n        padding: theme.spacing(0.25, 1),\n        borderRadius: theme.shape.borderRadius,\n        textAlign: 'center',\n    },\n    ordered: {\n        backgroundColor: lighten(blue[300], 0.3),\n        color: theme.palette.getContrastText(lighten(blue[300], 0.3)),\n    },\n    delivered: {\n        backgroundColor: lighten(theme.palette.success.main, 0.3),\n        color: theme.palette.getContrastText(\n            lighten(theme.palette.success.main, 0.3)\n        ),\n    },\n    cancelled: {\n        backgroundColor: lighten(theme.palette.error.main, 0.3),\n        color: theme.palette.getContrastText(\n            lighten(theme.palette.error.main, 0.3)\n        ),\n    },\n    status: {\n        color: 'inherit',\n        textTransform: 'capitalize',\n    },\n}));\n","import * as React from 'react';\nimport { ReactElement, ReactNode } from 'react';\nimport { Box, BoxProps, Link, Typography } from '@material-ui/core';\nimport { Link as RouterLink } from 'react-router-dom';\n\nexport const LinkedData = ({\n    children,\n    label,\n    icon,\n    to,\n    ...rest\n}: {\n    children: ReactNode;\n    label: ReactNode;\n    icon: ReactNode;\n    to: any;\n} & BoxProps): ReactElement => (\n    <Box\n        component=\"li\"\n        display=\"flex\"\n        alignItems=\"flex-start\"\n        justifyContent=\"center\"\n        flexDirection=\"column\"\n        {...rest}\n    >\n        <Box display=\"flex\" alignItems=\"center\" marginBottom={1}>\n            <Box marginRight={1}>{icon}</Box>\n            <Typography component=\"span\">{children}</Typography>\n        </Box>\n        <Link component={RouterLink} variant=\"caption\" to={to}>\n            {label}\n        </Link>\n    </Box>\n);\n","import React, { FC } from 'react';\nimport {\n    Avatar,\n    Box,\n    ListItem,\n    ListItemAvatar,\n    ListItemText,\n    makeStyles,\n    Typography,\n} from '@material-ui/core';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\nimport CommentIcon from '@material-ui/icons/Comment';\nimport DollarIcon from '@material-ui/icons/AttachMoney';\n\nimport { SearchListItemLink } from './SearchListItemLink';\nimport { useTranslate } from 'react-admin';\nimport { LinkedData } from './LinkedData';\n\nconst secondaryTypographyProps = {\n    component: 'div',\n};\n\nexport const CustomerListItem: FC<any> = props => {\n    const { data, onClick } = props;\n    const { content } = data;\n\n    const classes = useStyles();\n    const translate = useTranslate();\n\n    if (!content) {\n        return null;\n    }\n\n    const fullname = `${content.first_name} ${content.last_name}`;\n\n    return (\n        <ListItem\n            button\n            component={SearchListItemLink}\n            data={data}\n            onClick={onClick}\n            alignItems=\"flex-start\"\n        >\n            <ListItemAvatar className={classes.avatar}>\n                <Avatar alt={fullname} src={content.avatar} />\n            </ListItemAvatar>\n            <ListItemText\n                primary={\n                    <Typography variant=\"h6\" color=\"textPrimary\">\n                        {fullname}\n                    </Typography>\n                }\n                secondary={\n                    <Box\n                        component=\"ul\"\n                        display=\"flex\"\n                        justifyContent=\"space-between\"\n                        className={classes.stats}\n                        padding={0}\n                        marginTop={1}\n                        marginBottom={1}\n                    >\n                        <LinkedData\n                            icon={<ShoppingCartIcon />}\n                            label={translate('pos.dashboard.pending_orders')}\n                            to={`/commands?filter=%7B\"status\"%3A\"ordered\"%2C\"customer_id\"%3A${content.id}%7D`}\n                        >\n                            {content.pending_orders}\n                        </LinkedData>\n                        <LinkedData\n                            icon={<DollarIcon />}\n                            label={translate(\n                                'resources.customers.fields.total_spent'\n                            )}\n                            to={`/commands?filter=%7B\"status\"%3A\"delivered\"%2C\"customer_id\"%3A${content.id}%7D`}\n                        >\n                            {content.total_spent.toLocaleString()}\n                        </LinkedData>\n                        <LinkedData\n                            icon={<CommentIcon />}\n                            label={translate('resources.reviews.name', {\n                                smart_count: 2,\n                            })}\n                            to={`/reviews?filter=%7B\"customer_id\"%3A${content.id}%7D`}\n                        >\n                            {content.reviews}\n                        </LinkedData>\n                    </Box>\n                }\n                // @ts-ignore Could not make TS happy\n                secondaryTypographyProps={secondaryTypographyProps}\n            />\n        </ListItem>\n    );\n};\n\nconst useStyles = makeStyles(theme => ({\n    avatar: {\n        width: 64,\n        height: 64,\n        paddingRight: theme.spacing(2),\n\n        '& > *': {\n            width: '100%',\n            height: '100%',\n        },\n    },\n    stats: {\n        '& li': {\n            width: '33.33%',\n            minWidth: 150,\n        },\n    },\n}));\n","import React, { FC } from 'react';\nimport {\n    Box,\n    ListItem,\n    ListItemAvatar,\n    ListItemText,\n    Typography,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CommentIcon from '@material-ui/icons/Comment';\n\nimport { SearchListItemLink } from './index';\nimport { useTranslate } from 'react-admin';\nimport { LinkedData } from './LinkedData';\n\nconst secondaryTypographyProps = {\n    component: 'div',\n};\n\nexport const ProductListItem: FC<any> = props => {\n    const { data, onClick } = props;\n    const { content } = data;\n\n    const classes = useProductListItemStyles();\n    const translate = useTranslate();\n\n    if (!content) {\n        return null;\n    }\n\n    return (\n        <ListItem\n            button\n            component={SearchListItemLink}\n            data={data}\n            onClick={onClick}\n            alignItems=\"flex-start\"\n        >\n            <ListItemAvatar className={classes.avatar}>\n                <div className={classes.art}>\n                    <img src={content.thumbnail} alt={content.reference} />\n                </div>\n            </ListItemAvatar>\n            <ListItemText\n                primary={\n                    <Typography variant=\"h6\" color=\"textPrimary\">\n                        {content.reference}\n                    </Typography>\n                }\n                secondary={\n                    <Box\n                        component=\"ul\"\n                        display=\"flex\"\n                        justifyContent=\"space-between\"\n                        padding={0}\n                        marginTop={1}\n                        marginBottom={1}\n                    >\n                        <LinkedData\n                            icon={<CommentIcon />}\n                            label={translate('resources.reviews.name', {\n                                smart_count: 2,\n                            })}\n                            to={`/reviews?filter=%7B\"product_id\"%3A${content.id}%7D`}\n                        >\n                            {content.reviews}\n                        </LinkedData>\n                    </Box>\n                }\n                // @ts-ignore Could not make TS happy\n                secondaryTypographyProps={secondaryTypographyProps}\n            />\n        </ListItem>\n    );\n};\n\nconst useProductListItemStyles = makeStyles(theme => ({\n    avatar: {\n        width: 64,\n        height: 64,\n        paddingRight: theme.spacing(2),\n    },\n    mat: {\n        background: theme.palette.background.paper,\n        boxShadow: '0px 0px 8px 0px rgba(0,0,0,0.5) inset',\n    },\n    art: {\n        '& img': {\n            width: '100%',\n        },\n    },\n}));\n","import React, { FC } from 'react';\nimport {\n    Avatar,\n    ListItem,\n    ListItemAvatar,\n    ListItemText,\n    makeStyles,\n    Tooltip,\n    Typography,\n} from '@material-ui/core';\nimport { Rating } from '@material-ui/lab';\nimport CommentIcon from '@material-ui/icons/Comment';\n\nimport { SearchListItemLink } from './index';\n\nconst secondaryTypographyProps = {\n    component: 'div',\n};\n\nexport const ReviewListItem: FC<any> = props => {\n    const { data, onClick } = props;\n    const classes = useStyles();\n    const { content } = data;\n\n    if (!content) {\n        return null;\n    }\n\n    return (\n        <ListItem\n            button\n            component={SearchListItemLink}\n            data={data}\n            onClick={onClick}\n            alignItems=\"flex-start\"\n        >\n            <ListItemAvatar className={classes.avatar}>\n                <Avatar alt={content.reference}>\n                    <CommentIcon fontSize=\"large\" />\n                </Avatar>\n            </ListItemAvatar>\n            <ListItemText\n                primary={<Rating value={content.rating} readOnly />}\n                secondary={<ReviewComment comment={content.comment} />}\n                // @ts-ignore Could not make TS happy\n                secondaryTypographyProps={secondaryTypographyProps}\n            />\n        </ListItem>\n    );\n};\n\nconst ReviewComment: FC<{ comment: string }> = ({ comment }) => {\n    return (\n        <div>\n            {comment.length <= 300 ? (\n                <Typography variant=\"caption\" color=\"textPrimary\">\n                    {comment}\n                </Typography>\n            ) : (\n                <Tooltip title={comment}>\n                    <Typography variant=\"caption\" color=\"textPrimary\">\n                        {truncateString(comment, 300)}\n                    </Typography>\n                </Tooltip>\n            )}\n        </div>\n    );\n};\n\nexport function truncateString(text: string, max: number): string {\n    // If the length of text is less than or equal to num\n    // just return text--don't truncate it.\n    if (text.length <= max) {\n        return text;\n    }\n    // Return text truncated with '...' concatenated to the end of text.\n    return text.slice(0, max) + '...';\n}\n\nconst useStyles = makeStyles(theme => ({\n    avatar: {\n        width: 64,\n        height: 64,\n        paddingRight: theme.spacing(2),\n\n        '& > *': {\n            width: '100%',\n            height: '100%',\n        },\n    },\n}));\n","import React, { FC, Fragment } from 'react';\nimport { useTranslate } from 'react-admin';\nimport {\n    List,\n    ListSubheader,\n    ListItem,\n    ListItemText,\n    Typography,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    Search,\n    SearchProps,\n    SearchPanelProps,\n    useSearchResults,\n    groupSearchResultsByResource,\n} from '@react-admin/ra-search';\n\nimport {\n    CommandListItem,\n    CustomerListItem,\n    ProductListItem,\n    ReviewListItem,\n} from './search';\n\nconst CustomSearch: FC<SearchProps> = props => {\n    return (\n        <Search {...props}>\n            <CustomSearchPanel></CustomSearchPanel>\n        </Search>\n    );\n};\n\nexport default CustomSearch;\n\nconst CustomSearchPanel: FC<SearchPanelProps> = props => {\n    const translate = useTranslate();\n    const classes = useCustomSearchPanelStyles(props);\n\n    const { data, onClose } = useSearchResults();\n\n    if (!data || data.length === 0) {\n        return (\n            <List dense {...props}>\n                <ListItem>\n                    <ListItemText\n                        primary={translate('ra.navigation.no_results')}\n                    />\n                </ListItem>\n            </List>\n        );\n    }\n    const groupedData = groupSearchResultsByResource(data, translate);\n\n    return (\n        <List dense className={classes.root} {...props}>\n            {groupedData.map(group => (\n                <Fragment key={group.label}>\n                    <ListSubheader\n                        role=\"presentation\"\n                        className={classes.header}\n                        disableSticky\n                    >\n                        <>\n                            <Typography\n                                className={classes.headerGroup}\n                                variant=\"h6\"\n                            >\n                                {translate(group.label.toString(), {\n                                    _: group.label,\n                                })}\n                            </Typography>\n                            <Typography\n                                className={classes.headerCount}\n                                variant=\"h6\"\n                            >\n                                {translate('ra-search.result', {\n                                    smart_count: group.data.length,\n                                })}\n                            </Typography>\n                        </>\n                    </ListSubheader>\n                    {group.data.map(searchResultItem => (\n                        <CustomSearchResultItem\n                            key={searchResultItem.id}\n                            data={searchResultItem}\n                            onClose={onClose}\n                        />\n                    ))}\n                </Fragment>\n            ))}\n        </List>\n    );\n};\n\nconst useCustomSearchPanelStyles = makeStyles(theme => ({\n    root: {\n        maxHeight: 'calc(100vh - 100px)',\n        maxWidth: 512,\n    },\n    header: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        padding: theme.spacing(1, 2),\n    },\n    headerGroup: {\n        textTransform: 'capitalize',\n    },\n    headerCount: {\n        textTransform: 'lowercase',\n    },\n}));\n\nconst CustomSearchResultItem: FC<any> = props => {\n    const { data, onClose, ...rest } = props;\n\n    if (!data) {\n        return null;\n    }\n\n    switch (data.type) {\n        case 'customers':\n            return <CustomerListItem {...rest} data={data} onClick={onClose} />;\n        case 'products':\n            return <ProductListItem {...rest} data={data} onClick={onClose} />;\n        case 'commands':\n            return <CommandListItem {...rest} data={data} onClick={onClose} />;\n        case 'reviews':\n            return <ReviewListItem {...rest} data={data} onClick={onClose} />;\n        default:\n            return null;\n    }\n};\n","export default __webpack_public_path__ + \"static/media/welcome_illustration.cd84d2be.svg\";","import * as React from 'react';\nimport { FC } from 'react';\nimport { Box, Card, CardActions, Button, Typography } from '@material-ui/core';\nimport HomeIcon from '@material-ui/icons/Home';\nimport TourIcon from '@material-ui/icons/Flag';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate } from 'react-admin';\n\nimport publishArticleImage from './welcome_illustration.svg';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        background:\n            theme.palette.type === 'dark'\n                ? '#535353'\n                : `linear-gradient(to right, #8975fb 0%, #746be7 35%), linear-gradient(to bottom, #8975fb 0%, #6f4ceb 50%), #6f4ceb`,\n        color: '#fff',\n        padding: 20,\n        marginTop: theme.spacing(2),\n        marginBottom: '1em',\n    },\n    media: {\n        background: `url(${publishArticleImage}) top right / cover`,\n        marginLeft: 'auto',\n    },\n    actions: {\n        [theme.breakpoints.down('md')]: {\n            padding: 0,\n            flexWrap: 'wrap',\n            '& a': {\n                marginTop: '1em',\n                marginLeft: '0!important',\n                marginRight: '1em',\n            },\n        },\n    },\n}));\n\nconst Welcome: FC = () => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <Card className={classes.root}>\n            <Box display=\"flex\">\n                <Box flex=\"1\">\n                    <Typography variant=\"h5\" component=\"h2\" gutterBottom>\n                        {translate('pos.dashboard.welcome.title')}\n                    </Typography>\n                    <Box maxWidth=\"40em\">\n                        <Typography variant=\"body1\" component=\"p\" gutterBottom>\n                            {translate('pos.dashboard.welcome.subtitle')}\n                        </Typography>\n                    </Box>\n                    <CardActions className={classes.actions}>\n                        <Button\n                            variant=\"contained\"\n                            href=\"#/tours\"\n                            startIcon={<TourIcon />}\n                        >\n                            {translate('pos.dashboard.welcome.demo_button')}\n                        </Button>\n                        <Button\n                            variant=\"contained\"\n                            href=\"https://marmelab.com/ra-enterprise/\"\n                            startIcon={<HomeIcon />}\n                        >\n                            {translate('pos.dashboard.welcome.ra_button')}\n                        </Button>\n                    </CardActions>\n                </Box>\n\n                <Box\n                    display={{ xs: 'none', sm: 'none', md: 'block' }}\n                    className={classes.media}\n                    width=\"16em\"\n                    height=\"9em\"\n                    overflow=\"hidden\"\n                />\n            </Box>\n        </Card>\n    );\n};\n\nexport default Welcome;\n","import * as React from 'react';\nimport { FC, createElement } from 'react';\nimport { Card, Box, Typography, Divider } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\n\nimport cartouche from './cartouche.png';\nimport cartoucheDark from './cartoucheDark.png';\n\ninterface Props {\n    icon: FC<any>;\n    to: string;\n    title?: string;\n    subtitle?: string | number;\n}\n\nconst useStyles = makeStyles(theme => ({\n    card: {\n        minHeight: 52,\n        flex: '1',\n        '& a': {\n            textDecoration: 'none',\n            color: 'inherit',\n        },\n    },\n    main: {\n        overflow: 'inherit',\n        padding: 16,\n        background: `url(${\n            theme.palette.type === 'dark' ? cartoucheDark : cartouche\n        }) no-repeat`,\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        '& .icon': {\n            color: theme.palette.type === 'dark' ? 'inherit' : '#dc2440',\n        },\n    },\n    title: {},\n}));\n\nconst CardWithIcon: FC<Props> = props => {\n    const { icon, title, subtitle, to, children } = props;\n    const classes = useStyles(props);\n    return (\n        <Card className={classes.card}>\n            <Link to={to}>\n                <div className={classes.main}>\n                    <Box width=\"3em\" className=\"icon\">\n                        {createElement(icon, { fontSize: 'large' })}\n                    </Box>\n                    <Box textAlign=\"right\">\n                        <Typography\n                            className={classes.title}\n                            color=\"textSecondary\"\n                        >\n                            {title}\n                        </Typography>\n                        <Typography variant=\"h5\" component=\"h2\">\n                            {subtitle || ' '}\n                        </Typography>\n                    </Box>\n                </div>\n            </Link>\n            {children && <Divider />}\n            {children}\n        </Card>\n    );\n};\n\nexport default CardWithIcon;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAABZCAMAAAD//SY8AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAO1QTFRFU1NTU1NTUFBQAAAAUVFRUVFRU1NTT09PU1NTR0dHUlJSTk5OUlJSUVFRUlJSTk5OU1NTT09PS0tLU1NTUVFRUVFRU1NTUVFRUlJSUVFRS0tLUFBQUVFRUVFRUVFRUVFRQEBAUVFRU1NTU1NTU1NTU1NTU1NTU1NTSUlJUFBQU1NTUlJSUVFRTk5OT09PUVFRSkpKUVFRU1NTU1NTTk5OT09PUlJSTU1NUVFRU1NTSEhIU1NTUVFRUVFRUVFROzs7U1NTU1NTUlJSKysrU1NTUlJSRkZGU1NTTU1NU1NTUlJSUVFRUVFRU1NTSUlJap2IRgAAAE90Uk5T/+EzAOw57TfnK9cXvptwO86KPcVl43LiZMk6kuY/hcYIPGmRs+TzJQ6QzIzTSISuLcdNz1xar0nliCepUvtfDdiUTgbRmSFvVqO4ytnwFVkGdGQAAAKuSURBVHic7d3XVhRBGEXhAoExoZjGBKKCcVTMWcxK9P0fxwvvq6u7z79OlezvCeqsvYABOqSkMDd/DO2QNE9pYdE9BOVE0dPSxL0ExVTR0/ET7ikoJYueTp5yb0EhXfR02r0FhYTR07J7DMooo6cz7jUoIo2ezrrnoIQ2+op7Dkpoo6dz7j0oII6ezrsHoZs6+gX3IHRTR08X3YvQSR79knsROsmjp6l7Erroo192T0IXffR0xb0JHQKiX3VvQoeA6OmaexTyIqJfd49CXkT0Vfco5EVET2vuVcgKiX7DvQpZIdHX3auQFRI93XTPQk5M9FvuWciJiX7bPQs5MdE33LOQExN90z0LOTHRuUCyajHR77hnIScm+l33LOTERE/uWcgh+hFE9CMopjk/06sWE51P71WLic7v6VWLic5f5KoWE33DPQs5MdH5L1vVYqLz//SqxUTnypmqhTTnGrm6hUTnati6hUTnuve6RTTnDpfKRUTnXrbKRUTnrtXKBTTn/vTaBUTnSRS10zfnmTPV00fn6VLVkzfnOXL1k0fniZH1Uzfn2bANUEfnKdANEDfnee8t0DbngsgmaKPzDpcmSJvztqY2KJvzXrZGCJvzBsZW6JrzrtVmyJrzVuV2qJrz/vSGiJovLLqHoJym+dy8ewd6kDRfueeegT4UzTfvu1egF0HzB+4N6Gl8c66aaM7Y5A/5CNeekc1n7vNjgFHJHz12Hx9DjGn+xH14DDM8+dZT99kx0NDkz567T47BhiV/8dJ9boww6Kv8lfvUGKV/8tdv3GfGSD2Lv3333n1ijNYr+YeP7uNCoTj4p63tz+7DQqOs+Jev3767TwqZ7uA/fm7/cp8SUrncS+vLv9f4nv7/SZOd6Wx3b/9g9fBf6cPVg/293dl0Z/LHfTYE+Qucis5DBf5HsAAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAABZCAMAAAD//SY8AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAO1QTFRF/Ors/Ojs+ubrAAAA/Ojs++np/Ojs9ujo/Onq8+Hh+urr9Onp++rr/Orq+Obr++Xl+urq+enr++bm+uns+ubr/Ors++nr/Ors+ubr+ujs++Xl/Ofs/Orq++fr+ers+ujsv7+/++rq+Ofs+urs++rq/Ors/Onq8d3j7dvb+urs+urr+ufr+ujs+Orq+ers++js9OPj+ujs/Ojo+unq9+ns9+bo++jr/Ofn/Orr+enp8uXl/Orq/Obm/Ors+urq2NjY+urr/Onp/OXo1dXV+ujq/Ojr8Ojo+Obo9uTn/Ojr++ns+urr+urq/Ors8+fnTQPn1wAAAE90Uk5T/+EzAOw57TfnK9cXvptwO86KPcVl43LiZMk6kuY/hcYIPGmRs+TzJQ6QzIzTSISuLcdNz1xar0nliCepUvtfDdiUTgbRmSFvVqO4ytnwFVkGdGQAAAKuSURBVHic7d3XVhRBGEXhAoExoZjGBKKCcVTMWcxK9P0fxwvvq6u7z79OlezvCeqsvYABOqSkMDd/DO2QNE9pYdE9BOVE0dPSxL0ExVTR0/ET7ikoJYueTp5yb0EhXfR02r0FhYTR07J7DMooo6cz7jUoIo2ezrrnoIQ2+op7Dkpoo6dz7j0oII6ezrsHoZs6+gX3IHRTR08X3YvQSR79knsROsmjp6l7Erroo192T0IXffR0xb0JHQKiX3VvQoeA6OmaexTyIqJfd49CXkT0Vfco5EVET2vuVcgKiX7DvQpZIdHX3auQFRI93XTPQk5M9FvuWciJiX7bPQs5MdE33LOQExN90z0LOTHRuUCyajHR77hnIScm+l33LOTERE/uWcgh+hFE9CMopjk/06sWE51P71WLic7v6VWLic5f5KoWE33DPQs5MdH5L1vVYqLz//SqxUTnypmqhTTnGrm6hUTnati6hUTnuve6RTTnDpfKRUTnXrbKRUTnrtXKBTTn/vTaBUTnSRS10zfnmTPV00fn6VLVkzfnOXL1k0fniZH1Uzfn2bANUEfnKdANEDfnee8t0DbngsgmaKPzDpcmSJvztqY2KJvzXrZGCJvzBsZW6JrzrtVmyJrzVuV2qJrz/vSGiJovLLqHoJym+dy8ewd6kDRfueeegT4UzTfvu1egF0HzB+4N6Gl8c66aaM7Y5A/5CNeekc1n7vNjgFHJHz12Hx9DjGn+xH14DDM8+dZT99kx0NDkz567T47BhiV/8dJ9boww6Kv8lfvUGKV/8tdv3GfGSD2Lv3333n1ijNYr+YeP7uNCoTj4p63tz+7DQqOs+Jev3767TwqZ7uA/fm7/cp8SUrncS+vLv9f4nv7/SZOd6Wx3b/9g9fBf6cPVg/293dl0Z/LHfTYE+Qucis5DBf5HsAAAAABJRU5ErkJggg==\"","import * as React from 'react';\nimport { FC } from 'react';\nimport DollarIcon from '@material-ui/icons/AttachMoney';\nimport { useTranslate } from 'react-admin';\n\nimport CardWithIcon from './CardWithIcon';\n\ninterface Props {\n    value?: string;\n}\n\nconst MonthlyRevenue: FC<Props> = ({ value }) => {\n    const translate = useTranslate();\n    return (\n        <CardWithIcon\n            to=\"/commands\"\n            icon={DollarIcon}\n            title={translate('pos.dashboard.monthly_revenue')}\n            subtitle={value}\n        />\n    );\n};\n\nexport default MonthlyRevenue;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\nimport { useTranslate } from 'react-admin';\n\nimport CardWithIcon from './CardWithIcon';\n\ninterface Props {\n    value?: number;\n}\n\nconst NbNewOrders: FC<Props> = ({ value }) => {\n    const translate = useTranslate();\n    return (\n        <CardWithIcon\n            to=\"/commands\"\n            icon={ShoppingCartIcon}\n            title={translate('pos.dashboard.new_orders')}\n            subtitle={value}\n        />\n    );\n};\n\nexport default NbNewOrders;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Avatar from '@material-ui/core/Avatar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { useTranslate } from 'react-admin';\nimport { Customer, Order } from '../types';\n\ninterface Props {\n    orders?: Order[];\n    customers?: { [key: string]: Customer };\n}\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        flex: 1,\n    },\n    cost: {\n        marginRight: '1em',\n        color: theme.palette.text.primary,\n    },\n}));\n\nconst PendingOrders: FC<Props> = ({ orders = [], customers = {} }) => {\n    const classes = useStyles();\n    const translate = useTranslate();\n    return (\n        <Card className={classes.root}>\n            <CardHeader title={translate('pos.dashboard.pending_orders')} />\n            <List dense={true}>\n                {orders.map(record => (\n                    <ListItem\n                        key={record.id}\n                        button\n                        component={Link}\n                        to={`/commands/${record.id}`}\n                    >\n                        <ListItemAvatar>\n                            {customers[record.customer_id] ? (\n                                <Avatar\n                                    src={`${\n                                        customers[record.customer_id].avatar\n                                    }?size=32x32`}\n                                />\n                            ) : (\n                                <Avatar />\n                            )}\n                        </ListItemAvatar>\n                        <ListItemText\n                            primary={new Date(record.date).toLocaleString(\n                                'en-GB'\n                            )}\n                            secondary={translate('pos.dashboard.order.items', {\n                                smart_count: record.basket.length,\n                                nb_items: record.basket.length,\n                                customer_name: customers[record.customer_id]\n                                    ? `${\n                                          customers[record.customer_id]\n                                              .first_name\n                                      } ${\n                                          customers[record.customer_id]\n                                              .last_name\n                                      }`\n                                    : '',\n                            })}\n                        />\n                        <ListItemSecondaryAction>\n                            <span className={classes.cost}>\n                                {record.total}$\n                            </span>\n                        </ListItemSecondaryAction>\n                    </ListItem>\n                ))}\n            </List>\n        </Card>\n    );\n};\n\nexport default PendingOrders;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    List,\n    ListItem,\n    ListItemAvatar,\n    ListItemText,\n    Avatar,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CommentIcon from '@material-ui/icons/Comment';\nimport { Link } from 'react-router-dom';\nimport { useTranslate } from 'react-admin';\n\nimport CardWithIcon from './CardWithIcon';\nimport StarRatingField from '../reviews/StarRatingField';\nimport { Customer, Review } from '../types';\n\ninterface Props {\n    reviews?: Review[];\n    customers?: { [key: string]: Customer };\n    nb?: number;\n}\n\nconst useStyles = makeStyles(theme => ({\n    avatar: {\n        background: theme.palette.background.paper,\n    },\n    listItemText: {\n        overflowY: 'hidden',\n        height: '4em',\n        display: '-webkit-box',\n        WebkitLineClamp: 2,\n        WebkitBoxOrient: 'vertical',\n    },\n}));\n\nconst PendingReviews: FC<Props> = ({ reviews = [], customers = {}, nb }) => {\n    const classes = useStyles();\n    const translate = useTranslate();\n    return (\n        <CardWithIcon\n            to=\"/reviews\"\n            icon={CommentIcon}\n            title={translate('pos.dashboard.pending_reviews')}\n            subtitle={nb}\n        >\n            <List>\n                {reviews.map((record: Review) => (\n                    <ListItem\n                        key={record.id}\n                        button\n                        component={Link}\n                        to={`/reviews/${record.id}`}\n                        alignItems=\"flex-start\"\n                    >\n                        <ListItemAvatar>\n                            {customers[record.customer_id] ? (\n                                <Avatar\n                                    src={`${\n                                        customers[record.customer_id].avatar\n                                    }?size=32x32`}\n                                    className={classes.avatar}\n                                />\n                            ) : (\n                                <Avatar />\n                            )}\n                        </ListItemAvatar>\n\n                        <ListItemText\n                            primary={<StarRatingField record={record} />}\n                            secondary={record.comment}\n                            className={classes.listItemText}\n                            style={{ paddingRight: 0 }}\n                        />\n                    </ListItem>\n                ))}\n            </List>\n        </CardWithIcon>\n    );\n};\n\nexport default PendingReviews;\n","import * as React from 'react';\nimport { useMemo, ReactElement } from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Avatar from '@material-ui/core/Avatar';\nimport CustomerIcon from '@material-ui/icons/PersonAdd';\nimport { Link } from 'react-router-dom';\nimport { useTranslate, useQueryWithStore } from 'react-admin';\n\nimport CardWithIcon from './CardWithIcon';\nimport { Customer } from '../types';\n\nconst NewCustomers = (): ReactElement | null => {\n    const translate = useTranslate();\n    const aMonthAgo = useMemo(() => {\n        const date = new Date();\n        date.setDate(date.getDate() - 30);\n        date.setHours(0);\n        date.setMinutes(0);\n        date.setSeconds(0);\n        date.setMilliseconds(0);\n        return date;\n    }, []);\n\n    const { loaded, data: visitors } = useQueryWithStore({\n        type: 'getList',\n        resource: 'customers',\n        payload: {\n            filter: {\n                has_ordered: true,\n                first_seen_gte: aMonthAgo.toISOString(),\n            },\n            sort: { field: 'first_seen', order: 'DESC' },\n            pagination: { page: 1, perPage: 100 },\n        },\n    });\n\n    if (!loaded) return null;\n\n    const nb = visitors ? visitors.reduce((nb: number) => ++nb, 0) : 0;\n    return (\n        <CardWithIcon\n            to=\"/customers\"\n            icon={CustomerIcon}\n            title={translate('pos.dashboard.new_customers')}\n            subtitle={nb}\n        >\n            <List>\n                {visitors\n                    ? visitors.map((record: Customer) => (\n                          <ListItem\n                              button\n                              to={`/customers/${record.id}`}\n                              component={Link}\n                              key={record.id}\n                          >\n                              <ListItemAvatar>\n                                  <Avatar src={`${record.avatar}?size=32x32`} />\n                              </ListItemAvatar>\n                              <ListItemText\n                                  primary={`${record.first_name} ${record.last_name}`}\n                              />\n                          </ListItem>\n                      ))\n                    : null}\n            </List>\n        </CardWithIcon>\n    );\n};\n\nexport default NewCustomers;\n","import * as React from 'react';\nimport { ReactElement } from 'react';\nimport { Card, CardHeader, CardContent } from '@material-ui/core';\nimport {\n    ResponsiveContainer,\n    BarChart,\n    Bar,\n    XAxis,\n    YAxis,\n    CartesianGrid,\n    Tooltip,\n} from 'recharts';\nimport { useTranslate } from 'react-admin';\n\nimport { Order } from '../types';\n\nconst lastDay = new Date(new Date().toDateString()).getTime();\nconst oneDay = 24 * 60 * 60 * 1000;\nconst lastMonthDays = Array.from(\n    { length: 30 },\n    (_, i) => lastDay - i * oneDay\n).reverse();\nconst aMonthAgo = new Date();\naMonthAgo.setDate(aMonthAgo.getDate() - 30);\n\nconst dateFormatter = (date: number): string =>\n    new Date(date).toLocaleDateString();\n\nconst aggregateOrdersByDay = (orders: Order[]): { [key: number]: number } =>\n    orders\n        .filter((order: Order) => order.status !== 'cancelled')\n        .reduce((acc, curr) => {\n            const day = new Date(new Date(curr.date).toDateString()).getTime();\n            if (!acc[day]) {\n                acc[day] = 0;\n            }\n            acc[day] += curr.total;\n            return acc;\n        }, {} as { [key: string]: number });\n\nconst getRevenuePerDay = (orders: Order[]): TotalByDay[] => {\n    const daysWithRevenue = aggregateOrdersByDay(orders);\n    return lastMonthDays.map(date => ({\n        date,\n        total: daysWithRevenue[date] || 0,\n    }));\n};\n\nconst OrderChart = ({ orders }: { orders?: Order[] }): ReactElement | null => {\n    const translate = useTranslate();\n    if (!orders) return null;\n\n    return (\n        <Card>\n            <CardHeader title={translate('pos.dashboard.month_history')} />\n            <CardContent>\n                <ResponsiveContainer width=\"100%\" height={300}>\n                    <BarChart data={getRevenuePerDay(orders)}>\n                        <XAxis\n                            dataKey=\"date\"\n                            name=\"Date\"\n                            type=\"number\"\n                            scale=\"time\"\n                            domain={[aMonthAgo.getTime(), new Date().getTime()]}\n                            tickFormatter={dateFormatter}\n                            reversed\n                        />\n                        <YAxis dataKey=\"total\" name=\"Revenue\" unit=\"€\" />\n                        <CartesianGrid strokeDasharray=\"3 3\" />\n                        <Tooltip\n                            cursor={{ strokeDasharray: '3 3' }}\n                            formatter={(value: number): string =>\n                                new Intl.NumberFormat(undefined, {\n                                    style: 'currency',\n                                    currency: 'USD',\n                                }).format(value as any)\n                            }\n                            labelFormatter={(label: number): string =>\n                                dateFormatter(label)\n                            }\n                        />\n                        <Bar dataKey=\"total\" fill=\"#31708f\" />\n                    </BarChart>\n                </ResponsiveContainer>\n            </CardContent>\n        </Card>\n    );\n};\n\ninterface TotalByDay {\n    date: number;\n    total: number;\n}\n\nexport default OrderChart;\n","import React, {\n    useState,\n    useEffect,\n    useCallback,\n    CSSProperties,\n    ReactElement,\n} from 'react';\nimport { useVersion, useDataProvider } from 'react-admin';\nimport { useMediaQuery, Theme } from '@material-ui/core';\n\nimport Welcome from './Welcome';\nimport MonthlyRevenue from './MonthlyRevenue';\nimport NbNewOrders from './NbNewOrders';\nimport PendingOrders from './PendingOrders';\nimport PendingReviews from './PendingReviews';\nimport NewCustomers from './NewCustomers';\nimport OrderChart from './OrderChart';\n\nimport { Customer, Order, Review } from '../types';\n\ninterface OrderStats {\n    revenue: number;\n    nbNewOrders: number;\n    pendingOrders: Order[];\n}\n\ninterface CustomerData {\n    [key: string]: Customer;\n}\n\ninterface State {\n    nbNewOrders?: number;\n    nbPendingReviews?: number;\n    pendingOrders?: Order[];\n    pendingOrdersCustomers?: CustomerData;\n    pendingReviews?: Review[];\n    pendingReviewsCustomers?: CustomerData;\n    recentOrders?: Order[];\n    revenue?: string;\n}\n\nconst styles = {\n    flex: { display: 'flex' },\n    flexColumn: { display: 'flex', flexDirection: 'column' },\n    leftCol: { flex: 1, marginRight: '0.5em' },\n    rightCol: { flex: 1, marginLeft: '0.5em' },\n    singleCol: { marginTop: '1em', marginBottom: '1em' },\n};\n\nconst Spacer = (): ReactElement => <span style={{ width: '1em' }} />;\nconst VerticalSpacer = (): ReactElement => <span style={{ height: '1em' }} />;\n\nconst Dashboard = (): ReactElement => {\n    const [state, setState] = useState<State>({});\n    const version = useVersion();\n    const dataProvider = useDataProvider();\n    const isXSmall = useMediaQuery((theme: Theme) =>\n        theme.breakpoints.down('xs')\n    );\n    const isSmall = useMediaQuery((theme: Theme) =>\n        theme.breakpoints.down('md')\n    );\n\n    const fetchOrders = useCallback(async () => {\n        const aMonthAgo = new Date();\n        aMonthAgo.setDate(aMonthAgo.getDate() - 30);\n        const { data: recentOrders } = await dataProvider.getList<Order>(\n            'commands',\n            {\n                filter: { date_gte: aMonthAgo.toISOString() },\n                sort: { field: 'date', order: 'DESC' },\n                pagination: { page: 1, perPage: 50 },\n            }\n        );\n        const aggregations = recentOrders\n            .filter(order => order.status !== 'cancelled')\n            .reduce(\n                (stats: OrderStats, order) => {\n                    if (order.status !== 'cancelled') {\n                        stats.revenue += order.total;\n                        stats.nbNewOrders++;\n                    }\n                    if (order.status === 'ordered') {\n                        stats.pendingOrders.push(order);\n                    }\n                    return stats;\n                },\n                {\n                    revenue: 0,\n                    nbNewOrders: 0,\n                    pendingOrders: [],\n                }\n            );\n        setState(state => ({\n            ...state,\n            recentOrders,\n            revenue: aggregations.revenue.toLocaleString(undefined, {\n                style: 'currency',\n                currency: 'USD',\n                minimumFractionDigits: 0,\n                maximumFractionDigits: 0,\n            }),\n            nbNewOrders: aggregations.nbNewOrders,\n            pendingOrders: aggregations.pendingOrders,\n        }));\n        const { data: customers } = await dataProvider.getMany<Customer>(\n            'customers',\n            {\n                ids: aggregations.pendingOrders.map(\n                    (order: Order) => order.customer_id\n                ),\n            }\n        );\n        setState(state => ({\n            ...state,\n            pendingOrdersCustomers: customers.reduce(\n                (prev: CustomerData, customer) => {\n                    prev[customer.id] = customer; // eslint-disable-line no-param-reassign\n                    return prev;\n                },\n                {}\n            ),\n        }));\n    }, [dataProvider]);\n\n    const fetchReviews = useCallback(async () => {\n        const { data: reviews } = await dataProvider.getList<Review>(\n            'reviews',\n            {\n                filter: { status: 'pending' },\n                sort: { field: 'date', order: 'DESC' },\n                pagination: { page: 1, perPage: 100 },\n            }\n        );\n        const nbPendingReviews = reviews.reduce((nb: number) => ++nb, 0);\n        const pendingReviews = reviews.slice(0, Math.min(10, reviews.length));\n        setState(state => ({ ...state, pendingReviews, nbPendingReviews }));\n        const { data: customers } = await dataProvider.getMany<Customer>(\n            'customers',\n            {\n                ids: pendingReviews.map((review: Review) => review.customer_id),\n            }\n        );\n        setState(state => ({\n            ...state,\n            pendingReviewsCustomers: customers.reduce(\n                (prev: CustomerData, customer) => {\n                    prev[customer.id] = customer; // eslint-disable-line no-param-reassign\n                    return prev;\n                },\n                {}\n            ),\n        }));\n    }, [dataProvider]);\n\n    useEffect(() => {\n        fetchOrders();\n        fetchReviews();\n    }, [version]); // eslint-disable-line react-hooks/exhaustive-deps\n\n    const {\n        nbNewOrders,\n        nbPendingReviews,\n        pendingOrders,\n        pendingOrdersCustomers,\n        pendingReviews,\n        pendingReviewsCustomers,\n        revenue,\n        recentOrders,\n    } = state;\n    return isXSmall ? (\n        <div>\n            <div style={styles.flexColumn as CSSProperties}>\n                <Welcome />\n                <MonthlyRevenue value={revenue} />\n                <VerticalSpacer />\n                <NbNewOrders value={nbNewOrders} />\n                <VerticalSpacer />\n                <PendingOrders\n                    orders={pendingOrders}\n                    customers={pendingOrdersCustomers}\n                />\n            </div>\n        </div>\n    ) : isSmall ? (\n        <div style={styles.flexColumn as CSSProperties}>\n            <div style={styles.singleCol}>\n                <Welcome />\n            </div>\n            <div style={styles.flex}>\n                <MonthlyRevenue value={revenue} />\n                <Spacer />\n                <NbNewOrders value={nbNewOrders} />\n            </div>\n            <div style={styles.singleCol}>\n                <OrderChart orders={recentOrders} />\n            </div>\n            <div style={styles.singleCol}>\n                <PendingOrders\n                    orders={pendingOrders}\n                    customers={pendingOrdersCustomers}\n                />\n            </div>\n        </div>\n    ) : (\n        <>\n            <Welcome />\n            <div style={styles.flex}>\n                <div style={styles.leftCol}>\n                    <div style={styles.flex}>\n                        <MonthlyRevenue value={revenue} />\n                        <Spacer />\n                        <NbNewOrders value={nbNewOrders} />\n                    </div>\n                    <div style={styles.singleCol}>\n                        <OrderChart orders={recentOrders} />\n                    </div>\n                    <div style={styles.singleCol}>\n                        <PendingOrders\n                            orders={pendingOrders}\n                            customers={pendingOrdersCustomers}\n                        />\n                    </div>\n                </div>\n                <div style={styles.rightCol}>\n                    <div style={styles.flex}>\n                        <PendingReviews\n                            nb={nbPendingReviews}\n                            reviews={pendingReviews}\n                            customers={pendingReviewsCustomers}\n                        />\n                        <Spacer />\n                        <NewCustomers />\n                    </div>\n                </div>\n            </div>\n        </>\n    );\n};\n\nexport default Dashboard;\n","import DashboardComponent from './Dashboard';\n\nexport const Dashboard = DashboardComponent;\n","import React, { FC } from 'react';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { Identifier, useTranslate } from 'react-admin';\nimport { stringify } from 'query-string';\n\nimport visitors from '../visitors';\n\nconst useStyles = makeStyles({\n    icon: { paddingRight: '0.5em' },\n    link: {\n        display: 'inline-flex',\n        alignItems: 'center',\n    },\n});\n\nconst LinkToRelatedCustomers: FC<{ segment: Identifier }> = ({ segment }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <Button\n            size=\"small\"\n            color=\"primary\"\n            component={Link}\n            to={{\n                pathname: '/customers',\n                search: stringify({\n                    page: 1,\n                    perPage: 25,\n                    filter: JSON.stringify({ groups: segment }),\n                }),\n            }}\n            className={classes.link}\n        >\n            <visitors.icon className={classes.icon} />\n            {translate('resources.segments.fields.customers')}\n        </Button>\n    );\n};\n\nexport default LinkToRelatedCustomers;\n","import React, { FC } from 'react';\nimport Card from '@material-ui/core/Card';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate, Title } from 'react-admin';\n\nimport LinkToRelatedCustomers from './LinkToRelatedCustomers';\nimport { useDefineAppLocation } from '@react-admin/ra-navigation';\nimport segments from './data';\n\nconst useStyles = makeStyles({\n    root: {\n        marginTop: 16,\n    },\n});\n\nconst Segments: FC = () => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    useDefineAppLocation('audience.segments');\n    return (\n        <Card className={classes.root}>\n            <Title title={translate('resources.segments.name')} />\n            <Table size=\"small\">\n                <TableHead>\n                    <TableRow>\n                        <TableCell>\n                            {translate('resources.segments.fields.name')}\n                        </TableCell>\n                        <TableCell />\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {segments.map(segment => (\n                        <TableRow key={segment.id}>\n                            <TableCell>{translate(segment.name)}</TableCell>\n                            <TableCell>\n                                <LinkToRelatedCustomers segment={segment.id} />\n                            </TableCell>\n                        </TableRow>\n                    ))}\n                </TableBody>\n            </Table>\n        </Card>\n    );\n};\n\nexport default Segments;\n","import React, { FC, useEffect } from 'react';\nimport { Redirect, useParams } from 'react-router';\nimport { useTour } from '@react-admin/ra-tour';\n\nconst TourLauncher: FC = () => {\n    const { tour } = useParams<{ tour: string }>();\n    const [{ running }, { start }] = useTour();\n\n    useEffect(() => {\n        if (start && !running) {\n            start(tour);\n            return;\n        }\n    });\n\n    return running ? <Redirect to=\"/\" /> : null;\n};\n\nexport default TourLauncher;\n","import React from 'react';\nimport { Route } from 'react-router-dom';\nimport Segments from './segments/Segments';\nimport TourLauncher from './tours/TourLauncher';\n\nexport default [\n    <Route key=\"segments\" exact path=\"/segments\" render={() => <Segments />} />,\n    <Route\n        key=\"tour-launcher\"\n        path=\"/tours/:tour\"\n        render={() => <TourLauncher />}\n    />,\n];\n","import {\n    mergeTranslations,\n    TranslationMessages as BaseTranslationMessages,\n} from 'ra-core';\nimport englishMessages from 'ra-language-english';\nimport { RaTreeTranslationMessages } from '@react-admin/ra-tree';\n\nexport interface TranslationMessages\n    extends RaTreeTranslationMessages,\n        BaseTranslationMessages {}\n\nconst customEnglishMessages: TranslationMessages = mergeTranslations(\n    englishMessages,\n    {\n        'ra-tree': {\n            action: {\n                add_root: 'Add a category of products',\n            },\n        },\n        'ra-search': {\n            result: `1 result |||| %{smart_count} results`,\n        },\n        pos: {\n            search: 'Search',\n            configuration: 'Configuration',\n            language: 'Language',\n            theme: {\n                name: 'Theme',\n                light: 'Light',\n                dark: 'Dark',\n            },\n            filter: 'Filtered by',\n            dashboard: {\n                monthly_revenue: 'Monthly Revenue',\n                month_history: '30 Day Revenue History',\n                new_orders: 'New Orders',\n                pending_reviews: 'Pending Reviews',\n                new_customers: 'New Customers',\n                pending_orders: 'Pending Orders',\n                order: {\n                    items:\n                        'by %{customer_name}, one item |||| by %{customer_name}, %{nb_items} items',\n                },\n                welcome: {\n                    title: 'Welcome to the react-admin enterprise edition demo',\n                    subtitle:\n                        \"This is the admin of an imaginary poster shop showcasing enterprise edition private modules usage. Feel free to explore and modify the data - it's local to your computer, and will reset each time you reload.\",\n                    ra_button: 'react-admin enterprise edition site',\n                    demo_button: 'See the showcase',\n                },\n            },\n            menu: {\n                sales: 'Sales',\n                catalog: 'Catalog',\n                audience: 'Audience',\n                new_customers: 'New Customers',\n                former_customers: 'Former Customers',\n            },\n            reviews: {\n                accepted: 'Accepted',\n                rejected: 'Rejected',\n                pending: 'Pending',\n            },\n        },\n        resources: {\n            customers: {\n                name: 'Customer |||| Customers',\n                fields: {\n                    commands: 'Orders',\n                    first_seen: 'First seen',\n                    groups: 'Segments',\n                    last_seen: 'Last seen',\n                    last_seen_gte: 'Visited Since',\n                    name: 'Name',\n                    total_spent: 'Total spent',\n                    password: 'Password',\n                    confirm_password: 'Confirm password',\n                    address: 'Address',\n                    birthday: 'Birthday',\n                    city: 'City',\n                    first_name: 'First name',\n                    has_newsletter: 'Has Newsletter',\n                    has_ordered: 'Has ordered',\n                    last_name: 'Last name',\n                    latest_purchase: 'Latest purchase',\n                    zipcode: 'Postal code',\n                    nb_commands: 'Orders',\n                },\n                filters: {\n                    last_visited: 'Last visited',\n                    today: 'Today',\n                    this_week: 'This week',\n                    last_week: 'Last week',\n                    this_month: 'This month',\n                    last_month: 'Last month',\n                    earlier: 'Earlier',\n                    has_ordered: 'Has ordered',\n                    has_newsletter: 'Has newsletter',\n                    group: 'Segment',\n                },\n                fieldGroups: {\n                    identity: 'Identity',\n                    address: 'Address',\n                    stats: 'Stats',\n                    history: 'History',\n                    password: 'Password',\n                    change_password: 'Change Password',\n                },\n                page: {\n                    delete: 'Delete Customer',\n                },\n                errors: {\n                    password_mismatch:\n                        'The password confirmation is not the same as the password.',\n                },\n            },\n            commands: {\n                name: 'Order |||| Orders',\n                amount: '1 order |||| %{smart_count} orders',\n                title: 'Order %{reference}',\n                fields: {\n                    basket: {\n                        delivery: 'Delivery',\n                        reference: 'Reference',\n                        quantity: 'Quantity',\n                        sum: 'Sum',\n                        tax_rate: 'Tax Rate',\n                        total: 'Total',\n                        unit_price: 'Unit Price',\n                    },\n                    customer_id: 'Customer',\n                    date_gte: 'Passed Since',\n                    date_lte: 'Passed Before',\n                    nb_items: 'Nb articles',\n                    reference: 'Référence',\n                    returned: 'Returned',\n                    status: 'Status',\n                    total_gte: 'Min amount',\n                },\n            },\n            invoices: {\n                name: 'Invoice |||| Invoices',\n                fields: {\n                    date: 'Invoice date',\n                    customer_id: 'Customer',\n                    command_id: 'Order',\n                    date_gte: 'Passed Since',\n                    date_lte: 'Passed Before',\n                    total_gte: 'Min amount',\n                    address: 'Address',\n                },\n            },\n            products: {\n                name: 'Poster |||| Posters',\n                fields: {\n                    id: 'Identifier',\n                    category_id: 'Category',\n                    height_gte: 'Min height',\n                    height_lte: 'Max height',\n                    height: 'Height',\n                    image: 'Image',\n                    price: 'Price',\n                    reference: 'Reference',\n                    sales: 'Sales',\n                    stock_lte: 'Low Stock',\n                    stock: 'Stock',\n                    thumbnail: 'Thumbnail',\n                    width_gte: 'Min width',\n                    width_lte: 'Max width',\n                    width: 'Width',\n                },\n                tabs: {\n                    image: 'Image',\n                    details: 'Details',\n                    description: 'Description',\n                    reviews: 'Reviews',\n                },\n                filters: {\n                    categories: 'Categories',\n                    stock: 'Stock',\n                    no_stock: 'Out of stock',\n                    low_stock: '1 - 9 items',\n                    average_stock: '10 - 49 items',\n                    enough_stock: '50 items & more',\n                    sales: 'Sales',\n                    best_sellers: 'Best sellers',\n                    average_sellers: 'Average',\n                    low_sellers: 'Low',\n                    never_sold: 'Never sold',\n                },\n            },\n            categories: {\n                name: 'Category |||| Categories',\n                fields: {\n                    products: 'Products',\n                },\n                actions: {\n                    create_product: 'Create Poster',\n                },\n            },\n            reviews: {\n                name: 'Review |||| Reviews',\n                amount: '1 review |||| %{smart_count} reviews',\n                relative_to_poster: 'Review on poster',\n                detail: 'Review detail',\n                fields: {\n                    customer_id: 'Customer',\n                    command_id: 'Order',\n                    product_id: 'Product',\n                    date_gte: 'Posted since',\n                    date_lte: 'Posted before',\n                    date: 'Date',\n                    comment: 'Comment',\n                    rating: 'Rating',\n                },\n                action: {\n                    accept: 'Accept',\n                    reject: 'Reject',\n                },\n                notification: {\n                    approved_success: 'Review approved',\n                    approved_error: 'Error: Review not approved',\n                    rejected_success: 'Review rejected',\n                    rejected_error: 'Error: Review not rejected',\n                },\n            },\n            segments: {\n                name: 'Segments',\n                fields: {\n                    customers: 'Customers',\n                    name: 'Name',\n                },\n                data: {\n                    compulsive: 'Compulsive',\n                    collector: 'Collector',\n                    ordered_once: 'Ordered once',\n                    regular: 'Regular',\n                    returns: 'Returns',\n                    reviewer: 'Reviewer',\n                },\n            },\n            stores: {\n                name: 'Stores',\n                fields: {\n                    city: 'City',\n                    country: 'Country',\n                    address: 'Address',\n                    created_at: 'Created at',\n                },\n            },\n            locks: {\n                overlay: 'Currently Edited by %{name}',\n            },\n        },\n    }\n);\n\nexport default customEnglishMessages;\n","import {\n    mergeTranslations,\n    TranslationMessages as BaseTranslationMessages,\n} from 'ra-core';\nimport frenchMessages from 'ra-language-french';\nimport { RaTreeTranslationMessages } from '@react-admin/ra-tree';\n\nexport interface TranslationMessages\n    extends RaTreeTranslationMessages,\n        BaseTranslationMessages {}\n\nconst customFrenchMessages: TranslationMessages = mergeTranslations(\n    frenchMessages,\n    {\n        'ra-tree': {\n            action: {\n                add_root: 'Ajouter une catégorie de produits',\n            },\n        },\n        'ra-search': {\n            result: `1 résultat |||| %{smart_count} résultats`,\n        },\n        pos: {\n            search: 'Rechercher',\n            configuration: 'Configuration',\n            language: 'Langue',\n            theme: {\n                name: 'Theme',\n                light: 'Clair',\n                dark: 'Obscur',\n            },\n            filter: 'Filtré par',\n            dashboard: {\n                monthly_revenue: 'CA à 30 jours',\n                month_history: \"Chiffre d'affaire sur 30 jours\",\n                new_orders: 'Nouvelles commandes',\n                pending_reviews: 'Commentaires à modérer',\n                new_customers: 'Nouveaux clients',\n                pending_orders: 'Commandes à traiter',\n                order: {\n                    items:\n                        'par %{customer_name}, un poster |||| par %{customer_name}, %{nb_items} posters',\n                },\n                welcome: {\n                    title:\n                        'Bienvenue sur la démo de react-admin enterprise edition',\n                    subtitle:\n                        \"Ceci est le back-office d'un magasin de posters imaginaire mettant en oeuvre les modules de l'édition entreprise. N'hésitez pas à explorer et à modifier les données. La démo s'exécute en local dans votre navigateur, et se remet à zéro chaque fois que vous rechargez la page.\",\n                    ra_button: 'Site web de react-admin entreprise',\n                    demo_button: 'Voir tous les modules',\n                },\n            },\n            menu: {\n                sales: 'Ventes',\n                catalog: 'Catalogue',\n                audience: 'Audience',\n                new_customers: 'Nouveaux clients',\n                former_customers: 'Anciens Clients',\n            },\n            reviews: {\n                accepted: 'Acceptés',\n                rejected: 'Rejetés',\n                pending: 'En attente',\n            },\n        },\n        resources: {\n            customers: {\n                name: 'Client |||| Clients',\n                fields: {\n                    address: 'Rue',\n                    birthday: 'Anniversaire',\n                    city: 'Ville',\n                    commands: 'Commandes',\n                    first_name: 'Prénom',\n                    first_seen: 'Première visite',\n                    groups: 'Segments',\n                    has_newsletter: 'Abonné à la newsletter',\n                    has_ordered: 'A commandé',\n                    last_name: 'Nom',\n                    last_seen: 'Vu le',\n                    last_seen_gte: 'Vu depuis',\n                    latest_purchase: 'Dernier achat',\n                    name: 'Nom',\n                    total_spent: 'Dépenses',\n                    zipcode: 'Code postal',\n                    password: 'Mot de passe',\n                    confirm_password: 'Confirmez le mot de passe',\n                    nb_commands: 'Commandes',\n                },\n                filters: {\n                    last_visited: 'Dernière visite',\n                    today: \"Aujourd'hui\",\n                    this_week: 'Cette semaine',\n                    last_week: 'La semaine dernière',\n                    this_month: 'Ce mois-ci',\n                    last_month: 'Le mois dernier',\n                    earlier: 'Plus tôt',\n                    has_ordered: 'A déjà commandé',\n                    has_newsletter: 'Abonné newsletter',\n                    group: 'Segment',\n                },\n                fieldGroups: {\n                    identity: 'Identité',\n                    address: 'Adresse',\n                    stats: 'Statistiques',\n                    history: 'Historique',\n                    password: 'Mot de passe',\n                    change_password: 'Changer le mot de passe',\n                },\n                page: {\n                    delete: 'Supprimer le client',\n                },\n                errors: {\n                    password_mismatch:\n                        'La confirmation du mot de passe est différent du mot de passe.',\n                },\n            },\n            commands: {\n                name: 'Commande |||| Commandes',\n                amount: '1 commande |||| %{smart_count} commandes',\n                title: 'Commande n°%{reference}',\n                fields: {\n                    basket: {\n                        delivery: 'Frais de livraison',\n                        reference: 'Référence',\n                        quantity: 'Quantité',\n                        sum: 'Sous-total',\n                        tax_rate: 'TVA',\n                        total: 'Total',\n                        unit_price: 'P.U.',\n                    },\n                    customer_id: 'Client',\n                    date_gte: 'Emises depuis',\n                    date_lte: 'Emises avant',\n                    nb_items: 'Nb articles',\n                    reference: 'Référence',\n                    returned: 'Annulée',\n                    status: 'Etat',\n                    total_gte: 'Montant minimum',\n                },\n            },\n            invoices: {\n                name: 'Facture |||| Factures',\n                fields: {\n                    id: 'Numéro',\n                    date: 'Date de facture',\n                    customer_id: 'Client',\n                    command_id: 'Commande',\n                    date_gte: 'Emises depuis',\n                    date_lte: 'Emises avant',\n                    address: 'Adresse',\n                    total_ex_taxes: 'Montant HT',\n                    delivery_fees: 'Frais de livraison',\n                    taxes: 'TVA',\n                },\n            },\n            products: {\n                name: 'Poster |||| Posters',\n                fields: {\n                    id: 'Identifiant',\n                    category_id: 'Catégorie',\n                    height_gte: 'Hauteur mini',\n                    height_lte: 'Hauteur maxi',\n                    height: 'Hauteur',\n                    image: 'Photo',\n                    price: 'Prix',\n                    reference: 'Référence',\n                    sales: 'Ventes',\n                    stock_lte: 'Stock faible',\n                    stock: 'Stock',\n                    thumbnail: 'Aperçu',\n                    width_gte: 'Largeur mini',\n                    width_lte: 'Margeur maxi',\n                    width: 'Largeur',\n                },\n                tabs: {\n                    image: 'Image',\n                    details: 'Détails',\n                    description: 'Description',\n                    reviews: 'Commentaires',\n                },\n                filters: {\n                    categories: 'Catégories',\n                    stock: 'Stock',\n                    no_stock: 'En rupture',\n                    low_stock: '1 - 9 unités',\n                    average_stock: '10 - 49 unités',\n                    enough_stock: '50 unités et plus',\n                    sales: 'Ventes',\n                    best_sellers: 'Meilleures ventes',\n                    average_sellers: 'Moyennes',\n                    low_sellers: 'Peu vendu',\n                    never_sold: 'Jamais vendu',\n                },\n            },\n            categories: {\n                name: 'Catégorie |||| Catégories',\n                fields: {\n                    name: 'Nom',\n                    products: 'Produits',\n                },\n                actions: {\n                    create_product: 'Créer un Poster',\n                },\n            },\n            reviews: {\n                name: 'Commentaire |||| Commentaires',\n                amount: '1 commentaire |||| %{smart_count} commentaires',\n                relative_to_poster: 'Commentaire sur',\n                detail: 'Détail du commentaire',\n                fields: {\n                    customer_id: 'Client',\n                    command_id: 'Commande',\n                    product_id: 'Produit',\n                    date_gte: 'Publié depuis',\n                    date_lte: 'Publié avant',\n                    date: 'Date',\n                    comment: 'Texte',\n                    status: 'Statut',\n                    rating: 'Classement',\n                },\n                action: {\n                    accept: 'Accepter',\n                    reject: 'Rejeter',\n                },\n                notification: {\n                    approved_success: 'Commentaire approuvé',\n                    approved_error: 'Erreur: Commentaire non approuvé',\n                    rejected_success: 'Commentaire rejeté',\n                    rejected_error: 'Erreur: Commentaire non rejeté',\n                },\n            },\n            segments: {\n                name: 'Segments',\n                fields: {\n                    customers: 'Clients',\n                    name: 'Nom',\n                },\n                data: {\n                    compulsive: 'Compulsif',\n                    collector: 'Collectionneur',\n                    ordered_once: 'A commandé',\n                    regular: 'Régulier',\n                    returns: 'A renvoyé',\n                    reviewer: 'Commentateur',\n                },\n            },\n            stores: {\n                name: 'Magasins',\n                fields: {\n                    city: 'Ville',\n                    country: 'Pays',\n                    address: 'Adresse',\n                    created_at: 'Ouvert le',\n                },\n            },\n            locks: {\n                overlay: \"En cours d'édition par %{name}\",\n            },\n        },\n    }\n);\n\nexport default customFrenchMessages;\n","import React, { FC } from 'react';\nimport { Record, useMutation, useRefresh } from 'react-admin';\nimport { useTour } from '@react-admin/ra-tour';\nimport classnames from 'classnames';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport PlayIcon from '@material-ui/icons/PlayArrow';\nimport NewReleasesIcon from '@material-ui/icons/NewReleases';\n\nconst useStyles = makeStyles({\n    root: {\n        maxWidth: 345,\n        cursor: 'pointer',\n        margin: 20,\n        opacity: 0.9,\n        transition: 'opacity 0.3s ease-in-out',\n        '&:hover,&:focus-within': {\n            opacity: 1,\n        },\n    },\n    visited: {\n        opacity: 0.6,\n    },\n    media: {\n        height: 140,\n    },\n    rightButton: {\n        marginLeft: 'auto',\n    },\n    content: {\n        position: 'relative',\n        minHeight: 125,\n    },\n    newIcon: {\n        position: 'absolute',\n        top: 10,\n        right: 10,\n    },\n    actions: {\n        paddingBottom: 0,\n    },\n    buyIcon: {\n        marginLeft: 'auto !important',\n    },\n    playedOnIndicator: {\n        paddingLeft: 16,\n        paddingTop: 0,\n        paddingBottom: 16,\n    },\n});\n\nconst Tour: FC<{ record: Record }> = ({ record }) => {\n    const classes = useStyles();\n    const refresh = useRefresh();\n    // eslint-disable-next-line no-unused-vars\n    const [_, { start }] = useTour();\n\n    const [setPlayed] = useMutation(\n        {\n            type: 'update',\n            resource: 'tours',\n            payload: { id: record.id, data: { playedOn: new Date() } },\n        },\n        {\n            onSuccess: refresh,\n        }\n    );\n\n    const handlePlayClicked = (): void => {\n        if (start) {\n            start(record.tour);\n        }\n        setPlayed();\n    };\n\n    return (\n        <Card\n            className={classnames(classes.root, {\n                [classes.visited]: record.playedOn,\n            })}\n            onClick={handlePlayClicked}\n        >\n            <CardMedia\n                className={classes.media}\n                image={`${process.env.PUBLIC_URL}/${record.image}`}\n                title={record.title}\n            />\n            <CardContent className={classes.content}>\n                {!record.playedOn && (\n                    <NewReleasesIcon\n                        color=\"error\"\n                        fontSize=\"large\"\n                        className={classes.newIcon}\n                    />\n                )}\n                <Typography variant=\"h5\" component=\"h2\" gutterBottom>\n                    {record.title}\n                </Typography>\n                <Typography variant=\"body2\" gutterBottom>\n                    {record.comment}\n                </Typography>\n            </CardContent>\n            <CardActions className={classes.actions}>\n                <Button size=\"small\" startIcon={<PlayIcon />} color=\"primary\">\n                    Play\n                </Button>\n            </CardActions>\n            <div className={classes.playedOnIndicator}>\n                <Typography\n                    variant=\"caption\"\n                    display=\"block\"\n                    color=\"textSecondary\"\n                >\n                    {record.playedOn\n                        ? `Last played on ${new Date(\n                              record.playedOn\n                          ).toLocaleString()}`\n                        : `Never played before`}\n                </Typography>\n            </div>\n        </Card>\n    );\n};\n\nexport default Tour;\n","import React, { cloneElement, FC } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PlaylistAddCheckIcon from '@material-ui/icons/PlaylistAddCheck';\nimport RotateLeftIcon from '@material-ui/icons/RotateLeft';\nimport {\n    TopToolbar,\n    Button,\n    sanitizeListRestProps,\n    List,\n    Pagination,\n    useMutation,\n    useRefresh,\n    ListActionsProps,\n    useListContext,\n    ListProps,\n} from 'react-admin';\n\nimport Tour from './Tour';\n\nconst useStyles = makeStyles({\n    content: {\n        border: 'none',\n        background: 'none',\n        boxShadow: 'none',\n    },\n});\n\nconst useListStyles = makeStyles({\n    gridContainer: {\n        display: 'flex',\n        flexWrap: 'wrap',\n    },\n});\n\nconst ListActions: FC<ListActionsProps> = ({ className, filters, ...rest }) => {\n    const refresh = useRefresh();\n    const {\n        ids,\n        filterValues,\n        resource,\n        displayedFilters,\n        showFilter,\n    } = useListContext(rest);\n\n    const [reset, { loading: resetLoading }] = useMutation(\n        {\n            type: 'updateMany',\n            resource: 'tours',\n            payload: { ids: ids, data: { playedOn: null } },\n        },\n        {\n            onSuccess: () => {\n                refresh();\n            },\n        }\n    );\n\n    const [markAsPlayed, { loading: markAsPlayedLoading }] = useMutation(\n        {\n            type: 'updateMany',\n            resource: 'tours',\n            payload: { ids: ids, data: { playedOn: new Date() } },\n        },\n        {\n            onSuccess: () => {\n                refresh();\n            },\n        }\n    );\n\n    return (\n        <TopToolbar className={className} {...sanitizeListRestProps(rest)}>\n            {filters &&\n                cloneElement(filters, {\n                    resource,\n                    showFilter,\n                    displayedFilters,\n                    filterValues,\n                    context: 'button',\n                })}\n            {/* Add your custom actions */}\n            <Button\n                onClick={markAsPlayed}\n                label=\"Mark all as played\"\n                disabled={markAsPlayedLoading}\n            >\n                <PlaylistAddCheckIcon />\n            </Button>\n            <Button onClick={reset} label=\"Reset\" disabled={resetLoading}>\n                <RotateLeftIcon />\n            </Button>\n        </TopToolbar>\n    );\n};\n\nconst GridList: FC = () => {\n    const classes = useListStyles();\n    const { ids, data } = useListContext();\n    return (\n        <div className={classes.gridContainer}>\n            {ids.map(id => (\n                <Tour key={id} record={data[id]} />\n            ))}\n        </div>\n    );\n};\n\nconst TourList: FC<ListProps> = props => {\n    const classes = useStyles();\n\n    return (\n        <List\n            {...props}\n            perPage={20}\n            pagination={<Pagination rowsPerPageOptions={[10, 20, 40]} />}\n            sort={{ field: 'id', order: 'ASC' }}\n            classes={classes}\n            actions={<ListActions />}\n        >\n            <GridList />\n        </List>\n    );\n};\n\nexport default TourList;\n","import DirectionsBusIcon from '@material-ui/icons/DirectionsBus';\n\nimport TourList from './TourList';\n\nexport default {\n    list: TourList,\n    icon: DirectionsBusIcon,\n};\n","import { DataProvider } from 'ra-core';\nimport { RealTimeDataProvider, Subscriptions } from '@react-admin/ra-realtime';\n\nlet subscriptions: Subscriptions = [];\n\nconst addRealtimeMethodsWithFakeTransport = (\n    dataProvider: DataProvider\n): DataProvider & RealTimeDataProvider => {\n    return {\n        ...dataProvider,\n        subscribe: async (topic, subscriptionCallback) => {\n            subscriptions.push({ topic, subscriptionCallback });\n            return Promise.resolve({ data: null });\n        },\n\n        unsubscribe: async (topic, subscriptionCallback) => {\n            subscriptions = subscriptions.filter(\n                subscription =>\n                    subscription.topic !== topic ||\n                    subscription.subscriptionCallback !== subscriptionCallback\n            );\n            return Promise.resolve({ data: null });\n        },\n\n        publish: (topic, event) => {\n            if (!topic) {\n                return Promise.reject(new Error('ra.realTime.error.topic'));\n            }\n            if (!event.type) {\n                return Promise.reject(new Error('ra.realTime.error.type'));\n            }\n            subscriptions.map(\n                subscription =>\n                    topic === subscription.topic &&\n                    subscription.subscriptionCallback(event)\n            );\n            return Promise.resolve({ data: null });\n        },\n    };\n};\n\nexport default addRealtimeMethodsWithFakeTransport;\n","import { SearchResult, SearchResultDataItem } from '@react-admin/ra-search';\n\nconst defaultFacets = ['customers', 'products', 'commands', 'reviews'];\n\nconst addSearchMethod = dataProvider => {\n    return {\n        ...dataProvider,\n        search: async ({ facets, query }) => {\n            const resultsByResource = await Promise.all<SearchResult>(\n                (facets || defaultFacets).map(resource =>\n                    searchInResource(dataProvider, resource, query)\n                )\n            );\n\n            return {\n                data: resultsByResource.reduce(\n                    (acc, resultForResource) => [\n                        ...acc,\n                        ...resultForResource.data,\n                    ],\n                    [] as SearchResultDataItem[]\n                ),\n                total: resultsByResource.reduce(\n                    (acc, resultForResource) => acc + resultForResource.total,\n                    0\n                ),\n            };\n        },\n    };\n};\n\nexport default addSearchMethod;\n\nconst searchInResource = async (dataProvider, resource, query) => {\n    const { data, total } = await dataProvider.getList(resource, {\n        filter: { q: query },\n        pagination: { page: 1, perPage: 5 },\n        sort: { field: 'id', order: 'ASC' },\n    });\n\n    return {\n        data: await Promise.all(\n            data.map(async record => ({\n                id: `${resource}/${record.id}`,\n                type: resource,\n                url: `/${resource}/${record.id}`,\n                content: await ResultBuilders[resource](record, dataProvider),\n            }))\n        ),\n        total,\n    };\n};\n\nconst ResultBuilders = {\n    customers: async (record, dataProvider) => {\n        const orders = await dataProvider.getList('commands', {\n            filter: { customer_id: record.id, status: 'ordered' },\n            pagination: { page: 1, perPage: 1 },\n            sort: { field: 'id', order: 'ASC' },\n        });\n        const reviews = await dataProvider.getList('reviews', {\n            filter: { customer_id: record.id },\n            pagination: { page: 1, perPage: 1 },\n            sort: { field: 'id', order: 'ASC' },\n        });\n\n        return {\n            ...record,\n            pending_orders: orders.total,\n            reviews: reviews.total,\n        };\n    },\n    products: async (record, dataProvider) => {\n        const reviews = await dataProvider.getList('reviews', {\n            filter: { product_id: record.id },\n            pagination: { page: 1, perPage: 1 },\n            sort: { field: 'id', order: 'ASC' },\n        });\n\n        return {\n            ...record,\n            reviews: reviews.total,\n        };\n    },\n    commands: async (record, dataProvider) => {\n        const customer = await dataProvider.getOne('customers', {\n            id: record.customer_id,\n        });\n\n        return {\n            ...record,\n            customer: customer.data,\n        };\n    },\n    reviews: async record => {\n        return record;\n    },\n};\n","import { DataProvider } from 'react-admin';\n\nconst VALID_UNTIL = new Date(new Date().valueOf() + 3600 * 24 * 365);\n\nconst mergeById = (a, b) => {\n    const notInB = a.filter(aItem => !b.find(bItem => aItem.id === bItem.id));\n    const inBoth = a.filter(aItem => b.find(bItem => aItem.id === bItem.id));\n    const notInA = b.filter(bItem => !a.find(aItem => bItem.id === aItem.id));\n    return [\n        ...notInB,\n        ...inBoth.map(aItem => {\n            const bItem = b.find(bItem => aItem.id === bItem.id);\n            return { ...aItem, playedOn: bItem.playedOn };\n        }),\n        ...notInA,\n    ].sort((c, d) => c.id - d.id);\n};\nexport default (defaultState = {}): DataProvider => {\n    const get = (name: string) => {\n        const item = localStorage.getItem(name);\n        const collection = item ? JSON.parse(item) : [];\n        return mergeById(defaultState[name], collection);\n    };\n\n    const set = (name: string, item: any) => {\n        return localStorage.setItem(name, JSON.stringify(item));\n    };\n\n    const update = (resource, { id, data }) => {\n        const collection = get(resource);\n\n        const item = collection.find(item => item.id === id);\n\n        if (!item) {\n            return { data: null };\n        }\n\n        const newItem = { ...item, ...data, id };\n\n        set(resource, [\n            ...collection.filter(otherItem => otherItem.id !== id),\n            newItem,\n        ]);\n\n        return { data: newItem };\n    };\n\n    const remove = (resource, { id }) => {\n        let collection = get(resource);\n\n        const item = collection.find(item => item.id === id);\n\n        if (!item) {\n            return { data: null };\n        }\n\n        collection = collection.filter(item => item.id !== id);\n\n        set(resource, collection);\n\n        return { data: item };\n    };\n\n    return {\n        getList: (resource, { filter, sort, pagination }) => {\n            let collection = get(resource);\n\n            if (filter) {\n                collection = Object.keys(filter).reduce(\n                    (acc, key) => {\n                        const value = filter[key];\n                        return acc.filter(o => o[key] === value);\n                    },\n                    [...collection]\n                );\n            }\n            const total = collection.length;\n            if (sort) {\n                const { field, order } = sort;\n                collection = collection.sort((a, b) =>\n                    order === 'ASC' ? a[field] - b[field] : b[field] - a[field]\n                );\n            }\n            if (pagination) {\n                const { page, perPage } = pagination;\n                collection = collection.slice(\n                    (page - 1) * perPage,\n                    page * perPage - 1\n                );\n            }\n\n            return Promise.resolve({\n                data: collection,\n                total,\n            });\n        },\n\n        getOne: (resource, { id }) => {\n            const collection = get(resource);\n\n            const item = collection.find(item => item.id === id);\n\n            return Promise.resolve({\n                data: item,\n                validUntil: VALID_UNTIL,\n            });\n        },\n\n        getMany: (resource, { ids }) => {\n            const collection = get(resource);\n\n            const items = collection.filter(item => ids.includes(item.id));\n\n            return Promise.resolve({\n                data: items,\n                validUntil: VALID_UNTIL,\n            });\n        },\n\n        getManyReference: (resource, { filter, sort, pagination }) => {\n            let collection = get(resource);\n\n            if (filter) {\n                collection = Object.keys(filter).reduce(\n                    (acc, key) => {\n                        const value = filter[key];\n                        return acc.filter(o => o[key] === value);\n                    },\n                    [...collection]\n                );\n            }\n            const total = collection.length;\n            if (sort) {\n                const { field, order } = sort;\n                collection = collection.sort((a, b) =>\n                    order === 'ASC' ? a[field] - b[field] : b[field] - a[field]\n                );\n            }\n            if (pagination) {\n                const { page, perPage } = pagination;\n                collection = collection.slice(\n                    (page - 1) * perPage,\n                    page * perPage - 1\n                );\n            }\n\n            return Promise.resolve({\n                data: collection,\n                total,\n            });\n        },\n\n        update: (resource, params) => {\n            return Promise.resolve(update(resource, params));\n        },\n        updateMany: (resource, { ids, data }) => {\n            const updateResults = ids.map(id => update(resource, { id, data }));\n\n            return Promise.resolve({\n                data: updateResults\n                    .filter(res => res.data && res.data.id)\n                    .map(res => res.data.id),\n            });\n        },\n\n        create: (resource, { data }) => {\n            const collection = get(resource);\n\n            const id = collection.length + 1;\n            const item = collection.find(item => item.id === id);\n\n            if (item) {\n                return Promise.resolve({ data: item });\n            }\n\n            const newItem = { ...data, id: id };\n            collection.push(newItem);\n\n            set(resource, collection);\n\n            return Promise.resolve({ data: newItem });\n        },\n\n        delete: (resource, params) => Promise.resolve(remove(resource, params)),\n\n        deleteMany: (resource, { ids }) => {\n            const deleteResults = ids.map(id => remove(resource, { id }));\n\n            return Promise.resolve({\n                data: deleteResults\n                    .filter(res => res.data && res.data.id)\n                    .map(res => res.data.id),\n            });\n        },\n    };\n};\n","import simpleRestProvider from 'ra-data-simple-rest';\nimport compose from 'recompose/compose';\nimport { addLocksMethodsBasedOnALockResource } from '@react-admin/ra-realtime';\nimport { addTreeMethodsBasedOnChildren } from '@react-admin/ra-tree';\n\nimport addRealtimeMethodsWithFakeTransport from './addRealtimeMethodsWithFakeTransport';\nimport addSearchMethod from './addSearchMethod';\nimport localStorageProvider from './localStorageProvider';\n\nimport defaultState from '../tours/data';\n\nconst restProvider = compose(\n    addLocksMethodsBasedOnALockResource,\n    addRealtimeMethodsWithFakeTransport,\n    addTreeMethodsBasedOnChildren,\n    addSearchMethod\n)(simpleRestProvider('http://localhost:4000'));\n\nconst customProviders = {\n    tours: localStorageProvider(defaultState),\n};\n\nconst customMethods = {};\nconst delayedDataProvider = new Proxy(restProvider, {\n    get: (target, name, self) => {\n        if (name === 'then') {\n            return self;\n        }\n\n        return (resource, params) => {\n            let provider = restProvider;\n            if (customProviders[resource]) {\n                provider = customProviders[resource];\n            }\n\n            if (customMethods[resource]) {\n                provider = {\n                    ...provider,\n                    ...customMethods[resource](provider),\n                };\n            }\n\n            return new Promise(resolve =>\n                setTimeout(() => resolve(provider[name](resource, params)), 500)\n            );\n        };\n    },\n});\n\nexport default delayedDataProvider;\n","export default {\n    tours: [\n        {\n            id: 2,\n            image: 'images/tours/ra-preferences.jpg',\n            title: 'ra-preferences',\n            tour: 'ra-preferences',\n            comment: `Persist user preferences (language, ui, filters, displayed columns, etc) in local storage`,\n            href: 'http://marmelab.com/react-admin',\n            playedOn: null,\n        },\n        {\n            id: 6,\n            image: 'images/tours/ra-navigation-breadcrumb.jpg',\n            title: 'ra-navigation: Breadcrumb',\n            tour: 'ra-navigation-breadcrumb',\n            comment: `Keep a track of your location in the site and navigate easily.`,\n            href: 'http://marmelab.com/react-admin',\n            playedOn: null,\n        },\n        {\n            id: 4,\n            image: 'images/tours/ra-realtime.jpg',\n            title: 'ra-realtime',\n            tour: 'ra-realtime',\n            comment: `Enable realtime on menu, list, show and edit views - or anywhere you want.`,\n            href: 'http://marmelab.com/react-admin',\n            playedOn: null,\n        },\n        {\n            id: 5,\n            image: 'images/tours/ra-editable-datagrid.jpg',\n            title: 'ra-editable-datagrid',\n            tour: 'ra-editable-datagrid',\n            comment: `Quickly edit your data without leaving your datagrid.`,\n            href: 'http://marmelab.com/react-admin',\n            playedOn: null,\n        },\n        {\n            id: 3,\n            image: 'images/tours/ra-tree.jpg',\n            title: 'ra-tree',\n            tour: 'ra-tree',\n            comment: `Edit and visualize tree structures. Reorganize by drag and drop. Adapts to any data structure on the backend (parent_id, children, nested sets, etc)..`,\n            href: 'http://marmelab.com/react-admin',\n            playedOn: null,\n        },\n        {\n            id: 1,\n            image: 'images/tours/ra-markdown.jpg',\n            title: 'ra-markdown',\n            tour: 'ra-markdown',\n            comment: `Read Markdown data, and edit it using a WYSIWYG editor in your admin`,\n            href: 'http://marmelab.com/react-admin',\n            playedOn: null,\n        },\n    ],\n};\n","export default {\n    categories: [\n        {\n            id: 5,\n            name: 'categories',\n            isRoot: true,\n            children: [0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100, 110, 120],\n        },\n\n        { id: 0, name: 'animals', isRoot: false, children: [1, 2, 3] },\n        { id: 1, name: 'cute', isRoot: false, children: [] },\n        { id: 2, name: 'scary', isRoot: false, children: [] },\n        { id: 3, name: 'weird', isRoot: false, children: [] },\n\n        { id: 10, name: 'beard', isRoot: false, children: [11, 12] },\n        { id: 11, name: 'curly', isRoot: false, children: [] },\n        { id: 12, name: 'straight', isRoot: false, children: [] },\n\n        { id: 20, name: 'business', isRoot: false, children: [] },\n\n        { id: 30, name: 'cars', isRoot: false, children: [31, 32] },\n        { id: 31, name: 'fast', isRoot: false, children: [] },\n        { id: 32, name: 'slow', isRoot: false, children: [] },\n\n        { id: 40, name: 'city', isRoot: false, children: [] },\n        { id: 50, name: 'flowers', isRoot: false, children: [] },\n\n        { id: 60, name: 'food', isRoot: false, children: [61, 62] },\n        { id: 61, name: 'liquid', isRoot: false, children: [] },\n        { id: 62, name: 'solid', isRoot: false, children: [] },\n\n        { id: 70, name: 'nature', isRoot: false, children: [] },\n\n        { id: 80, name: 'people', isRoot: false, children: [81, 82, 83] },\n        { id: 81, name: 'one', isRoot: false, children: [] },\n        { id: 82, name: 'couple', isRoot: false, children: [] },\n        { id: 83, name: 'many', isRoot: false, children: [] },\n\n        { id: 90, name: 'sports', isRoot: false, children: [] },\n        { id: 100, name: 'tech', isRoot: false, children: [] },\n        { id: 110, name: 'travel', isRoot: false, children: [] },\n        { id: 120, name: 'water', isRoot: false, children: [] },\n    ],\n    stores: [\n        {\n            id: 0,\n            city: 'Paris',\n            country: 'France',\n            address: '8 rue de Rivoli',\n            created_at: new Date(1988, 4, 20),\n        },\n        {\n            id: 1,\n            city: 'Lyon',\n            country: 'France',\n            address: '14 rue de la République',\n            created_at: new Date(1992, 3, 11),\n        },\n        {\n            id: 2,\n            city: 'Nice',\n            country: 'France',\n            address: '5 cours Saleya',\n            created_at: new Date(1993, 6, 27),\n        },\n        {\n            id: 3,\n            city: 'Toulouse',\n            country: 'France',\n            address: '43 rue de la Pomme',\n            created_at: new Date(1994, 1, 2),\n        },\n        {\n            id: 4,\n            city: 'Dijon',\n            country: 'France',\n            address: '89 rue de la liberté',\n            created_at: new Date(2001, 11, 5),\n        },\n        {\n            id: 5,\n            city: 'Nancy',\n            country: 'France',\n            address: '27 rue Ordener',\n            created_at: new Date(2008, 7, 15),\n        },\n    ],\n    locks: [],\n};\n","import FakeRest from 'fakerest';\nimport fetchMock from 'fetch-mock';\nimport generateData from 'data-generator-retail';\nimport { random } from 'faker/locale/en';\nimport { Identifier } from 'react-admin';\n\nimport demoData from './demo-data';\nimport { Category, Product } from '../types';\n\nconst getAllChildrenCategories = (\n    categories: Category[],\n    parentId: Identifier\n) => {\n    const parentCategory = categories.find(({ id }) => id === parentId);\n    if (!parentCategory) {\n        return [];\n    }\n    const children = parentCategory.children.map(childId =>\n        getAllChildrenCategories(categories, childId)\n    );\n\n    return [parentId, ...children];\n};\n\nconst rebindProductToCategories = (\n    originalCategories: Category[],\n    newCategories: Category[]\n) => (product: Product) => {\n    const originalCategory = originalCategories.find(\n        c => c.id === product.category_id\n    );\n\n    if (!originalCategory) {\n        return product;\n    }\n\n    const matchingNewCategory = newCategories.find(\n        c => c.name === originalCategory.name\n    );\n\n    if (!matchingNewCategory) {\n        return product;\n    }\n\n    // If the new category does not have sub categories, just ensure we have the correct id\n    if (matchingNewCategory.children.length === 0) {\n        return {\n            ...product,\n            category_id: matchingNewCategory.id,\n        };\n    }\n\n    const newCategoryId = random.arrayElement(\n        matchingNewCategory.children || []\n    );\n\n    return {\n        ...product,\n        category_id: newCategoryId,\n    };\n};\n\nexport default (): (() => void) => {\n    const data = generateData({ serializeDate: true });\n    const products = data.products.map(\n        rebindProductToCategories(data.categories, demoData.categories)\n    );\n\n    const mergedData = { ...data, ...demoData, products };\n\n    const restServer = new FakeRest.FetchServer('http://localhost:4000');\n    if (window) {\n        window.restServer = restServer; // give way to update data in the console\n    }\n    restServer.addRequestInterceptor(request => {\n        // intercepts list of products with a category filter\n        if (\n            request.method === 'GET' &&\n            request.url.includes('/products') &&\n            request.params.filter &&\n            request.params.filter.category_id !== undefined\n        ) {\n            // to include all sub categories of the selected category in the filter\n            request.params.filter.category_id = getAllChildrenCategories(\n                mergedData.categories,\n                parseInt(request.params.filter.category_id)\n            );\n        }\n        return request;\n    });\n    restServer.init(mergedData);\n    restServer.toggleLogging(); // logging is off by default, enable it\n    fetchMock.mock('begin:http://localhost:4000', restServer.getHandler());\n    return () => fetchMock.restore();\n};\n","import React, { ReactElement, useEffect } from 'react';\nimport { Resource } from 'react-admin';\n\nimport { Admin, buildI18nProvider } from '@react-admin/ra-enterprise';\n\nimport './App.css';\n\nimport { darkTheme, lightTheme } from './layout/themes';\nimport authProvider from './authProvider';\nimport { Login, Layout } from './layout';\nimport { Dashboard } from './dashboard';\nimport customRoutes from './routes';\n\nimport englishMessages from './i18n/en';\nimport frenchMessages from './i18n/fr';\n\nimport visitors from './visitors';\nimport orders from './orders';\nimport products from './products';\nimport invoices from './invoices';\nimport categories from './categories';\nimport reviews from './reviews';\nimport stores from './stores';\nimport tours from './tours';\n\nimport dataProvider from './dataProvider';\nimport fakeServer from './fakeServer';\n\nconst messages = {\n    en: englishMessages,\n    fr: frenchMessages,\n};\n\nconst i18nProvider = buildI18nProvider(messages, 'en');\n\nconst App = (): ReactElement => {\n    useEffect(() => {\n        const restoreFetch = fakeServer();\n        return (): void => {\n            restoreFetch();\n        };\n    }, []);\n\n    return (\n        <Admin\n            title=\"\"\n            dataProvider={dataProvider}\n            customRoutes={customRoutes}\n            authProvider={authProvider}\n            dashboard={Dashboard}\n            loginPage={Login}\n            layout={Layout}\n            i18nProvider={i18nProvider}\n            // Ra-enterprise confirguration\n            lightTheme={lightTheme}\n            darkTheme={darkTheme}\n        >\n            <Resource name=\"customers\" {...visitors} />\n            <Resource name=\"commands\" {...orders} />\n            <Resource name=\"invoices\" {...invoices} />\n            <Resource name=\"products\" {...products} />\n            <Resource name=\"categories\" {...categories} />\n            <Resource name=\"reviews\" {...reviews} />\n            <Resource name=\"stores\" {...stores} />\n            <Resource name=\"tours\" {...tours} />\n            <Resource name=\"locks\" />\n        </Admin>\n    );\n};\n\nexport default App;\n","import 'react-app-polyfill/ie11';\nimport 'react-app-polyfill/stable';\nimport 'proxy-polyfill';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","import { Order } from '../types';\n\n/**\n * Generate random commands\n *\n * This generator assumes that:\n * - Customer ids exist until 50\n * - Product ids exist until 20\n */\nconst randomCommandBuilder = (batchLevel: number): Order => {\n    const basket = new Array(Math.round(Math.random() * 2) + 1).map(() => ({\n        product_id: Math.round(Math.random() * 20),\n        quantity: Math.round(Math.random() * 2) + 1,\n    }));\n\n    return {\n        id: Math.round(Math.random() * 50),\n        date: new Date(),\n        total: (Math.round(Math.random() * 10000) / 100) * basket.length,\n        status: 'ordered',\n        reference: Math.random()\n            .toString(36)\n            .replace(/[^a-z]+/g, '')\n            .substr(0, 6)\n            .toUpperCase(),\n        customer_id: Math.round(Math.random() * 50),\n        basket,\n        batch: batchLevel,\n    };\n};\n\nexport default randomCommandBuilder;\n","import { TourType } from '@react-admin/ra-tour';\nimport { fireEvent } from '@testing-library/react';\nimport randomCommandBuilder from './randomCommandBuilder';\nimport { generateIdentity } from './randomLockBuilder';\n\nconst getRandomInt = (min, max) => {\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min)) + min;\n};\n\nconst timeout = ms => new Promise(resolve => setTimeout(resolve, ms));\nconst interval = (callback, intervalMs, expirationMs) =>\n    new Promise(resolve => {\n        const intervalRef = setInterval(callback, intervalMs);\n        setTimeout(() => {\n            clearInterval(intervalRef);\n            resolve();\n        }, expirationMs);\n    });\n\nlet newCommandsIds: number[] = [];\n\nconst tours: { [id: string]: TourType } = {\n    'ra-markdown': {\n        before: async ({ redirect }) => {\n            redirect('/products');\n            await timeout(1000); // would be so awesome if redirect was awaitable!\n        },\n        steps: [\n            {\n                target: `[data-tour-id='grid-line'] > a:nth-child(${getRandomInt(\n                    1,\n                    5\n                )})`,\n                disableBeacon: true,\n                content:\n                    \"This is a poster, one of the products our shop is selling, let's go to its details\",\n                joyrideProps: {\n                    styles: {\n                        beacon: {\n                            marginTop: -100,\n                        },\n                    },\n                },\n                after: ({ target, redirect }) => {\n                    const productUrl = target.getAttribute('href').slice(1);\n                    redirect(productUrl);\n                },\n            },\n            {\n                target: \"[data-tour-id='description-tab']\",\n                content: 'The markdown editor is in the description tab',\n                after: ({ target }) => {\n                    target.click();\n                },\n            },\n            {\n                target: '.tui-editor-defaultUI',\n                content:\n                    'Right here. Try playing with its markdown, make it bold, add headlines!',\n            },\n            {\n                target: '.te-switch-button.wysiwyg',\n                content: 'By default, you are in WYSIWYG mode.',\n            },\n            {\n                target: '.te-switch-button.markdown',\n                content:\n                    'But you can switch to raw markdown edition with this button.',\n            },\n            {\n                target: '[data-testid=product-edit-preview]',\n                content:\n                    'Parsed markdown can then be displayed in a preview or wherever you want.',\n            },\n        ],\n    },\n    'ra-preferences': {\n        steps: [\n            {\n                target: \"button[aria-label='Toggle Theme']\",\n                disableBeacon: true,\n                content:\n                    'ra-preferences comes with a lot of built-in modules, like this theme switcher. Try it: it works!',\n            },\n            {\n                target: \"button[aria-label='Toggle Theme'] + button\",\n                content: 'Or this language switcher...',\n                after: ({ redirect }) => {\n                    redirect('/customers');\n                },\n            },\n            {\n                target: 'button[aria-controls=user-preference-menu]',\n                content:\n                    'Even more advanced ones like this list customization tool.',\n                disableBeacon: false,\n                after: ({ target }) => {\n                    target.click();\n                },\n            },\n            {\n                target: '#user-preference-menu .MuiPaper-root',\n                content:\n                    'Where you can select how you want the list to be displayed, or the information you want to see.',\n                joyrideProps: {\n                    styles: {\n                        options: {\n                            zIndex: 10000,\n                        },\n                    },\n                },\n                after: () => {\n                    const menuOverlay: HTMLElement | null = document.querySelector(\n                        'body > .MuiPopover-root div[aria-hidden=true]'\n                    );\n                    if (!menuOverlay) {\n                        return;\n                    }\n                    menuOverlay.click();\n                },\n            },\n            {\n                before: ({ setTourPreferences, state }) => {\n                    setTourPreferences(state);\n                },\n                target: 'body',\n                content:\n                    'It exposes simple hooks so that you can actually save whatever you want, too. For instance, the state of this particular step. Try to reload the page!',\n                joyrideProps: {\n                    styles: {\n                        options: {\n                            arrowColor: 'transparent',\n                        },\n                    },\n                },\n                after: ({ setTourPreferences }) => {\n                    setTourPreferences({});\n                },\n            },\n        ],\n    },\n    'ra-tree': {\n        before: async ({ redirect }) => {\n            redirect('/categories/5');\n            await timeout(1000); // would be so awesome if redirect was awaitable!\n        },\n        steps: [\n            {\n                target: '.rc-tree',\n                content:\n                    'ra-tree helps handling trees with ease, no matter the data structure you use on the backend',\n                disableBeacon: true,\n            },\n            {\n                before: ({ target }) => {\n                    interval(\n                        () => {\n                            const switcher = target.querySelector(\n                                '.rc-tree-switcher.rc-tree-switcher_close'\n                            );\n\n                            if (switcher) {\n                                switcher.click();\n                            }\n                        },\n                        500,\n                        4000\n                    );\n                },\n                target: '.rc-tree',\n                content:\n                    'It supports expanding or collapsing nodes for an infinite amount of levels',\n                after: async ({ target }) => {\n                    await interval(\n                        () => {\n                            const switcher = target\n                                // not the first line or it collapses all the tree\n                                .querySelector(\n                                    '.rc-tree-treenode:not(:nth-child(1)) .rc-tree-switcher.rc-tree-switcher_open'\n                                );\n\n                            if (switcher) {\n                                switcher.click();\n                            }\n                        },\n                        500,\n                        2000\n                    );\n                },\n            },\n            {\n                before: ({ redirect }) => {\n                    setTimeout(() => {\n                        redirect('/categories/create');\n                    }, 4000);\n                },\n                target: '[aria-label=\"Add a category of products\"]',\n                content:\n                    'You can even add a new category, or reorder them, try it!',\n            },\n        ],\n    },\n    'ra-realtime': {\n        before: async () => {\n            localStorage.setItem('batchLevel', '0');\n        },\n        steps: [\n            {\n                before: async ({ dataProvider }) => {\n                    localStorage.setItem('batchLevel', '0');\n\n                    [[1], [2], [3], [4]].reduce(\n                        acc =>\n                            acc.then(async () => {\n                                // Add a new Order\n                                const {\n                                    data: newCommand,\n                                } = await dataProvider.create('commands', {\n                                    data: randomCommandBuilder(1),\n                                });\n\n                                newCommandsIds.push(newCommand.id);\n                                // Then notify the Real-time dataProvider\n                                const topic = 'resource/commands';\n                                dataProvider.publish(topic, {\n                                    type: 'created',\n                                    topic: topic,\n                                    payload: { ids: [newCommand.id] },\n                                    date: new Date(),\n                                });\n                            }),\n                        timeout(1)\n                    );\n                    await timeout(1500); // would be so awesome if redirect was awaitable!\n                },\n                target: '[data-testid=\"commands-menu\"]',\n                content: \"Seems like you just had new orders, let's check...\",\n                disableBeacon: true,\n                joyrideProps: {\n                    hideBackButton: true,\n                },\n                after: async ({ redirect }) => {\n                    localStorage.setItem('batchLevel', '1');\n                    await timeout(500);\n                    redirect('/commands');\n                },\n            },\n            {\n                target: '[data-testid=order-ordered-datagrid]',\n                content: 'Your new orders can stand-out from others',\n                joyrideProps: {\n                    hideBackButton: true,\n                },\n            },\n            {\n                before: async ({ dataProvider }) => {\n                    localStorage.setItem('batchLevel', '2');\n                    // Add a new Order\n                    const { data: newCommand1 } = await dataProvider.create(\n                        'commands',\n                        {\n                            data: randomCommandBuilder(2),\n                        }\n                    );\n                    newCommandsIds.push(newCommand1.id);\n                    const { data: newCommand2 } = await dataProvider.create(\n                        'commands',\n                        {\n                            data: randomCommandBuilder(2),\n                        }\n                    );\n                    newCommandsIds.push(newCommand2.id);\n                    // Then notify the Real-time dataProvider\n                    const topic = 'resource/commands';\n                    dataProvider.publish(topic, {\n                        type: 'created',\n                        topic,\n                        payload: { ids: [newCommand1.id, newCommand2.id] },\n                        date: new Date(),\n                    });\n                    await timeout(1000);\n                },\n                target: '[data-testid=order-ordered-datagrid]',\n                content:\n                    \"And newest orders even appear while you're on the page\",\n                joyrideProps: {\n                    hideBackButton: true,\n                },\n                after: async ({ dataProvider, dispatch, redirect }) => {\n                    // Generate a lock on Products #1, #2 and #5\n                    await Promise.all(\n                        [1, 2, 5].map(recordId => {\n                            return dataProvider\n                                .lock('products', {\n                                    recordId,\n                                    identity: generateIdentity(),\n                                })\n                                .then(({ data: lock }) => {\n                                    dispatch({\n                                        type: 'RA/LOCK_SUCCESS',\n                                        payload: {\n                                            data: lock,\n                                        },\n                                        meta: {\n                                            fetchResponse: 'RA/LOCK',\n                                            resource: 'products',\n                                            recordId,\n                                        },\n                                    });\n                                });\n                        })\n                    );\n\n                    // Sort by id because the locked product has the id #0\n                    redirect('/products?order=ASC&page=1&perPage=20&sort=id');\n                },\n            },\n            {\n                before: async ({ dataProvider, dispatch }) => {\n                    await timeout(100);\n\n                    // Unlock the Products #1 after a few seconds\n\n                    const lockTile = global.document.querySelector(\n                        '[data-productid=\"1\"]'\n                    );\n\n                    if (lockTile instanceof HTMLElement) {\n                        const recordId = parseInt(\n                            lockTile.dataset.productid + '',\n                            10\n                        );\n\n                        const identity = lockTile.dataset.lockidentity;\n\n                        setTimeout(() => {\n                            dataProvider\n                                .unlock('products', {\n                                    recordId,\n                                    identity,\n                                })\n                                .then(({ data: lock }) => {\n                                    dispatch({\n                                        type: 'RA/UNLOCK_SUCCESS',\n                                        payload: {\n                                            data: lock,\n                                        },\n                                        meta: {\n                                            fetchResponse: 'RA/UNLOCK',\n                                            resource: 'products',\n                                            recordId,\n                                        },\n                                    });\n                                });\n                        }, 4000);\n                    }\n                },\n                target: '[data-testid=productlocktile]',\n                content:\n                    'You can lock resources in realtime (this one will be unlocked in a few seconds)',\n                joyrideProps: {\n                    hideBackButton: true,\n                },\n                after: async ({ dataProvider, dispatch, refresh }) => {\n                    // Reset the locks on Products #2 and #5\n                    // The lock on Procuct #1 has been deleted during the scenario\n                    await Promise.all(\n                        [2, 5].map(recordId => {\n                            const lockTile = global.document.querySelector(\n                                `[data-productid=\"${recordId}\"]`\n                            );\n                            if (lockTile instanceof HTMLElement) {\n                                const identity = lockTile.dataset.lockidentity;\n\n                                return dataProvider\n                                    .unlock('products', {\n                                        recordId,\n                                        identity,\n                                    })\n                                    .then(({ data: lock }) => {\n                                        dispatch({\n                                            type: 'RA/UNLOCK_SUCCESS',\n                                            payload: {\n                                                data: lock,\n                                            },\n                                            meta: {\n                                                fetchResponse: 'RA/UNLOCK',\n                                                resource: 'products',\n                                                recordId,\n                                            },\n                                        });\n                                    });\n                            }\n                            return Promise.resolve();\n                        })\n                    ).then(() => {\n                        refresh();\n                    });\n                },\n            },\n        ],\n        after: async ({ dataProvider, refresh }) => {\n            localStorage.setItem('batchLevel', '0');\n            // Reset new Orders\n            // We have to delete them to avoid having them reappear if the tour is restarted\n            await dataProvider.deleteMany('commands', {\n                ids: newCommandsIds,\n            });\n\n            refresh();\n            newCommandsIds = [];\n        },\n    },\n    'ra-editable-datagrid': {\n        before: async ({ redirect }) => {\n            redirect('/stores');\n            await timeout(1000); // would be so awesome if redirect was awaitable!\n        },\n        steps: [\n            {\n                target:\n                    '[data-testid=\"store-datagrid\"] > tbody > tr:first-child',\n                content:\n                    \"Hovering on a row shows a toolbar allowing to either edit or delete the record. Let's see what happens when editing a row by clicking on the Edit button (or by directly clicking inside the row)\",\n            },\n            {\n                before: ({ target }) => {\n                    target.querySelector('td:nth-child(2)').click();\n                },\n                target:\n                    '[data-testid=\"store-datagrid\"] > tbody > tr:first-child',\n                content:\n                    \"You can edit a record without leaving the Datagrid! Let's change the address.\",\n                after: ({ target }) => {\n                    fireEvent.change(target.querySelector('#address'), {\n                        target: { value: '10 rue de Rivoli' },\n                    });\n                },\n            },\n            {\n                target:\n                    '[data-testid=\"store-datagrid\"] > tbody > tr:first-child button:first-child',\n                content:\n                    'After edition, just click on the Save button in the row',\n                after: ({ target }) => {\n                    target.click();\n                },\n            },\n            {\n                target: '[aria-label=\"Create\"]',\n                content: 'The Editable Datagrid also supports inline creation',\n                after: ({ target }) => {\n                    target.click();\n                },\n            },\n            {\n                after: ({ target }) => {\n                    fireEvent.change(target.querySelector('#city'), {\n                        target: { value: 'Nantes' },\n                    });\n                    fireEvent.change(target.querySelector('#country'), {\n                        target: { value: 'France' },\n                    });\n                    fireEvent.change(target.querySelector('#address'), {\n                        target: { value: '5 rue du château' },\n                    });\n                    fireEvent.change(target.querySelector('#created_at'), {\n                        target: { value: '2020-08-04' },\n                    });\n                },\n                target:\n                    '[data-testid=\"store-datagrid\"] > tbody > tr:first-child',\n                content:\n                    'A row edition / creation form can contain Inputs of any type (text, date, number, etc.).',\n            },\n            {\n                target:\n                    '[data-testid=\"store-datagrid\"] > tbody > tr:first-child button:first-child',\n                content:\n                    'Click on the Save button to submit the form and create a new record.',\n                after: ({ target }) => {\n                    target.click();\n                },\n            },\n        ],\n    },\n    'ra-navigation-breadcrumb': {\n        before: async ({ redirect }) => {\n            redirect('/products');\n            await timeout(1000); // would be so awesome if redirect was awaitable!\n        },\n        steps: [\n            {\n                target: \"[aria-label='Breadcrumb'] li:nth-child(2)\",\n                content:\n                    'The breadcrumb indicates that we are on the posters page',\n                disableBeacon: true,\n                joyrideProps: {\n                    disableScrolling: true,\n                },\n            },\n            {\n                target: `[data-tour-id='grid-line'] > a:nth-child(${getRandomInt(\n                    1,\n                    5\n                )})`,\n                disableBeacon: true,\n                content: \"Let's edit one of these posters\",\n                after: ({ target, redirect }) => {\n                    const productUrl = target.getAttribute('href').slice(1);\n                    redirect(productUrl);\n                },\n            },\n            {\n                target: \"[aria-label='Breadcrumb'] li:nth-child(3)\",\n                content:\n                    'The breadcrumb has changed to follow us to this Edit page',\n                disableBeacon: true,\n                joyrideProps: {\n                    scrollOffset: 50,\n                },\n            },\n            {\n                target: '[data-testid=\"commands-menu\"]',\n                content: \"Let's try to navigate away using the Menu entry\",\n                disableBeacon: true,\n                joyrideProps: {\n                    disableScrolling: true,\n                },\n                after: ({ redirect }) => {\n                    redirect('/commands');\n                },\n            },\n            {\n                target: \"[aria-label='Breadcrumb'] li:nth-child(2)\",\n                content: 'The breadcrumb keeps showing our exact location.',\n                disableBeacon: true,\n                joyrideProps: {\n                    disableScrolling: true,\n                },\n            },\n            {\n                target: \"[aria-label='Breadcrumb'] li:nth-child(1)\",\n                content:\n                    \"Users can click on the breadcrumb items directly to navigate.\\nLet's go to the home page\",\n                disableBeacon: true,\n                joyrideProps: {\n                    disableScrolling: true,\n                },\n                after: ({ redirect }) => {\n                    redirect('/');\n                },\n            },\n            {\n                target: \"[aria-label='Breadcrumb']\",\n                content:\n                    \"By default, there is no breacrumb displayed on the home page.\\n Now it's your turn to use the Breadcrumb component to build you own breadcrumb path!\",\n                disableBeacon: true,\n                joyrideProps: {\n                    disableScrolling: true,\n                },\n            },\n        ],\n    },\n};\n\nexport default tours;\n","import { Lock } from '@react-admin/ra-realtime';\nimport { Identifier } from 'react-admin';\n\nconst defaultIdentities = [\n    'Stacey Warner',\n    'Jasmine Morgan',\n    'Gildas Bullock',\n    'Adrien King',\n    'Julien Andrews',\n    'Laila Robinson',\n    'Abigail Bryan',\n    'Felix Mccoy',\n    'Charlie Bradshaw',\n    'Yasmine Hoffman',\n];\n\nexport function generateIdentity(identities = defaultIdentities): string {\n    return identities[Math.floor(Math.random() * identities.length)];\n}\n\nexport function generateLock({\n    id = 0,\n    resource = 'products',\n    recordId = 0,\n}: {\n    id: Identifier;\n    resource: string;\n    recordId?: Identifier;\n}): Lock {\n    const identity = generateIdentity();\n    const createdAt = new Date();\n\n    return {\n        id,\n        resource,\n        recordId,\n        identity,\n        createdAt,\n    };\n}\n\nexport function generateLocks(resource = 'products'): Lock[] {\n    return Array(20)\n        .fill(0)\n        .filter((_, i) => i % (1 + Math.floor(Math.random() * 6)) === 0)\n        .map((_, i) =>\n            generateLock({\n                id: i,\n                resource,\n            })\n        );\n}\n\n/**\n * Generate random locks\n *\n * This generator assumes that:\n * - Product ids exist up to 20\n */\nconst randomLockBuilder = (): { data: Lock[]; total: number } => {\n    const locks = generateLocks();\n\n    return {\n        data: locks,\n        total: (Math.round(Math.random() * 10000) / 100) * locks.length,\n    };\n};\n\nexport default randomLockBuilder;\n"],"sourceRoot":""}