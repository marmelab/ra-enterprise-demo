(this.webpackJsonpdemo=this.webpackJsonpdemo||[]).push([[0],{1387:function(e,t,r){},2011:function(e,t,r){},2012:function(e,t,r){"use strict";r.r(t);var a=r(2),c=(r(1060),r(1069),r(1252),r(0)),n=r.n(c),s=r(27),o=r.n(s),i=r(4),l=r(2154),d=r(48),u=r(187),j=(r(1387),r(50)),b=r(29),m=r(472),O=r(607),p=r.n(O),h=p()({type:"dark",primary:{main:"#90caf9"}}),f=function(e){return{darkTheme:x(e),lightTheme:v(e)}},x=function(e){return{palette:h,overrides:{MuiAppBar:{zIndex:9999},RaAppBar:{menuButton:Object(j.a)({display:"none"},e.breakpoints.down("xs"),{display:"block"})},RaSearchInput:{root:{color:h.common.white,backgroundColor:Object(b.c)(h.common.black,.04),"&:hover":{backgroundColor:Object(b.c)(h.common.black,.13)},"&:focus":{backgroundColor:Object(b.c)(h.common.black,.13)},"&:focus-within":{backgroundColor:Object(b.c)(h.common.black,.13)}},inputBase:{background:Object(b.c)(h.common.black,.04),borderRadius:10,"&:hover":{background:Object(b.c)(h.common.black,.1)}},inputAdornmentStart:{color:h.common.white}},RaSidebar:{drawerPaper:{paddingRight:16,width:"auto"}},RaMenuItemCategory:{closeButton:{color:"white"},popoverPaper:{backgroundColor:"#424242"}},RaMenuItem:{root:{color:"white"},link:{"&:hover":{color:"black",backgroundColor:m.a[200]}}},RaFilterFormInput:{body:{"& > div":{marginTop:8}}},RaTopToolbar:{root:{alignItems:"center",paddingTop:0}},RaListToolbar:{root:{alignItems:"center",paddingTop:0},actions:{alignItems:"center",paddingTop:0,minHeight:"auto"},toolbar:{minHeight:"auto"}}}}},g=p()({type:"light",primary:{main:"#4f3cc9"},secondary:{light:"#5f5fc4",main:"#283593",dark:"#001064",contrastText:"#fff"},background:{default:"#fcfcfe"}}),v=function(e){return{palette:g,shape:{borderRadius:10},overrides:{RaAppBar:{menuButton:Object(j.a)({display:"none"},e.breakpoints.down("xs"),{display:"block"})},RaSearchInput:{root:{color:g.text.primary,backgroundColor:Object(b.c)(g.common.black,.04),"&:hover":{backgroundColor:Object(b.c)(g.common.black,.13)},"&:focus":{backgroundColor:Object(b.c)(g.common.black,.13)},"&:focus-within":{backgroundColor:Object(b.c)(g.common.black,.13)}},inputBase:{background:Object(b.c)(g.common.black,.04),borderRadius:10,"&:hover":{background:Object(b.c)(g.common.black,.1)}},inputAdornmentStart:{color:g.text.hint}},RaMenuItemLink:{root:{borderLeft:"3px solid #fff"},active:{borderLeft:"3px solid #808080"}},RaMenuItemCategory:{root:{color:"#808080","&:hover":{color:"black",backgroundColor:m.a[200]}}},RaMenuItem:{root:{color:"#808080"}},RaMultiLevelMenu:{navWithCategories:{backgroundColor:"#fff"}},MuiPaper:{elevation1:{boxShadow:"none"},root:{border:"1px solid #e0e0e3",backgroundClip:"padding-box"}},MuiButton:{contained:{backgroundColor:"#fff",color:"#4f3cc9",boxShadow:"none"}},MuiAppBar:{root:{zIndex:9999},colorSecondary:{color:"#808080",backgroundColor:"#fff"}},MuiLinearProgress:{colorPrimary:{backgroundColor:"#f5f5f5"},barColorPrimary:{backgroundColor:"#d7d7d7"}},MuiFilledInput:{root:{backgroundColor:"rgba(0, 0, 0, 0.04)","&$disabled":{backgroundColor:"rgba(0, 0, 0, 0.04)"}}},RaSidebar:{drawerPaper:{paddingRight:16,width:"auto"}},RaFilterFormInput:{body:{"& > div":{marginTop:8}}},RaLinkedData:{root:{"&:hover":{backgroundColor:"#ddd"}}},RaTopToolbar:{root:{alignItems:"center",paddingTop:0}},RaListToolbar:{root:{alignItems:"center",paddingTop:0},actions:{alignItems:"center",minHeight:"auto",paddingTop:0},toolbar:{minHeight:"auto"}}}}},y={login:function(e){var t=e.username;return localStorage.setItem("username",t),Promise.resolve()},logout:function(){return localStorage.removeItem("username"),Promise.resolve()},checkError:function(){return Promise.resolve()},checkAuth:function(){return localStorage.getItem("username")?Promise.resolve():Promise.reject()},getPermissions:function(){return Promise.reject("Unknown method")},getIdentity:function(){return Promise.resolve({id:"demo",fullName:"Demo"})}},w=r(748),_=r(967),k=r(53),C=r(83),S=r(191),N=r(2108),T=r(275),P=r.n(T),R=r(37),q=r(24),A=r(63),D=r(981),I=function(e){return Object(a.jsx)("svg",Object(i.a)(Object(i.a)({width:234.532,height:20.475,viewBox:"0 0 62.053 5.417"},e),{},{children:Object(a.jsxs)("g",{"aria-label":"~Posters Galore~",style:{lineHeight:1.25},fontWeight:400,fontSize:7.056,fontFamily:"Permanent Marker",letterSpacing:0,wordSpacing:0,strokeWidth:.265,fill:"#4f3cc9",children:[Object(a.jsx)("path",{d:"M.227 3.659Q.124 3.652.062 3.61 0 3.562 0 3.486q0-.068.062-.124.041-.103.083-.165L.24 3.06q.07-.096.138-.193.069-.096.152-.193.04-.034.068-.048.076-.055.152-.103.076-.055.172-.09.173-.062.338-.062.165-.007.282 0 .097.007.18.02.09.008.151.022.103.048.165.09.07.04.131.096.076.04.118.09.048.04.082.089.02.027.083.09.062.061.151.061.083 0 .138-.075.062-.076.124-.131.055-.145.18-.22.055-.028.089-.035l.076-.014q.02-.007.041-.007l.035-.014.075-.007h.09q.117-.034.207-.034.103.007.165.055.062.041.062.117 0 .076-.062.124-.041.11-.09.172-.04.062-.09.131l-.137.193q-.069.097-.158.193-.028.035-.07.048-.068.056-.144.11-.076.049-.172.083-.18.062-.345.07-.158 0-.275-.008l-.186-.013q-.083-.014-.152-.028-.096-.048-.165-.09-.07-.04-.131-.09-.076-.047-.117-.089-.042-.048-.076-.096-.02-.028-.09-.09-.069-.069-.144-.062-.076.007-.145.083-.062.069-.124.124-.041.138-.172.22-.056.028-.097.035l-.069.014-.041.013q-.02 0-.035.007l-.075.007h-.09q-.117.035-.207.035zM4.417 3.225q.007-.028.027-.021.028 0 .048-.007-.055-.055-.068-.145-.014-.096-.07-.158.014-.035.021-.069.014-.034.062-.028-.02-.151.007-.282.028-.131.083-.248.062-.117.138-.228.082-.117.158-.234.062-.014.076.014.014.02.048-.014.11-.076.152-.165.041-.097.041-.207.062-.179.138-.351.083-.18.186-.331.103-.152.22-.262.118-.117.255-.179.097-.083.242-.152.151-.068.316-.103.173-.041.352-.041.179-.007.33.034.035.014.042-.014Q7.228 0 7.255 0q.345.041.614.138.275.096.468.269.131.206.248.447.117.235.18.496.068.255.061.531-.007.276-.117.551-.241.303-.585.49-.345.179-.745.303-.392.117-.82.193-.42.075-.82.165.007.186 0 .4-.006.206-.048.42-.034.207-.11.406-.069.2-.193.372-.138-.006-.29.028-.144.034-.261.069l-.11-.069q-.049-.028-.124-.034.02-.083-.042-.173-.055-.09-.117-.172-.055-.09-.076-.172-.013-.09.083-.159-.055-.048-.055-.151.028.027.069.027-.014-.124.027-.296.049-.172.076-.338.035-.172.014-.31-.02-.144-.165-.206zm1.791-1.613l-.048.138q-.014.055-.035.103-.02.049-.048.097l-.048.11q.014.042.055.062.041.02.055.062.097-.048.193-.069.097-.027.193-.041.096-.014.193-.035.096-.02.2-.068.103-.049.213-.076l.228-.07q.11-.034.213-.075.104-.048.18-.124-.097-.09-.29-.158-.193-.07-.42-.083-.22-.02-.448.028-.22.048-.386.2zM12.506 3.1q-.007.083.013.16.021.075.049.15.034.07.062.145.027.076.041.152.014.096 0 .214-.014.11-.048.22-.035.103-.09.193-.055.083-.13.124-.097.124-.235.193-.138.069-.255.165-.076.048-.172.07l-.186.04q-.076.042-.18.09l-.213.083q-.11.034-.22.055-.11.014-.193.007-.207.076-.407.096-.193.028-.455-.027-.248.034-.461-.021-.207-.055-.372-.172-.159-.124-.283-.29-.117-.172-.193-.358-.055-.393.028-.71.083-.323.234-.592.159-.276.358-.503.2-.234.386-.455.042.014.062 0 .028-.02.048-.048.021-.035.042-.062.027-.028.062-.035.048-.103.138-.151.096-.055.151-.152.062-.014.104-.041.04-.028.075-.062.042-.035.083-.062.041-.035.097-.048v-.076q.124-.055.179-.124l.144-.18q.062-.006.097-.006.041 0 .117-.014.055-.096.096-.145.049-.048.138-.103.083.041.18.055.103.014.178.09.007.069.042.11.034.034.076.069.041.027.075.062.042.034.056.096.027.007.034-.007.014-.013.041-.007.021.097.049.131.027.028.055.117-.035.07-.055.145-.014.07-.083.104-.007.048.027.055.035 0 .042.034.007.062-.02.09.164.268.295.572.131.296.297.565zm-.862.655q.028-.076.07-.124.048-.048.054-.145-.034-.055-.04-.082-.008-.035-.008-.104-.151-.213-.262-.454-.11-.248-.248-.462-.013.028-.048.055-.034.028-.076-.014-.013.055-.048.083-.034.02-.076.02-.041-.006-.09-.02-.04-.02-.075-.048-.2.158-.4.31-.2.151-.358.351-.028.014-.034.014-.007-.007-.042.007-.055.13-.138.241-.075.103-.151.214-.076.11-.131.234-.055.124-.062.29.117.096.276.116.158.021.323.007.173-.013.331-.041.165-.034.303-.034.29-.07.496-.18.207-.117.434-.234zM12.898 2.067q.049-.145.152-.248.11-.103.234-.172.131-.076.269-.124t.262-.083q.275-.117.585-.22.317-.11.641-.193.331-.083.676-.104.344-.027.723.083.02.069.062.13l.083.125q.048.062.082.124.035.055.042.117.069.062.11.138.041.069.014.186-.07.055-.138.103-.062.042-.138.076-.255-.062-.517-.041-.261.02-.468.034-.062-.062-.152-.062-.082 0-.179.028l-.186.055q-.09.027-.172.014-.07.055-.172.075-.097.014-.214.028-.007.034.014.048.02.007.007.042.041.048.103.068l.138.042q.076.02.13.055.056.027.076.096.104 0 .18.049.075.048.124.117.048.069.069.151.027.076.027.138.02.055.048.048.028-.007.062.028.021.09.104.186.082.09.13.2.014.172.021.31.007.13-.048.269-.103.254-.29.454-.178.2-.413.359-.227.151-.489.261-.262.11-.51.186-.027-.006-.055 0-.027.007-.014-.034-.055.048-.124.062-.062.014-.138.007-.075 0-.158-.007-.076-.007-.145.007-.048-.048-.09-.097-.034-.04-.054-.11-.035 0-.035-.034.007-.035-.02-.035.04-.069.034-.076 0-.013-.02-.02l-.028-.014q-.014-.014-.007-.034.027-.056.02-.124l-.013-.152q-.007-.076.007-.145.02-.069.103-.11.234.028.44-.014.215-.048.4-.13.187-.083.352-.18.172-.096.338-.172.02-.062.055-.103.041-.042.082-.076.042-.035.076-.076.035-.041.048-.103.007-.049-.027-.055-.028-.014-.028-.056l-.076-.02q-.13-.076-.296-.124-.165-.055-.282-.117-.076.04-.145.02-.062-.02-.165-.041-.235-.014-.455-.048-.214-.035-.414-.124-.013-.035-.034-.062-.02-.028-.076-.014-.041-.055-.082-.103-.042-.056-.076-.118.014-.082.02-.137.007-.062-.04-.118.027-.09.04-.144.014-.055 0-.145z"}),Object(a.jsx)("path",{d:"M19.988 1.853q-.172 0-.372.028-.2.02-.392.048-.138.02-.27.035-.123.013-.226.02-.049.152-.097.27-.048.116-.103.226-.055.118-.104.242-.041.117-.082.255-.07.11-.117.206-.042.09-.07.207-.082.103-.123.22-.042.11-.062.193l-.028.083q-.041.041-.048.069-.007.02-.035.041-.007.076-.048.152-.014.034-.02.069-.007.027-.007.041 0 .069-.035.09.007.034 0 .075l-.014.07q-.02.082-.013.13l.034.049q.02.02.028.055.04.027.062.034.027.02.082.048l.062.07q.035.199-.062.316-.103.131-.351.131h-.083q-.034-.034-.041-.055l-.09-.034q-.034-.014-.062-.056-.09-.04-.144-.068l-.062-.035v-.083q-.049-.062-.076-.137-.02-.076-.035-.152-.013-.062-.034-.117-.014-.055-.041-.097-.014-.4.075-.675.09-.275.186-.53l.11-.276q.056-.145.097-.296l.062-.07.076-.178.069-.152q.02-.048.034-.09l.035-.082q-.042 0-.076.007-.035 0-.069.007l-.076.013h-.069q-.048 0-.069-.006-.075.034-.165.034H17.019q-.014-.007-.028-.007-.069 0-.11.02h-.228q-.013 0-.034.008h-.034q-.049 0-.104-.007-.055-.014-.117-.048-.082-.11-.11-.118l-.062-.082q-.007-.042-.02-.076-.014-.041-.028-.09-.028-.069-.055-.144-.021-.083-.021-.193.007-.055.028-.083l.034-.048.02-.104.09.007h.193q.22 0 .448-.013l.469-.042.275-.027.296-.028q.028-.062.056-.117l.068-.034q.124-.007.173.034.055.034.09.069l.302-.028q.159-.02.317-.048.235-.034.469-.062.241-.027.462-.027.096 0 .186.006.09.007.165.021l.069.048q.02.042.055.076l.083.069q.082.076.165.18.083.103.062.302-.055.083-.083.097l-.062.082-.069-.006q-.04 0-.075.013-.035.007-.07.021l-.054.028-.062.013h-.104q-.034-.007-.076-.007z"}),Object(a.jsx)("path",{d:"M23.303 1.288q.007.049 0 .076 0 .02-.007.042v.048q0 .02.014.069-.145.234-.338.324-.186.082-.407.124-.22.034-.454.075-.228.042-.455.18-.09-.035-.166 0-.068.034-.206.02-.042.042-.104.062-.062.014-.124.035.028.062.021.13 0 .063.02.104.242.02.531-.007.297-.028.58-.034.006.034-.008.048-.014.007-.007.034.049.035.097.09l.096.096q.048.049.097.083.055.028.124.02.027.056.034.125.014.062-.014.13-.11.076-.22.159-.11.076-.234.138-.118.062-.255.103-.131.035-.297.028h-.055q-.014 0-.041-.02-.055.034-.159.02-.096-.014-.151.02-.076-.034-.186-.027-.104 0-.186-.028-.11.145-.2.31-.09.166-.159.352.235.034.386.027.159-.007.297-.02.137-.021.282-.035.145-.02.365-.014.138-.075.324-.096.193-.028.352-.083.055.021.096.076.041.048.076.097.041.04.082.075.042.035.104.028.027.027.034.069.014.034.02.069.008.034.022.062.02.02.062.013-.104.228-.242.352-.13.117-.303.179-.172.062-.386.096-.206.035-.461.083-.062.014-.104-.007-.04-.014-.096-.014-.158.035-.379.062-.22.028-.448.021-.227-.007-.434-.062-.207-.048-.338-.179-.055-.048-.075-.11-.014-.07-.09-.104-.007-.09-.027-.2l-.042-.227q-.02-.124-.034-.24-.007-.118.014-.215.02-.103.082-.186.07-.082.048-.179.035-.007.042-.034.007-.035.055-.028.041-.124.09-.234.048-.11.096-.214.055-.103.103-.206.055-.11.104-.241-.097-.09-.145-.193-.041-.11-.062-.214-.02-.11-.035-.22-.013-.118-.048-.235.07-.103.166-.165.103-.069.22-.11.117-.042.255-.07.138-.027.29-.061.275-.09.489-.138.22-.048.427-.076.213-.034.44-.062.228-.027.518-.083.062.062.117.062.027-.062.062-.034.041.02.034-.041.07.117.172.2.11.075.242.13zM24.185 4.451q-.076.276-.138.42-.055.138-.172.29-.09-.014-.125.02-.034.035-.075.062-.062.014-.09 0-.027-.013-.048-.034-.02-.014-.055-.034-.028-.014-.09-.014-.014-.055-.034-.104-.014-.048-.09-.034.014-.055.007-.09-.007-.041-.02-.069l-.014-.062q-.007-.034.007-.082-.035 0-.056-.048-.02-.049-.048-.097.02-.124.042-.234.02-.11.048-.207.034-.096.055-.193.02-.096-.02-.2.027.021.04-.007.014-.034.021-.082.007-.055.007-.104 0-.055-.007-.09.07-.178.11-.364.049-.193.083-.38.041-.185.083-.364.041-.18.11-.331.076-.014.165.02.097.028.118.076.179-.138.317-.33.137-.2.282-.386.145-.186.317-.331.18-.145.448-.172.138.103.303.213.172.104.282.276.056.027.09.062.041.028.097.062v.083q.082.075.13.179.056.096.097.213l.083.228q.04.11.096.213-.014.035-.014.062 0 .021.007.049.014.027.02.055.008.027 0 .076-.02.303-.199.489-.172.186-.42.31-.248.117-.53.2-.283.082-.51.179 0 .027.02.027.028 0 .02.035.166.103.262.165.097.062.18.103.09.042.186.076.103.028.282.07.18.04.276.068.103.02.186.041l.165.028.248.02q.062.063.104.152.048.083.062.172.013.083.006.166-.006.076-.048.124.007.02.028.02.027-.006.055 0-.041.028-.069.07l-.055.082q-.028.041-.062.069-.035.034-.097.041-.213.083-.537.007-.324-.069-.82-.262-.248-.096-.406-.165-.152-.076-.27-.145-.11-.075-.206-.158l-.22-.2zm.985-2.363q-.076.11-.172.2-.09.09-.18.186-.082.09-.151.206-.069.11-.097.262.242-.027.503-.13.262-.111.496-.208-.027-.213-.151-.344-.117-.13-.248-.172zM27.01 2.067q.048-.145.151-.248.11-.103.234-.172.131-.076.27-.124.137-.048.26-.083.277-.117.587-.22.317-.11.64-.193.331-.083.676-.104.344-.027.723.083.02.069.062.13l.083.125q.048.062.082.124.035.055.042.117.069.062.11.138.041.069.014.186-.07.055-.138.103-.062.042-.138.076-.255-.062-.517-.041-.261.02-.468.034-.062-.062-.152-.062-.082 0-.179.028l-.186.055q-.09.027-.172.014-.069.055-.172.075-.097.014-.214.028-.007.034.014.048.02.007.007.042.041.048.103.068l.138.042q.076.02.13.055.056.027.077.096.103 0 .179.049.076.048.124.117t.069.151q.027.076.027.138.02.055.048.048.028-.007.062.028.021.09.104.186.083.09.13.2.015.172.021.31.007.13-.048.269-.103.254-.29.454-.178.2-.413.359-.227.151-.489.261-.262.11-.51.186-.027-.006-.055 0-.027.007-.014-.034-.055.048-.124.062-.062.014-.137.007-.076 0-.159-.007-.076-.007-.145.007-.048-.048-.09-.097-.034-.04-.054-.11-.035 0-.035-.034.007-.035-.02-.035.04-.069.034-.076 0-.013-.02-.02l-.028-.014q-.014-.014-.007-.034.027-.056.02-.124l-.013-.152q-.007-.076.007-.145.02-.069.103-.11.234.028.441-.014.214-.048.4-.13.186-.083.351-.18.172-.096.338-.172.02-.062.055-.103.041-.042.082-.076.042-.035.076-.076.035-.041.048-.103.007-.049-.027-.055-.028-.014-.028-.056l-.075-.02q-.131-.076-.297-.124-.165-.055-.282-.117-.076.04-.145.02-.062-.02-.165-.041-.235-.014-.455-.048-.214-.035-.413-.124-.014-.035-.035-.062-.02-.028-.076-.014-.041-.055-.082-.103-.042-.056-.076-.118.014-.082.02-.137.007-.062-.04-.118.027-.09.04-.144.014-.055 0-.145zM32.797 3.535q0-.076.021-.138.02-.062.007-.159.213-.454.482-.84.276-.393.655-.69.062-.047.096-.096.042-.055.076-.103.041-.048.09-.083.048-.041.124-.055.172-.2.413-.365.241-.165.503-.317t.524-.31q.268-.159.482-.345.076.049.117.035.048-.02.097-.007.062.13.158.186.103.048.207.103.11.049.2.124.096.07.144.193-.048 0-.048.035.007.034.02.076.014.04.014.075 0 .035-.062.035 0 .048.049.048.048 0 .048.048 0 .042-.02.07-.015.02 0 .075-.166.11-.373.214l-.427.206q-.22.11-.455.241-.227.124-.455.29-.227.165-.461.365-.228.2-.441.427-.214.22-.4.462-.186.234-.317.461.014.035.035.062.027.028.041.063.262.013.49 0 .227-.021.454.027.028-.02.034-.055.007-.035.042-.048.468-.049.875-.152.406-.11.827-.22-.124-.049-.22-.076-.042-.041 0-.069.047-.034.075-.069-.11-.062-.186-.165-.069-.104-.083-.269.049-.041.049-.096 0-.056-.049-.09-.034-.014-.041 0l-.014.027q0 .014-.014.028-.007.014-.034 0 .007-.076.034-.124.028-.048.042-.117l.572-.38q.09.07.22.146.131.075.276.151.144.076.296.159.152.075.282.151.125.055.214.138.09.076.172.165l.166.166q.082.082.2.138-.014.11.013.179.028.069.014.165-.13.234-.317.4-.186.158-.42.275-.228.117-.49.2-.261.076-.537.152-.275.069-.558.151-.276.076-.544.18-.117 0-.2.006-.083.007-.159.021l-.151.028q-.076.013-.165.02-.035-.007-.049.014-.007.02-.027.035-.138.02-.248.02h-.186q-.097 0-.2.028-.104.027-.193.02-.62-.027-.972-.44-.351-.414-.385-1.137.006-.035-.014-.042-.02-.014-.035-.027z"}),Object(a.jsx)("path",{d:"M42.01 4.589q-.042.117-.125.241-.075.117-.186.214-.103.09-.234.151-.13.062-.275.07-.09-.022-.124-.05-.028-.02-.062-.04-.021-.014-.042-.021-.014-.014-.027-.02l-.083-.035.028-.09q.013-.055-.007-.083-.021-.034-.083-.09l-.041-.04q-.021-.021-.035-.042l-.117-.13.186-.049q.172-.048.227-.124.062-.076.049-.255-.138-.027-.235-.007-.09.02-.186.048-.124.035-.255.062-.124.021-.275.021h-.104l-.103-.014-.069-.013q-.014-.076-.027-.083l-.028-.028q-.034-.034-.076-.09-.034-.061-.013-.15-.035-.063-.042-.125-.041.083-.062.172l-.027.07-.07.013q-.013.007-.02.035-.007.02-.007.034l-.034.117-.028.028q-.014.007-.027.02-.014.062-.035.124-.02.062-.041.118-.035.09-.062.179-.02.082-.014.165l-.028.076q-.034.041-.075.069l-.083.041q-.014.014-.041.028l-.035.013-.02.076-.083.014-.11.02q-.028.008-.07.008l-.068-.007-.117-.097q-.042-.041-.097-.076-.062-.082-.069-.124l-.014-.075q-.013-.042-.013-.07-.007-.027-.021-.04l-.09-.083.076-.062.007-.117q.138-.352.29-.676l.323-.661q.056-.11.104-.22l.11-.221q-.007-.02-.007-.048t.014-.062q.076-.118.124-.207l.096-.193q.055-.117.11-.227.063-.11.152-.228l.11-.048.049-.014q.027-.014.062-.014l.103.014q.193-.09.338-.248.144-.165.296-.393l.069-.096.09.055q.034.02.096.041.062.014.13.035.125.027.235.062.11.034.18.103.04.11.047.166.007.055.021.11.02.117.035.234.02.117.027.262.035.117.055.234.028.11.048.228l.07.323q.034.152.089.29.055 0 .069.007.034-.014.069-.021l.09-.014.075-.007.028.07q.007.034.069.068.09.007.13.042.042.027.076.062.028.027.055.04l.104.042-.055.104q-.07.124-.2.24-.124.111-.283.187.007.041.007.082.007.035.02.076.022.117.035.241.014.124 0 .255zm-1.992-1.192q.207-.014.372-.028.173-.02.38-.062-.049-.206-.104-.427-.055-.227-.117-.448l-.042.07q-.137.144-.268.323-.124.18-.214.338l-.083.124q-.04.062-.075.124.041-.007.075-.007.042 0 .076-.007zM44.29 5.092q-.193.062-.42.124-.228.062-.455.062-.344 0-.544-.172-.035-.076-.062-.104l-.042-.055q-.013-.034-.02-.09-.083-.096-.131-.22-.048-.13-.07-.262-.013-.138-.006-.275.014-.138.048-.262.014-.028.014-.055l.014-.062q.027-.11.055-.214.034-.103.09-.179-.028-.062 0-.138.027-.076.061-.138.097-.261.159-.44.069-.187.138-.366.117-.31.22-.613.104-.303.186-.655.055-.034.083-.048.041-.014.069-.02.124.062.29.124.165.055.275.055.055.034.069.055l.027.027q.076.09.131.186.055.09.035.242-.042.062-.062.062-.035.137-.076.234-.035.096-.076.193-.048.103-.09.206-.04.104-.068.255-.028.035-.042.062-.007.028-.02.062-.014.035-.035.076-.014.035-.048.062-.02.18-.069.29-.041.11-.09.22-.082.2-.151.4-.062.2-.076.454.035-.013.062-.013h.062q.062 0 .145.02.207-.11.448-.13.248-.021.489-.028H45q.096 0 .179-.014.062.035.076.041h.055q.048 0 .083.007.082.076.158.11.076.035.159.063.075.027.144.062.076.027.145.082l.048.297q.048.062.041.082 0 .055-.027.083l.014.076q-.104.02-.145.048-.034.027-.069.062-.055.007-.083.007h-.04q-.097 0-.235.034-.186-.062-.386-.062-.076 0-.159.007l-.165.014q-.083.014-.172.02-.083.008-.172.008zM50.25 3.1q-.007.083.014.16.02.075.048.15.035.07.062.145.028.076.041.152.014.096 0 .214-.013.11-.048.22-.034.103-.09.193-.054.083-.13.124-.097.124-.235.193-.137.069-.254.165-.076.048-.173.07l-.186.04q-.076.042-.179.09l-.213.083q-.11.034-.221.055-.11.014-.193.007-.207.076-.406.096-.193.028-.455-.027-.248.034-.462-.021-.207-.055-.372-.172-.158-.124-.282-.29-.118-.172-.193-.358-.055-.393.027-.71.083-.323.235-.592.158-.276.358-.503.2-.234.386-.455.041.014.062 0 .027-.02.048-.048.02-.035.041-.062.028-.028.062-.035.048-.103.138-.151.097-.055.152-.152.062-.014.103-.041.041-.028.076-.062.041-.035.082-.062.042-.035.097-.048v-.076q.124-.055.18-.124l.144-.18q.062-.006.096-.006.042 0 .117-.014.056-.096.097-.145.048-.048.138-.103.082.041.179.055.103.014.179.09.007.069.041.11.035.034.076.069.041.027.076.062.041.034.055.096.028.007.034-.007.014-.013.042-.007.02.097.048.131.028.028.055.117-.034.07-.055.145-.014.07-.083.104-.007.048.028.055.034 0 .041.034.007.062-.02.09.165.268.296.572.13.296.296.565zm-.861.655q.027-.076.069-.124.048-.048.055-.145-.035-.055-.041-.082-.007-.035-.007-.104-.152-.213-.262-.454-.11-.248-.248-.462-.014.028-.048.055-.035.028-.076-.014-.014.055-.048.083-.035.02-.076.02-.042-.006-.09-.02-.041-.02-.076-.048-.2.158-.4.31-.2.151-.358.351-.027.014-.034.014-.007-.007-.041.007-.055.13-.138.241-.076.103-.152.214-.076.11-.13.234-.056.124-.063.29.118.096.276.116.158.021.324.007.172-.013.33-.041.166-.034.304-.034.29-.07.496-.18.207-.117.434-.234zM51.78 4.451q-.076.276-.138.42-.055.138-.172.29-.09-.014-.124.02-.035.035-.076.062-.062.014-.09 0-.027-.013-.048-.034-.02-.014-.055-.034-.028-.014-.09-.014-.013-.055-.034-.104-.014-.048-.09-.034.014-.055.007-.09-.007-.041-.02-.069l-.014-.062q-.007-.034.007-.082-.034 0-.055-.048-.02-.049-.048-.097.02-.124.04-.234.022-.11.05-.207.034-.096.054-.193.02-.096-.02-.2.027.021.04-.007.015-.034.022-.082.007-.055.007-.104 0-.055-.007-.09.068-.178.11-.364.048-.193.082-.38l.083-.364q.041-.18.11-.331.076-.014.166.02.096.028.117.076.179-.138.317-.33.138-.2.282-.386.145-.186.317-.331.18-.145.448-.172.138.103.303.213.173.104.283.276.055.027.09.062.04.028.096.062v.083q.083.075.13.179.056.096.097.213.042.11.083.228.041.11.097.213-.014.035-.014.062 0 .021.007.049.014.027.02.055.007.027 0 .076-.02.303-.2.489-.172.186-.42.31-.248.117-.53.2-.283.082-.51.179 0 .027.02.027.028 0 .021.035.166.103.262.165.097.062.18.103.089.042.185.076.104.028.283.07.179.04.275.068.104.02.186.041l.166.028.248.02q.062.063.103.152.048.083.062.172.014.083.007.166-.007.076-.048.124.007.02.028.02.027-.006.055 0-.042.028-.07.07l-.054.082q-.028.041-.062.069-.035.034-.097.041-.213.083-.537.007-.324-.069-.82-.262-.248-.096-.407-.165-.151-.076-.268-.145-.11-.075-.207-.158l-.22-.2zm.985-2.363q-.076.11-.172.2-.09.09-.18.186-.082.09-.15.206-.07.11-.097.262.24-.027.503-.13.261-.111.496-.208-.028-.213-.152-.344-.117-.13-.248-.172zM58.332 1.288q.007.049 0 .076 0 .02-.007.042v.048q0 .02.014.069-.145.234-.337.324-.186.082-.407.124-.22.034-.455.075-.227.042-.454.18-.09-.035-.166 0-.069.034-.207.02-.04.042-.103.062-.062.014-.124.035.028.062.02.13 0 .063.021.104.242.02.531-.007.296-.028.579-.034.007.034-.007.048-.014.007-.007.034.048.035.096.09l.097.096q.048.049.096.083.055.028.124.02.028.056.035.125.014.062-.014.13-.11.076-.22.159-.11.076-.235.138-.117.062-.255.103-.13.035-.296.028h-.055q-.014 0-.041-.02-.056.034-.159.02-.096-.014-.152.02-.075-.034-.186-.027-.103 0-.186-.028-.11.145-.2.31-.089.166-.158.352.234.034.386.027.158-.007.296-.02.138-.021.283-.035.144-.02.365-.014.138-.075.324-.096.193-.028.351-.083.055.021.097.076.041.048.075.097.042.04.083.075.041.035.104.028.027.027.034.069.014.034.02.069.008.034.021.062.021.02.062.013-.103.228-.24.352-.132.117-.304.179-.172.062-.386.096-.206.035-.461.083-.062.014-.104-.007-.041-.014-.096-.014-.159.035-.38.062-.22.028-.447.021-.227-.007-.434-.062-.207-.048-.338-.179-.055-.048-.076-.11-.013-.07-.09-.104-.006-.09-.027-.2l-.041-.227q-.02-.124-.035-.24-.007-.118.014-.215.02-.103.083-.186.069-.082.048-.179.035-.007.041-.034.007-.035.056-.028.04-.124.09-.234.047-.11.096-.214.055-.103.103-.206.055-.11.103-.241-.096-.09-.144-.193-.042-.11-.062-.214-.021-.11-.035-.22-.014-.118-.048-.235.069-.103.165-.165.104-.069.22-.11.118-.042.256-.07.138-.027.29-.061.275-.09.488-.138.22-.048.427-.076.214-.034.441-.062.228-.027.517-.083.062.062.117.062.028-.062.062-.034.042.02.035-.041.069.117.172.2.11.075.241.13zM58.394 3.659q-.103-.007-.165-.049-.062-.048-.062-.124 0-.068.062-.124.041-.103.083-.165l.096-.138q.07-.096.138-.193.069-.096.152-.193.04-.034.068-.048.076-.055.152-.103.076-.055.172-.09.173-.062.338-.062.165-.007.282 0 .097.007.18.02.09.008.151.022.104.048.166.09.068.04.13.096.076.04.118.09.048.04.082.089.021.027.083.09.062.061.152.061.082 0 .137-.075.062-.076.124-.131.056-.145.18-.22.055-.028.09-.035l.075-.014q.02-.007.041-.007.021-.007.035-.014l.076-.007h.09q.116-.034.206-.034.103.007.165.055.062.041.062.117 0 .076-.062.124-.041.11-.09.172-.04.062-.089.131l-.138.193q-.069.097-.158.193-.028.035-.07.048-.068.056-.144.11-.076.049-.172.083-.18.062-.345.07-.158 0-.275-.008l-.186-.013q-.083-.014-.152-.028-.096-.048-.165-.09-.07-.04-.131-.09-.076-.047-.117-.089-.042-.048-.076-.096-.02-.028-.09-.09-.069-.069-.144-.062-.076.007-.145.083-.062.069-.124.124-.041.138-.172.22-.055.028-.097.035l-.069.014-.041.013q-.02 0-.035.007l-.075.007h-.09q-.117.035-.207.035z"})]})}))},L=Object(C.a)((function(e){return{root:{position:"relative"},title:{flex:1,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",paddingLeft:e.spacing(1)},logo:{padding:e.spacing(0,2)}}})),B=function(e){var t=L(),r=Object(R.h)(),c=Object(D.a)((function(e){return e.breakpoints.down("xs")})),n=Object(w.a)({type:"getList",resource:"tours",payload:{filter:{playedOn:null}}}).data,s=0;return n&&(s=n.length),Object(a.jsx)(_.a,Object(i.a)(Object(i.a)({},e),{},{elevation:1,children:c?Object(a.jsxs)(a.Fragment,{children:["/"===r.pathname&&Object(a.jsx)(I,{className:t.logo}),Object(a.jsx)(k.a,{variant:"h6",color:"inherit",className:t.title,id:"react-admin-title"})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(I,{className:t.logo}),Object(a.jsx)(k.a,{variant:"h6",color:"inherit",className:t.title,id:"react-admin-title"}),Object(a.jsx)(Vs,{}),Object(a.jsx)(S.a,{to:"/tours",component:q.a,color:"inherit",children:Object(a.jsx)(N.a,{badgeContent:s,color:"error",variant:"dot",children:Object(a.jsx)(P.a,{})})}),Object(a.jsx)(A.g,{}),Object(a.jsx)(A.b,{languages:[{locale:"en",name:"English"},{locale:"fr",name:"Fran\xe7ais"}],defaultLanguage:"English"})]})}))},M=r(15),F=r(49),z=r(337),U=Object(C.a)((function(e){return{root:{paddingTop:e.spacing(1),fontSize:"small",maxWidth:"700px",zIndex:1,"& a":{pointerEvents:"visible"}}}})),E=function(e){var t=U(),r=Object(F.a)(),c=r("ra.action.edit"),n=r("ra.action.create");return Object(a.jsxs)(M.b,Object(i.a)(Object(i.a)({className:t.root},e),{},{children:[Object(a.jsx)(M.h,{resources:["stores","tours"]}),Object(a.jsxs)(M.c,{name:"catalog",label:r("pos.menu.catalog",1),children:[Object(a.jsxs)(M.c,{name:"products",label:r("resources.products.name",2),to:"/products",children:[Object(a.jsx)(M.c,{name:"edit",label:function(e){var t=e.record;return"".concat(c," ").concat(t?'"'.concat(t.reference,'"'):"...")},to:function(e){var t=e.record;return t?"".concat(Object(z.a)("/products",t.id),"/edit"):""}}),Object(a.jsx)(M.c,{name:"create",label:n,to:"/products/create"})]}),Object(a.jsx)(M.c,{name:"categories",label:r("resources.categories.name",2),children:Object(a.jsx)(M.c,{name:"edit",label:function(e){var t=e.record;return"".concat(c," ").concat(t?'"'.concat(t.name,'"'):"...")}})})]}),Object(a.jsx)(M.c,{name:"reviews",label:r("resources.reviews.name",2),to:"/reviews?filter={}",children:Object(a.jsx)(M.c,{name:"status_filter",label:function(e){var t=e.status;return"".concat(r("pos.filter"),' status "').concat(r("pos.reviews.".concat(t)),'"')}})}),Object(a.jsxs)(M.c,{name:"sales",label:r("pos.menu.sales",1),children:[Object(a.jsx)(M.c,{name:"commands",label:r("resources.commands.name",2),to:"/commands",children:Object(a.jsx)(M.c,{name:"edit",label:function(e){var t=e.record;return"".concat(c," ").concat(t?'"'.concat(t.reference,'"'):"...")},to:function(e){var t=e.record;return t?"".concat(Object(z.a)("/products",t.id),"/edit"):""}})}),Object(a.jsx)(M.c,{name:"invoices",label:r("resources.invoices.name",2),to:"/invoices"})]}),Object(a.jsxs)(M.c,{name:"customers",label:r("resources.customers.name",2),to:"/customers",children:[Object(a.jsx)(M.c,{name:"edit",label:function(e){var t=e.record;return"".concat(c," ").concat(t?'"'.concat(t.first_name," ").concat(t.last_name,'"'):"...")},to:function(e){var t=e.record;return t?"".concat(Object(z.a)("/customers",t.id),"/edit"):""}}),Object(a.jsx)(M.c,{name:"create",label:n,to:"/customers/create"})]})]}))},V=r(35),W=r(11),H=r(108),J=r(213),G=r.n(J),K=r(465),Y=r.n(K),Q=r(462),X=r.n(Q),Z=r(463),$=r.n(Z),ee=r(464),te=r.n(ee),re=r(77),ae=r.n(re),ce=r(9),ne=r(2026),se=r(989),oe=r(88),ie=r.n(oe),le=r(242),de=r(2028),ue=r(615),je=r(2100),be=r(2015),me=r(925),Oe=r.n(me),pe=r(2164),he=r(2159),fe=r(341),xe=r(342),ge=r(2178),ve=function(e){var t=e.save,r=void 0===t?function(){}:t,a=e.record,n=void 0===a?{}:a;return Object(c.useEffect)((function(){var e=window.prompt("Category",n.name);r(Object(i.a)(Object(i.a)({},n),{},{name:e,children:[],isRoot:!0}))}),[]),null},ye=function(e){var t=Object(fe.a)(),r=Object(xe.a)();return Object(a.jsx)(ge.a,Object(i.a)(Object(i.a)({},e),{},{onSuccess:function(){r(e.basePath),t()},children:Object(a.jsx)(ve,{label:"Category name"})}))},we=r(2168),_e=r(272),ke=r(403),Ce=r(601),Se=r(2161),Ne=r(47),Te=r(2036),Pe=r(2135),Re=r(2160),qe=r(2121),Ae=r(2136),De=r(211),Ie=r(2174),Le=r(2035),Be=r(2172),Me=r(2137),Fe=r(980),ze=r(131),Ue=r(968),Ee=r(2130),Ve=r(2131),We=r(2132),He=r(2031),Je=r(2133),Ge=r(2129),Ke=function(e){var t=e.lock,r=Object(Ne.a)(e,["lock"]),c=Ye(),n=Object(F.a)();return Object(a.jsxs)("div",Object(i.a)(Object(i.a)({className:c.root},r),{},{children:[Object(a.jsx)(Ge.a,{}),Object(a.jsx)("div",{className:c.identity,children:Object(a.jsx)(k.a,{variant:"body1",color:"inherit",children:n("resources.locks.overlay",{name:t.identity})})})]}))},Ye=Object(C.a)((function(e){return{root:{top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.9)",position:"absolute",textAlign:"center",color:e.palette.common.white,padding:"25% 0"},identity:{paddingTop:"1em"}}})),Qe=Object(C.a)((function(e){return{gridList:{margin:0},tile:{position:"relative"},tileBar:{background:"linear-gradient(to top, rgba(0,0,0,0.8) 0%,rgba(0,0,0,0.4) 70%,rgba(0,0,0,0) 100%)"},placeholder:{backgroundColor:e.palette.grey[300],height:"100%"},price:{display:"inline",fontSize:"1em"},link:{color:"#fff"}}})),Xe=function(e){return"xs"===e?2:"sm"===e?3:"md"===e?4:"lg"===e?5:6},Ze=function(e){var t,r,c=e.width,n=e.nbItems,s=void 0===n?20:n,o=Qe();return Object(a.jsx)(Ee.a,{cellHeight:180,cols:Xe(c),className:o.gridList,children:(t=s,r=function(e){return Object(a.jsx)(Ve.a,{children:Object(a.jsx)("div",{className:o.placeholder})},e)},Array.from({length:t},(function(e,t){return r(t)})))})},$e=function(e){var t=e.record,r=Qe();return Object(a.jsx)(We.a,{className:r.tileBar,title:null===t||void 0===t?void 0:t.reference,subtitle:Object(a.jsxs)("span",{children:[null===t||void 0===t?void 0:t.width,"x",null===t||void 0===t?void 0:t.height,","," ",Object(a.jsx)(Je.a,{className:r.price,source:"price",record:t,color:"inherit",options:{style:"currency",currency:"USD"}})]})})},et=function(e){var t=e.width,r=Object(Fe.a)(),n=r.ids,s=r.data,o=r.resource,i=Object(H.e)(o).data,l=Qe(),d=c.useRef();return n&&s?Object(a.jsx)(Ee.a,{cellHeight:180,cols:Xe(t),className:l.gridList,"data-tour-id":"grid-line",children:n.map((function(e){var t=i.find((function(t){return t.recordId===e}));t&&!d.current&&(d.current=t.recordId);var r=d.current===e;return Object(a.jsxs)(Ve.a,{component:t?"span":q.a,to:Object(z.a)("/products",e),className:l.tile,"data-productid":e,"data-lockidentity":t?t.identity:void 0,"data-testid":r?"productlocktile":void 0,children:[Object(a.jsx)("img",{src:s[e].thumbnail,alt:""}),Object(a.jsx)($e,{record:s[e]}),t&&Object(a.jsx)(Ke,{lock:t})]},e)}))}):null},tt=Object(He.a)()((function(e){var t=e.width;return Object(Fe.a)().loaded?Object(a.jsx)(et,{width:t}):Object(a.jsx)(Ze,{width:t})})),rt=r(2098),at=r(454),ct=r.n(at),nt=r(917),st=r.n(nt),ot=r(214),it=r.n(ot),lt=r(987),dt=r(2123),ut=r(2119),jt=r(2120),bt=r(2134),mt=r(2169),Ot=r(965),pt=Object(C.a)((function(e){var t;return{root:(t={},Object(j.a)(t,e.breakpoints.up("sm"),{width:"15em",marginRight:"1em",overflow:"initial"}),Object(j.a)(t,e.breakpoints.down("sm"),{display:"none"}),t)}})),ht=function(e){var t=Object(lt.a)(e),r=t.setFilters,c=t.filterValues,n=t.displayedFilters,s=Object(bt.a)("categories").data,o=s?Object(mt.a)(s,"name"):void 0,l=c.category_id?[c.category_id.toString()]:o?[o[0].key]:void 0,d=void 0!==c.category_id?[c.category_id.toString()]:[],u=pt();return Object(a.jsx)(rt.a,{className:u.root,children:Object(a.jsxs)(ne.a,{children:[Object(a.jsx)(dt.a,{}),Object(a.jsx)(A.d,{}),Object(a.jsxs)(ut.a,{label:"resources.products.filters.sales",icon:Object(a.jsx)(it.a,{}),children:[Object(a.jsx)(jt.a,{label:"resources.products.filters.best_sellers",value:{sales_lte:void 0,sales_gt:25,sales:void 0}}),Object(a.jsx)(jt.a,{label:"resources.products.filters.average_sellers",value:{sales_lte:25,sales_gt:10,sales:void 0}}),Object(a.jsx)(jt.a,{label:"resources.products.filters.low_sellers",value:{sales_lte:10,sales_gt:0,sales:void 0}}),Object(a.jsx)(jt.a,{label:"resources.products.filters.never_sold",value:{sales_lte:void 0,sales_gt:void 0,sales:0}})]}),Object(a.jsxs)(ut.a,{label:"resources.products.filters.stock",icon:Object(a.jsx)(st.a,{}),children:[Object(a.jsx)(jt.a,{label:"resources.products.filters.no_stock",value:{stock_lt:void 0,stock_gt:void 0,stock:0}}),Object(a.jsx)(jt.a,{label:"resources.products.filters.low_stock",value:{stock_lt:10,stock_gt:0,stock:void 0}}),Object(a.jsx)(jt.a,{label:"resources.products.filters.average_stock",value:{stock_lt:50,stock_gt:9,stock:void 0}}),Object(a.jsx)(jt.a,{label:"resources.products.filters.enough_stock",value:{stock_lt:void 0,stock_gt:49,stock:void 0}})]}),Object(a.jsx)(ut.a,{label:"resources.products.filters.categories",icon:Object(a.jsx)(ct.a,{}),children:Object(a.jsx)(Ot.a,{treeData:o?o[0].children:[],onSelect:function(e,t){var a=t.selectedNodes,s=Object(V.a)(a,1)[0].id;r(Object(i.a)(Object(i.a)({},c),{},{category_id:s}),n)},defaultSelectedKeys:d,defaultExpandedKeys:l,autoExpandParent:!0},Math.random())})]})})},ft=Object(C.a)((function(e){return{root:{marginBottom:e.spacing(3)}}})),xt=function(e){var t=e.label,r=Object(F.a)(),c=ft();return Object(a.jsx)(Te.a,{className:c.root,label:r(t)})},gt=function(e){return Object(a.jsxs)(A.a,Object(i.a)(Object(i.a)({},e),{},{children:[Object(a.jsx)(Pe.a,{source:"q",alwaysOn:!0}),Object(a.jsx)(Re.a,{source:"category_id",reference:"categories",sort:{field:"id",order:"ASC"},children:Object(a.jsx)(qe.a,{source:"name"})}),Object(a.jsx)(Ae.a,{source:"width_gte"}),Object(a.jsx)(Ae.a,{source:"width_lte"}),Object(a.jsx)(Ae.a,{source:"height_gte"}),Object(a.jsx)(Ae.a,{source:"height_lte"}),Object(a.jsx)(xt,{label:"resources.products.fields.stock_lte",source:"stock_lte",defaultValue:10})]}))},vt=function(e){var t=e.isSmall,r=yt();return Object(a.jsxs)(De.a,{className:r.root,children:[Object(a.jsx)(E,{variant:"actions"}),t&&Object(a.jsx)(gt,{context:"button"}),Object(a.jsx)(Ie.a,{fields:["reference","sales","stock"]}),Object(a.jsx)(Le.a,{basePath:"/products"}),Object(a.jsx)(Be.a,{})]})},yt=Object(C.a)((function(e){return{root:{paddingBottom:0,paddingTop:e.spacing(7)}}})),wt=function(e){var t=e.isSmall,r=e.actions,c=void 0===r?Object(a.jsx)(vt,{isSmall:t}):r,n=e.aside,s=e.title,o=Object(Fe.a)().defaultTitle,i=kt();return Object(a.jsxs)("div",{className:i.root,children:[Object(a.jsx)(ze.b,{title:s||o}),c,t&&Object(a.jsx)(se.a,{m:1,children:Object(a.jsx)(gt,{context:"form"})}),Object(a.jsxs)(se.a,{display:"flex",children:[!1!==n?Object(a.jsx)(ht,{}):null,Object(a.jsxs)(se.a,{width:t||!1===n?"auto":"calc(100% - 16em)",children:[Object(a.jsx)(tt,{}),Object(a.jsx)(Ue.a,{rowsPerPageOptions:[10,20,40]})]})]})]})},_t=function(e){var t=e.actions,r=Object(Ne.a)(e,["actions"]);Object(M.l)("catalog.products");var c=Object(D.a)((function(e){return e.breakpoints.down("sm")}));return Object(a.jsx)(Me.a,Object(i.a)(Object(i.a)({filters:c?Object(a.jsx)(gt,{}):void 0,perPage:20,sort:{field:"reference",order:"ASC"}},r),{},{children:Object(a.jsx)(wt,{actions:t,isSmall:c,aside:r.aside,title:r.title})}))},kt=Object(C.a)((function(e){return{root:{marginTop:-e.spacing(7)}}})),Ct=function(e){var t,r,c=Object(M.k)(),n=Object(V.a)(c,2)[1];return"5"==(null===(t=e.record)||void 0===t?void 0:t.id.toString())?n("catalog.categories"):n("catalog.categories.edit",e),Object(a.jsx)("span",{children:null===(r=e.record)||void 0===r?void 0:r.name})},St=function(e){var t=e.id,r=Object(ke.a)("products",{page:1,perPage:25},{field:"reference",order:"ASC"},{category_id:t}),c=r.data,n=r.ids,s=r.total,o=r.loaded;return Object(a.jsx)(Ce.a,{value:{data:c,ids:n,total:s,loaded:o,resource:"products",filterValues:{},showFilter:function(){},hideFilter:function(){},setSort:function(){},currentSort:{field:"reference",order:"ASC"},page:1,perPage:25},children:Object(a.jsx)(wt,{isSmall:!1,aside:!1,actions:!1})})},Nt=function(e){var t=Object(F.a)(),r=Tt();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(we.a,Object(i.a)(Object(i.a)({title:Object(a.jsx)(Ct,{})},e),{},{children:Object(a.jsx)(Se.a,{children:Object(a.jsx)(_e.a,{source:"name"})})})),Object(a.jsx)(k.a,{className:r.subtitle,variant:"h5",children:t("resources.products.name",{smart_count:2})}),Object(a.jsx)(St,Object(i.a)({},e))]})},Tt=Object(C.a)((function(e){return{subtitle:{marginTop:e.spacing(6)}}})),Pt={list:function(e){Object(M.l)("catalog.categories");var t=Object(pe.a)({resource:e.resource,titleField:"name"}).handleExpand;return Object(c.useEffect)((function(){t(["5"])}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(E,{}),Object(a.jsx)(he.a,Object(i.a)({create:ye,edit:Nt,titleField:"name",draggable:!0,allowMultipleRoots:!0,defaultSelectedKeys:["5"]},e))]})},icon:Oe.a},Rt=r(273),qt=r.n(Rt),At=r(2142),Dt=r(2143),It=r(2128),Lt=r(2144),Bt=r(2155),Mt=r(61),Ft=r(483),zt=r(5),Ut=r.n(zt),Et=r(2140),Vt=r(420),Wt=r.n(Vt),Ht=r(926),Jt=r.n(Ht),Gt=r(974),Kt=r(458),Yt=r.n(Kt),Qt=Object(C.a)({root:{paddingBottom:0},menuPaper:{padding:"1rem 0"},menuList:{"&> * > *":{padding:"0 2rem"}},toolContainer:{margin:"20px 0","&:first-child":{marginTop:0},"&:last-child":{marginBottom:0}},columnsList:{maxHeight:"250px",overflowY:"auto",margin:0,background:"#eee"}}),Xt=Object(c.forwardRef)((function(e,t){var r=e.children,c=Qt();return Object(a.jsx)("div",{ref:t,className:c.toolContainer,children:r})}));Xt.displayName="ToolContainer";var Zt=function(e){var t=e.preferenceKey,r=e.defaultColumns,n=Qt(),s=Object(c.useRef)(null);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(k.a,{variant:"overline",gutterBottom:!0,component:"div",ref:s,children:"Columns to display"},"columns-selector-tool-title"),Object(a.jsx)(A.e,{preference:t,columns:r,className:n.columnsList},"columns-selector-tool-menu")]})},$t=function(e){var t=e.view,r=e.setView;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(k.a,{variant:"overline",gutterBottom:!0,component:"div",children:"Layout"},"view-selector-tool-title"),Object(a.jsxs)(Et.a,{children:[Object(a.jsx)(Mt.a,{color:"table"===t?"primary":"default",onClick:function(){return r("table")},label:"table",children:Object(a.jsx)(Wt.a,{})}),Object(a.jsx)(Mt.a,{color:"grid"===t?"primary":"default",onClick:function(){return r("grid")},label:"grid",children:Object(a.jsx)(Jt.a,{})})]},"view-selector-tool-menu")]})},er=function(e){var t=e.className,r=e.defaultColumns,s=e.filters,o=e.hasColumnsSelector,l=(e.hasList,e.hasShow,e.hasViewSelector),d=e.maxResults,u=e.permanentFilter,j=e.preferenceKey,b=e.setView,m=e.view,O=Object(Ne.a)(e,["className","defaultColumns","filters","hasColumnsSelector","hasList","hasShow","hasViewSelector","maxResults","permanentFilter","preferenceKey","setView","view"]),p=n.a.useState(null),h=Object(V.a)(p,2),f=h[0],x=h[1],g=Qt(),v=Boolean(f),y=Object(Fe.a)(),w=y.basePath,_=y.currentSort,k=y.displayedFilters,C=y.exporter,N=y.filterValues,T=y.resource,P=y.showFilter,R=y.total,q=o||l;return Object(a.jsxs)(De.a,Object(i.a)(Object(i.a)({className:Ut()(t,g.root)},Object(Ft.c)(O)),{},{children:[Object(a.jsx)(E,{variant:"actions"}),s&&Object(c.cloneElement)(s,{resource:T,showFilter:P,displayedFilters:k,filterValues:N,context:"button"}),Object(a.jsx)(Le.a,{basePath:w}),C&&Object(a.jsx)(Be.a,{disabled:0===R,resource:T,sort:_,filterValues:Object(i.a)(Object(i.a)({},N),u),exporter:C,maxResults:d}),q&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(S.a,{"aria-label":"more","aria-controls":"user-preference-menu","aria-haspopup":"true",onClick:function(e){x(e.currentTarget)},size:"small",children:Object(a.jsx)(Yt.a,{})}),Object(a.jsxs)(Gt.a,{id:"user-preference-menu",anchorEl:f,keepMounted:!0,open:v,onClose:function(){x(null)},classes:{paper:g.menuPaper,list:g.menuList},children:[l&&Object(a.jsx)(Xt,{children:Object(a.jsx)($t,{view:m,setView:b})}),o&&Object(a.jsx)(Xt,{children:Object(a.jsx)(Zt,{preferenceKey:j,defaultColumns:r})})]})]})]}))},tr=function(e){var t=e.className,r=e.preferenceKey,n=e.hasColumnsSelector,s=void 0===n||n,o=e.defaultColumns,l=void 0===o?{}:o,u=e.defaultOmittedColumns,j=void 0===u?[]:u,b=e.hasViewSelector,m=void 0===b||b,O=e.defaultView,p=void 0===O?"small":O,h=(e.syncWithLocation,e.children),f=Object(Ne.a)(e,["className","preferenceKey","hasColumnsSelector","defaultColumns","defaultOmittedColumns","hasViewSelector","defaultView","syncWithLocation","children"]),x=Object(A.j)({preferences:"".concat(r,".columns"),columns:l,omit:j}),g=Object(A.h)("".concat(r,".view"),p),v=Object(V.a)(g,2),y=v[0],w=v[1],_=Object(c.useMemo)((function(){return h(Object(i.a)(Object(i.a)({},f),{},{columns:x,view:y}))}),[x,y,h,f]);return Object(a.jsx)(d.g,Object(i.a)(Object(i.a)({},f),{},{className:t,actions:Object(a.jsx)(er,{preferenceKey:"".concat(r,".columns"),hasColumnsSelector:s,defaultColumns:l,hasViewSelector:m,view:y,setView:w}),children:_}))},rr=[{id:"compulsive",name:"resources.segments.data.compulsive"},{id:"collector",name:"resources.segments.data.collector"},{id:"ordered_once",name:"resources.segments.data.ordered_once"},{id:"regular",name:"resources.segments.data.regular"},{id:"returns",name:"resources.segments.data.returns"},{id:"reviewer",name:"resources.segments.data.reviewer"}],ar=Object(C.a)({main:{display:"flex",flexWrap:"wrap",marginTop:-8,marginBottom:-8},chip:{margin:4}}),cr=function(e){var t=e.record,r=Object(F.a)(),c=ar();return t?Object(a.jsx)("span",{className:c.main,children:t.groups&&t.groups.map((function(e){var t=rr.find((function(t){return t.id===e}));return t?Object(a.jsx)(Te.a,{className:c.chip,label:r(t.name)},t.id):null}))}):null};cr.defaultProps={addLabel:!0,source:"groups"};var nr=cr,sr=Object(C.a)({input:{width:150}}),or=function(e){var t=Object(F.a)(),r=sr();return Object(a.jsx)(qe.a,Object(i.a)(Object(i.a)({},e),{},{choices:rr.map((function(e){return{id:e.id,name:t(e.name)}})),className:r.input}))};or.defaultProps={source:"groups"};var ir=or,lr=r(910),dr=r(927),ur=r.n(dr),jr=r(2173),br=function(e){var t=e.record,r=e.size,c=void 0===r?"25":r,n=e.className;return t?Object(a.jsx)(jr.a,{src:"".concat(t.avatar,"?size=").concat(c,"x").concat(c),style:{width:parseInt(c,10),height:parseInt(c,10)},className:n}):null},mr=Object(C.a)((function(e){return{root:{display:"flex",flexWrap:"nowrap",alignItems:"center"},avatar:{marginRight:e.spacing(1)}}})),Or=ur()((function(e){var t=e.record,r=e.size,c=mr();return t?Object(a.jsxs)("div",{className:c.root,children:[Object(a.jsx)(br,{className:c.avatar,record:t,size:r}),t.first_name," ",t.last_name]}):null}));Or.defaultProps={source:"last_name",label:"resources.customers.fields.name"};var pr=Or,hr=function(e){return e.record?Object(a.jsx)(lr.a,{to:"/customers/".concat(e.record.id),children:Object(a.jsx)(pr,Object(i.a)({},e))}):null};hr.defaultProps={source:"customer_id",addLabel:!0};var fr=hr,xr=function(e){return e.record&&e.source?e.record[e.source]>500?Object(a.jsx)("span",{style:{color:"red"},children:Object(a.jsx)(Je.a,Object(i.a)({},e))}):Object(a.jsx)(Je.a,Object(i.a)({},e)):null};xr.defaultProps=Je.a.defaultProps;var gr=xr,vr=r(2141),yr=r(2103),wr=Object(C.a)((function(e){return{root:{margin:"1em"},card:{height:"100%",display:"flex",flexDirection:"column",margin:"0.5rem 0"},cardTitleContent:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},cardContent:Object(i.a)(Object(i.a)({},e.typography.body1),{},{display:"flex",flexDirection:"column"})}})),_r=function(e){var t=Object(F.a)(),r=wr(),c=Object(Fe.a)(e),n=c.ids,s=c.data,o=c.basePath;return n&&s?Object(a.jsx)("div",{className:r.root,children:n.map((function(e){return Object(a.jsxs)(rt.a,{className:r.card,children:[Object(a.jsx)(vr.a,{title:Object(a.jsxs)("div",{className:r.cardTitleContent,children:[Object(a.jsx)("h2",{children:"".concat(s[e].first_name," ").concat(s[e].last_name)}),Object(a.jsx)(yr.a,{resource:"visitors",basePath:o,record:s[e]})]}),avatar:Object(a.jsx)(br,{record:s[e],size:"45"})}),Object(a.jsxs)(ne.a,{className:r.cardContent,children:[Object(a.jsxs)("div",{children:[t("resources.customers.fields.last_seen_gte"),"\xa0",Object(a.jsx)(It.a,{record:s[e],source:"last_seen"})]}),Object(a.jsxs)("div",{children:[t("resources.commands.name",s[e].nb_commands||1),"\xa0:\xa0",Object(a.jsx)(Je.a,{record:s[e],source:"nb_commands",label:"resources.customers.fields.commands"})]}),Object(a.jsxs)("div",{children:[t("resources.customers.fields.total_spent"),"\xa0 :"," ",Object(a.jsx)(gr,{record:s[e],source:"total_spent",options:{style:"currency",currency:"USD"}})]})]}),s[e].groups&&s[e].groups.length>0&&Object(a.jsx)(ne.a,{className:r.cardContent,children:Object(a.jsx)(nr,{record:s[e]})})]},e)}))}):null},kr=r(928),Cr=r.n(kr),Sr=Object(C.a)((function(e){return{root:{margin:"1em",display:"flex",flexWrap:"wrap",alignItems:"stretch",justifyContent:"space-between"},card:{width:265,display:"flex",flexDirection:"column",margin:"0.5rem 0"},cardTitleContent:{display:"flex",flexDirection:"column",alignItems:"center",position:"relative"},editButton:{position:"absolute",top:0,right:0},cardContent:Object(i.a)(Object(i.a)({},e.typography.body1),{},{display:"flex",flexDirection:"column"})}})),Nr=function(e){var t=e.fields,r=Object(Ne.a)(e,["fields"]),n=Object(F.a)(),s=Sr(),o=Object(Fe.a)(r),i=o.ids,l=o.data,d=o.basePath;return i&&l?Object(a.jsx)("div",{className:s.root,children:i.map((function(e){return Object(a.jsx)(rt.a,{className:s.card,children:Object(a.jsxs)(ne.a,{className:s.cardContent,children:[Object(a.jsxs)("div",{className:s.cardTitleContent,children:[Object(a.jsx)(br,{record:l[e],size:"120"}),Object(a.jsx)("h2",{children:"".concat(l[e].first_name," ").concat(l[e].last_name)}),Object(a.jsx)(S.a,{color:"secondary","aria-label":"Edit",component:q.a,className:s.editButton,to:Object(z.a)(d,e),children:Object(a.jsx)(Cr.a,{})})]}),t.filter((function(e){return"customer_id"!==e.props.source})).filter((function(t){return!!l[e][t.props.source]})).map((function(t){var r=t.props.source;return Object(a.jsxs)("div",{style:{display:"flex",flexWrap:"wrap"},children:[Object(a.jsx)("div",{style:{marginRight:"1em",marginBottom:"0.5em",marginTop:"1em"},children:n("resources.customers.fields.".concat(r))}),Object(a.jsx)("div",{style:{whiteSpace:"nowrap",marginBottom:"0.5em",marginTop:"1em"},children:Object(c.cloneElement)(t,{record:l[e]})})]},r)}))]})},e)}))}):null},Tr=r(236),Pr=r.n(Tr),Rr=r(929),qr=r.n(Rr),Ar=r(930),Dr=r.n(Ar),Ir=r(31),Lr=Object(ce.a)((function(e){var t;return{root:(t={flexShrink:0},Object(j.a)(t,e.breakpoints.up("sm"),{order:-1,width:"15em",marginRight:"1em"}),Object(j.a)(t,e.breakpoints.down("sm"),{display:"none"}),t)}}))(rt.a),Br=function(){return Object(a.jsx)(Lr,{children:Object(a.jsxs)(ne.a,{children:[Object(a.jsx)(dt.a,{}),Object(a.jsx)("span",{id:"persisted-queries",children:Object(a.jsx)(A.d,{})}),Object(a.jsxs)(ut.a,{label:"resources.customers.filters.last_visited",icon:Object(a.jsx)(Pr.a,{}),children:[Object(a.jsx)(jt.a,{label:"resources.customers.filters.today",value:{last_seen_gte:Object(Ir.endOfYesterday)().toISOString(),last_seen_lte:void 0}}),Object(a.jsx)(jt.a,{label:"resources.customers.filters.this_week",value:{last_seen_gte:Object(Ir.startOfWeek)(new Date).toISOString(),last_seen_lte:void 0}}),Object(a.jsx)(jt.a,{label:"resources.customers.filters.last_week",value:{last_seen_gte:Object(Ir.subWeeks)(Object(Ir.startOfWeek)(new Date),1).toISOString(),last_seen_lte:Object(Ir.startOfWeek)(new Date).toISOString()}}),Object(a.jsx)(jt.a,{label:"resources.customers.filters.this_month",value:{last_seen_gte:Object(Ir.startOfMonth)(new Date).toISOString(),last_seen_lte:void 0}}),Object(a.jsx)(jt.a,{label:"resources.customers.filters.last_month",value:{last_seen_gte:Object(Ir.subMonths)(Object(Ir.startOfMonth)(new Date),1).toISOString(),last_seen_lte:Object(Ir.startOfMonth)(new Date).toISOString()}}),Object(a.jsx)(jt.a,{label:"resources.customers.filters.earlier",value:{last_seen_gte:void 0,last_seen_lte:Object(Ir.subMonths)(Object(Ir.startOfMonth)(new Date),1).toISOString()}})]}),Object(a.jsxs)(ut.a,{label:"resources.customers.filters.has_ordered",icon:Object(a.jsx)(qr.a,{}),children:[Object(a.jsx)(jt.a,{label:"ra.boolean.true",value:{nb_commands_gte:1,nb_commands_lte:void 0}}),Object(a.jsx)(jt.a,{label:"ra.boolean.false",value:{nb_commands_gte:void 0,nb_commands_lte:0}})]}),Object(a.jsxs)(ut.a,{label:"resources.customers.filters.has_newsletter",icon:Object(a.jsx)(Dr.a,{}),children:[Object(a.jsx)(jt.a,{label:"ra.boolean.true",value:{has_newsletter:!0}}),Object(a.jsx)(jt.a,{label:"ra.boolean.false",value:{has_newsletter:!1}})]}),Object(a.jsx)(ut.a,{label:"resources.customers.filters.group",icon:Object(a.jsx)(ct.a,{}),children:rr.map((function(e){return Object(a.jsx)(jt.a,{label:e.name,value:{groups:e.id}},e.id)}))})]})})},Mr=function(e){return Object(a.jsxs)(A.a,Object(i.a)(Object(i.a)({},e),{},{children:[Object(a.jsx)(Pe.a,{source:"q",alwaysOn:!0}),Object(a.jsx)(At.a,{source:"last_seen_gte"}),Object(a.jsx)(Dt.a,{source:"has_ordered"}),Object(a.jsx)(Dt.a,{source:"has_newsletter",defaultValue:!0}),Object(a.jsx)(ir,{})]}))},Fr={customer:Object(a.jsx)(fr,{}),last_seen:Object(a.jsx)(It.a,{source:"last_seen"}),nb_commands:Object(a.jsx)(Je.a,{source:"nb_commands",label:"Commands"}),total_spent:Object(a.jsx)(gr,{source:"total_spent",options:{style:"currency",currency:"USD"}}),latest_purchase:Object(a.jsx)(It.a,{source:"latest_purchase",showTime:!0}),has_newsletter:Object(a.jsx)(Lt.a,{source:"has_newsletter",label:"News."}),segments:Object(a.jsx)(nr,{})},zr=function(e){var t=Object(D.a)((function(e){return e.breakpoints.down("xs")}));Object(M.l)("customers");var r=Object(D.a)((function(e){return e.breakpoints.down("sm")}));return Object(a.jsx)(tr,Object(i.a)(Object(i.a)({},e),{},{preferenceKey:"visitors.list",hasColumnsSelector:!0,defaultColumns:Fr,hasViewSelector:!0,filters:r?Object(a.jsx)(Mr,{}):void 0,aside:Object(a.jsx)(Br,{}),sort:{field:"last_seen",order:"DESC"},perPage:25,children:function(e){var r=e.columns,c=e.view,n=(e.hasShow,e.hasList,e.hasEdit,e.hasCreate,Object(Ne.a)(e,["columns","view","hasShow","hasList","hasEdit","hasCreate"]));return t?Object(a.jsx)(_r,{}):"grid"===c?Object(a.jsx)(Nr,{fields:r}):Object(a.jsx)(Bt.a,Object(i.a)(Object(i.a)({rowClick:"edit"},n),{},{children:r}))}}))},Ur=r(2175),Er=r(2145),Vr=r(891),Wr=Object(C.a)({first_name:{display:"inline-block"},last_name:{display:"inline-block",marginLeft:32},email:{width:544},address:{maxWidth:544},zipcode:{display:"inline-block"},city:{display:"inline-block",marginLeft:32},comment:{maxWidth:"20em",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},password:{display:"inline-block"},confirm_password:{display:"inline-block",marginLeft:32}}),Hr=function(e){var t=e.password,r=e.confirm_password,a={};return t&&r&&t!==r&&(a.confirm_password=["resources.customers.errors.password_mismatch"]),a},Jr=[Object(Vr.b)()],Gr=function(e){var t=e.label,r=Object(F.a)();return Object(a.jsx)(k.a,{variant:"h6",gutterBottom:!0,children:r(t)})},Kr=function(){return Object(a.jsx)(se.a,{pt:"1em"})},Yr=function(e){var t=Wr(e);return Object(M.l)("customers.create"),Object(a.jsx)(ge.a,Object(i.a)(Object(i.a)({},e),{},{children:Object(a.jsxs)(Ur.a,{validate:Hr,children:[Object(a.jsx)(Gr,{label:"resources.customers.fieldGroups.identity"}),Object(a.jsx)(_e.a,{source:"first_name",formClassName:t.first_name,validate:Jr}),Object(a.jsx)(_e.a,{source:"last_name",formClassName:t.last_name,validate:Jr}),Object(a.jsx)(_e.a,{type:"email",source:"email",validation:{email:!0},fullWidth:!0,formClassName:t.email,validate:Jr}),Object(a.jsx)(At.a,{source:"birthday"}),Object(a.jsx)(Kr,{}),Object(a.jsx)(Gr,{label:"resources.customers.fieldGroups.address"}),Object(a.jsx)(_e.a,{source:"address",formClassName:t.address,multiline:!0,fullWidth:!0}),Object(a.jsx)(_e.a,{source:"zipcode",formClassName:t.zipcode}),Object(a.jsx)(_e.a,{source:"city",formClassName:t.city}),Object(a.jsx)(Kr,{}),Object(a.jsx)(Gr,{label:"resources.customers.fieldGroups.password"}),Object(a.jsx)(Er.a,{source:"password",formClassName:t.password}),Object(a.jsx)(Er.a,{source:"confirm_password",formClassName:t.confirm_password})]})}))},Qr=r(2156),Xr=r(456),Zr=r(78),$r=r(2118),ea=r(268),ta=r.n(ea),ra=r(2170),aa=r(2157),ca=r(2179),na=r(66),sa=r(2158),oa=r(2147),ia=r(2148),la=r(2146),da=function(e){return e?e.basket.length:null},ua=function(e){return Object(a.jsx)(la.a,Object(i.a)(Object(i.a)({},e),{},{render:da}))};ua.defaultProps={label:"Nb Items",textAlign:"right"};var ja=ua,ba=function(e){return Object(a.jsx)(ca.a,Object(i.a)(Object(i.a)({source:"customer_id",reference:"customers"},e),{},{children:Object(a.jsx)(pr,{})}))};ba.defaultProps={addLabel:!0};var ma=ba,Oa=function(e){var t=e.record;return t?Object(a.jsxs)("span",{children:[t.address,", ",t.city," ",t.zipcode]}):null},pa=Object(C.a)((function(e){return{card:{height:"100%",display:"flex",flexDirection:"column",margin:"0.5rem 0"},cardTitleContent:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},cardContent:e.typography.body1,cardContentRow:{display:"flex",flexDirection:"row",alignItems:"center",margin:"0.5rem 0"}}})),ha=function(e){var t=e.ids,r=e.data,c=e.basePath,n=Object(F.a)(),s=pa();return t&&r&&c?Object(a.jsx)("div",{style:{margin:"1em"},children:t.map((function(e){return Object(a.jsxs)(rt.a,{className:s.card,children:[Object(a.jsx)(vr.a,{title:Object(a.jsxs)("div",{className:s.cardTitleContent,children:[Object(a.jsxs)("span",{children:[n("resources.commands.name",1),":\xa0",Object(a.jsx)($r.a,{record:r[e],source:"reference"})]}),Object(a.jsx)(yr.a,{resource:"commands",basePath:c,record:r[e]})]})}),Object(a.jsxs)(ne.a,{className:s.cardContent,children:[Object(a.jsxs)("span",{className:s.cardContentRow,children:[n("resources.customers.name",1),":\xa0",Object(a.jsx)(ma,{record:r[e],basePath:c})]}),Object(a.jsxs)("span",{className:s.cardContentRow,children:[n("resources.reviews.fields.date"),":\xa0",Object(a.jsx)(It.a,{record:r[e],source:"date",showTime:!0})]}),Object(a.jsxs)("span",{className:s.cardContentRow,children:[n("resources.commands.fields.basket.total"),":\xa0",Object(a.jsx)(Je.a,{record:r[e],source:"total",options:{style:"currency",currency:"USD"}})]}),Object(a.jsxs)("span",{className:s.cardContentRow,children:[n("resources.commands.fields.status"),":\xa0",Object(a.jsx)($r.a,{source:"status",record:r[e]})]}),Object(a.jsxs)("span",{className:s.cardContentRow,children:[n("resources.commands.fields.returned"),":\xa0",Object(a.jsx)(Lt.a,{record:r[e],source:"returned"})]})]})]},e)}))}):null};ha.defaultProps={data:{},ids:[]};var fa=ha,xa=function(e){return Object(a.jsxs)(ra.a,Object(i.a)(Object(i.a)({},e),{},{children:[Object(a.jsx)(Pe.a,{source:"q",alwaysOn:!0}),Object(a.jsx)(Re.a,{source:"customer_id",reference:"customers",children:Object(a.jsx)(aa.a,{optionText:function(e){return e.id?"".concat(e.first_name," ").concat(e.last_name):""}})}),Object(a.jsx)(At.a,{source:"date_gte"}),Object(a.jsx)(At.a,{source:"date_lte"}),Object(a.jsx)(_e.a,{source:"total_gte"}),Object(a.jsx)(Dt.a,{source:"returned"})]}))},ga=Object(C.a)({total:{fontWeight:"bold"}}),va=[{id:"ordered",name:"ordered"},{id:"delivered",name:"delivered"},{id:"cancelled",name:"cancelled"}],ya=function(e){var t=Object(Fe.a)();Object(M.l)("sales.commands");var r=t.ids,n=t.filterValues,s=t.setFilters,o=t.displayedFilters,l=ga(),d=Object(D.a)((function(e){return e.breakpoints.down("xs")})),u=Object(c.useState)([]),j=Object(V.a)(u,2),m=j[0],O=j[1],p=Object(c.useState)([]),h=Object(V.a)(p,2),f=h[0],x=h[1],g=Object(c.useState)([]),v=Object(V.a)(g,2),y=v[0],w=v[1],_=function(e){return{ordered:Object(ke.a)("commands",{perPage:1,page:1},{field:"id",order:"ASC"},Object(i.a)(Object(i.a)({},e),{},{status:"ordered"})).total,delivered:Object(ke.a)("commands",{perPage:1,page:1},{field:"id",order:"ASC"},Object(i.a)(Object(i.a)({},e),{},{status:"delivered"})).total,cancelled:Object(ke.a)("commands",{perPage:1,page:1},{field:"id",order:"ASC"},Object(i.a)(Object(i.a)({},e),{},{status:"cancelled"})).total}}(n);Object(c.useEffect)((function(){if(r&&r!==n.status)switch(n.status){case"ordered":O(r);break;case"delivered":x(r);break;case"cancelled":w(r)}}),[r,n.status]);var k=Object(c.useCallback)((function(e,t){s&&s(Object(i.a)(Object(i.a)({},n),{},{status:t}),o)}),[o,n,s]),C=Object(na.a)(),S=function(e,t){return function(r){var a;switch(r.batch){case e:a="light"===t.palette.type?Object(b.e)(Object(b.c)(t.palette.info.light,1),.68):Object(b.a)(Object(b.c)(t.palette.info.dark,1),.88);break;case 1:e>0&&(a="light"===t.palette.type?Object(b.e)(Object(b.c)(t.palette.info.light,1),.78):Object(b.a)(Object(b.c)(t.palette.info.dark,1),.78));break;default:a=t.palette.background.paper}return{backgroundColor:a}}}(parseInt(localStorage.getItem("batchLevel")||"0",0)||0,C),N="ordered"===n.status?m:"delivered"===n.status?f:y;return Object(a.jsxs)(c.Fragment,{children:[Object(a.jsx)(sa.a,{variant:"fullWidth",centered:!0,value:n.status,indicatorColor:"primary",onChange:k,children:va.map((function(e){return Object(a.jsx)(oa.a,{label:_[e.name]?"".concat(e.name," (").concat(_[e.name],")"):e.name,value:e.id},e.id)}))}),Object(a.jsx)(ia.a,{}),d?Object(a.jsx)(Ce.a,{value:Object(i.a)(Object(i.a)({},t),{},{ids:N}),children:Object(a.jsx)(fa,Object(i.a)(Object(i.a)({},e),{},{ids:N}))}):Object(a.jsxs)("div",{children:["ordered"===n.status&&Object(a.jsx)(Ce.a,{value:Object(i.a)(Object(i.a)({},t),{},{ids:m}),children:Object(a.jsxs)(Bt.a,Object(i.a)(Object(i.a)({},e),{},{optimized:!0,rowClick:"edit",rowStyle:S,"data-testid":"order-ordered-datagrid",children:[Object(a.jsx)(It.a,{source:"date",showTime:!0}),Object(a.jsx)($r.a,{source:"reference"}),Object(a.jsx)(ma,{}),Object(a.jsx)(ca.a,{source:"customer_id",reference:"customers",link:!1,label:"resources.commands.fields.address",children:Object(a.jsx)(Oa,{})}),Object(a.jsx)(ja,{}),Object(a.jsx)(Je.a,{source:"total",options:{style:"currency",currency:"USD"},className:l.total})]}))}),"delivered"===n.status&&Object(a.jsx)(Ce.a,{value:Object(i.a)(Object(i.a)({},t),{},{ids:f}),children:Object(a.jsxs)(Bt.a,Object(i.a)(Object(i.a)({},e),{},{rowClick:"edit",children:[Object(a.jsx)(It.a,{source:"date",showTime:!0}),Object(a.jsx)($r.a,{source:"reference"}),Object(a.jsx)(ma,{}),Object(a.jsx)(ca.a,{source:"customer_id",reference:"customers",link:!1,label:"resources.commands.fields.address",children:Object(a.jsx)(Oa,{})}),Object(a.jsx)(ja,{}),Object(a.jsx)(Je.a,{source:"total",options:{style:"currency",currency:"USD"},className:l.total}),Object(a.jsx)(Lt.a,{source:"returned"})]}))}),"cancelled"===n.status&&Object(a.jsx)(Ce.a,{value:Object(i.a)(Object(i.a)({},t),{},{ids:y}),children:Object(a.jsxs)(Bt.a,Object(i.a)(Object(i.a)({},e),{},{rowClick:"edit",children:[Object(a.jsx)(It.a,{source:"date",showTime:!0}),Object(a.jsx)($r.a,{source:"reference"}),Object(a.jsx)(ma,{}),Object(a.jsx)(ca.a,{source:"customer_id",reference:"customers",link:!1,label:"resources.commands.fields.address",children:Object(a.jsx)(Oa,{})}),Object(a.jsx)(ja,{}),Object(a.jsx)(Je.a,{source:"total",options:{style:"currency",currency:"USD"},className:l.total}),Object(a.jsx)(Lt.a,{source:"returned"})]}))})]})]})},wa=function(e){return Object(a.jsx)(d.i,Object(i.a)(Object(i.a)({},e),{},{filterDefaultValues:{status:"ordered"},sort:{field:"date",order:"DESC"},perPage:25,filters:Object(a.jsx)(xa,{}),actions:Object(a.jsx)(d.h,{breadcrumb:Object(a.jsx)(E,{variant:"actions"})}),children:Object(a.jsx)(ya,{})}))},_a=r(2165),ka=r(2126),Ca=r(2124),Sa=r(2099),Na=r(2127),Ta=r(2125),Pa=r(486),Ra=r(153),qa=Object(C.a)({container:{minWidth:"35em",marginLeft:"1em"},rightAlignedCell:{textAlign:"right"},boldCell:{fontWeight:"bold"}}),Aa=function(e){var t=e.record,r=qa(),c=Object(F.a)(),n=Object(Ra.a)({type:"getMany",resource:"products",payload:{ids:t?t.basket.map((function(e){return e.product_id})):[]}},{},(function(e){return(t?t.basket.map((function(e){return e.product_id})):[]).map((function(t){return e.admin.resources.products.data[t]})).filter((function(e){return"undefined"!==typeof e})).reduce((function(e,t){return e[t.id]=t,e}),{})})),s=n.loaded,o=n.data;return s&&t?Object(a.jsx)(Pa.a,{className:r.container,elevation:2,children:Object(a.jsxs)(ka.a,{children:[Object(a.jsx)(Na.a,{children:Object(a.jsxs)(Ta.a,{children:[Object(a.jsx)(Sa.a,{children:c("resources.commands.fields.basket.reference")}),Object(a.jsx)(Sa.a,{className:r.rightAlignedCell,children:c("resources.commands.fields.basket.unit_price")}),Object(a.jsx)(Sa.a,{className:r.rightAlignedCell,children:c("resources.commands.fields.basket.quantity")}),Object(a.jsx)(Sa.a,{className:r.rightAlignedCell,children:c("resources.commands.fields.basket.total")})]})}),Object(a.jsxs)(Ca.a,{children:[t.basket.map((function(e){return o[e.product_id]&&Object(a.jsxs)(Ta.a,{children:[Object(a.jsx)(Sa.a,{children:Object(a.jsx)(lr.a,{to:"/products/".concat(e.product_id),children:o[e.product_id].reference})}),Object(a.jsx)(Sa.a,{className:r.rightAlignedCell,children:o[e.product_id].price.toLocaleString(void 0,{style:"currency",currency:"USD"})}),Object(a.jsx)(Sa.a,{className:r.rightAlignedCell,children:e.quantity}),Object(a.jsx)(Sa.a,{className:r.rightAlignedCell,children:(o[e.product_id].price*e.quantity).toLocaleString(void 0,{style:"currency",currency:"USD"})})]},e.product_id)})),Object(a.jsxs)(Ta.a,{children:[Object(a.jsx)(Sa.a,{colSpan:2}),Object(a.jsx)(Sa.a,{children:c("resources.commands.fields.basket.sum")}),Object(a.jsx)(Sa.a,{className:r.rightAlignedCell,children:t.total_ex_taxes.toLocaleString(void 0,{style:"currency",currency:"USD"})})]}),Object(a.jsxs)(Ta.a,{children:[Object(a.jsx)(Sa.a,{colSpan:2}),Object(a.jsx)(Sa.a,{children:c("resources.commands.fields.basket.delivery")}),Object(a.jsx)(Sa.a,{className:r.rightAlignedCell,children:t.delivery_fees.toLocaleString(void 0,{style:"currency",currency:"USD"})})]}),Object(a.jsxs)(Ta.a,{children:[Object(a.jsx)(Sa.a,{colSpan:2}),Object(a.jsx)(Sa.a,{children:c("resources.commands.fields.basket.tax_rate")}),Object(a.jsx)(Sa.a,{className:r.rightAlignedCell,children:t.tax_rate.toLocaleString(void 0,{style:"percent"})})]}),Object(a.jsxs)(Ta.a,{children:[Object(a.jsx)(Sa.a,{colSpan:2}),Object(a.jsx)(Sa.a,{className:r.boldCell,children:c("resources.commands.fields.basket.total")}),Object(a.jsx)(Sa.a,{className:Ut()(r.boldCell,r.rightAlignedCell),children:t.total.toLocaleString(void 0,{style:"currency",currency:"USD"})})]})]})]})}):null},Da=function(e){return Object(a.jsx)(d.e,Object(i.a)({breadcrumb:Object(a.jsx)(E,{variant:"actions"})},e))},Ia=function(e){var t=e.record,r=Object(F.a)();return t?Object(a.jsx)("span",{children:r("resources.commands.title",{reference:t.reference})}):null},La=Object(C.a)({root:{alignItems:"flex-start"}}),Ba=function(e){return Object(M.l)("sales.commands.edit",e),Object(a.jsxs)(Ur.a,Object(i.a)(Object(i.a)({},e),{},{children:[Object(a.jsx)(At.a,{source:"date"}),Object(a.jsx)(Re.a,{source:"customer_id",reference:"customers",children:Object(a.jsx)(aa.a,{optionText:function(e){return"".concat(e.first_name," ").concat(e.last_name)}})}),Object(a.jsx)(qe.a,{source:"status",choices:[{id:"delivered",name:"delivered"},{id:"ordered",name:"ordered"},{id:"cancelled",name:"cancelled"},{id:"unknown",name:"unknown",disabled:!0}]}),Object(a.jsx)(_a.a,{source:"returned"})]}))},Ma={list:wa,edit:function(e){var t=La();return Object(a.jsx)(d.d,Object(i.a)(Object(i.a)({title:Object(a.jsx)(Ia,{}),aside:Object(a.jsx)(Aa,{}),classes:t,actions:Object(a.jsx)(Da,{})},e),{},{children:Object(a.jsx)(Ba,{})}))},icon:it.a},Fa=r(169),za=r.n(Fa),Ua=r(969),Ea=r(2111),Va=r(459),Wa=r.n(Va),Ha=r(174),Ja=r(2096),Ga=r(787),Ka=r(2149),Ya=function(){var e=Object(Ha.a)(),t=Object(xe.a)(),r=Object(Ja.a)("reviews"),c=Object(Fe.a)().selectedIds,n=Object(Ga.a)("reviews",c,{status:"accepted"},{action:Ka.a,undoable:!0,onSuccess:function(){e("resources.reviews.notification.approved_success","info",{},!0),t("/reviews"),r()},onFailure:function(){e("resources.reviews.notification.approved_error","warning")}}),s=Object(V.a)(n,2),o=s[0],i=s[1].loading;return Object(a.jsx)(Mt.a,{label:"resources.reviews.action.accept",onClick:o,disabled:i,children:Object(a.jsx)(Wa.a,{})})},Qa=r(460),Xa=r.n(Qa),Za=function(){var e=Object(Ha.a)(),t=Object(xe.a)(),r=Object(Ja.a)("reviews"),c=Object(Fe.a)().selectedIds,n=Object(Ga.a)("reviews",c,{status:"rejected"},{action:Ka.a,undoable:!0,onSuccess:function(){e("resources.reviews.notification.approved_success","info",{},!0),t("/reviews"),r()},onFailure:function(){e("resources.reviews.notification.approved_error","warning")}}),s=Object(V.a)(n,2),o=s[0],i=s[1].loading;return Object(a.jsx)(Mt.a,{label:"resources.reviews.action.reject",onClick:o,disabled:i,children:Object(a.jsx)(Xa.a,{})})},$a=r(979),ec=r(2122),tc=r(2016),rc=Object(C.a)({root:{width:"100vw"},link:{textDecoration:"none",color:"inherit"},inline:{display:"inline"}}),ac=function(){var e=rc(),t=Object(M.k)(),r=Object(V.a)(t,2)[1],n=Object(M.m)(),s=Object(Fe.a)(),o=s.basePath,i=s.data,l=s.ids,d=s.loading,u=s.total,j=s.filterValues,b=JSON.stringify({resourceLocation:n,filter:j});return Object(c.useEffect)((function(){var e=j.status;"undefined"!==typeof e?r("reviews.status_filter",{status:e}):r("reviews")}),[r,b]),d||u>0?Object(a.jsx)(be.a,{className:e.root,children:l.map((function(t){return Object(a.jsx)(q.a,{to:Object(z.a)(o,t),className:e.link,children:Object(a.jsxs)($a.a,{button:!0,children:[Object(a.jsx)(ec.a,{children:Object(a.jsx)(ca.a,{record:i[t],source:"customer_id",reference:"customers",basePath:o,linkType:!1,children:Object(a.jsx)(br,{size:"40"})})}),Object(a.jsx)(tc.a,{primary:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ca.a,{record:i[t],source:"customer_id",reference:"customers",basePath:o,linkType:!1,children:Object(a.jsx)(la.a,{render:function(e){return e?"".concat(e.first_name," ").concat(e.last_name):""},variant:"subtitle1",className:e.inline})})," ","on"," ",Object(a.jsx)(ca.a,{record:i[t],source:"product_id",reference:"products",basePath:o,linkType:!1,children:Object(a.jsx)($r.a,{source:"reference",variant:"subtitle1",className:e.inline})})]}),secondary:i[t].comment,secondaryTypographyProps:{noWrap:!0}})]})},t)}))}):null};ac.defaultProps={linkType:"edit",hasBulkActions:!1,selectedIds:[]};var cc=ac,nc=function(e){return Object(a.jsx)(ca.a,Object(i.a)(Object(i.a)({label:"Product",source:"product_id",reference:"products"},e),{},{children:Object(a.jsx)($r.a,{source:"reference"})}))};nc.defaultProps={addLabel:!0};var sc=nc,oc=r(934),ic=r.n(oc),lc=Object(C.a)({root:{opacity:.87,whiteSpace:"nowrap"},large:{width:20,height:20},small:{width:15,height:15}}),dc=function(e){var t=e.record,r=e.size,c=void 0===r?"large":r,n=lc();return t?Object(a.jsx)("span",{children:Array(t.rating).fill(!0).map((function(e,t){return Object(a.jsx)(ic.a,{className:"large"===c?n.large:n.small},t)}))}):null};dc.defaultProps={label:"resources.reviews.fields.rating",source:"rating",addLabel:!0};var uc=dc,jc=r(594),bc=r.n(jc),mc=r(593),Oc=r.n(mc),pc=r(592),hc=r.n(pc),fc=function(e,t){return function(r,a){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=c;return e===r.id&&(n=Object(i.a)(Object(i.a)({},n),{},{backgroundColor:t.palette.action.selected})),"accepted"===r.status?Object(i.a)(Object(i.a)({},n),{},{borderLeftColor:bc.a[500],borderLeftWidth:5,borderLeftStyle:"solid"}):"pending"===r.status?Object(i.a)(Object(i.a)({},n),{},{borderLeftColor:Oc.a[500],borderLeftWidth:5,borderLeftStyle:"solid"}):"rejected"===r.status?Object(i.a)(Object(i.a)({},n),{},{borderLeftColor:hc.a[500],borderLeftWidth:5,borderLeftStyle:"solid"}):n}},xc=Object(C.a)({headerRow:{borderLeftColor:"white",borderLeftWidth:5,borderLeftStyle:"solid"},headerCell:{padding:"6px 8px 6px 8px"},rowCell:{padding:"6px 8px 6px 8px"},comment:{maxWidth:"18em",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}),gc=function(e){var t=e.selectedRow,r=Object(Ne.a)(e,["selectedRow"]),n=xc(),s=Object(na.a)(),o=Object(M.k)(),l=Object(V.a)(o,2)[1],d=Object(M.m)(),u=Object(Fe.a)().filterValues,j=JSON.stringify({resourceLocation:d,filter:u});return Object(c.useEffect)((function(){var e=u.status;"undefined"!==typeof e?l("reviews.status_filter",{status:e}):l("reviews")}),[l,j]),Object(a.jsxs)(Bt.a,Object(i.a)(Object(i.a)({rowClick:"edit",rowStyle:fc(t,s),classes:{headerRow:n.headerRow,headerCell:n.headerCell,rowCell:n.rowCell},optimized:!0},r),{},{children:[Object(a.jsx)(It.a,{source:"date"}),Object(a.jsx)(ma,{link:!1}),Object(a.jsx)(sc,{link:!1}),Object(a.jsx)(uc,{size:"small"}),Object(a.jsx)($r.a,{source:"comment",cellClassName:n.comment}),Object(a.jsx)($r.a,{source:"status"})]}))},vc=Object(C.a)({status:{width:150}}),yc=function(e){var t=vc();return Object(a.jsxs)(ra.a,Object(i.a)(Object(i.a)({},e),{},{children:[Object(a.jsx)(Pe.a,{source:"q",alwaysOn:!0}),Object(a.jsx)(qe.a,{source:"status",choices:[{id:"accepted",name:"pos.reviews.accepted"},{id:"pending",name:"pos.reviews.pending"},{id:"rejected",name:"pos.reviews.rejected"}],className:t.status}),Object(a.jsx)(Re.a,{source:"customer_id",reference:"customers",children:Object(a.jsx)(aa.a,{optionText:function(e){return"".concat(e.first_name," ").concat(e.last_name)}})}),Object(a.jsx)(Re.a,{source:"product_id",reference:"products",children:Object(a.jsx)(aa.a,{optionText:"reference"})}),Object(a.jsx)(At.a,{source:"date_gte"}),Object(a.jsx)(At.a,{source:"date_lte"})]}))},wc=r(2104),_c=r(168),kc=r.n(_c),Cc=r(617),Sc=r(2032),Nc=r(2034),Tc=r(340),Pc=r(589),Rc=function(e){var t=e.record,r=Object(F.a)(),c=Object(Ha.a)(),n=Object(xe.a)(),s=Object(Pc.a)("reviews",t.id,{status:"accepted"},t,{undoable:!0,onSuccess:function(){c("resources.reviews.notification.approved_success","info",{},!0),n("/reviews")},onFailure:function(){c("resources.reviews.notification.approved_error","warning")}}),o=Object(V.a)(s,2),i=o[0],l=o[1].loading;return t&&"pending"===t.status?Object(a.jsxs)(Tc.a,{variant:"outlined",color:"primary",size:"small",onClick:i,disabled:l,children:[Object(a.jsx)(Wa.a,{color:"primary",style:{paddingRight:"0.5em",color:"green"}}),r("resources.reviews.action.accept")]}):Object(a.jsx)("span",{})},qc=function(e){var t=e.record,r=Object(F.a)(),c=Object(Ha.a)(),n=Object(xe.a)(),s=Object(Pc.a)("reviews",t.id,{status:"rejected"},t,{undoable:!0,onSuccess:function(){c("resources.reviews.notification.rejected_success","info",{},!0),n("/reviews")},onFailure:function(){c("resources.reviews.notification.rejected_error","warning")}}),o=Object(V.a)(s,2),i=o[0],l=o[1].loading;return t&&"pending"===t.status?Object(a.jsxs)(Tc.a,{variant:"outlined",color:"primary",size:"small",onClick:i,disabled:l,children:[Object(a.jsx)(Xa.a,{color:"primary",style:{paddingRight:"0.5em",color:"red"}}),r("resources.reviews.action.reject")]}):Object(a.jsx)("span",{})},Ac=Object(C.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,display:"flex",justifyContent:"space-between"}}})),Dc=function(e){var t=e.basePath,r=e.handleSubmitWithRedirect,n=e.invalid,s=e.record,o=e.resource,i=e.saving,l=Ac();return s?Object(a.jsx)(Cc.a,{className:l.root,children:"pending"===s.status?Object(a.jsxs)(c.Fragment,{children:[Object(a.jsx)(Rc,{record:s}),Object(a.jsx)(qc,{record:s})]}):Object(a.jsxs)(c.Fragment,{children:[Object(a.jsx)(Sc.a,{handleSubmitWithRedirect:r,invalid:n,saving:i,redirect:"list",submitOnEnter:!0}),Object(a.jsx)(Nc.a,{basePath:t,record:s,resource:o})]})}):null},Ic=Object(C.a)((function(e){var t;return{root:{paddingTop:40},title:{display:"flex",alignItems:"center",justifyContent:"space-between",margin:"1em"},form:(t={},Object(j.a)(t,e.breakpoints.up("xs"),{width:400}),Object(j.a)(t,e.breakpoints.down("xs"),{width:"100vw",marginTop:-30}),t),inlineField:{display:"inline-block",width:"50%"}}})),Lc=function(e){var t=e.onCancel,r=Object(Ne.a)(e,["onCancel"]),c=Ic(),n=Object(wc.a)(r),s=Object(F.a)();return n.record?Object(a.jsxs)("div",{className:c.root,children:[Object(a.jsxs)("div",{className:c.title,children:[Object(a.jsx)(k.a,{variant:"h6",children:s("resources.reviews.detail")}),Object(a.jsx)(S.a,{onClick:t,children:Object(a.jsx)(kc.a,{})})]}),Object(a.jsxs)(Ur.a,{className:c.form,basePath:n.basePath,record:n.record,save:n.save,version:n.version,redirect:"list",resource:"reviews",toolbar:Object(a.jsx)(Dc,{}),children:[Object(a.jsx)(ma,{label:"resources.reviews.fields.customer_id",formClassName:c.inlineField}),Object(a.jsx)(sc,{label:"resources.reviews.fields.product_id",formClassName:c.inlineField}),Object(a.jsx)(It.a,{source:"date",formClassName:c.inlineField}),Object(a.jsx)(uc,{formClassName:c.inlineField}),Object(a.jsx)(_e.a,{source:"comment",rowsMax:15,multiline:!0,fullWidth:!0})]})]}):null},Bc=function(e){e.children;var t=Object(Ne.a)(e,["children"]);return Object(a.jsxs)(c.Fragment,{children:[Object(a.jsx)(Ya,Object(i.a)({},t)),Object(a.jsx)(Za,Object(i.a)({},t)),Object(a.jsx)(Ua.a,Object(i.a)({},t))]})},Mc=Object(C.a)((function(e){return{root:{display:"flex"},list:{flexGrow:1,transition:e.transitions.create(["all"],{duration:e.transitions.duration.enteringScreen}),marginRight:0},listWithDrawer:{marginRight:400},drawerPaper:{zIndex:100}}})),Fc=function(e){var t=Mc(),r=Object(D.a)((function(e){return e.breakpoints.down("xs")})),n=Object(R.g)(),s=Object(c.useCallback)((function(){n.push("/reviews")}),[n]);return Object(a.jsx)("div",{className:t.root,children:Object(a.jsx)(R.b,{path:"/reviews/:id",children:function(n){var o=n.match,l=!(!o||!o.params||"create"===o.params.id);return Object(a.jsxs)(c.Fragment,{children:[Object(a.jsx)(d.g,Object(i.a)(Object(i.a)({},e),{},{className:Ut()(t.list,Object(j.a)({},t.listWithDrawer,l)),bulkActionButtons:Object(a.jsx)(Bc,{}),filters:Object(a.jsx)(yc,{}),actions:Object(a.jsx)(d.h,{breadcrumb:Object(a.jsx)(E,{variant:"actions"})}),perPage:25,sort:{field:"date",order:"DESC"},children:r?Object(a.jsx)(cc,{}):Object(a.jsx)(gc,{selectedRow:l&&!!o&&parseInt(o.params.id,10)})})),Object(a.jsx)(Ea.a,{variant:"persistent",open:l,anchor:"right",onClose:s,classes:{paper:t.drawerPaper},children:l&&o?Object(a.jsx)(Lc,Object(i.a)({id:o.params.id,onCancel:s},e)):null})]})}})})},zc={icon:za.a,list:Fc},Uc=Object(C.a)((function(e){return{root:Object(j.a)({width:400},e.breakpoints.down("md"),{display:"none"})}})),Ec=function(e){var t=e.record,r=e.basePath,c=Object(F.a)(),n=Object(ke.a)("commands",{page:1,perPage:100},{field:"date",order:"DESC"},{customer_id:t&&t.id}),s=n.data,o=n.ids,i=Object(ke.a)("reviews",{page:1,perPage:100},{field:"date",order:"DESC"},{customer_id:t&&t.id}),l=i.data,d=i.ids;if(!s||!l||!o||!d)return null;var u=Vc(s,o,l,d);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(se.a,{m:"0 0 1em 1em",children:Object(a.jsx)(rt.a,{children:Object(a.jsxs)(ne.a,{children:[Object(a.jsx)(k.a,{variant:"h6",gutterBottom:!0,children:c("resources.customers.fieldGroups.history")}),Object(a.jsxs)(se.a,{display:"flex",children:[Object(a.jsxs)(se.a,{flexGrow:1,children:[Object(a.jsxs)(se.a,{display:"flex",mb:"1em",children:[Object(a.jsx)(se.a,{mr:"1em",children:Object(a.jsx)(Pr.a,{fontSize:"small",color:"disabled"})}),Object(a.jsxs)(se.a,{flexGrow:1,children:[Object(a.jsx)(k.a,{children:c("resources.customers.fields.first_seen")}),Object(a.jsx)(It.a,{record:t,source:"first_seen"})]})]}),o.length>0&&Object(a.jsxs)(se.a,{display:"flex",children:[Object(a.jsx)(se.a,{mr:"1em",children:Object(a.jsx)(Ma.icon,{fontSize:"small",color:"disabled"})}),Object(a.jsx)(se.a,{flexGrow:1,children:Object(a.jsx)(k.a,{children:c("resources.commands.amount",{smart_count:o.length})})})]})]}),Object(a.jsxs)(se.a,{flexGrow:1,children:[Object(a.jsxs)(se.a,{display:"flex",mb:"1em",children:[Object(a.jsx)(se.a,{mr:"1em",children:Object(a.jsx)(Pr.a,{fontSize:"small",color:"disabled"})}),Object(a.jsxs)(se.a,{flexGrow:1,children:[Object(a.jsx)(k.a,{children:c("resources.customers.fields.last_seen")}),Object(a.jsx)(It.a,{record:t,source:"last_seen"})]})]}),d.length>0&&Object(a.jsxs)(se.a,{display:"flex",children:[Object(a.jsx)(se.a,{mr:"1em",children:Object(a.jsx)(zc.icon,{fontSize:"small",color:"disabled"})}),Object(a.jsx)(se.a,{flexGrow:1,children:Object(a.jsx)(k.a,{children:c("resources.reviews.amount",{smart_count:d.length})})})]})]})]})]})})}),u.map((function(e){return"order"===e.type?Object(a.jsx)(Hc,{record:e.data,basePath:r},"event_".concat(e.data.id)):Object(a.jsx)(Jc,{record:e.data,basePath:r},"review_".concat(e.data.id))}))]})},Vc=function(e,t,r,a){var c=t.map((function(t){return{type:"order",date:e[t].date,data:e[t]}})),n=a.map((function(e){return{type:"review",date:r[e].date,data:r[e]}})),s=[].concat(Object(Zr.a)(c),Object(Zr.a)(n));return s.sort((function(e,t){return new Date(e.date).valueOf()-new Date(t.date).valueOf()})),s},Wc=Object(C.a)({card:{margin:"0 0 1em 1em"},cardHeader:{alignItems:"flex-start"},clamp:{display:"-webkit-box","-webkit-line-clamp":3,"-webkit-box-orient":"vertical",overflow:"hidden"}}),Hc=function(e){var t=e.record,r=e.basePath,c=Object(F.a)(),n=Wc();return t?Object(a.jsx)(rt.a,{className:n.card,children:Object(a.jsx)(vr.a,{className:n.cardHeader,avatar:Object(a.jsx)(jr.a,{"aria-label":c("resources.commands.name",{smart_count:1}),children:Object(a.jsx)(Ma.icon,{})}),action:Object(a.jsx)(Gc,{record:t,basePath:"/commands"}),title:"".concat(c("resources.commands.name",{smart_count:1})," #").concat(t.reference),subheader:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(k.a,{variant:"body2",children:t.date}),Object(a.jsxs)(k.a,{variant:"body2",color:"textSecondary",children:[c("resources.commands.nb_items",{smart_count:t.basket.length,_:"1 item |||| %{smart_count} items"}),"\xa0-\xa0",Object(a.jsx)(Je.a,{source:"total",options:{style:"currency",currency:"USD"},record:t,basePath:r}),"\xa0-\xa0",Object(a.jsx)($r.a,{source:"status",record:t,basePath:r})]})]})})}):null},Jc=function(e){var t=e.record,r=e.basePath,c=Object(F.a)(),n=Wc();return t?Object(a.jsx)(rt.a,{className:n.card,children:Object(a.jsx)(vr.a,{className:n.cardHeader,avatar:Object(a.jsx)(jr.a,{"aria-label":c("resources.reviews.name",{smart_count:1}),children:Object(a.jsx)(zc.icon,{})}),action:Object(a.jsx)(Gc,{record:t,basePath:"/reviews"}),title:Object(a.jsxs)("span",{children:[c("resources.reviews.relative_to_poster")," ",Object(a.jsx)(sc,{resource:"reviews",record:t,basePath:r})]}),subheader:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(k.a,{variant:"body2",children:t.date}),Object(a.jsx)(uc,{record:t}),Object(a.jsx)(k.a,{variant:"inherit",className:n.clamp,children:t.comment})]})})}):null},Gc=function(e){var t=e.record,r=e.basePath,c=Object(F.a)();return Object(a.jsx)(ue.a,{title:c("ra.action.edit"),children:Object(a.jsx)(S.a,{"aria-label":c("ra.action.edit"),component:q.a,to:Object(z.a)(r,t&&t.id),children:Object(a.jsx)(ta.a,{})})})},Kc=function(e){var t=e.record,r=e.basePath,c=Uc();return Object(a.jsx)("div",{className:c.root,children:t&&Object(a.jsx)(Ec,{record:t,basePath:r})})},Yc=r(2150),Qc=function(e){e.addField;var t=Object(Ne.a)(e,["addField"]),r=Object(F.a)();return Object(a.jsx)(Yc.a,Object(i.a)(Object(i.a)({},t),{},{choices:rr.map((function(e){return{id:e.id,name:r(e.name)}}))}))};Qc.defaultProps={addField:!0,source:"groups",resource:"customers"};var Xc=Qc,Zc=function(e){return Object(M.l)("customers.edit",e),e.record?Object(a.jsx)(pr,{record:e.record,size:"32"}):null},$c=function(e){var t=Object(F.a)();return Object(a.jsx)(Qr.a,Object(i.a)(Object(i.a)({},e),{},{validate:Hr,render:function(e){return Object(a.jsx)(rt.a,{children:Object(a.jsxs)("form",{children:[Object(a.jsx)(ne.a,{children:Object(a.jsxs)(se.a,{display:{md:"block",lg:"flex"},children:[Object(a.jsxs)(se.a,{flex:2,mr:{md:0,lg:"1em"},children:[Object(a.jsx)(k.a,{variant:"h6",gutterBottom:!0,children:t("resources.customers.fieldGroups.identity")}),Object(a.jsxs)(se.a,{display:{xs:"block",sm:"flex"},children:[Object(a.jsx)(se.a,{flex:1,mr:{xs:0,sm:"0.5em"},children:Object(a.jsx)(_e.a,{source:"first_name",resource:"customers",fullWidth:!0})}),Object(a.jsx)(se.a,{flex:1,ml:{xs:0,sm:"0.5em"},children:Object(a.jsx)(_e.a,{source:"last_name",resource:"customers",fullWidth:!0})})]}),Object(a.jsx)(_e.a,{type:"email",source:"email",resource:"customers",validation:{email:!0},fullWidth:!0}),Object(a.jsxs)(se.a,{display:{xs:"block",sm:"flex"},children:[Object(a.jsx)(se.a,{flex:1,mr:{xs:0,sm:"0.5em"},children:Object(a.jsx)(At.a,{source:"birthday",resource:"customers",fullWidth:!0})}),Object(a.jsx)(se.a,{flex:2,ml:{xs:0,sm:"0.5em"}})]}),Object(a.jsx)(se.a,{mt:"1em"}),Object(a.jsx)(k.a,{variant:"h6",gutterBottom:!0,children:t("resources.customers.fieldGroups.address")}),Object(a.jsx)(_e.a,{source:"address",resource:"customers",multiline:!0,fullWidth:!0}),Object(a.jsxs)(se.a,{display:{xs:"block",sm:"flex"},children:[Object(a.jsx)(se.a,{flex:1,mr:{xs:0,sm:"0.5em"},children:Object(a.jsx)(_e.a,{source:"zipcode",resource:"customers",fullWidth:!0})}),Object(a.jsx)(se.a,{flex:2,ml:{xs:0,sm:"0.5em"},children:Object(a.jsx)(_e.a,{source:"city",resource:"customers",fullWidth:!0})})]}),Object(a.jsx)(se.a,{mt:"1em"}),Object(a.jsx)(k.a,{variant:"h6",gutterBottom:!0,children:t("resources.customers.fieldGroups.change_password")}),Object(a.jsxs)(se.a,{display:{xs:"block",sm:"flex"},children:[Object(a.jsx)(se.a,{flex:1,mr:{xs:0,sm:"0.5em"},children:Object(a.jsx)(Er.a,{source:"password",resource:"customers",fullWidth:!0})}),Object(a.jsx)(se.a,{flex:1,ml:{xs:0,sm:"0.5em"},children:Object(a.jsx)(Er.a,{source:"confirm_password",resource:"customers",fullWidth:!0})})]})]}),Object(a.jsxs)(se.a,{flex:1,ml:{xs:0,lg:"1em"},mt:{xs:"1em",lg:0},children:[Object(a.jsx)(k.a,{variant:"h6",gutterBottom:!0,children:t("resources.customers.fieldGroups.stats")}),Object(a.jsx)("div",{children:Object(a.jsx)(Xc,{fullWidth:!0})}),Object(a.jsx)("div",{children:Object(a.jsx)(Dt.a,{source:"has_newsletter",resource:"customers"})})]})]})}),Object(a.jsx)(Xr.a,{record:e.record,basePath:e.basePath,undoable:!0,invalid:e.invalid,handleSubmit:e.handleSubmit,saving:e.saving,resource:"customers"})]})})}}))},en={list:zr,create:Yr,edit:function(e){return Object(a.jsx)(d.d,Object(i.a)(Object(i.a)({title:Object(a.jsx)(Zc,{}),aside:Object(a.jsx)(Kc,{}),actions:Object(a.jsx)(d.e,{breadcrumb:Object(a.jsx)(E,{variant:"actions"})}),component:"div"},e),{},{children:Object(a.jsx)($c,{})}))},icon:qt.a},tn=r(935),rn=r.n(tn),an=r(2151),cn=r(2101),nn=function(e){var t=e.record;return t?Object(a.jsxs)(k.a,{children:[t.first_name," ",t.last_name,Object(a.jsx)("br",{}),t.address,Object(a.jsx)("br",{}),t.city,", ",t.zipcode]}):null},sn=function(e){var t=Object(cn.a)(e).record,r=on();return t?Object(a.jsx)(rt.a,{className:r.root,children:Object(a.jsxs)(ne.a,{children:[Object(a.jsxs)(an.a,{container:!0,spacing:2,children:[Object(a.jsx)(an.a,{item:!0,xs:6,children:Object(a.jsx)(k.a,{variant:"h6",gutterBottom:!0,children:"Posters Galore"})}),Object(a.jsx)(an.a,{item:!0,xs:6,children:Object(a.jsxs)(k.a,{variant:"h6",gutterBottom:!0,align:"right",children:["Invoice ",t.id]})})]}),Object(a.jsx)(an.a,{container:!0,spacing:2,children:Object(a.jsx)(an.a,{item:!0,xs:12,container:!0,alignContent:"flex-end",children:Object(a.jsx)(ca.a,{resource:"invoices",reference:"customers",source:"customer_id",basePath:"/invoices",record:t,link:!1,children:Object(a.jsx)(nn,{})})})}),Object(a.jsx)("div",{className:r.spacer,children:"\xa0"}),Object(a.jsxs)(an.a,{container:!0,spacing:2,children:[Object(a.jsxs)(an.a,{item:!0,xs:6,children:[Object(a.jsxs)(k.a,{variant:"h6",gutterBottom:!0,align:"center",children:["Date"," "]}),Object(a.jsx)(k.a,{gutterBottom:!0,align:"center",children:new Date(t.date).toLocaleDateString()})]}),Object(a.jsxs)(an.a,{item:!0,xs:5,children:[Object(a.jsx)(k.a,{variant:"h6",gutterBottom:!0,align:"center",children:"Order"}),Object(a.jsx)(ca.a,{resource:"invoices",reference:"commands",source:"command_id",basePath:"/invoices",record:t,link:!1,children:Object(a.jsx)($r.a,{source:"reference",align:"center",component:"p",gutterBottom:!0})})]})]}),Object(a.jsx)("div",{className:r.invoices,children:Object(a.jsx)(ca.a,{resource:"invoices",reference:"commands",source:"command_id",basePath:"/invoices",record:t,link:!1,children:Object(a.jsx)(Aa,{})})})]})}):null},on=Object(C.a)((function(e){return{root:{width:600,margin:"auto",borderStyle:"solid",borderWidth:1,borderColor:"light"===e.palette.type?Object(b.e)(Object(b.c)(e.palette.divider,1),.88):Object(b.a)(Object(b.c)(e.palette.divider,1),.68)},spacer:{height:20},invoices:{margin:"10px 0"}}})),ln=function(e){return Object(a.jsxs)(ra.a,Object(i.a)(Object(i.a)({},e),{},{children:[Object(a.jsx)(At.a,{source:"date_gte",alwaysOn:!0}),Object(a.jsx)(At.a,{source:"date_lte",alwaysOn:!0})]}))},dn=function(){return Object(a.jsxs)(Bt.a,{rowClick:"expand",expand:Object(a.jsx)(sn,{}),children:[Object(a.jsx)($r.a,{source:"id"}),Object(a.jsx)(It.a,{source:"date"}),Object(a.jsx)(ca.a,{source:"customer_id",reference:"customers",children:Object(a.jsx)(pr,{})}),Object(a.jsx)(ca.a,{source:"customer_id",reference:"customers",link:!1,label:"resources.invoices.fields.address",children:Object(a.jsx)(Oa,{})}),Object(a.jsx)(ca.a,{source:"command_id",reference:"commands",children:Object(a.jsx)($r.a,{source:"reference"})}),Object(a.jsx)(Je.a,{source:"total_ex_taxes"}),Object(a.jsx)(Je.a,{source:"delivery_fees"}),Object(a.jsx)(Je.a,{source:"taxes"}),Object(a.jsx)(Je.a,{source:"total"})]})},un={list:function(e){return Object(M.l)("sales.invoices"),Object(a.jsx)(d.g,Object(i.a)(Object(i.a)({},e),{},{perPage:25,filters:Object(a.jsx)(ln,{}),actions:Object(a.jsx)(d.h,{breadcrumb:Object(a.jsx)(E,{variant:"actions"})}),children:Object(a.jsx)(dn,{})}))},icon:rn.a},jn=r(936),bn=r.n(jn),mn=r(2152),On=r(2177),pn=r(282),hn=r(480),fn=r(2030),xn=r(288),gn=Object(C.a)({root:{display:"inline-block",marginTop:"1em",zIndex:2},content:{padding:0,"&:last-child":{padding:0}},img:{width:"initial",minWidth:"initial",maxWidth:"42em",maxHeight:"15em"}}),vn=function(e){var t=e.record,r=gn();return t?Object(a.jsx)(rt.a,{className:r.root,children:Object(a.jsx)(ne.a,{className:r.content,children:Object(a.jsx)("img",{src:t.image,alt:"",className:r.img})})}):null},yn=r(2166),wn=r(2167),_n=function(e){return Object(a.jsx)(d.c,Object(i.a)({breadcrumb:Object(a.jsx)(E,{variant:"actions"})},e))},kn={price:{width:"7em"},width:{width:"7em"},height:{width:"7em"},stock:{width:"7em"},widthFormGroup:{display:"inline-block"},heightFormGroup:{display:"inline-block",marginLeft:32}},Cn=Object(C.a)(kn),Sn=function(e){Object(M.l)("catalog.products.create");var t=Cn();return Object(a.jsx)(d.b,Object(i.a)(Object(i.a)({actions:Object(a.jsx)(_n,{})},e),{},{children:Object(a.jsxs)(yn.a,{children:[Object(a.jsxs)(wn.a,{label:"resources.products.tabs.image",children:[Object(a.jsx)(_e.a,{source:"image",fullWidth:!0,validate:Object(Vr.b)()}),Object(a.jsx)(_e.a,{source:"thumbnail",fullWidth:!0,validate:Object(Vr.b)()})]}),Object(a.jsxs)(wn.a,{label:"resources.products.tabs.details",path:"details",children:[Object(a.jsx)(_e.a,{source:"reference",validate:Object(Vr.b)()}),Object(a.jsx)(Ae.a,{source:"price",validate:Object(Vr.b)(),className:t.price,InputProps:{startAdornment:Object(a.jsx)(xn.a,{position:"start",children:"\u20ac"})}}),Object(a.jsx)(Ae.a,{source:"width",validate:Object(Vr.b)(),className:t.width,formClassName:t.widthFormGroup,InputProps:{endAdornment:Object(a.jsx)(xn.a,{position:"start",children:"cm"})}}),Object(a.jsx)(Ae.a,{source:"height",validate:Object(Vr.b)(),className:t.height,formClassName:t.heightFormGroup,InputProps:{endAdornment:Object(a.jsx)(xn.a,{position:"start",children:"cm"})}}),Object(a.jsx)(Re.a,{source:"category_id",reference:"categories",allowEmpty:!0,children:Object(a.jsx)(qe.a,{source:"name"})}),Object(a.jsx)(Ae.a,{source:"stock",validate:Object(Vr.b)(),className:t.stock})]}),Object(a.jsx)(wn.a,{label:"resources.products.tabs.description",path:"description",children:Object(a.jsx)(pn.b,{source:"description",label:""})})]})}))},Nn=Object(C.a)((function(e){return{container:{display:"flex",flexDirection:"column",padding:"0 20px",width:350,"& > p":{fontSize:12,color:e.palette.text.primary,textAlign:"right"},"& .tui-editor-contents p":{color:"light"===e.palette.type?Object(b.e)(e.palette.text.primary,.38):Object(b.a)(e.palette.text.primary,.38)}},info:{padding:e.spacing(2,3),"& h1":{fontSize:18,color:e.palette.text.primary,fontWeight:"normal"},"& h2":{fontSize:14,color:"light"===e.palette.type?Object(b.e)(e.palette.text.primary,.38):Object(b.a)(e.palette.text.primary,.38),fontWeight:"normal"},"& .MuiFormControl-root":{margin:0,"& > div":{padding:0}}},details:{display:"flex",flexDirection:"column"},preview:{padding:e.spacing(2)},frame:{position:"relative",width:"100%",paddingBottom:"82.5%",background:e.palette.common.black,boxShadow:"0 10px 7px -5px rgba(0, 0, 0, 0.3)"},mat:{position:"absolute",background:e.palette.background.paper,top:"3.0303%",bottom:"3.0303%",left:"2.5%",right:"2.5%",boxShadow:"0px 0px 20px 0px rgba(0,0,0,0.5) inset"},art:{position:"absolute",top:"16.129%",bottom:"16.129%",left:"13.158%",right:"13.158%","& img":{width:"100%"}}}})),Tn=function(e){var t=e.record,r=t.image,c=t.height,n=t.width,s=t.price,o=t.reference,i=Nn();return Object(a.jsxs)("div",{className:i.container,children:[Object(a.jsx)("div",{className:i.preview,children:Object(a.jsx)("div",{className:i.frame,children:Object(a.jsx)("div",{className:i.mat,children:Object(a.jsx)("div",{className:i.art,children:Object(a.jsx)("img",{src:r,alt:""})})})})}),Object(a.jsxs)("div",{className:i.info,children:[Object(a.jsx)(k.a,{variant:"h1",children:o}),Object(a.jsxs)("div",{className:i.details,children:[Object(a.jsxs)(k.a,{variant:"caption",children:[n," x ",c," cm"]}),Object(a.jsxs)(k.a,{variant:"caption",children:[s,"\u20ac"]})]}),Object(a.jsx)(pn.a,{record:t,label:"",source:"description"})]})]})},Pn=function(e){var t=e.record;return t?Object(a.jsxs)("span",{children:["Poster #",t.reference]}):null},Rn=Object(C.a)(Object(i.a)(Object(i.a)({},kn),{},{comment:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:256},container:{display:"flex","& > :first-child":{flex:1,minWidth:"60%",maxWidth:"70%"},"& > :last-child":{width:"25%",flexShrink:0}},root:{padding:"0 !important",height:"100%",display:"flex",flexDirection:"column","& .tabbed-form":{display:"flex",flexDirection:"column",flex:1},"& .toolbar":{marginTop:"auto"}}})),qn=function(e){var t=e.children,r=Object(Ne.a)(e,["children"]),c=Rn();return Object(M.l)("catalog.products.edit",r),Object(a.jsx)(Qr.a,Object(i.a)(Object(i.a)({},r),{},{render:function(e){return Object(a.jsxs)("div",{className:c.container,children:[Object(a.jsx)(rt.a,{children:Object(a.jsx)(ne.a,{className:c.root,children:Object(a.jsx)(Ur.a,Object(i.a)(Object(i.a)({},e),{},{children:t}))})}),Object(a.jsx)("div",{"data-testid":"product-edit-preview",children:Object(a.jsx)(mn.a,{children:function(e){var t=e.formData;return Object(a.jsx)(Tn,{record:t})}})})]})}}))},An=function(e){var t=e.resource,r=e.record,c=Object(H.d)(t,r.id).data,n="todousername"===(null===c||void 0===c?void 0:c.identity);return Object(a.jsxs)(Xr.a,Object(i.a)(Object(i.a)({},e),{},{children:[Object(a.jsx)(Sc.a,{disabled:!n}),!n&&Object(a.jsx)(In,{identity:null===c||void 0===c?void 0:c.identity})]}))},Dn=Object(C.a)((function(e){return{root:{padding:e.spacing(0,1)}}})),In=function(e){var t=e.identity,r=e.variant,c=void 0===r?"body1":r,n=Dn(e);return Object(a.jsxs)(k.a,{className:n.root,variant:c,children:["This record is locked by another user: ",t,"."]})},Ln=function(e){var t=e.resource,r=e.id,c=Rn(),n=Object(Ha.a)();return Object(H.f)(t,r,"todousername",{onFailure:function(){n("ra-realtime.notification.lock.lockedBySomeoneElse")}}).loading?Object(a.jsx)(fn.a,{}):Object(a.jsx)(d.d,Object(i.a)(Object(i.a)({},e),{},{className:c.root,title:Object(a.jsx)(Pn,{}),actions:Object(a.jsx)(Da,{}),component:"div",children:Object(a.jsxs)(qn,{toolbar:Object(a.jsx)(An,{}),children:[Object(a.jsx)(vn,{}),Object(a.jsx)(_e.a,{source:"image",fullWidth:!0}),Object(a.jsx)(_e.a,{source:"thumbnail",fullWidth:!0}),Object(a.jsx)(hn.a,{label:"resources.products.tabs.description","data-tour-id":"description-tab",fullWidth:!0,children:Object(a.jsx)(pn.b,{source:"description",label:""})}),Object(a.jsxs)(hn.a,{label:"resources.products.tabs.details",fullWidth:!0,children:[Object(a.jsx)(_e.a,{source:"reference"}),Object(a.jsx)(Ae.a,{source:"price",className:c.price,InputProps:{startAdornment:Object(a.jsx)(xn.a,{position:"start",children:"\u20ac"})}}),Object(a.jsx)(Ae.a,{source:"width",className:c.width,formClassName:c.widthFormGroup,InputProps:{endAdornment:Object(a.jsx)(xn.a,{position:"start",children:"cm"})}}),Object(a.jsx)(Ae.a,{source:"height",className:c.height,formClassName:c.heightFormGroup,InputProps:{endAdornment:Object(a.jsx)(xn.a,{position:"start",children:"cm"})}}),Object(a.jsx)(Re.a,{source:"category_id",reference:"categories",children:Object(a.jsx)(qe.a,{source:"name"})}),Object(a.jsx)(Ae.a,{source:"stock",className:c.stock})]}),Object(a.jsx)(hn.a,{label:"resources.products.tabs.reviews",fullWidth:!0,children:Object(a.jsx)(On.a,{label:"",reference:"reviews",target:"product_id",pagination:Object(a.jsx)(Bn,{}),fullWidth:!0,children:Object(a.jsxs)(Bt.a,{children:[Object(a.jsx)(It.a,{source:"date"}),Object(a.jsx)(ma,{}),Object(a.jsx)(uc,{}),Object(a.jsx)($r.a,{source:"comment",cellClassName:c.comment}),Object(a.jsx)($r.a,{source:"status"}),Object(a.jsx)(yr.a,{})]})})})]})}))},Bn=function(e){e.addLabel,e.fullWidth;var t=Object(Ne.a)(e,["addLabel","fullWidth"]);return Object(a.jsx)(Ue.a,Object(i.a)({},t))},Mn={list:_t,create:Sn,edit:Ln,icon:bn.a},Fn=r(613),zn=function(e){return Object(a.jsxs)(Fn.b,Object(i.a)(Object(i.a)({},e),{},{children:[Object(a.jsx)($r.a,{source:"id"}),Object(a.jsx)(_e.a,{source:"city",autoFocus:!0}),Object(a.jsx)(_e.a,{source:"country"}),Object(a.jsx)(_e.a,{source:"address"}),Object(a.jsx)(At.a,{source:"created_at"})]}))},Un=function(e){return Object(a.jsx)(d.h,Object(i.a)(Object(i.a)({},e),{},{breadcrumb:Object(a.jsx)(E,{variant:"actions"})}))},En=r(938),Vn={icon:r.n(En).a,list:function(e){return Object(a.jsx)(d.g,Object(i.a)(Object(i.a)({},e),{},{actions:Object(a.jsx)(Un,{}),hasCreate:!0,empty:!1,perPage:25,children:Object(a.jsxs)(Fn.a,{"data-testid":"store-datagrid",rowClick:"edit",createForm:Object(a.jsx)(zn,{}),editForm:Object(a.jsx)(zn,{}),children:[Object(a.jsx)($r.a,{source:"id"}),Object(a.jsx)($r.a,{source:"city"}),Object(a.jsx)($r.a,{source:"country"}),Object(a.jsx)($r.a,{source:"address"}),Object(a.jsx)(It.a,{source:"created_at"})]})}))}},Wn=["compulsive","collector","ordered_once","regular","returns","reviewer"];Wn.map((function(e){return{id:e,name:(t=e,t.charAt(0).toUpperCase()+t.slice(1))};var t}));var Hn=function(e){var t=e.logout,r=e.onMenuClick,n=Gn(),s=Object(F.a)(),o=Object(c.useState)({sales:!1,catalog:!1,customers:!1,segments:!1,reviews:!1}),l=Object(V.a)(o,2),d=l[0],u=l[1],b=Object(W.f)((function(e){return e.admin.ui.sidebarOpen})),m=function(e){u((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(j.a)({},e,!t[e]))}))};return Object(a.jsx)("div",{className:n.menu,children:Object(a.jsxs)(M.g,{children:[Object(a.jsx)(M.e,{name:"dashboard",to:"/",exact:!0,label:"ra.page.dashboard",icon:Object(a.jsx)(G.a,{}),onClick:r}),Object(a.jsxs)(Jn,{icon:Object(a.jsx)(Mn.icon,{}),handleToggle:function(){return m("sales")},isOpen:d.sales,"data-testid":"commands-menu",sidebarIsOpen:b,label:s("pos.menu.sales"),children:[Object(a.jsx)(M.e,{name:"commands",to:"/commands",icon:Object(a.jsx)(Ma.icon,{}),onClick:r,label:s("resources.commands.name",{smart_count:2})}),Object(a.jsx)(M.e,{name:"invoices",to:"/invoices?filter={}",icon:Object(a.jsx)(un.icon,{}),onClick:r,label:s("resources.invoices.name",{smart_count:2})})]}),Object(a.jsxs)(Jn,{icon:Object(a.jsx)(Mn.icon,{}),handleToggle:function(){return m("catalog")},isOpen:d.catalog,sidebarIsOpen:b,label:s("pos.menu.catalog"),children:[Object(a.jsx)(M.e,{name:"products",to:"/products",icon:Object(a.jsx)(Mn.icon,{}),onClick:r,label:s("resources.products.name",{smart_count:2})}),Object(a.jsx)(M.e,{name:"categories",to:"/categories/5",icon:Object(a.jsx)(Pt.icon,{}),onClick:r,label:s("resources.categories.name",{smart_count:2})})]}),Object(a.jsxs)(Jn,{icon:Object(a.jsx)(en.icon,{}),handleToggle:function(){return m("customers")},isOpen:d.customers,sidebarIsOpen:b,label:s("pos.menu.customers"),children:[Object(a.jsx)(M.e,{className:n.noIconPadding,name:"customers.all_customers",to:"/customers?filter={}",onClick:r,label:s("pos.menu.all_customers",{smart_count:2})}),Object(a.jsx)(M.e,{className:n.noIconPadding,name:"customers.newcomers",to:"/customers?filter=".concat(JSON.stringify(Kn)),onClick:r,label:s("pos.menu.new_customers",{smart_count:2})}),Object(a.jsx)(M.e,{className:n.noIconPadding,name:"customers.visitors",to:"/customers?filter=".concat(JSON.stringify(Yn)),onClick:r,label:s("pos.menu.visitors",{smart_count:2})}),Object(a.jsx)(Jn,{icon:Object(a.jsx)(en.icon,{}),handleToggle:function(){return m("segments")},isOpen:d.segments,sidebarIsOpen:b,label:s("resources.segments.name"),children:Wn.map((function(e){return Object(a.jsx)(M.e,{className:n.noIconPadding,name:"segments.".concat(e),to:'/customers?filter={"groups": "'.concat(e,'"}'),onClick:r,label:s("resources.segments.data.".concat(e),{smart_count:2})},e)}))})]}),Object(a.jsxs)(Jn,{icon:Object(a.jsx)(zc.icon,{}),handleToggle:function(){return m("reviews")},isOpen:d.reviews,sidebarIsOpen:b,label:s("resources.reviews.name",{smart_count:2}),children:[Object(a.jsx)(M.e,{name:"reviews.all",to:"/reviews?filter={}",icon:Object(a.jsx)(X.a,{}),onClick:r,label:"pos.menu.all_reviews"}),Object(a.jsx)(M.e,{name:"reviews.pending",to:'/reviews?filter={"status": "pending"}',icon:Object(a.jsx)($.a,{}),onClick:r,label:"pos.menu.pending_reviews"}),Object(a.jsx)(M.e,{name:"reviews.bad",to:'/reviews?filter={"rating_lte": "2"}',icon:Object(a.jsx)(te.a,{}),onClick:r,label:"pos.menu.bad_reviews"})]}),Object(a.jsx)(M.e,{name:"stores",to:"/stores",icon:Object(a.jsx)(Vn.icon,{}),onClick:r,label:s("resources.stores.name",{smart_count:2})}),Object(a.jsx)(M.e,{name:"tours",to:"/tours",icon:Object(a.jsx)(P.a,{}),onClick:r,label:"Tours"}),Object(a.jsx)(M.e,{name:"events",to:"/events",icon:Object(a.jsx)(Y.a,{}),onClick:r,label:s("resources.events.name",{smart_count:2})}),Object(a.jsx)("span",{style:{paddingLeft:8},children:t})]})})},Jn=function(e){var t=e.handleToggle,r=e.sidebarIsOpen,c=e.isOpen,n=e.icon,s=e.label,o=e.children,i=e.dense,l=void 0!==i&&i,d=Gn(),u=Object(a.jsxs)(le.a,{className:d.subMenuItem,dense:l,button:!0,onClick:t,children:[Object(a.jsx)(de.a,{className:d.icon,children:c?Object(a.jsx)(ie.a,{}):n}),Object(a.jsx)(k.a,{variant:"inherit",color:"textSecondary",children:s})]});return Object(a.jsxs)(a.Fragment,{children:[r||c?u:Object(a.jsx)(ue.a,{title:s,placement:"right",children:u}),Object(a.jsx)(je.a,{in:c,timeout:"auto",unmountOnExit:!0,children:Object(a.jsx)(be.a,{className:d.subMenuContainer,dense:l,component:"div",disablePadding:!0,children:o})})]})},Gn=Object(C.a)((function(e){return{menu:{minWidth:"50vw"},icon:{minWidth:e.spacing(5),display:"inline-flex",alignItems:"center",justifyContent:"center"},subMenuItem:{padding:"".concat(e.spacing(1.5),"px ").concat(e.spacing(2),"px")},subMenuContainer:{paddingLeft:e.spacing(1.5)},noIconPadding:{paddingLeft:e.spacing(1)}}})),Kn={last_seen_gte:"2020-07-31T22:00:00.000Z"},Yn={nb_commands_lte:0},Qn=Object(ce.a)((function(e){return{badge:{top:13,right:13,border:"1px solid ".concat(e.palette.background.paper),padding:"0 4px"}}}))(N.a),Xn=function(e){var t=e.logout,r=e.onMenuClick;return Object(W.f)((function(e){return e.theme})),Object(D.a)((function(e){return e.breakpoints.down("xs")}))?Object(a.jsx)(Hn,{logout:t,onMenuClick:r}):Object(a.jsx)(Zn,{onMenuClick:r})},Zn=function(e){var t=e.onMenuClick,r=Object(F.a)(),n=function(e){var t=Object(M.j)(),r=Object(M.m)(),a=Object(c.useState)(0),n=Object(V.a)(a,2),s=n[0],o=n[1];return Object(H.g)(e,(function(a){var c=a.payload;if(c&&c.ids){var n=c.ids.length;if(r&&t(e)){var s=(r&&(r.values||{})).record;if(!s||null==s.id)return;n=c.ids.filter((function(e){return e!==s.id})).length}n&&o((function(e){return e+n}))}})),Object(c.useEffect)((function(){t(e)&&o(0)}),[t,e]),s}("commands");return Object(a.jsxs)(M.g,{variant:"categories",children:[Object(a.jsx)(M.f,{name:"dashboard",to:"/",exact:!0,icon:Object(a.jsx)(G.a,{}),onClick:t,label:"ra.page.dashboard"}),Object(a.jsx)(Qn,{badgeContent:n,color:"primary",children:Object(a.jsx)(M.f,{name:"sales",icon:Object(a.jsx)(Mn.icon,{}),onClick:t,label:r("pos.menu.sales",{smart_count:1}),"data-testid":"commands-menu",children:Object(a.jsxs)(ne.a,{children:[Object(a.jsx)(k.a,{variant:"h6",gutterBottom:!0,children:r("pos.menu.sales",{smart_count:1})}),Object(a.jsxs)(M.d,{children:[Object(a.jsx)(Qn,{badgeContent:n,color:"primary",children:Object(a.jsx)(M.e,{name:"commands",to:"/commands",icon:Object(a.jsx)(Ma.icon,{}),onClick:t,label:r("resources.commands.name",{smart_count:2})})}),Object(a.jsx)(M.e,{name:"invoices",to:"/invoices?filter={}",icon:Object(a.jsx)(un.icon,{}),onClick:t,label:r("resources.invoices.name",{smart_count:2})})]})]})})}),Object(a.jsx)(M.f,{name:"catalog",icon:Object(a.jsx)(Mn.icon,{}),onClick:t,label:r("pos.menu.catalog",{smart_count:1}),children:Object(a.jsx)(ne.a,{children:Object(a.jsx)(es,{onMenuClick:t})})}),Object(a.jsx)(M.f,{name:"customers",icon:Object(a.jsx)(en.icon,{}),onClick:t,label:r("pos.menu.customers",{smart_count:2}),children:Object(a.jsx)($n,{onMenuClick:t})}),Object(a.jsx)(M.f,{name:"reviews",icon:Object(a.jsx)(zc.icon,{}),onClick:t,label:r("resources.reviews.name",{smart_count:2}),children:Object(a.jsxs)(ne.a,{children:[Object(a.jsx)(k.a,{variant:"h6",gutterBottom:!0,children:r("resources.reviews.name",{smart_count:2})})," ",Object(a.jsxs)(M.d,{children:[Object(a.jsx)(M.e,{name:"reviews.all",to:"/reviews?filter={}",icon:Object(a.jsx)(X.a,{}),onClick:t,label:"pos.menu.all_reviews"}),Object(a.jsx)(M.e,{name:"reviews.pending",to:'/reviews?filter={"status": "pending"}',icon:Object(a.jsx)($.a,{}),onClick:t,label:"pos.menu.pending_reviews"}),Object(a.jsx)(M.e,{name:"reviews.bad",to:'/reviews?filter={"rating_lte": "2"}',icon:Object(a.jsx)(te.a,{}),onClick:t,label:"pos.menu.bad_reviews"})]})]})}),Object(a.jsx)(M.f,{name:"stores",to:"/stores",icon:Object(a.jsx)(Vn.icon,{}),onClick:t,label:r("resources.stores.name",{smart_count:2})}),Object(a.jsx)(M.f,{name:"events",to:"/events",icon:Object(a.jsx)(Y.a,{}),onClick:t,label:r("resources.events.name",{smart_count:2})})]})},$n=function(e){var t=e.onMenuClick,r=Object(F.a)(),c=ts("customers");return Object(a.jsx)(ne.a,{children:Object(a.jsxs)(se.a,{display:"flex",justifyContent:"space-between",children:[Object(a.jsxs)(se.a,{marginRight:2,children:[Object(a.jsx)(k.a,{variant:"h6",gutterBottom:!0,children:r("resources.customers.name",{smart_count:2})}),Object(a.jsxs)(M.d,{children:[Object(a.jsx)(M.e,{name:"customers.all_customers",to:"/customers?filter={}",onClick:t,label:r("pos.menu.all_customers",{smart_count:2})}),Object(a.jsx)(M.e,{name:"customers.newcomers",to:"/customers?filter=".concat(JSON.stringify(Kn)),onClick:t,label:r("pos.menu.new_customers",{smart_count:2})}),Object(a.jsx)(M.e,{name:"customers.visitors",to:"/customers?filter=".concat(JSON.stringify(Yn)),onClick:t,label:r("pos.menu.visitors",{smart_count:2})})]}),Object(a.jsx)(k.a,{variant:"h6",gutterBottom:!0,children:r("resources.segments.name",{smart_count:2})}),Object(a.jsx)(M.d,{children:Wn.map((function(e){return Object(a.jsx)(M.e,{name:"segments.".concat(e),to:'/customers?filter={"groups": "'.concat(e,'"}'),onClick:t,label:r("resources.segments.data.".concat(e),{smart_count:2})},e)}))})]}),c.length>0&&Object(a.jsxs)(se.a,{children:[Object(a.jsx)(k.a,{variant:"h6",gutterBottom:!0,children:r("pos.menu.my_queries",{smart_count:1})}),Object(a.jsx)(M.d,{children:c.map((function(e){var r=e.label,c=e.to;return Object(a.jsx)(M.e,{name:"customers",to:c,onClick:t,label:r},r)}))})]})]})})},es=function(e){var t=e.onMenuClick,r=Object(F.a)(),c=ts("products");return Object(a.jsxs)(se.a,{display:"flex",justifyContent:"space-between",children:[Object(a.jsxs)(se.a,{marginRight:c.length>0?2:0,children:[Object(a.jsx)(k.a,{variant:"h6",gutterBottom:!0,children:r("pos.menu.catalog",{smart_count:1})}),Object(a.jsxs)(M.d,{children:[Object(a.jsx)(M.e,{name:"products",to:"/products",icon:Object(a.jsx)(Mn.icon,{}),onClick:t,label:r("resources.products.name",{smart_count:2})}),Object(a.jsx)(M.e,{name:"categories",to:"/categories/5",icon:Object(a.jsx)(Pt.icon,{}),onClick:t,label:r("resources.categories.name",{smart_count:2})})]})]}),c.length>0&&Object(a.jsxs)(se.a,{children:[Object(a.jsx)(k.a,{variant:"h6",gutterBottom:!0,children:r("pos.menu.my_queries",{smart_count:1})}),Object(a.jsx)(M.d,{children:c.map((function(e){var r=e.label,c=e.to;return Object(a.jsx)(M.e,{name:"products",to:c,onClick:t,label:r},r)}))})]})]})},ts=function(e){var t=Object(A.i)(e);return Object(V.a)(t,1)[0].map((function(t){var r,a,c=t.label,n=t.value;return{label:c,to:"/".concat(e,"?").concat(ae.a.stringify({filter:JSON.stringify(n.filter),sort:null===n||void 0===n||null===(r=n.sort)||void 0===r?void 0:r.field,order:null===n||void 0===n||null===(a=n.sort)||void 0===a?void 0:a.order,page:1,perPage:n.perPage,displayedFilters:n.displayedFilters}))}}))},rs=r(939),as=function(e){return Object(a.jsx)(d.f,Object(i.a)(Object(i.a)({},e),{},{appBar:B,menu:Xn,tours:rs.a}))},cs=r(39),ns=r(2114),ss=r(487),os=r(966),is=r(2112),ls=r(447),ds=r.n(ls),us=r(2113),js=r(470),bs=Object(C.a)((function(e){return{main:{display:"flex",flexDirection:"column",minHeight:"100vh",alignItems:"center",justifyContent:"flex-start",background:"url(https://source.unsplash.com/random/1600x900)",backgroundRepeat:"no-repeat",backgroundSize:"cover"},card:{minWidth:300,marginTop:"6em"},avatar:{margin:"1em",display:"flex",justifyContent:"center"},icon:{backgroundColor:e.palette.secondary.main},hint:{marginTop:"1em",display:"flex",justifyContent:"center",color:e.palette.grey[500]},form:{padding:"0 1em 1em 1em"},input:{marginTop:"1em"},actions:{padding:"0 1em 1em 1em"}}})),ms=function(e){var t=e.meta,r=(t=void 0===t?{touched:!1,error:void 0}:t).touched,c=t.error,n=Object.assign({},e.input),s=Object(Ne.a)(e,["meta","input"]);return Object(a.jsx)(ss.a,Object(i.a)(Object(i.a)(Object(i.a)({error:!(!r||!c),helperText:r&&c},n),s),{},{fullWidth:!0}))},Os=Object(cs.g)().Form,ps=function(){var e=Object(c.useState)(!1),t=Object(V.a)(e,2),r=t[0],n=t[1],s=Object(F.a)(),o=bs(),i=Object(Ha.a)(),l=Object(us.a)(),d=Object(R.h)();return Object(a.jsx)(Os,{onSubmit:function(e){n(!0),l(e,d.state?d.state.nextPathname:"/").catch((function(e){n(!1),i("string"===typeof e?e:"undefined"!==typeof e&&e.message?e.message:"ra.auth.sign_in_error","warning")}))},validate:function(e){var t={};return e.username||(t.username=s("ra.validation.required")),e.password||(t.password=s("ra.validation.required")),t},render:function(e){var t=e.handleSubmit;return Object(a.jsx)("form",{onSubmit:t,noValidate:!0,children:Object(a.jsxs)("div",{className:o.main,children:[Object(a.jsxs)(rt.a,{className:o.card,children:[Object(a.jsx)("div",{className:o.avatar,children:Object(a.jsx)(jr.a,{className:o.icon,children:Object(a.jsx)(ds.a,{})})}),Object(a.jsx)("div",{className:o.hint,children:"Hint: demo / demo"}),Object(a.jsxs)("div",{className:o.form,children:[Object(a.jsx)("div",{className:o.input,children:Object(a.jsx)(cs.a,{name:"username",component:ms,label:s("ra.auth.username"),disabled:r})}),Object(a.jsx)("div",{className:o.input,children:Object(a.jsx)(cs.a,{name:"password",component:ms,label:s("ra.auth.password"),type:"password",disabled:r})})]}),Object(a.jsx)(ns.a,{className:o.actions,children:Object(a.jsxs)(Tc.a,{variant:"contained",type:"submit",color:"primary",disabled:r,fullWidth:!0,children:[r&&Object(a.jsx)(fn.a,{size:25,thickness:2}),s("ra.auth.sign_in")]})})]}),Object(a.jsx)(js.a,{})]})})}})},hs=function(e){var t=Object(na.a)(),r=f(t).lightTheme;return Object(a.jsx)(is.a,{theme:Object(os.a)(r),children:Object(a.jsx)(ps,Object(i.a)({},e))})},fs=r(2110),xs=r(481),gs=r(473),vs=r(276),ys=r.n(vs),ws=r(2109),_s=Object(c.forwardRef)((function(e,t){var r=e.data,c=e.onClick,n=Object(Ne.a)(e,["data","onClick"]);return Object(a.jsx)(ws.a,Object(i.a)({component:q.a,to:r.url,onClick:c,ref:t},n))}));_s.displayName="SearchListItemLink";var ks=function(e){var t=e.data,r=e.onClick,c=t.content,n=Cs(),s=Object(F.a)();return c?Object(a.jsxs)($a.a,{button:!0,component:_s,data:t,onClick:r,alignItems:"flex-start",children:[Object(a.jsx)(ec.a,{className:n.avatar,children:Object(a.jsx)(jr.a,{alt:c.reference,children:Object(a.jsx)(ys.a,{fontSize:"large"})})}),Object(a.jsx)(an.a,{className:n.root,container:!0,spacing:2,children:Object(a.jsxs)(an.a,{container:!0,item:!0,xs:!0,children:[Object(a.jsx)(an.a,{item:!0,xs:8,children:Object(a.jsxs)(k.a,{variant:"body1",color:"textPrimary",gutterBottom:!0,children:["Ref. ",c.reference]})}),Object(a.jsx)(an.a,{item:!0,xs:4,children:Object(a.jsx)(Ss,{status:c.status})}),Object(a.jsx)(an.a,{item:!0,xs:12,children:Object(a.jsxs)(k.a,{variant:"body2",color:"textPrimary",gutterBottom:!0,children:[new Date(c.date).toLocaleDateString(),"\xa0-\xa0","".concat(c.customer.first_name," ").concat(c.customer.last_name),"\xa0-\xa0","".concat(s("resources.commands.fields.basket.total")," ").concat(c.total),"\u20ac"]})})]})})]}):null},Cs=Object(C.a)((function(e){return{avatar:{marginLeft:e.spacing(1),marginRight:e.spacing(1),"& svg":{width:30,height:30}},root:{padding:e.spacing(1,0)},total:{fontWeight:e.typography.fontWeightBold}}})),Ss=function(e){var t,r=e.status,c=Ns();return Object(a.jsx)("div",{className:Ut()(c.root,(t={},Object(j.a)(t,c.ordered,"ordered"===r),Object(j.a)(t,c.delivered,"delivered"===r),Object(j.a)(t,c.cancelled,"cancelled"===r),t)),children:Object(a.jsx)(k.a,{className:c.status,variant:"caption",children:r})})},Ns=Object(C.a)((function(e){return{root:{maxWidth:64,padding:e.spacing(.25,1),borderRadius:e.shape.borderRadius,textAlign:"center"},ordered:{backgroundColor:Object(b.e)(gs.a[300],.3),color:e.palette.getContrastText(Object(b.e)(gs.a[300],.3))},delivered:{backgroundColor:Object(b.e)(e.palette.success.main,.3),color:e.palette.getContrastText(Object(b.e)(e.palette.success.main,.3))},cancelled:{backgroundColor:Object(b.e)(e.palette.error.main,.3),color:e.palette.getContrastText(Object(b.e)(e.palette.error.main,.3))},status:{color:"inherit",textTransform:"capitalize"}}})),Ts=Object(C.a)((function(e){return{root:{borderRadius:"3px",padding:5,width:100,"&:hover":{backgroundColor:e.palette.background.default}},link:{color:"inherit","&:hover":{textDecoration:"none"}}}}),{name:"RaLinkedData"}),Ps=function(e){var t=e.children,r=e.label,c=e.icon,n=e.to,s=Object(Ne.a)(e,["children","label","icon","to"]),o=Ts();return Object(a.jsx)(ws.a,{component:q.a,to:n,className:o.link,children:Object(a.jsxs)(se.a,Object(i.a)(Object(i.a)({component:"li",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",className:o.root},s),{},{children:[Object(a.jsxs)(se.a,{display:"flex",alignItems:"center",children:[Object(a.jsx)(se.a,{marginRight:1,children:c}),Object(a.jsx)(k.a,{component:"span",children:t})]}),Object(a.jsx)(k.a,{variant:"caption",children:r})]}))})},Rs={component:"div"},qs=function(e){var t=e.data,r=e.onClick,c=t.content,n=As(),s=Object(F.a)();if(!c)return null;var o="".concat(c.first_name," ").concat(c.last_name);return Object(a.jsxs)($a.a,{button:!0,component:_s,data:t,onClick:r,alignItems:"flex-start",className:n.root,"data-testid":"customer",children:[Object(a.jsx)(ec.a,{className:n.avatar,children:Object(a.jsx)(jr.a,{alt:o,src:c.avatar})}),Object(a.jsx)(tc.a,{primary:Object(a.jsx)(k.a,{color:"textPrimary",children:o}),secondary:Object(a.jsxs)(se.a,{component:"ul",display:"flex",justifyContent:"flex-start",padding:0,marginTop:1,marginBottom:1,children:[c.pending_orders>0?Object(a.jsx)(Ps,{icon:Object(a.jsx)(ys.a,{}),label:s("resources.commands.name",{smart_count:2}),to:'/commands?filter=%7B"status"%3A"ordered"%2C"customer_id"%3A'.concat(c.id,"%7D"),children:c.pending_orders}):null,c.total_spent>0?Object(a.jsx)(Ps,{icon:Object(a.jsx)(it.a,{}),label:s("resources.customers.fields.total_spent"),to:'/commands?filter=%7B"status"%3A"delivered"%2C"customer_id"%3A'.concat(c.id,"%7D"),children:c.total_spent.toLocaleString()}):null,c.reviews>0?Object(a.jsx)(Ps,{icon:Object(a.jsx)(za.a,{}),label:s("resources.reviews.name",{smart_count:2}),to:'/reviews?filter=%7B"customer_id"%3A'.concat(c.id,"%7D"),children:c.reviews}):null]}),secondaryTypographyProps:Rs})]})},As=Object(C.a)((function(e){return{root:{textDecoration:"none","&:hover":{textDecoration:"none"},"& a":{textDecoration:"none"},"& a:hover":{textDecoration:"none"}},avatar:{marginLeft:e.spacing(1),marginRight:e.spacing(1),"& img":{width:50,height:50}}}})),Ds={component:"div"},Is=function(e){var t=e.data,r=e.onClick,c=t.content,n=Ls(),s=Object(F.a)();return c?Object(a.jsxs)($a.a,{button:!0,component:_s,data:t,onClick:r,alignItems:"flex-start",className:n.root,children:[Object(a.jsx)(ec.a,{className:n.avatar,children:Object(a.jsx)("div",{className:n.art,children:Object(a.jsx)("img",{src:c.thumbnail,alt:c.reference})})}),Object(a.jsx)(tc.a,{primary:Object(a.jsx)(k.a,{color:"textPrimary",children:c.reference}),secondary:c.reviews>0?Object(a.jsx)(se.a,{component:"ul",display:"flex",justifyContent:"space-between",padding:0,marginTop:1,marginBottom:1,children:Object(a.jsx)(Ps,{icon:Object(a.jsx)(za.a,{}),label:s("resources.reviews.name",{smart_count:2}),to:'/reviews?filter=%7B"product_id"%3A'.concat(c.id,"%7D"),children:c.reviews})}):void 0,secondaryTypographyProps:Ds})]}):null},Ls=Object(C.a)((function(e){return{root:{textDecoration:"none","&:hover":{textDecoration:"none"},"& a":{textDecoration:"none"},"& a:hover":{textDecoration:"none"}},avatar:{width:64,height:64,paddingRight:e.spacing(2)},mat:{background:e.palette.background.paper,boxShadow:"0px 0px 8px 0px rgba(0,0,0,0.5) inset"},art:{"& img":{width:"100%"}}}})),Bs=r(2181),Ms={component:"div"},Fs=function(e){var t=e.data,r=e.onClick,c=Es(),n=t.content;return n?Object(a.jsxs)($a.a,{button:!0,component:_s,data:t,onClick:r,alignItems:"flex-start",children:[Object(a.jsx)(ec.a,{className:c.avatar,children:Object(a.jsx)(jr.a,{alt:n.reference,children:Object(a.jsx)(za.a,{fontSize:"large"})})}),Object(a.jsx)(tc.a,{primary:Object(a.jsx)(Bs.a,{value:n.rating,readOnly:!0}),secondary:Object(a.jsx)(zs,{comment:n.comment}),secondaryTypographyProps:Ms})]}):null},zs=function(e){var t=e.comment;return Object(a.jsx)("div",{children:t.length<=200?Object(a.jsx)(k.a,{variant:"caption",color:"textPrimary",children:t}):Object(a.jsx)(ue.a,{title:t,children:Object(a.jsx)(k.a,{variant:"caption",color:"textPrimary",children:Us(t,200)})})})};function Us(e,t){return e.length<=t?e:e.slice(0,t)+"..."}var Es=Object(C.a)((function(e){return{avatar:{width:64,height:64,paddingRight:e.spacing(2),"& > *":{width:"100%",height:"100%"}}}})),Vs=function(e){return Object(a.jsx)("div",{"data-testid":"search",children:Object(a.jsx)(xs.a,Object(i.a)(Object(i.a)({},e),{},{children:Object(a.jsx)(Ws,{})}))})},Ws=function(e){var t=Object(F.a)(),r=Hs(e),n=Object(xs.c)(),s=n.data,o=n.onClose;if(!s||0===s.length)return Object(a.jsx)(be.a,Object(i.a)(Object(i.a)({"data-testid":"search-panel",dense:!0},e),{},{children:Object(a.jsx)($a.a,{children:Object(a.jsx)(tc.a,{primary:t("ra.navigation.no_results")})})}));var l=Object(xs.b)(s,t);return Object(a.jsx)(be.a,Object(i.a)(Object(i.a)({"data-testid":"search-panel",dense:!0,className:r.root},e),{},{children:l.map((function(e){return Object(a.jsxs)(c.Fragment,{children:[Object(a.jsx)(fs.a,{role:"presentation",className:r.header,disableSticky:!0,children:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(k.a,{className:r.headerGroup,variant:"subtitle1",children:t(e.label.toString(),{_:e.label})}),Object(a.jsx)(k.a,{className:r.headerCount,variant:"subtitle1",children:t("ra-search.result",{smart_count:e.data.length})})]})}),e.data.map((function(e){return Object(a.jsx)(Js,{data:e,onClose:o},e.id)}))]},e.label)}))}))},Hs=Object(C.a)((function(e){return{root:{maxHeight:"calc(100vh - 100px)",maxWidth:512,overflowX:"hidden"},header:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:e.spacing(1,2)},headerGroup:{textTransform:"capitalize"},headerCount:{textTransform:"lowercase"}}})),Js=function(e){var t=e.data,r=e.onClose,c=Object(Ne.a)(e,["data","onClose"]);if(!t)return null;switch(t.type){case"customers":return Object(a.jsx)(qs,Object(i.a)(Object(i.a)({},c),{},{data:t,onClick:r}));case"products":return Object(a.jsx)(Is,Object(i.a)(Object(i.a)({},c),{},{data:t,onClick:r}));case"commands":return Object(a.jsx)(ks,Object(i.a)(Object(i.a)({},c),{},{data:t,onClick:r}));case"reviews":return Object(a.jsx)(Fs,Object(i.a)(Object(i.a)({},c),{},{data:t,onClick:r}));default:return null}},Gs=r(25),Ks=r.n(Gs),Ys=r(41),Qs=r(167),Xs=r(140),Zs=function(e){var t=e.records,r=Object(F.a)();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(vr.a,{title:r("pos.dashboard.timeline")}),Object(a.jsx)(u.b,{loaded:void 0!==t,records:t})]})},$s=r(943),eo=r.n($s),to=r(944),ro=r.n(to),ao=r.p+"static/media/welcome_illustration.cd84d2be.svg",co=Object(C.a)((function(e){return{root:{background:"dark"===e.palette.type?"#535353":"linear-gradient(to right, #8975fb 0%, #746be7 35%), linear-gradient(to bottom, #8975fb 0%, #6f4ceb 50%), #6f4ceb",color:"#fff",padding:20,marginTop:e.spacing(2),marginBottom:"1em"},media:{background:"url(".concat(ao,") top right / cover"),marginLeft:"auto"},actions:Object(j.a)({},e.breakpoints.down("md"),{padding:0,flexWrap:"wrap","& a":{marginTop:"1em",marginLeft:"0!important",marginRight:"1em"}})}})),no=function(){var e=Object(F.a)(),t=co();return Object(a.jsx)(rt.a,{className:t.root,children:Object(a.jsxs)(se.a,{display:"flex",children:[Object(a.jsxs)(se.a,{flex:"1",children:[Object(a.jsx)(k.a,{variant:"h5",component:"h2",gutterBottom:!0,children:e("pos.dashboard.welcome.title")}),Object(a.jsx)(se.a,{maxWidth:"50em",children:Object(a.jsx)(k.a,{variant:"body1",component:"p",gutterBottom:!0,children:e("pos.dashboard.welcome.subtitle")})}),Object(a.jsxs)(ns.a,{className:t.actions,children:[Object(a.jsx)(Tc.a,{variant:"contained",href:"#/tours",startIcon:Object(a.jsx)(P.a,{}),children:e("pos.dashboard.welcome.demo_button")}),Object(a.jsx)(Tc.a,{variant:"contained",href:"https://marmelab.com/ra-enterprise/",startIcon:Object(a.jsx)(eo.a,{}),children:e("pos.dashboard.welcome.ra_button")}),Object(a.jsx)(Tc.a,{variant:"contained",href:"https://github.com/marmelab/ra-enterprise-demo",target:"demo_source_code",startIcon:Object(a.jsx)(ro.a,{}),children:e("pos.dashboard.welcome.github_button")})]})]}),Object(a.jsx)(se.a,{display:{xs:"none",sm:"none",md:"block"},className:t.media,width:"16em",height:"9em",overflow:"hidden"})]})})},so=Object(C.a)((function(e){return{card:{minHeight:52,flex:"1","& a":{textDecoration:"none",color:"inherit"}},main:{overflow:"inherit",padding:16,background:"url(".concat("dark"===e.palette.type?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAABZCAMAAAD//SY8AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAO1QTFRFU1NTU1NTUFBQAAAAUVFRUVFRU1NTT09PU1NTR0dHUlJSTk5OUlJSUVFRUlJSTk5OU1NTT09PS0tLU1NTUVFRUVFRU1NTUVFRUlJSUVFRS0tLUFBQUVFRUVFRUVFRUVFRQEBAUVFRU1NTU1NTU1NTU1NTU1NTU1NTSUlJUFBQU1NTUlJSUVFRTk5OT09PUVFRSkpKUVFRU1NTU1NTTk5OT09PUlJSTU1NUVFRU1NTSEhIU1NTUVFRUVFRUVFROzs7U1NTU1NTUlJSKysrU1NTUlJSRkZGU1NTTU1NU1NTUlJSUVFRUVFRU1NTSUlJap2IRgAAAE90Uk5T/+EzAOw57TfnK9cXvptwO86KPcVl43LiZMk6kuY/hcYIPGmRs+TzJQ6QzIzTSISuLcdNz1xar0nliCepUvtfDdiUTgbRmSFvVqO4ytnwFVkGdGQAAAKuSURBVHic7d3XVhRBGEXhAoExoZjGBKKCcVTMWcxK9P0fxwvvq6u7z79OlezvCeqsvYABOqSkMDd/DO2QNE9pYdE9BOVE0dPSxL0ExVTR0/ET7ikoJYueTp5yb0EhXfR02r0FhYTR07J7DMooo6cz7jUoIo2ezrrnoIQ2+op7Dkpoo6dz7j0oII6ezrsHoZs6+gX3IHRTR08X3YvQSR79knsROsmjp6l7Erroo192T0IXffR0xb0JHQKiX3VvQoeA6OmaexTyIqJfd49CXkT0Vfco5EVET2vuVcgKiX7DvQpZIdHX3auQFRI93XTPQk5M9FvuWciJiX7bPQs5MdE33LOQExN90z0LOTHRuUCyajHR77hnIScm+l33LOTERE/uWcgh+hFE9CMopjk/06sWE51P71WLic7v6VWLic5f5KoWE33DPQs5MdH5L1vVYqLz//SqxUTnypmqhTTnGrm6hUTnati6hUTnuve6RTTnDpfKRUTnXrbKRUTnrtXKBTTn/vTaBUTnSRS10zfnmTPV00fn6VLVkzfnOXL1k0fniZH1Uzfn2bANUEfnKdANEDfnee8t0DbngsgmaKPzDpcmSJvztqY2KJvzXrZGCJvzBsZW6JrzrtVmyJrzVuV2qJrz/vSGiJovLLqHoJym+dy8ewd6kDRfueeegT4UzTfvu1egF0HzB+4N6Gl8c66aaM7Y5A/5CNeekc1n7vNjgFHJHz12Hx9DjGn+xH14DDM8+dZT99kx0NDkz567T47BhiV/8dJ9boww6Kv8lfvUGKV/8tdv3GfGSD2Lv3333n1ijNYr+YeP7uNCoTj4p63tz+7DQqOs+Jev3767TwqZ7uA/fm7/cp8SUrncS+vLv9f4nv7/SZOd6Wx3b/9g9fBf6cPVg/293dl0Z/LHfTYE+Qucis5DBf5HsAAAAABJRU5ErkJggg==":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAABZCAMAAAD//SY8AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAO1QTFRF/Ors/Ojs+ubrAAAA/Ojs++np/Ojs9ujo/Onq8+Hh+urr9Onp++rr/Orq+Obr++Xl+urq+enr++bm+uns+ubr/Ors++nr/Ors+ubr+ujs++Xl/Ofs/Orq++fr+ers+ujsv7+/++rq+Ofs+urs++rq/Ors/Onq8d3j7dvb+urs+urr+ufr+ujs+Orq+ers++js9OPj+ujs/Ojo+unq9+ns9+bo++jr/Ofn/Orr+enp8uXl/Orq/Obm/Ors+urq2NjY+urr/Onp/OXo1dXV+ujq/Ojr8Ojo+Obo9uTn/Ojr++ns+urr+urq/Ors8+fnTQPn1wAAAE90Uk5T/+EzAOw57TfnK9cXvptwO86KPcVl43LiZMk6kuY/hcYIPGmRs+TzJQ6QzIzTSISuLcdNz1xar0nliCepUvtfDdiUTgbRmSFvVqO4ytnwFVkGdGQAAAKuSURBVHic7d3XVhRBGEXhAoExoZjGBKKCcVTMWcxK9P0fxwvvq6u7z79OlezvCeqsvYABOqSkMDd/DO2QNE9pYdE9BOVE0dPSxL0ExVTR0/ET7ikoJYueTp5yb0EhXfR02r0FhYTR07J7DMooo6cz7jUoIo2ezrrnoIQ2+op7Dkpoo6dz7j0oII6ezrsHoZs6+gX3IHRTR08X3YvQSR79knsROsmjp6l7Erroo192T0IXffR0xb0JHQKiX3VvQoeA6OmaexTyIqJfd49CXkT0Vfco5EVET2vuVcgKiX7DvQpZIdHX3auQFRI93XTPQk5M9FvuWciJiX7bPQs5MdE33LOQExN90z0LOTHRuUCyajHR77hnIScm+l33LOTERE/uWcgh+hFE9CMopjk/06sWE51P71WLic7v6VWLic5f5KoWE33DPQs5MdH5L1vVYqLz//SqxUTnypmqhTTnGrm6hUTnati6hUTnuve6RTTnDpfKRUTnXrbKRUTnrtXKBTTn/vTaBUTnSRS10zfnmTPV00fn6VLVkzfnOXL1k0fniZH1Uzfn2bANUEfnKdANEDfnee8t0DbngsgmaKPzDpcmSJvztqY2KJvzXrZGCJvzBsZW6JrzrtVmyJrzVuV2qJrz/vSGiJovLLqHoJym+dy8ewd6kDRfueeegT4UzTfvu1egF0HzB+4N6Gl8c66aaM7Y5A/5CNeekc1n7vNjgFHJHz12Hx9DjGn+xH14DDM8+dZT99kx0NDkz567T47BhiV/8dJ9boww6Kv8lfvUGKV/8tdv3GfGSD2Lv3333n1ijNYr+YeP7uNCoTj4p63tz+7DQqOs+Jev3767TwqZ7uA/fm7/cp8SUrncS+vLv9f4nv7/SZOd6Wx3b/9g9fBf6cPVg/293dl0Z/LHfTYE+Qucis5DBf5HsAAAAABJRU5ErkJggg==",") no-repeat"),display:"flex",justifyContent:"space-between",alignItems:"center","& .icon":{color:"dark"===e.palette.type?"inherit":"#dc2440"}},title:{}}})),oo=function(e){var t=e.icon,r=e.title,n=e.subtitle,s=e.to,o=e.children,i=so(e);return Object(a.jsxs)(rt.a,{className:i.card,children:[Object(a.jsx)(q.a,{to:s,children:Object(a.jsxs)("div",{className:i.main,children:[Object(a.jsx)(se.a,{width:"3em",className:"icon",children:Object(c.createElement)(t,{fontSize:"large"})}),Object(a.jsxs)(se.a,{textAlign:"right",children:[Object(a.jsx)(k.a,{className:i.title,color:"textSecondary",children:r}),Object(a.jsx)(k.a,{variant:"h5",component:"h2",children:n||"\u2000"})]})]})}),o&&Object(a.jsx)(ia.a,{}),o]})},io=function(e){var t=e.value,r=Object(F.a)();return Object(a.jsx)(oo,{to:"/commands",icon:it.a,title:r("pos.dashboard.monthly_revenue"),subtitle:t})},lo=function(e){var t=e.value,r=Object(F.a)();return Object(a.jsx)(oo,{to:"/commands",icon:ys.a,title:r("pos.dashboard.new_orders"),subtitle:t})},uo=r(2017),jo=Object(C.a)((function(e){return{root:{flex:1},cost:{marginRight:"1em",color:e.palette.text.primary}}})),bo=function(e){var t=e.orders,r=void 0===t?[]:t,c=e.customers,n=void 0===c?{}:c,s=jo(),o=Object(F.a)();return Object(a.jsxs)(rt.a,{className:s.root,children:[Object(a.jsx)(vr.a,{title:o("pos.dashboard.pending_orders")}),Object(a.jsx)(be.a,{dense:!0,children:r.map((function(e){return Object(a.jsxs)($a.a,{button:!0,component:q.a,to:"/commands/".concat(e.id),children:[Object(a.jsx)(ec.a,{children:n[e.customer_id]?Object(a.jsx)(jr.a,{src:"".concat(n[e.customer_id].avatar,"?size=32x32")}):Object(a.jsx)(jr.a,{})}),Object(a.jsx)(tc.a,{primary:new Date(e.date).toLocaleString("en-GB"),secondary:o("pos.dashboard.order.items",{smart_count:e.basket.length,nb_items:e.basket.length,customer_name:n[e.customer_id]?"".concat(n[e.customer_id].first_name," ").concat(n[e.customer_id].last_name):""})}),Object(a.jsx)(uo.a,{children:Object(a.jsxs)("span",{className:s.cost,children:[e.total,"$"]})})]},e.id)}))})]})},mo=Object(C.a)((function(e){return{avatar:{background:e.palette.background.paper},listItemText:{overflowY:"hidden",height:"4em",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},root:{flex:1}}})),Oo=function(e){var t=e.value,r=Object(F.a)();return Object(a.jsx)(oo,{to:"/reviews",icon:za.a,title:r("pos.dashboard.pending_reviews"),subtitle:t})},po=function(e){var t=e.reviews,r=void 0===t?[]:t,c=e.customers,n=void 0===c?{}:c,s=mo(),o=Object(F.a)();return Object(a.jsxs)(rt.a,{className:s.root,children:[Object(a.jsx)(vr.a,{title:o("pos.dashboard.pending_reviews")}),Object(a.jsx)(be.a,{children:r.map((function(e){return Object(a.jsxs)($a.a,{button:!0,component:q.a,to:"/reviews/".concat(e.id),alignItems:"flex-start",children:[Object(a.jsx)(ec.a,{children:n[e.customer_id]?Object(a.jsx)(jr.a,{src:"".concat(n[e.customer_id].avatar,"?size=32x32"),className:s.avatar}):Object(a.jsx)(jr.a,{})}),Object(a.jsx)(tc.a,{primary:Object(a.jsx)(uc,{record:e}),secondary:e.comment,className:s.listItemText,style:{paddingRight:0}})]},e.id)}))})]})},ho=r(945),fo=r.n(ho),xo=function(){var e=Object(F.a)(),t=Object(c.useMemo)((function(){var e=new Date;return e.setDate(e.getDate()-30),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e}),[]),r=Object(Ra.a)({type:"getList",resource:"customers",payload:{filter:{has_ordered:!0,first_seen_gte:t.toISOString()},sort:{field:"first_seen",order:"DESC"},pagination:{page:1,perPage:100}}}),n=r.loaded,s=r.data;if(!n)return Object(a.jsx)(fn.a,{});var o=s?s.reduce((function(e){return++e}),0):0;return Object(a.jsx)(oo,{to:"/customers",icon:fo.a,title:e("pos.dashboard.new_customers"),subtitle:o})},go=Object(C.a)({root:{flex:1}}),vo=function(){var e=Object(F.a)(),t=go(),r=Object(c.useMemo)((function(){var e=new Date;return e.setDate(e.getDate()-30),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e}),[]),n=Object(Ra.a)({type:"getList",resource:"customers",payload:{filter:{has_ordered:!0,first_seen_gte:r.toISOString()},sort:{field:"first_seen",order:"DESC"},pagination:{page:1,perPage:100}}}),s=n.loaded,o=n.data;return s?Object(a.jsxs)(rt.a,{className:t.root,children:[Object(a.jsx)(vr.a,{title:e("pos.dashboard.new_customers")}),Object(a.jsx)(be.a,{children:o?o.map((function(e){return Object(a.jsxs)($a.a,{button:!0,to:"/customers/".concat(e.id),component:q.a,children:[Object(a.jsx)(ec.a,{children:Object(a.jsx)(jr.a,{src:"".concat(e.avatar,"?size=32x32")})}),Object(a.jsx)(tc.a,{primary:"".concat(e.first_name," ").concat(e.last_name)})]},e.id)})):null})]}):Object(a.jsx)(fn.a,{})},yo=r(217),wo=new Date,_o=Array.from({length:30},(function(e,t){return Object(Ir.subDays)(wo,t)})),ko=Object(Ir.subDays)(new Date,30),Co=function(e){return new Date(e).toLocaleDateString()},So=function(e){var t=function(e){return e.filter((function(e){return"cancelled"!==e.status})).reduce((function(e,t){var r=Object(Ir.format)(t.date,"YYYY-MM-DD");return e[r]||(e[r]=0),e[r]+=t.total,e}),{})}(e);return _o.map((function(e){return{date:e.getTime(),total:t[Object(Ir.format)(e,"YYYY-MM-DD")]||0}}))},No=function(e){var t=e.orders,r=Object(F.a)();return t?Object(a.jsxs)(rt.a,{children:[Object(a.jsx)(vr.a,{title:r("pos.dashboard.month_history")}),Object(a.jsx)(ne.a,{children:Object(a.jsx)("div",{style:{width:"100%",height:300},children:Object(a.jsx)(yo.d,{children:Object(a.jsxs)(yo.b,{data:So(t),children:[Object(a.jsx)("defs",{children:Object(a.jsxs)("linearGradient",{id:"colorUv",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(a.jsx)("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),Object(a.jsx)("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})]})}),Object(a.jsx)(yo.f,{dataKey:"date",name:"Date",type:"number",scale:"time",domain:[Object(Ir.addDays)(ko,1).getTime(),(new Date).getTime()],tickFormatter:Co}),Object(a.jsx)(yo.g,{dataKey:"total",name:"Revenue",unit:"\u20ac"}),Object(a.jsx)(yo.c,{strokeDasharray:"3 3"}),Object(a.jsx)(yo.e,{cursor:{strokeDasharray:"3 3"},formatter:function(e){return new Intl.NumberFormat(void 0,{style:"currency",currency:"USD"}).format(e)},labelFormatter:function(e){return Co(e)}}),Object(a.jsx)(yo.a,{type:"monotone",dataKey:"total",stroke:"#8884d8",strokeWidth:2,fill:"url(#colorUv)"})]})})})})]}):null},To={flex:{display:"flex"},flexColumn:{display:"flex",flexDirection:"column"},leftCol:{flex:1,marginRight:"0.5em"},rightCol:{marginLeft:"0.5em"},singleCol:{marginTop:"1em",marginBottom:"1em"}},Po=function(){return Object(a.jsx)("span",{style:{width:"1em"}})},Ro=function(){return Object(a.jsx)("span",{style:{height:"1em"}})},qo=function(){var e=Object(c.useState)({}),t=Object(V.a)(e,2),r=t[0],n=t[1],s=Object(Qs.a)(),o=Object(Xs.a)(),l=Object(D.a)((function(e){return e.breakpoints.down("xs")})),d=Object(D.a)((function(e){return e.breakpoints.down("md")})),u=Object(c.useCallback)(Object(Ys.a)(Ks.a.mark((function e(){var t,r,a,c,s,l;return Ks.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new Date).setDate(t.getDate()-30),e.next=4,o.getList("commands",{filter:{date_gte:t.toISOString()},sort:{field:"date",order:"DESC"},pagination:{page:1,perPage:50}});case 4:return r=e.sent,a=r.data,c=a.filter((function(e){return"cancelled"!==e.status})).reduce((function(e,t){return"cancelled"!==t.status&&(e.revenue+=t.total,e.nbNewOrders++),"ordered"===t.status&&e.pendingOrders.push(t),e}),{revenue:0,nbNewOrders:0,pendingOrders:[]}),n((function(e){return Object(i.a)(Object(i.a)({},e),{},{recentOrders:a,revenue:c.revenue.toLocaleString(void 0,{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}),nbNewOrders:c.nbNewOrders,pendingOrders:c.pendingOrders})})),e.next=10,o.getMany("customers",{ids:c.pendingOrders.map((function(e){return e.customer_id}))});case 10:s=e.sent,l=s.data,n((function(e){return Object(i.a)(Object(i.a)({},e),{},{pendingOrdersCustomers:l.reduce((function(e,t){return e[t.id]=t,e}),{})})}));case 13:case"end":return e.stop()}}),e)}))),[o]),j=Object(c.useCallback)(Object(Ys.a)(Ks.a.mark((function e(){var t,r,a,c,s,l;return Ks.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getList("reviews",{filter:{status:"pending"},sort:{field:"date",order:"DESC"},pagination:{page:1,perPage:100}});case 2:return t=e.sent,r=t.data,a=r.reduce((function(e){return++e}),0),c=r.slice(0,Math.min(10,r.length)),n((function(e){return Object(i.a)(Object(i.a)({},e),{},{pendingReviews:c,nbPendingReviews:a})})),e.next=9,o.getMany("customers",{ids:c.map((function(e){return e.customer_id}))});case 9:s=e.sent,l=s.data,n((function(e){return Object(i.a)(Object(i.a)({},e),{},{pendingReviewsCustomers:l.reduce((function(e,t){return e[t.id]=t,e}),{})})}));case 12:case"end":return e.stop()}}),e)}))),[o]),b=Object(c.useCallback)(Object(Ys.a)(Ks.a.mark((function e(){var t,r;return Ks.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getList("events",{filter:{},sort:{field:"date",order:"DESC"},pagination:{page:1,perPage:100}});case 2:t=e.sent,r=t.data,n((function(e){return Object(i.a)(Object(i.a)({},e),{},{events:r})}));case 5:case"end":return e.stop()}}),e)}))),[o]);Object(c.useEffect)((function(){u(),j(),b()}),[s]);var m=r.nbNewOrders,O=r.nbPendingReviews,p=r.pendingOrders,h=r.pendingOrdersCustomers,f=r.pendingReviews,x=r.pendingReviewsCustomers,g=r.revenue,v=r.recentOrders;return l?Object(a.jsx)("div",{children:Object(a.jsxs)("div",{style:To.flexColumn,children:[Object(a.jsx)(no,{}),Object(a.jsx)(io,{value:g}),Object(a.jsx)(Ro,{}),Object(a.jsx)(lo,{value:m}),Object(a.jsx)(Ro,{}),Object(a.jsx)(bo,{orders:p,customers:h}),Object(a.jsx)(Ro,{}),Object(a.jsx)(Zs,{records:r.events})]})}):d?Object(a.jsxs)("div",{style:To.flexColumn,children:[Object(a.jsx)("div",{style:To.singleCol,children:Object(a.jsx)(no,{})}),Object(a.jsxs)("div",{style:To.flex,children:[Object(a.jsx)(io,{value:g}),Object(a.jsx)(Po,{}),Object(a.jsx)(lo,{value:m})]}),Object(a.jsx)("div",{style:To.singleCol,children:Object(a.jsx)(No,{orders:v})}),Object(a.jsx)("div",{style:To.singleCol,children:Object(a.jsx)(bo,{orders:p,customers:h})}),Object(a.jsx)("div",{style:To.singleCol,children:Object(a.jsx)(Zs,{records:r.events})})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(no,{}),Object(a.jsxs)("div",{style:To.flex,children:[Object(a.jsxs)("div",{style:To.leftCol,children:[Object(a.jsxs)("div",{style:To.flex,children:[Object(a.jsx)(io,{value:g}),Object(a.jsx)(Po,{}),Object(a.jsx)(lo,{value:m}),Object(a.jsx)(Po,{}),Object(a.jsx)(Oo,{value:O}),Object(a.jsx)(Po,{}),Object(a.jsx)(xo,{})]}),Object(a.jsx)("div",{style:To.singleCol,children:Object(a.jsx)(No,{orders:v})}),Object(a.jsxs)("div",{style:To.flex,children:[Object(a.jsx)(bo,{orders:p,customers:h}),Object(a.jsx)(Po,{}),Object(a.jsx)(po,{reviews:f,customers:x}),Object(a.jsx)(Po,{}),Object(a.jsx)(vo,{})]})]}),Object(a.jsx)("div",{style:To.rightCol,children:Object(a.jsx)(Zs,{records:r.events})})]})]})},Ao=Object(C.a)({icon:{paddingRight:"0.5em"},link:{display:"inline-flex",alignItems:"center"}}),Do=function(e){var t=e.segment,r=Object(F.a)(),c=Ao();return Object(a.jsxs)(Tc.a,{size:"small",color:"primary",component:q.a,to:{pathname:"/customers",search:Object(re.stringify)({page:1,perPage:25,filter:JSON.stringify({groups:t})})},className:c.link,children:[Object(a.jsx)(en.icon,{className:c.icon}),r("resources.segments.fields.customers")]})},Io=Object(C.a)({root:{marginTop:16}}),Lo=function(){var e=Object(F.a)(),t=Io();return Object(M.l)("customers.segments"),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(E,{}),Object(a.jsxs)(rt.a,{className:t.root,children:[Object(a.jsx)(ze.b,{title:e("resources.segments.name")}),Object(a.jsxs)(ka.a,{size:"small",children:[Object(a.jsx)(Na.a,{children:Object(a.jsxs)(Ta.a,{children:[Object(a.jsx)(Sa.a,{children:e("resources.segments.fields.name")}),Object(a.jsx)(Sa.a,{})]})}),Object(a.jsx)(Ca.a,{children:rr.map((function(t){return Object(a.jsxs)(Ta.a,{children:[Object(a.jsx)(Sa.a,{children:e(t.name)}),Object(a.jsx)(Sa.a,{children:Object(a.jsx)(Do,{segment:t.id})})]},t.id)}))})]})]})]})},Bo=r(281),Mo=function(){var e=Object(R.i)().tour,t=Object(Bo.b)(),r=Object(V.a)(t,2),n=r[0].running,s=r[1].start;return Object(c.useEffect)((function(){!s||n||s(e)})),n?Object(a.jsx)(R.a,{to:"/"}):null},Fo=[Object(a.jsx)(R.b,{exact:!0,path:"/segments",render:function(){return Object(a.jsx)(Lo,{})}},"segments"),Object(a.jsx)(R.b,{path:"/tours/:tour",render:function(){return Object(a.jsx)(Mo,{})}},"tour-launcher")],zo=r(736),Uo=r(270),Eo=Object(zo.a)(Uo.a,u.d,{"ra-tree":{action:{add_root:"Add a category of products"}},"ra-search":{result:"1 result |||| %{smart_count} results"},pos:{search:"Search",configuration:"Configuration",language:"Language",theme:{name:"Theme",light:"Light",dark:"Dark"},filter:"Filtered by",dashboard:{monthly_revenue:"Monthly Revenue",month_history:"30 Day Revenue History",new_orders:"New Orders",pending_reviews:"Pending Reviews",new_customers:"New Customers",pending_orders:"Pending Orders",order:{items:"by %{customer_name}, one item |||| by %{customer_name}, %{nb_items} items"},timeline:"Timeline",welcome:{title:"Welcome to the react-admin enterprise edition demo",subtitle:"This is the admin of an imaginary poster shop showcasing enterprise edition private modules usage. Feel free to explore and modify the data - it's local to your computer, and will reset each time you reload.",ra_button:"react-admin enterprise edition site",demo_button:"See the showcase",github_button:"See the source code"}},menu:{sales:"Sales",catalog:"Catalog",my_queries:"My queries",customers:"Customers",new_customers:"New Customers",all_customers:"All Customers",visitors:"Visitors",all_reviews:"All reviews",pending_reviews:"Pending reviews",bad_reviews:"Bad reviews"},reviews:{accepted:"Accepted",rejected:"Rejected",pending:"Pending"}},resources:{customers:{name:"Customer |||| Customers",fields:{commands:"Orders",first_seen:"First seen",groups:"Segments",last_seen:"Last seen",last_seen_gte:"Visited Since",name:"Name",total_spent:"Total spent",password:"Password",confirm_password:"Confirm password",address:"Address",birthday:"Birthday",city:"City",first_name:"First name",has_newsletter:"Has Newsletter",has_ordered:"Has ordered",last_name:"Last name",latest_purchase:"Latest purchase",zipcode:"Postal code",nb_commands:"Orders"},filters:{last_visited:"Last visited",today:"Today",this_week:"This week",last_week:"Last week",this_month:"This month",last_month:"Last month",earlier:"Earlier",has_ordered:"Has ordered",has_newsletter:"Has newsletter",group:"Segment"},fieldGroups:{identity:"Identity",address:"Address",stats:"Stats",history:"History",password:"Password",change_password:"Change Password"},page:{delete:"Delete Customer"},errors:{password_mismatch:"The password confirmation is not the same as the password."}},commands:{name:"Order |||| Orders",amount:"1 order |||| %{smart_count} orders",title:"Order %{reference}",fields:{basket:{delivery:"Delivery",reference:"Reference",quantity:"Quantity",sum:"Sum",tax_rate:"Tax Rate",total:"Total",unit_price:"Unit Price"},address:"Address",customer_id:"Customer",date_gte:"Passed Since",date_lte:"Passed Before",nb_items:"Nb articles",reference:"R\xe9f\xe9rence",returned:"Returned",status:"Status",total_gte:"Min amount"}},invoices:{name:"Invoice |||| Invoices",fields:{date:"Invoice date",customer_id:"Customer",command_id:"Order",date_gte:"Passed Since",date_lte:"Passed Before",total_gte:"Min amount",address:"Address"}},products:{name:"Poster |||| Posters",fields:{id:"Identifier",category_id:"Category",height_gte:"Min height",height_lte:"Max height",height:"Height",image:"Image",price:"Price",reference:"Reference",sales:"Sales",stock_lte:"Low Stock",stock:"Stock",thumbnail:"Thumbnail",width_gte:"Min width",width_lte:"Max width",width:"Width"},tabs:{image:"Image",details:"Details",description:"Description",reviews:"Reviews"},filters:{categories:"Categories",stock:"Stock",no_stock:"Out of stock",low_stock:"1 - 9 items",average_stock:"10 - 49 items",enough_stock:"50 items & more",sales:"Sales",best_sellers:"Best sellers",average_sellers:"Average",low_sellers:"Low",never_sold:"Never sold"}},categories:{name:"Category |||| Categories",fields:{products:"Products"},actions:{create_product:"Create Poster"}},reviews:{name:"Review |||| Reviews",amount:"1 review |||| %{smart_count} reviews",relative_to_poster:"Review on poster",detail:"Review detail",fields:{customer_id:"Customer",command_id:"Order",product_id:"Product",date_gte:"Posted since",date_lte:"Posted before",date:"Date",comment:"Comment",rating:"Rating"},action:{accept:"Accept",reject:"Reject"},notification:{approved_success:"Review approved",approved_error:"Error: Review not approved",rejected_success:"Review rejected",rejected_error:"Error: Review not rejected"}},segments:{name:"Segments",fields:{customers:"Customers",name:"Name"},data:{compulsive:"Compulsive",collector:"Collector",ordered_once:"Ordered once",regular:"Regular",returns:"Returns",reviewer:"Reviewer"}},stores:{name:"Stores",fields:{city:"City",country:"Country",address:"Address",created_at:"Created at"}},locks:{overlay:"Currently Edited by %{name}"},events:{name:"Events"}}}),Vo=r(954),Wo=Object(zo.a)(Vo.a,u.e,{"ra-tree":{action:{add_root:"Ajouter une cat\xe9gorie de produits"}},"ra-search":{result:"1 r\xe9sultat |||| %{smart_count} r\xe9sultats"},pos:{search:"Rechercher",configuration:"Configuration",language:"Langue",theme:{name:"Theme",light:"Clair",dark:"Obscur"},filter:"Filtr\xe9 par",dashboard:{monthly_revenue:"CA \xe0 30 jours",month_history:"Chiffre d'affaire sur 30 jours",new_orders:"Nouvelles commandes",pending_reviews:"Commentaires \xe0 mod\xe9rer",new_customers:"Nouveaux clients",pending_orders:"Commandes \xe0 traiter",order:{items:"par %{customer_name}, un poster |||| par %{customer_name}, %{nb_items} posters"},timeline:"Timeline",welcome:{title:"Bienvenue sur la d\xe9mo de react-admin enterprise edition",subtitle:"Ceci est le back-office d'un magasin de posters imaginaire mettant en oeuvre les modules de l'\xe9dition entreprise. N'h\xe9sitez pas \xe0 explorer et \xe0 modifier les donn\xe9es. La d\xe9mo s'ex\xe9cute en local dans votre navigateur, et se remet \xe0 z\xe9ro chaque fois que vous rechargez la page.",ra_button:"Site web de react-admin entreprise",demo_button:"Voir tous les modules",github_button:"Voir le code source"}},menu:{sales:"Ventes",catalog:"Catalogue",my_queries:"Mes recherches",customers:"Clients",new_customers:"Nouveaux clients",all_customers:"Tous les clients",visitors:"Visiteurs",all_reviews:"Tous les avis",pending_reviews:"Avis en attende de validation",bad_reviews:"Mauvais avis"},reviews:{accepted:"Accept\xe9s",rejected:"Rejet\xe9s",pending:"En attente"}},resources:{customers:{name:"Client |||| Clients",fields:{address:"Rue",birthday:"Anniversaire",city:"Ville",commands:"Commandes",first_name:"Pr\xe9nom",first_seen:"Premi\xe8re visite",groups:"Segments",has_newsletter:"Abonn\xe9 \xe0 la newsletter",has_ordered:"A command\xe9",last_name:"Nom",last_seen:"Vu le",last_seen_gte:"Vu depuis",latest_purchase:"Dernier achat",name:"Nom",total_spent:"D\xe9penses",zipcode:"Code postal",password:"Mot de passe",confirm_password:"Confirmez le mot de passe",nb_commands:"Commandes"},filters:{last_visited:"Derni\xe8re visite",today:"Aujourd'hui",this_week:"Cette semaine",last_week:"La semaine derni\xe8re",this_month:"Ce mois-ci",last_month:"Le mois dernier",earlier:"Plus t\xf4t",has_ordered:"A d\xe9j\xe0 command\xe9",has_newsletter:"Abonn\xe9 newsletter",group:"Segment"},fieldGroups:{identity:"Identit\xe9",address:"Adresse",stats:"Statistiques",history:"Historique",password:"Mot de passe",change_password:"Changer le mot de passe"},page:{delete:"Supprimer le client"},errors:{password_mismatch:"La confirmation du mot de passe est diff\xe9rent du mot de passe."}},commands:{name:"Commande |||| Commandes",amount:"1 commande |||| %{smart_count} commandes",title:"Commande n\xb0%{reference}",fields:{basket:{delivery:"Frais de livraison",reference:"R\xe9f\xe9rence",quantity:"Quantit\xe9",sum:"Sous-total",tax_rate:"TVA",total:"Total",unit_price:"P.U."},address:"Adresse",customer_id:"Client",date_gte:"Emises depuis",date_lte:"Emises avant",nb_items:"Nb articles",reference:"R\xe9f\xe9rence",returned:"Annul\xe9e",status:"Etat",total_gte:"Montant minimum"}},invoices:{name:"Facture |||| Factures",fields:{id:"Num\xe9ro",date:"Date de facture",customer_id:"Client",command_id:"Commande",date_gte:"Emises depuis",date_lte:"Emises avant",address:"Adresse",total_ex_taxes:"Montant HT",delivery_fees:"Frais de livraison",taxes:"TVA"}},products:{name:"Poster |||| Posters",fields:{id:"Identifiant",category_id:"Cat\xe9gorie",height_gte:"Hauteur mini",height_lte:"Hauteur maxi",height:"Hauteur",image:"Photo",price:"Prix",reference:"R\xe9f\xe9rence",sales:"Ventes",stock_lte:"Stock faible",stock:"Stock",thumbnail:"Aper\xe7u",width_gte:"Largeur mini",width_lte:"Margeur maxi",width:"Largeur"},tabs:{image:"Image",details:"D\xe9tails",description:"Description",reviews:"Commentaires"},filters:{categories:"Cat\xe9gories",stock:"Stock",no_stock:"En rupture",low_stock:"1 - 9 unit\xe9s",average_stock:"10 - 49 unit\xe9s",enough_stock:"50 unit\xe9s et plus",sales:"Ventes",best_sellers:"Meilleures ventes",average_sellers:"Moyennes",low_sellers:"Peu vendu",never_sold:"Jamais vendu"}},categories:{name:"Cat\xe9gorie |||| Cat\xe9gories",fields:{name:"Nom",products:"Produits"},actions:{create_product:"Cr\xe9er un Poster"}},reviews:{name:"Commentaire |||| Commentaires",amount:"1 commentaire |||| %{smart_count} commentaires",relative_to_poster:"Commentaire sur",detail:"D\xe9tail du commentaire",fields:{customer_id:"Client",command_id:"Commande",product_id:"Produit",date_gte:"Publi\xe9 depuis",date_lte:"Publi\xe9 avant",date:"Date",comment:"Texte",status:"Statut",rating:"Classement"},action:{accept:"Accepter",reject:"Rejeter"},notification:{approved_success:"Commentaire approuv\xe9",approved_error:"Erreur: Commentaire non approuv\xe9",rejected_success:"Commentaire rejet\xe9",rejected_error:"Erreur: Commentaire non rejet\xe9"}},segments:{name:"Segments",fields:{customers:"Clients",name:"Nom"},data:{compulsive:"Compulsif",collector:"Collectionneur",ordered_once:"A command\xe9",regular:"R\xe9gulier",returns:"A renvoy\xe9",reviewer:"Commentateur"}},stores:{name:"Magasins",fields:{city:"Ville",country:"Pays",address:"Adresse",created_at:"Ouvert le"}},locks:{overlay:"En cours d'\xe9dition par %{name}"},events:{name:"\xc9v\xe9nements"}}}),Ho=r(959),Jo=r.n(Ho),Go=r(957),Ko=r.n(Go),Yo=r(958),Qo=r.n(Yo),Xo=r(128),Zo=r(2094),$o=r(2153),ei=r(956),ti=r.n(ei),ri=r(955),ai=r.n(ri),ci=Object(C.a)({root:{maxWidth:345,cursor:"pointer",margin:20,opacity:.9,transition:"opacity 0.3s ease-in-out","&:hover,&:focus-within":{opacity:1}},visited:{opacity:.6},media:{height:140},rightButton:{marginLeft:"auto"},content:{position:"relative",minHeight:125},newIcon:{position:"absolute",top:10,right:10},actions:{paddingBottom:0},buyIcon:{marginLeft:"auto !important"},playedOnIndicator:{paddingLeft:16,paddingTop:0,paddingBottom:16}}),ni=function(e){var t=e.record,r=ci(),c=Object(fe.a)(),n=Object(Bo.b)(),s=Object(V.a)(n,2),o=(s[0],s[1].start),i=Object(Xo.a)({type:"update",resource:"tours",payload:{id:t.id,data:{playedOn:new Date}}},{onSuccess:c}),l=Object(V.a)(i,1)[0];return Object(a.jsxs)(rt.a,{className:Ut()(r.root,Object(j.a)({},r.visited,t.playedOn)),onClick:function(){o&&o(t.tour),l()},children:[Object(a.jsx)($o.a,{className:r.media,image:"".concat("/ra-enterprise-demo","/").concat(t.image),title:t.title}),Object(a.jsxs)(ne.a,{className:r.content,children:[!t.playedOn&&Object(a.jsx)(ai.a,{color:"error",fontSize:"large",className:r.newIcon}),Object(a.jsx)(k.a,{variant:"h5",component:"h2",gutterBottom:!0,children:t.title}),Object(a.jsx)(k.a,{variant:"body2",gutterBottom:!0,children:t.comment})]}),Object(a.jsx)(ns.a,{className:r.actions,children:Object(a.jsx)(Tc.a,{size:"small",startIcon:Object(a.jsx)(ti.a,{}),color:"primary",children:"Play"})}),Object(a.jsx)("div",{className:r.playedOnIndicator,children:Object(a.jsx)(k.a,{variant:"caption",display:"block",color:"textSecondary",children:t.playedOn?"Last played on ".concat(new Date(t.playedOn).toLocaleString()):"Never played before"})})]})},si=Object(C.a)({content:{border:"none",background:"none",boxShadow:"none"}}),oi=Object(C.a)({gridContainer:{display:"flex",flexWrap:"wrap",marginLeft:"-20px",marginRight:"-20px"}}),ii=function(e){var t=e.className,r=e.filters,n=Object(Ne.a)(e,["className","filters"]),s=Object(fe.a)(),o=Object(Fe.a)(n),l=o.ids,d=o.filterValues,u=o.resource,j=o.displayedFilters,b=o.showFilter,m=Object(Xo.a)({type:"updateMany",resource:"tours",payload:{ids:l,data:{playedOn:null}}},{onSuccess:function(){s()}}),O=Object(V.a)(m,2),p=O[0],h=O[1].loading,f=Object(Xo.a)({type:"updateMany",resource:"tours",payload:{ids:l,data:{playedOn:new Date}}},{onSuccess:function(){s()}}),x=Object(V.a)(f,2),g=x[0],v=x[1].loading;return Object(a.jsxs)(De.a,Object(i.a)(Object(i.a)({className:t},Object(Ft.c)(n)),{},{children:[r&&Object(c.cloneElement)(r,{resource:u,showFilter:b,displayedFilters:j,filterValues:d,context:"button"}),Object(a.jsx)(Mt.a,{onClick:g,label:"Mark all as played",disabled:v,children:Object(a.jsx)(Ko.a,{})}),Object(a.jsx)(Mt.a,{onClick:p,label:"Reset",disabled:h,children:Object(a.jsx)(Qo.a,{})})]}))},li=function(){var e=oi(),t=Object(Fe.a)(),r=t.ids,c=t.data;return Object(a.jsx)("div",{className:e.gridContainer,children:r.map((function(e){return Object(a.jsx)(ni,{record:c[e]},e)}))})},di={list:function(e){var t=si();return Object(a.jsx)(Zo.a,Object(i.a)(Object(i.a)({},e),{},{perPage:20,pagination:Object(a.jsx)(Ue.a,{rowsPerPageOptions:[10,20,40]}),sort:{field:"id",order:"ASC"},classes:t,actions:Object(a.jsx)(ii,{}),children:Object(a.jsx)(li,{})}))},icon:Jo.a},ui=r(961),ji=r(960),bi=r.n(ji),mi=r(2171),Oi=[],pi=function(e){return Object(i.a)(Object(i.a)({},e),{},{subscribe:function(){var e=Object(Ys.a)(Ks.a.mark((function e(t,r){return Ks.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Oi.push({topic:t,subscriptionCallback:r}),e.abrupt("return",Promise.resolve({data:null}));case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),unsubscribe:function(){var e=Object(Ys.a)(Ks.a.mark((function e(t,r){return Ks.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Oi=Oi.filter((function(e){return e.topic!==t||e.subscriptionCallback!==r})),e.abrupt("return",Promise.resolve({data:null}));case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),publish:function(e,t){return e?t.type?(Oi.map((function(r){return e===r.topic&&r.subscriptionCallback(t)})),Promise.resolve({data:null})):Promise.reject(new Error("ra.realTime.error.type")):Promise.reject(new Error("ra.realTime.error.topic"))}})},hi=function(e){return Object(i.a)(Object(i.a)({},e),{},{search:function(){var t=Object(Ys.a)(Ks.a.mark((function t(r){var a;return Ks.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(["customers","products","commands","reviews"].map((function(t){return fi(e,t,r)})));case 2:return a=t.sent,t.abrupt("return",{data:a.reduce((function(e,t){return[].concat(Object(Zr.a)(e),Object(Zr.a)(t.data))}),[]),total:a.reduce((function(e,t){return e+t.total}),0)});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})},fi=function(){var e=Object(Ys.a)(Ks.a.mark((function e(t,r,a){var c,n,s;return Ks.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getList(r,{filter:{q:a},pagination:{page:1,perPage:5},sort:{field:"id",order:"ASC"}});case 2:return c=e.sent,n=c.data,s=c.total,e.next=7,Promise.all(n.map(function(){var e=Object(Ys.a)(Ks.a.mark((function e(a){return Ks.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0="".concat(r,"/").concat(a.id),e.t1=r,e.t2="/".concat(r,"/").concat(a.id),e.next=5,xi[r](a,t);case 5:return e.t3=e.sent,e.abrupt("return",{id:e.t0,type:e.t1,url:e.t2,content:e.t3});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:return e.t0=e.sent,e.t1=s,e.abrupt("return",{data:e.t0,total:e.t1});case 10:case"end":return e.stop()}}),e)})));return function(t,r,a){return e.apply(this,arguments)}}(),xi={customers:function(){var e=Object(Ys.a)(Ks.a.mark((function e(t,r){var a,c;return Ks.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getList("commands",{filter:{customer_id:t.id},pagination:{page:1,perPage:1},sort:{field:"id",order:"ASC"}});case 2:return a=e.sent,e.next=5,r.getList("reviews",{filter:{customer_id:t.id},pagination:{page:1,perPage:1},sort:{field:"id",order:"ASC"}});case 5:return c=e.sent,e.abrupt("return",Object(i.a)(Object(i.a)({},t),{},{pending_orders:a.total,reviews:c.total}));case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),products:function(){var e=Object(Ys.a)(Ks.a.mark((function e(t,r){var a;return Ks.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getList("reviews",{filter:{product_id:t.id},pagination:{page:1,perPage:1},sort:{field:"id",order:"ASC"}});case 2:return a=e.sent,e.abrupt("return",Object(i.a)(Object(i.a)({},t),{},{reviews:a.total}));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),commands:function(){var e=Object(Ys.a)(Ks.a.mark((function e(t,r){var a;return Ks.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getOne("customers",{id:t.customer_id});case 2:return a=e.sent,e.abrupt("return",Object(i.a)(Object(i.a)({},t),{},{customer:a.data}));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),reviews:function(){var e=Object(Ys.a)(Ks.a.mark((function e(t){return Ks.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},gi=new Date((new Date).valueOf()+31536e3),vi=function(e,t){var r=e.filter((function(e){return!t.find((function(t){return e.id===t.id}))})),a=e.filter((function(e){return t.find((function(t){return e.id===t.id}))})),c=t.filter((function(t){return!e.find((function(e){return t.id===e.id}))}));return[].concat(Object(Zr.a)(r),Object(Zr.a)(a.map((function(e){var r=t.find((function(t){return e.id===t.id}));return Object(i.a)(Object(i.a)({},e),{},{playedOn:r.playedOn})}))),Object(Zr.a)(c)).sort((function(e,t){return e.id-t.id}))},yi=bi()(H.a,pi,mi.a,hi)(Object(ui.a)("http://localhost:4000")),wi={tours:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(t){var r=localStorage.getItem(t),a=r?JSON.parse(r):[];return vi(e[t],a)},r=function(e,t){return localStorage.setItem(e,JSON.stringify(t))},a=function(e,a){var c=a.id,n=a.data,s=t(e),o=s.find((function(e){return e.id===c}));if(!o)return{data:null};var l=Object(i.a)(Object(i.a)(Object(i.a)({},o),n),{},{id:c});return r(e,[].concat(Object(Zr.a)(s.filter((function(e){return e.id!==c}))),[l])),{data:l}},c=function(e,a){var c=a.id,n=t(e),s=n.find((function(e){return e.id===c}));return s?(n=n.filter((function(e){return e.id!==c})),r(e,n),{data:s}):{data:null}};return{getList:function(e,r){var a=r.filter,c=r.sort,n=r.pagination,s=t(e);a&&(s=Object.keys(a).reduce((function(e,t){var r=a[t];return e.filter((function(e){return e[t]===r}))}),Object(Zr.a)(s)));var o=s.length;if(c){var i=c.field,l=c.order;s=s.sort((function(e,t){return"ASC"===l?e[i]-t[i]:t[i]-e[i]}))}if(n){var d=n.page,u=n.perPage;s=s.slice((d-1)*u,d*u-1)}return Promise.resolve({data:s,total:o})},getOne:function(e,r){var a=r.id,c=t(e).find((function(e){return e.id===a}));return Promise.resolve({data:c,validUntil:gi})},getMany:function(e,r){var a=r.ids,c=t(e).filter((function(e){return a.includes(e.id)}));return Promise.resolve({data:c,validUntil:gi})},getManyReference:function(e,r){var a=r.filter,c=r.sort,n=r.pagination,s=t(e);a&&(s=Object.keys(a).reduce((function(e,t){var r=a[t];return e.filter((function(e){return e[t]===r}))}),Object(Zr.a)(s)));var o=s.length;if(c){var i=c.field,l=c.order;s=s.sort((function(e,t){return"ASC"===l?e[i]-t[i]:t[i]-e[i]}))}if(n){var d=n.page,u=n.perPage;s=s.slice((d-1)*u,d*u-1)}return Promise.resolve({data:s,total:o})},update:function(e,t){return Promise.resolve(a(e,t))},updateMany:function(e,t){var r=t.ids,c=t.data,n=r.map((function(t){return a(e,{id:t,data:c})}));return Promise.resolve({data:n.filter((function(e){return e.data&&e.data.id})).map((function(e){return e.data.id}))})},create:function(e,a){var c=a.data,n=t(e),s=n.length+1,o=n.find((function(e){return e.id===s}));if(o)return Promise.resolve({data:o});var l=Object(i.a)(Object(i.a)({},c),{},{id:s});return n.push(l),r(e,n),Promise.resolve({data:l})},delete:function(e,t){return Promise.resolve(c(e,t))},deleteMany:function(e,t){var r=t.ids.map((function(t){return c(e,{id:t})}));return Promise.resolve({data:r.filter((function(e){return e.data&&e.data.id})).map((function(e){return e.data.id}))})}}}({tours:[{id:2,image:"images/tours/ra-preferences.jpg",title:"ra-preferences",tour:"ra-preferences",comment:"Persist user preferences (language, ui, filters, displayed columns, etc) in local storage",href:"http://marmelab.com/react-admin",playedOn:null},{id:7,image:"images/tours/ra-search.png",title:"ra-search",tour:"ra-search",comment:"Plug your search engine and let users search across all resources via a smart Omnisearch box",href:"http://marmelab.com/react-admin",playedOn:null},{id:6,image:"images/tours/ra-navigation-breadcrumb.jpg",title:"ra-navigation: Breadcrumb",tour:"ra-navigation-breadcrumb",comment:"Keep a track of your location in the site and navigate easily.",href:"http://marmelab.com/react-admin",playedOn:null},{id:4,image:"images/tours/ra-realtime.jpg",title:"ra-realtime",tour:"ra-realtime",comment:"Enable realtime on menu, list, show and edit views - or anywhere you want.",href:"http://marmelab.com/react-admin",playedOn:null},{id:5,image:"images/tours/ra-editable-datagrid.jpg",title:"ra-editable-datagrid",tour:"ra-editable-datagrid",comment:"Quickly edit your data without leaving your datagrid.",href:"http://marmelab.com/react-admin",playedOn:null},{id:3,image:"images/tours/ra-tree.jpg",title:"ra-tree",tour:"ra-tree",comment:"Edit and visualize tree structures. Reorganize by drag and drop. Adapts to any data structure on the backend (parent_id, children, nested sets, etc)..",href:"http://marmelab.com/react-admin",playedOn:null},{id:1,image:"images/tours/ra-markdown.jpg",title:"ra-markdown",tour:"ra-markdown",comment:"Read Markdown data, and edit it using a WYSIWYG editor in your admin",href:"http://marmelab.com/react-admin",playedOn:null}]})},_i={},ki=new Proxy(yi,{get:function(e,t,r){return"then"===t?r:function(e,r){var a=yi;return wi[e]&&(a=wi[e]),_i[e]&&(a=Object(i.a)(Object(i.a)({},a),_i[e](a))),new Promise((function(c){return setTimeout((function(){return c(a[t](e,r))}),200)}))}}}),Ci=r(962),Si=r.n(Ci),Ni=r(611),Ti=r(964),Pi=r.n(Ti),Ri=r(231),qi={categories:[{id:5,name:"categories",isRoot:!0,children:[0,10,20,30,40,50,60,70,80,90,100,110,120]},{id:0,name:"animals",isRoot:!1,children:[1,2,3]},{id:1,name:"cute",isRoot:!1,children:[]},{id:2,name:"scary",isRoot:!1,children:[]},{id:3,name:"weird",isRoot:!1,children:[]},{id:10,name:"beard",isRoot:!1,children:[11,12]},{id:11,name:"curly",isRoot:!1,children:[]},{id:12,name:"straight",isRoot:!1,children:[]},{id:20,name:"business",isRoot:!1,children:[]},{id:30,name:"cars",isRoot:!1,children:[31,32]},{id:31,name:"fast",isRoot:!1,children:[]},{id:32,name:"slow",isRoot:!1,children:[]},{id:40,name:"city",isRoot:!1,children:[]},{id:50,name:"flowers",isRoot:!1,children:[]},{id:60,name:"food",isRoot:!1,children:[61,62]},{id:61,name:"liquid",isRoot:!1,children:[]},{id:62,name:"solid",isRoot:!1,children:[]},{id:70,name:"nature",isRoot:!1,children:[]},{id:80,name:"people",isRoot:!1,children:[81,82,83]},{id:81,name:"one",isRoot:!1,children:[]},{id:82,name:"couple",isRoot:!1,children:[]},{id:83,name:"many",isRoot:!1,children:[]},{id:90,name:"sports",isRoot:!1,children:[]},{id:100,name:"tech",isRoot:!1,children:[]},{id:110,name:"travel",isRoot:!1,children:[]},{id:120,name:"water",isRoot:!1,children:[]}],stores:[{id:0,city:"Paris",country:"France",address:"8 rue de Rivoli",created_at:new Date(1988,4,20)},{id:1,city:"Lyon",country:"France",address:"14 rue de la R\xe9publique",created_at:new Date(1992,3,11)},{id:2,city:"Nice",country:"France",address:"5 cours Saleya",created_at:new Date(1993,6,27)},{id:3,city:"Toulouse",country:"France",address:"43 rue de la Pomme",created_at:new Date(1994,1,2)},{id:4,city:"Dijon",country:"France",address:"89 rue de la libert\xe9",created_at:new Date(2001,11,5)},{id:5,city:"Nancy",country:"France",address:"27 rue Ordener",created_at:new Date(2008,7,15)}],locks:[]},Ai=function(e,t,r){return{date:r.toISOString(),author:t,resource:"products",action:"create",payload:{id:e.id,data:e}}},Di=function(e,t,r){return{date:r.toISOString(),author:t,resource:"products",action:"update",payload:{id:e.id,data:Object(i.a)(Object(i.a)({},e),{},{price:e.price+Math.ceil(10*Math.random())}),previousData:e}}},Ii=function(e){return Math.floor(Math.random()*e)},Li=function(e,t,r,a){return{date:a.toISOString(),author:r,resource:"commands",action:"update",payload:{id:e.id,data:Object(i.a)(Object(i.a)({},e),{},{status:t}),previousData:e}}},Bi=function(e){var t=function(){var t=e.customers[Ii(e.customers.length)];return{id:t.id,fullName:"".concat(t.first_name," ").concat(t.last_name),avatar:t.avatar}},r=function(){return e.products[Ii(e.products.length)]},a=e.commands.filter((function(e){return"ordered"===e.status})),c=function(){return a[Ii(a.length)]},n=new Date;return[Li(c(),"delivered",t(),Ir.subHours(Ir.subDays(n,7),5)),Li(c(),"delivered",t(),Ir.subHours(Ir.subDays(n,7),4)),Ai(r(),t(),Ir.subHours(Ir.subDays(n,7),3)),Di(r(),t(),Ir.subHours(Ir.subDays(n,7),2)),Di(r(),t(),Ir.subHours(Ir.subDays(n,7),1)),Ai(r(),t(),Ir.subHours(Ir.subDays(n,2),4)),Li(c(),"delivered",t(),Ir.subHours(Ir.subDays(n,2),2)),Li(c(),"delivered",t(),Ir.subHours(Ir.subDays(n,2),1)),Di(r(),t(),Ir.addHours(Ir.subDays(n,2),1)),Di(r(),t(),Ir.subHours(Ir.subDays(n,1),4)),Li(c(),"delivered",t(),Ir.subHours(Ir.subDays(n,1),2)),Li(c(),"delivered",t(),Ir.subHours(Ir.subDays(n,1),1)),Ai(r(),t(),Ir.addHours(Ir.subDays(n,1),1)),Ai(r(),t(),Ir.subHours(Ir.subDays(n,1),3)),Li(c(),"delivered",t(),Ir.subHours(Ir.subDays(n,1),2))].map((function(e,t){return Object(i.a)({id:t},e)}))},Mi=function e(t,r){var a=t.find((function(e){return e.id===r}));if(!a)return[];var c=a.children.map((function(r){return e(t,r)}));return[r].concat(Object(Zr.a)(c))},Fi=function(){var e,t,r=Pi()({serializeDate:!0}),a=r.products.map((e=r.categories,t=qi.categories,function(r){var a=e.find((function(e){return e.id===r.category_id}));if(!a)return r;var c=t.find((function(e){return e.name===a.name}));if(!c)return r;if(0===c.children.length)return Object(i.a)(Object(i.a)({},r),{},{category_id:c.id});var n=Ri.random.arrayElement(c.children||[]);return Object(i.a)(Object(i.a)({},r),{},{category_id:n})})),c=Bi(r),n=Object(i.a)(Object(i.a)(Object(i.a)({},r),qi),{},{products:a,events:c}),s=new Si.a.FetchServer("http://localhost:4000");return window&&(window.restServer=s),s.addRequestInterceptor((function(e){return"GET"===e.method&&e.url.includes("/products")&&e.params.filter&&void 0!==e.params.filter.category_id&&(e.params.filter.category_id=Mi(n.categories,parseInt(e.params.filter.category_id))),e})),s.init(n),s.toggleLogging(),Ni.a.mock("begin:http://localhost:4000",s.getHandler()),function(){return Ni.a.restore()}},zi={en:Eo,fr:Wo},Ui=Object(d.j)(zi,"en"),Ei=Object(u.c)(ki,y),Vi=function(){Object(c.useEffect)((function(){var e=Fi();return function(){e()}}),[]);var e=Object(na.a)(),t=f(e),r=t.darkTheme,n=t.lightTheme;return Object(a.jsxs)(d.a,{title:"",dataProvider:Ei,customRoutes:Fo,authProvider:y,dashboard:qo,loginPage:hs,layout:as,i18nProvider:Ui,lightTheme:n,darkTheme:r,children:[Object(a.jsx)(l.a,Object(i.a)({name:"customers"},en)),Object(a.jsx)(l.a,Object(i.a)({name:"commands"},Ma)),Object(a.jsx)(l.a,Object(i.a)({name:"invoices"},un)),Object(a.jsx)(l.a,Object(i.a)({name:"products"},Mn)),Object(a.jsx)(l.a,Object(i.a)({name:"categories"},Pt)),Object(a.jsx)(l.a,Object(i.a)({name:"reviews"},zc)),Object(a.jsx)(l.a,Object(i.a)({name:"stores"},Vn)),Object(a.jsx)(l.a,Object(i.a)({name:"tours"},di)),Object(a.jsx)(l.a,{name:"locks"}),Object(a.jsx)(l.a,{name:"events",list:u.a})]})};r(2011);o.a.render(Object(a.jsx)(Vi,{}),document.getElementById("root"))},477:function(e,t,r){"use strict";t.a=function(e,t){var r=new Array(Math.round(2*Math.random())+1).map((function(){return{product_id:Math.round(20*Math.random()),quantity:Math.round(2*Math.random())+1}}));return{date:new Date,total:Math.round(1e4*Math.random())/100*r.length,status:"ordered",reference:Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,6).toUpperCase(),customer_id:t[Math.round(Math.random()*t.length)].id,basket:r,batch:e}}},939:function(e,t,r){"use strict";(function(e){var a=r(25),c=r.n(a),n=r(41),s=r(176),o=r(31),i=r(477),l=r(942),d=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e},u=function(e){return new Promise((function(t){return setTimeout(t,e)}))},j=function(e,t,r){return new Promise((function(a){var c=setInterval(e,t);setTimeout((function(){clearInterval(c),a(void 0)}),r)}))},b=[],m={"ra-markdown":{before:function(){var e=Object(n.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,t.redirect)("/products"),e.next=4,u(1e3);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),steps:[{target:"[data-tour-id='grid-line'] > a:nth-child(".concat(d(1,5),")"),disableBeacon:!0,content:"This is a poster, one of the products our shop is selling, let's go to its details",joyrideProps:{styles:{beacon:{marginTop:-100}}},after:function(e){var t=e.target;(0,e.redirect)(t.getAttribute("href").slice(1))}},{target:"[data-tour-id='description-tab']",content:"The markdown editor is in the description tab",after:function(e){e.target.click()}},{target:".tui-editor-defaultUI",content:"Right here. Try playing with its markdown, make it bold, add headlines!"},{target:".te-switch-button.wysiwyg",content:"By default, you are in WYSIWYG mode."},{target:".te-switch-button.markdown",content:"But you can switch to raw markdown edition with this button."},{target:"[data-testid=product-edit-preview]",content:"Parsed markdown can then be displayed in a preview or wherever you want."}]},"ra-preferences":{steps:[{target:"button[aria-label='Toggle Theme']",disableBeacon:!0,content:"ra-preferences comes with a lot of built-in modules, like this theme switcher. Try it: it works!"},{target:"button[aria-label='Toggle Theme'] + button",content:"Or this language switcher...",after:function(e){var t=e.redirect,r=JSON.stringify({last_seen_gte:Object(o.endOfYesterday)().toISOString(),nb_commands_gte:1});t("/customers?filter=".concat(encodeURIComponent(r),"&order=DESC&page=1&perPage=25&sort=last_seen"))}},{target:"button[aria-label='Save current query...']",content:"It features persisted queries too. For example, let's persist the filters for today visitors who actually ordered something.",after:function(){var e=Object(n.a)(c.a.mark((function e(t){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.target.click(),e.next=4,new Promise((function(e){return setTimeout(e,500)}));case 4:if(r=document.querySelector("body > .MuiDialog-root #name")){e.next=7;break}return e.abrupt("return");case 7:return s.a.change(r,{target:{value:"Today customers"}}),e.next=10,new Promise((function(e){return setTimeout(e,500)}));case 10:if(a=document.querySelector("body > .MuiDialog-root button:nth-child(2)")){e.next=13;break}return e.abrupt("return");case 13:s.a.click(a);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{target:"#persisted-queries ul",content:"It's persisted locally in the browser now!",after:function(e){(0,e.redirect)("/customers")}},{target:"button[aria-controls=user-preference-menu]",content:"It even has more advanced components like this list customization tool.",disableBeacon:!1,after:function(e){e.target.click()}},{target:"#user-preference-menu .MuiPaper-root",content:"Where you can select how you want the list to be displayed, or the information you want to see.",joyrideProps:{styles:{options:{zIndex:1e4}}},after:function(){var e=document.querySelector("body > .MuiPopover-root div[aria-hidden=true]");e&&e.click()}},{before:function(e){(0,e.setTourPreferences)(e.state)},target:"body",content:"It exposes simple hooks so that you can actually save whatever you want, too. For instance, the state of this particular step. Try to reload the page!",joyrideProps:{styles:{options:{arrowColor:"transparent"}}},after:function(e){(0,e.setTourPreferences)({})}}]},"ra-tree":{before:function(){var e=Object(n.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,t.redirect)("/categories/5"),e.next=4,u(1e3);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),steps:[{target:".rc-tree",content:"ra-tree helps handling trees with ease, no matter the data structure you use on the backend",disableBeacon:!0},{before:function(e){var t=e.target;j((function(){var e=t.querySelector(".rc-tree-switcher.rc-tree-switcher_close");e&&e.click()}),500,4e3)},target:".rc-tree",content:"It supports expanding or collapsing nodes for an infinite amount of levels",after:function(){var e=Object(n.a)(c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target,e.next=3,j((function(){var e=r.querySelector(".rc-tree-treenode:not(:nth-child(1)) .rc-tree-switcher.rc-tree-switcher_open");e&&e.click()}),500,2e3);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{before:function(e){var t=e.redirect;setTimeout((function(){t("/categories/create")}),4e3)},target:'[aria-label="Add a category of products"]',content:"You can even add a new category, or reorder them, try it!"}]},"ra-realtime":{before:function(){var e=Object(n.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.setItem("batchLevel","0");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),steps:[{before:function(){var e=Object(n.a)(c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dataProvider,localStorage.setItem("batchLevel","0"),[[1],[2],[3],[4]].reduce((function(e){return e.then(Object(n.a)(c.a.mark((function e(){var t,a,n,s,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getList("customers",{filter:{has_ordered:!0},pagination:{page:1,perPage:100},sort:{field:"id",order:"ASC"}});case 2:return t=e.sent,a=t.data,e.next=6,r.create("commands",{data:Object(i.a)(1,a)});case 6:n=e.sent,s=n.data,b.push(s.id),o="resource/commands",r.publish(o,{type:"created",topic:o,payload:{ids:[s.id]},date:new Date});case 11:case"end":return e.stop()}}),e)}))))}),u(1)),e.next=5,u(1500);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),target:'[data-testid="commands-menu"]',content:"Seems like you just had new orders, let's check...",disableBeacon:!0,joyrideProps:{hideBackButton:!0},after:function(){var e=Object(n.a)(c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.redirect,localStorage.setItem("batchLevel","1"),e.next=4,u(500);case 4:r("/commands");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{target:"[data-testid=order-ordered-datagrid]",content:"Your new orders can stand-out from others",joyrideProps:{hideBackButton:!0}},{before:function(){var e=Object(n.a)(c.a.mark((function e(t){var r,a,n,s,o,l,d,j;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dataProvider,localStorage.setItem("batchLevel","2"),e.next=4,r.getList("customers",{filter:{has_ordered:!0},pagination:{page:1,perPage:100},sort:{field:"id",order:"ASC"}});case 4:return a=e.sent,n=a.data,e.next=8,r.create("commands",{data:Object(i.a)(2,n)});case 8:return s=e.sent,o=s.data,b.push(o.id),e.next=13,r.create("commands",{data:Object(i.a)(2,n)});case 13:return l=e.sent,d=l.data,b.push(d.id),j="resource/commands",r.publish(j,{type:"created",topic:j,payload:{ids:[o.id,d.id]},date:new Date}),e.next=20,u(1e3);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),target:"[data-testid=order-ordered-datagrid]",content:"And newest orders even appear while you're on the page",joyrideProps:{hideBackButton:!0},after:function(){var e=Object(n.a)(c.a.mark((function e(t){var r,a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dataProvider,a=t.dispatch,n=t.redirect,e.next=3,Promise.all([1,2,5].map((function(e){return r.lock("products",{recordId:e,identity:Object(l.a)()}).then((function(t){var r=t.data;a({type:"RA/LOCK_SUCCESS",payload:{data:r},meta:{fetchResponse:"RA/LOCK",resource:"products",recordId:e}})}))})));case 3:n("/products?order=ASC&page=1&perPage=20&sort=id");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{before:function(){var t=Object(n.a)(c.a.mark((function t(r){var a,n,s,o,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.dataProvider,n=r.dispatch,t.next=3,u(100);case 3:(s=e.document.querySelector('[data-productid="1"]'))instanceof HTMLElement&&(o=parseInt(s.dataset.productid+"",10),i=s.dataset.lockidentity,setTimeout((function(){a.unlock("products",{recordId:o,identity:i}).then((function(e){var t=e.data;n({type:"RA/UNLOCK_SUCCESS",payload:{data:t},meta:{fetchResponse:"RA/UNLOCK",resource:"products",recordId:o}})}))}),4e3));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),target:"[data-testid=productlocktile]",content:"You can lock resources in realtime (this one will be unlocked in a few seconds)",joyrideProps:{hideBackButton:!0},after:function(){var t=Object(n.a)(c.a.mark((function t(r){var a,n,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.dataProvider,n=r.dispatch,s=r.refresh,t.next=3,Promise.all([2,5].map((function(t){var r=e.document.querySelector('[data-productid="'.concat(t,'"]'));if(r instanceof HTMLElement){var c=r.dataset.lockidentity;return a.unlock("products",{recordId:t,identity:c}).then((function(e){var r=e.data;n({type:"RA/UNLOCK_SUCCESS",payload:{data:r},meta:{fetchResponse:"RA/UNLOCK",resource:"products",recordId:t}})}))}return Promise.resolve()}))).then((function(){s()}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}],after:function(){var e=Object(n.a)(c.a.mark((function e(t){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dataProvider,a=t.refresh,localStorage.setItem("batchLevel","0"),e.next=4,r.deleteMany("commands",{ids:b});case 4:a(),b=[];case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},"ra-editable-datagrid":{before:function(){var e=Object(n.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,t.redirect)("/stores"),e.next=4,u(1e3);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),steps:[{target:'[data-testid="store-datagrid"] > tbody > tr:first-child',content:"Hovering on a row shows a toolbar allowing to either edit or delete the record. Let's see what happens when editing a row by clicking on the Edit button (or by directly clicking inside the row)"},{before:function(e){e.target.querySelector("td:nth-child(2)").click()},target:'[data-testid="store-datagrid"] > tbody > tr:first-child',content:"You can edit a record without leaving the Datagrid! Let's change the address.",after:function(e){var t=e.target;s.a.change(t.querySelector("#address"),{target:{value:"10 rue de Rivoli"}})}},{target:'[data-testid="store-datagrid"] > tbody > tr:first-child button:first-child',content:"After edition, just click on the Save button in the row",after:function(e){e.target.click()}},{target:'[aria-label="Create"]',content:"The Editable Datagrid also supports inline creation",after:function(e){e.target.click()}},{after:function(e){var t=e.target;s.a.change(t.querySelector("#city"),{target:{value:"Nantes"}}),s.a.change(t.querySelector("#country"),{target:{value:"France"}}),s.a.change(t.querySelector("#address"),{target:{value:"5 rue du ch\xe2teau"}}),s.a.change(t.querySelector("#created_at"),{target:{value:"2020-08-04"}})},target:'[data-testid="store-datagrid"] > tbody > tr:first-child',content:"A row edition / creation form can contain Inputs of any type (text, date, number, etc.)."},{target:'[data-testid="store-datagrid"] > tbody > tr:first-child button:first-child',content:"Click on the Save button to submit the form and create a new record.",after:function(e){e.target.click()}}]},"ra-navigation-breadcrumb":{before:function(){var e=Object(n.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,t.redirect)("/products"),e.next=4,u(1e3);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),steps:[{target:"[aria-label='Breadcrumb'] li:nth-child(2)",content:"The breadcrumb indicates that we are on the posters page",disableBeacon:!0,joyrideProps:{disableScrolling:!0}},{target:"[data-tour-id='grid-line'] > a:nth-child(".concat(d(1,5),")"),disableBeacon:!0,content:"Let's edit one of these posters",after:function(e){var t=e.target;(0,e.redirect)(t.getAttribute("href").slice(1))}},{target:"[aria-label='Breadcrumb'] li:nth-child(3)",content:"The breadcrumb has changed to follow us to this Edit page",disableBeacon:!0,joyrideProps:{scrollOffset:50}},{target:'[data-testid="commands-menu"]',content:"Let's try to navigate away using the Menu entry",disableBeacon:!0,joyrideProps:{disableScrolling:!0},after:function(e){(0,e.redirect)("/commands")}},{target:"[aria-label='Breadcrumb'] li:nth-child(2)",content:"The breadcrumb keeps showing our exact location.",disableBeacon:!0,joyrideProps:{disableScrolling:!0}},{target:"[aria-label='Breadcrumb'] li:nth-child(1)",content:"Users can click on the breadcrumb items directly to navigate.\nLet's go to the home page",disableBeacon:!0,joyrideProps:{disableScrolling:!0},after:function(e){(0,e.redirect)("/")}},{target:"[aria-label='Breadcrumb']",content:"By default, there is no breacrumb displayed on the home page.\n Now it's your turn to use the Breadcrumb component to build you own breadcrumb path!",disableBeacon:!0,joyrideProps:{disableScrolling:!0}}]},"ra-search":{before:function(){var e=Object(n.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.scrollTo(0,0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),steps:[{disableBeacon:!0,target:'[data-testid="search"]',content:"This is the smart Omnisearch box. It allows users to search across all resources. ",after:function(e){var t=e.target;return s.a.change(t.querySelector("input"),{target:{value:"B"}}),new Promise((function(e){return setTimeout(e,1e3)}))}},{target:'[data-testid="search-panel"]',content:"You can customize the search results at will and redirect to any resource. For example, let's click on the first customer",after:function(e){var t=e.target;s.a.click(t.querySelector('[data-testid="customer"]'))}},{target:'[data-testid="search"]',content:"The search query and results are preserved after navigation",before:function(e){var t=e.target;setTimeout((function(){return t.querySelector("input").focus()}),1e3)}}]}};t.a=m}).call(this,r(64))},942:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var a=["Stacey Warner","Jasmine Morgan","Gildas Bullock","Adrien King","Julien Andrews","Laila Robinson","Abigail Bryan","Felix Mccoy","Charlie Bradshaw","Yasmine Hoffman"];function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;return e[Math.floor(Math.random()*e.length)]}}},[[2012,1,2]]]);