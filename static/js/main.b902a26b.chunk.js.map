{"version":3,"sources":["layout/themes.ts","authProvider.ts","layout/Logo.tsx","layout/AppBar.tsx","layout/Breadcrumb.tsx","categories/CategoryCreate.tsx","products/LockOverlay.tsx","products/GridList.tsx","products/Aside.tsx","layout/BreadcrumbForActions.tsx","products/ProductList.tsx","categories/CategoryEdit.tsx","categories/index.ts","categories/CategoryList.tsx","ra-enterprise/List.tsx","segments/data.ts","visitors/SegmentsField.tsx","visitors/SegmentInput.tsx","visitors/AvatarField.tsx","visitors/FullNameField.tsx","visitors/CustomerLinkField.tsx","visitors/ColoredNumberField.tsx","visitors/MobileGrid.tsx","visitors/DesktopGrid.tsx","visitors/VisitorListAside.tsx","visitors/VisitorList.tsx","visitors/VisitorCreate.tsx","orders/NbItemsField.tsx","visitors/CustomerReferenceField.tsx","visitors/AddressField.tsx","orders/MobileGrid.tsx","orders/OrderList.tsx","orders/Basket.tsx","layout/EditActions.tsx","orders/OrderEdit.tsx","orders/index.ts","reviews/BulkAcceptButton.tsx","reviews/BulkRejectButton.tsx","reviews/ReviewListMobile.tsx","products/ProductReferenceField.tsx","reviews/StarRatingField.tsx","reviews/rowStyle.tsx","reviews/ReviewListDesktop.tsx","reviews/ReviewFilter.tsx","reviews/AcceptButton.tsx","reviews/RejectButton.tsx","reviews/ReviewEditToolbar.tsx","reviews/ReviewEdit.tsx","reviews/ReviewList.tsx","reviews/index.ts","visitors/Aside.tsx","visitors/SegmentsInput.tsx","visitors/VisitorEdit.tsx","visitors/index.ts","invoices/InvoiceShow.tsx","invoices/InvoiceList.tsx","invoices/index.ts","products/Poster.tsx","layout/CreateActions.tsx","products/ProductCreate.tsx","products/ProductPreview.tsx","products/ProductEdit.tsx","products/index.ts","stores/StoreList.tsx","stores/index.ts","visitors/segments.ts","layout/Menu.tsx","layout/Layout.tsx","layout/Login.tsx","layout/search/SearchListItemLink.tsx","layout/search/CommandListItem.tsx","layout/search/LinkedData.tsx","layout/search/CustomerListItem.tsx","layout/search/ProductListItem.tsx","layout/search/ReviewListItem.tsx","layout/Search.tsx","dashboard/welcome_illustration.svg","dashboard/Welcome.tsx","dashboard/CardWithIcon.tsx","dashboard/cartoucheDark.png","dashboard/cartouche.png","dashboard/MonthlyRevenue.tsx","dashboard/NbNewOrders.tsx","dashboard/PendingOrders.tsx","dashboard/PendingReviews.tsx","dashboard/NewCustomers.tsx","dashboard/OrderChart.tsx","dashboard/Dashboard.tsx","dashboard/index.ts","segments/LinkToRelatedCustomers.tsx","segments/Segments.tsx","tours/TourLauncher.tsx","routes.js","i18n/en.ts","i18n/fr.ts","tours/Tour.tsx","tours/TourList.tsx","tours/index.ts","dataProvider/addRealtimeMethodsWithFakeTransport.ts","dataProvider/addSearchMethod.ts","dataProvider/localStorageProvider.ts","dataProvider/index.ts","tours/data.ts","fakeServer/demo-data.ts","fakeServer/index.ts","App.tsx","index.tsx","tours/randomCommandBuilder.ts","tours/tours.ts","tours/randomLockBuilder.ts"],"names":["darkPalette","createPalette","type","primary","main","darkTheme","palette","overrides","MuiAppBar","zIndex","RaAppBar","menuButton","display","RaSearchInput","root","color","common","white","backgroundColor","fade","black","inputBase","background","borderRadius","inputAdornmentStart","RaSidebar","drawerPaper","paddingRight","width","RaMenuItemCategory","closeButton","popoverPaper","RaMenuItem","link","grey","RaFilterFormInput","body","marginTop","RaTopToolbar","alignItems","paddingTop","RaListToolbar","actions","minHeight","toolbar","lightPalette","secondary","light","dark","contrastText","default","lightTheme","shape","text","hint","RaMenuItemLink","borderLeft","active","RaMultiLevelMenu","navWithCategories","MuiPaper","elevation1","boxShadow","border","backgroundClip","MuiButton","contained","colorSecondary","MuiLinearProgress","colorPrimary","barColorPrimary","MuiFilledInput","RaLinkedData","authProvider","login","username","localStorage","setItem","Promise","resolve","logout","removeItem","checkError","checkAuth","getItem","reject","getPermissions","Logo","props","height","viewBox","aria-label","style","lineHeight","fontWeight","fontSize","fontFamily","letterSpacing","wordSpacing","strokeWidth","fill","d","useStyles","makeStyles","theme","position","title","flex","textOverflow","whiteSpace","overflow","paddingLeft","spacing","logo","padding","CustomAppBar","classes","data","useQuery","resource","payload","filter","playedOn","numberOfTours","length","AppBar","elevation","className","Typography","variant","id","Search","IconButton","to","component","Link","Badge","badgeContent","languages","locale","name","defaultLanguage","maxWidth","pointerEvents","CustomBreadcrumb","translate","useTranslate","editLabel","createLabel","resources","label","record","reference","linkToRecord","status","first_name","last_name","Prompt","save","useEffect","result","window","prompt","children","isRoot","CategoryCreate","refresh","useRefresh","redirect","useRedirect","Create","onSuccess","basePath","LockOverlay","lock","rest","Lock","identity","top","left","textAlign","gridList","margin","tile","tileBar","placeholder","price","getColsForWidth","LoadingGridList","nbChildren","fn","nbItems","cellHeight","cols","key","GridListTile","Array","from","_","ProductTile","GridListTileBar","subtitle","NumberField","source","options","currency","LoadedGridList","useListContext","ids","locks","useHasLocks","firstLockRecordId","React","data-tour-id","map","find","l","recordId","current","isFirstLock","data-productid","data-lockidentity","undefined","data-testid","src","thumbnail","alt","withWidth","loaded","breakpoints","up","marginRight","down","Aside","useListFilterContext","setFilters","filterValues","displayedFilters","useGetTree","tree","getRCTree","defaultExpandedKeys","category_id","toString","defaultSelectedKeys","Card","CardContent","FilterLiveSearch","FilterList","icon","FilterListItem","value","sales_lte","sales_gt","sales","stock_lt","stock_gt","stock","Tree","treeData","onSelect","selectedKeys","selectedNodes","autoExpandParent","Math","random","CustomBreadcrumbForActions","useQuickFilterStyles","marginBottom","QuickFilter","Chip","ProductFilter","SearchInput","alwaysOn","ReferenceInput","sort","field","order","SelectInput","NumberInput","defaultValue","ListActions","isSmall","useListActionsStyles","TopToolbar","context","SortButton","fields","CreateButton","ExportButton","paddingBottom","ProductListView","aside","defaultTitle","Title","Box","m","Pagination","rowsPerPageOptions","ProductList","useDefineAppLocation","useMediaQuery","ListBase","filters","perPage","CategoryEditAside","useGetList","page","total","ListContextProvider","showFilter","hideFilter","setSort","currentSort","CategoryEdit","Edit","SimpleForm","TextInput","smart_count","list","handleExpand","useTreeController","titleField","TreeWithDetails","create","edit","draggable","allowMultipleRoots","CategoryIcon","menuPaper","menuList","toolContainer","columnsList","maxHeight","overflowY","ToolContainer","forwardRef","ref","displayName","ColumnsTool","preferenceKey","defaultColumns","useRef","gutterBottom","preference","columns","GridOrListTool","view","setView","ButtonGroup","Button","onClick","Actions","hasColumnsSelector","hasViewSelector","hasList","hasShow","maxResults","permanentFilter","useState","anchorEl","setAnchorEl","open","Boolean","exporter","hasTools","classnames","sanitizeListRestProps","cloneElement","disabled","aria-controls","aria-haspopup","event","currentTarget","size","keepMounted","onClose","paper","EnterpriseList","defaultOmittedColumns","defaultView","visibleColumns","useSelectedColumns","preferences","omit","usePreferences","childrenElements","useMemo","flexWrap","chip","SegmentsField","groups","segmentId","segment","segments","s","defaultProps","addLabel","input","SegmentInput","choices","AvatarField","Avatar","avatar","parseInt","PureFullNameField","pure","CustomerLinkField","ColoredNumberField","card","flexDirection","cardTitleContent","justifyContent","cardContent","typography","body1","MobileGrid","CardHeader","DateField","nb_commands","editButton","right","DesktopGrid","RouterLink","fieldName","withStyles","flexShrink","MuiCard","last_seen_gte","endOfYesterday","toISOString","last_seen_lte","startOfWeek","Date","subWeeks","startOfMonth","subMonths","nb_commands_gte","nb_commands_lte","has_newsletter","VisitorFilter","DateInput","NullableBooleanInput","visitorListColumn","customer","last_seen","total_spent","latest_purchase","showTime","BooleanField","VisitorList","isXsmall","VisitorListAside","hasEdit","hasCreate","Datagrid","rowClick","marginLeft","email","address","zipcode","city","comment","password","confirm_password","validatePasswords","errors","requiredValidate","required","SectionTitle","Separator","pt","VisitorCreate","validate","formClassName","validation","fullWidth","multiline","PasswordInput","render","basket","NbItemsField","FunctionField","CustomerReferenceField","ReferenceField","AddressField","useListStyles","cardContentRow","TextField","OrderFilter","Filter","AutocompleteInput","optionText","choice","useDatagridStyles","tabs","TabbedDatagrid","listContext","isXSmall","ordered","setOrdered","delivered","setDelivered","cancelled","setCancelled","totals","useGetTotals","handleChange","useCallback","useTheme","rowStyle","batchLevel","batch","lighten","info","darken","orderRowStyle","selectedIds","Tabs","centered","indicatorColor","onChange","Tab","Divider","optimized","OrderList","filterDefaultValues","breadcrumb","container","minWidth","rightAlignedCell","boldCell","Basket","useQueryWithStore","item","product_id","state","productId","admin","products","r","reduce","prev","next","Paper","Table","TableHead","TableRow","TableCell","TableBody","toLocaleString","quantity","colSpan","total_ex_taxes","delivery_fees","tax_rate","EditActions","OrderTitle","useEditStyles","OrderEditForm","BooleanInput","OrderIcon","BulkAcceptButton","notify","useNotify","redirectTo","unselectAll","useUnselectAll","useUpdateMany","action","CRUD_UPDATE_MANY","undoable","onFailure","approve","loading","BulkRejectButton","textDecoration","inline","ReviewMobileList","useAppLocationState","setLocation","resourceLocation","useResourceAppLocation","effectDependency","JSON","stringify","ListItem","button","ListItemAvatar","linkType","ListItemText","secondaryTypographyProps","noWrap","hasBulkActions","ProductReferenceField","opacity","large","small","StarRatingField","rating","i","selectedRow","index","defaultStyle","selected","borderLeftColor","green","borderLeftWidth","borderLeftStyle","orange","red","headerRow","headerCell","rowCell","ReviewListDesktop","cellClassName","useFilterStyles","ReviewFilter","AcceptButton","useUpdate","RejectButton","ReviewEditToolbar","handleSubmitWithRedirect","invalid","saving","SaveButton","submitOnEnter","DeleteButton","form","inlineField","ReviewEdit","onCancel","controllerProps","useEditController","version","rowsMax","ReviewsBulkActionButtons","BulkDeleteButton","flexGrow","transition","transitions","duration","enteringScreen","listWithDrawer","ReviewList","history","useHistory","handleClose","push","path","match","isMatch","params","bulkActionButtons","ReviewListMobile","Drawer","anchor","ReviewIcon","useAsideStyles","EventList","customer_id","orders","orderIds","reviews","reviewIds","events","mixOrdersAndReviews","mb","mr","eventsFromOrders","date","eventsFromReviews","e1","e2","valueOf","useEventStyles","cardHeader","clamp","OrderEvent","subheader","ReviewEvent","EditButton","Tooltip","SegmentsInput","addField","SelectArrayInput","VisitorTitle","VisitorForm","FormWithRedirect","formProps","md","lg","xs","sm","ml","mt","Toolbar","handleSubmit","VisitorIcon","CustomerField","InvoiceShow","useShowController","Grid","align","alignContent","spacer","toLocaleDateString","invoices","borderStyle","borderWidth","borderColor","divider","ListFilters","InvoicesDatagrid","expand","InvoiceIcon","content","img","Poster","image","CreateActions","styles","widthFormGroup","heightFormGroup","ProductCreate","TabbedForm","FormTab","InputProps","startAdornment","InputAdornment","endAdornment","allowEmpty","details","preview","frame","mat","bottom","art","Preview","ProductTitle","createStyles","ProductEditFormWithPreview","FormDataConsumer","formData","ProductPreview","CustomToolbar","useHasLock","isMeLocker","useLockMessageStyles","LockMessage","ProductEdit","useLock","CircularProgress","ReferenceManyField","target","pagination","ReferenceManyFieldPagination","ProductIcon","StoreForm","autoFocus","StoreListActions","StoreIcon","empty","createForm","editForm","string","charAt","toUpperCase","slice","newCustomerFilter","visitorsFilter","StyledBadgeForText","badge","Menu","onMenuClick","commandsChangeCount","useAppLocationMatcher","location","countEvent","setCountEvent","useSubscribeToRecordList","count","values","previous","useResourceChangeCounter","useSelector","exact","stores","CustomersMenu","savedQueriesMenuItems","usePersistedQueriesMenu","CatalogMenu","useSavedQueries","querystring","CustomLayout","appBar","menu","tours","backgroundRepeat","backgroundSize","renderInput","meta","touched","error","inputProps","helperText","Form","withTypes","Login","setLoading","useLogin","useLocation","onSubmit","auth","nextPathname","catch","message","noValidate","CardActions","thickness","Notification","LoginWithTheme","ThemeProvider","createMuiTheme","SearchListItemLink","url","CommandListItem","useCommandListItemStyles","fontWeightBold","CommandStatus","useCommandStatusStyles","blue","getContrastText","success","textTransform","LinkedData","CustomerListItem","fullname","pending_orders","ProductListItem","useProductListItemStyles","ReviewListItem","Rating","readOnly","ReviewComment","truncateString","max","CustomSearch","CustomSearchPanel","useCustomSearchPanelStyles","useSearchResults","dense","groupedData","groupSearchResultsByResource","group","ListSubheader","role","header","disableSticky","headerGroup","headerCount","searchResultItem","overflowX","CustomSearchResultItem","media","publishArticleImage","Welcome","href","startIcon","CardWithIcon","createElement","MonthlyRevenue","DollarIcon","NbNewOrders","ShoppingCartIcon","cost","PendingOrders","customers","nb_items","customer_name","ListItemSecondaryAction","listItemText","WebkitLineClamp","WebkitBoxOrient","PendingReviews","nb","CommentIcon","NewCustomers","aMonthAgo","setDate","getDate","setHours","setMinutes","setSeconds","setMilliseconds","has_ordered","first_seen_gte","visitors","CustomerIcon","lastDay","lastMonthDays","subDays","dateFormatter","getRevenuePerDay","daysWithRevenue","acc","curr","day","format","aggregateOrdersByDay","getTime","OrderChart","x1","y1","x2","y2","offset","stopColor","stopOpacity","dataKey","scale","domain","addDays","tickFormatter","unit","strokeDasharray","cursor","formatter","Intl","NumberFormat","labelFormatter","stroke","flexColumn","leftCol","rightCol","singleCol","Spacer","VerticalSpacer","Dashboard","setState","useVersion","dataProvider","useDataProvider","fetchOrders","a","getList","date_gte","recentOrders","aggregations","stats","revenue","nbNewOrders","pendingOrders","minimumFractionDigits","maximumFractionDigits","getMany","pendingOrdersCustomers","fetchReviews","nbPendingReviews","pendingReviews","min","review","pendingReviewsCustomers","LinkToRelatedCustomers","pathname","search","Segments","TourLauncher","tour","useParams","useTour","running","start","customEnglishMessages","mergeTranslations","englishMessages","add_root","pos","configuration","language","dashboard","monthly_revenue","month_history","new_orders","pending_reviews","new_customers","items","welcome","ra_button","demo_button","github_button","catalog","my_queries","all_customers","all_reviews","bad_reviews","accepted","rejected","pending","commands","first_seen","birthday","last_visited","today","this_week","last_week","this_month","last_month","earlier","fieldGroups","change_password","delete","password_mismatch","amount","delivery","sum","unit_price","date_lte","returned","total_gte","command_id","height_gte","height_lte","stock_lte","width_gte","width_lte","description","categories","no_stock","low_stock","average_stock","enough_stock","best_sellers","average_sellers","low_sellers","never_sold","create_product","relative_to_poster","detail","accept","notification","approved_success","approved_error","rejected_success","rejected_error","compulsive","collector","ordered_once","regular","returns","reviewer","country","created_at","overlay","customFrenchMessages","frenchMessages","taxes","visited","rightButton","newIcon","buyIcon","playedOnIndicator","Tour","useMutation","setPlayed","CardMedia","process","gridContainer","reset","resetLoading","markAsPlayed","markAsPlayedLoading","GridList","DirectionsBusIcon","subscriptions","addRealtimeMethodsWithFakeTransport","subscribe","topic","subscriptionCallback","unsubscribe","subscription","publish","Error","addSearchMethod","query","all","searchInResource","resultsByResource","resultForResource","q","ResultBuilders","getOne","VALID_UNTIL","mergeById","b","notInB","aItem","bItem","inBoth","notInA","c","restProvider","compose","addLocksMethodsBasedOnALockResource","addTreeMethodsBasedOnChildren","simpleRestProvider","customProviders","defaultState","get","collection","parse","set","update","newItem","otherItem","remove","Object","keys","o","validUntil","includes","getManyReference","updateMany","updateResults","res","deleteMany","deleteResults","localStorageProvider","customMethods","delayedDataProvider","Proxy","self","provider","setTimeout","getAllChildrenCategories","parentId","parentCategory","childId","originalCategories","newCategories","generateData","serializeDate","demoData","product","originalCategory","matchingNewCategory","newCategoryId","arrayElement","mergedData","restServer","FakeRest","FetchServer","addRequestInterceptor","request","method","init","toggleLogging","fetchMock","mock","getHandler","restore","messages","en","fr","i18nProvider","buildI18nProvider","App","restoreFetch","fakeServer","customRoutes","loginPage","layout","Layout","Resource","ReactDOM","document","getElementById","randomCommandBuilder","round","replace","substr","getRandomInt","ceil","floor","timeout","ms","interval","callback","intervalMs","expirationMs","intervalRef","setInterval","clearInterval","newCommandsIds","before","steps","disableBeacon","joyrideProps","beacon","after","getAttribute","click","encodeURIComponent","nameInput","querySelector","fireEvent","change","saveButton","menuOverlay","setTourPreferences","arrowColor","switcher","then","newCommand","hideBackButton","newCommand1","newCommand2","dispatch","generateIdentity","fetchResponse","lockTile","global","HTMLElement","dataset","productid","lockidentity","unlock","disableScrolling","scrollOffset","scrollTo","focus","defaultIdentities","identities"],"mappings":"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","file":"static/js/main.b902a26b.chunk.js","sourcesContent":["import { ThemeOptions } from '@react-admin/ra-enterprise';\nimport { fade } from '@material-ui/core';\nimport { grey } from '@material-ui/core/colors';\nimport createPalette from '@material-ui/core/styles/createPalette';\n\nconst darkPalette = createPalette({\n    type: 'dark', // Switching the dark mode on is a single property value change.\n    primary: {\n        main: '#90caf9',\n    },\n});\n\nexport const darkTheme: ThemeOptions = {\n    palette: darkPalette,\n    overrides: {\n        MuiAppBar: {\n            // Hide MenuItemCategory shadow behind the appbar\n            zIndex: 9999,\n        },\n        RaAppBar: {\n            menuButton: {\n                // Since sub-<Menu /> hide labels when sidebar is closed\n                // We need to disallow sidebar closing (hiding button is simpler)\n                display: 'none',\n            },\n        },\n        RaSearchInput: {\n            root: {\n                color: darkPalette.common.white,\n                backgroundColor: fade(darkPalette.common.black, 0.04),\n                '&:hover': {\n                    backgroundColor: fade(darkPalette.common.black, 0.13),\n                },\n                '&:focus': {\n                    backgroundColor: fade(darkPalette.common.black, 0.13),\n                },\n                '&:focus-within': {\n                    backgroundColor: fade(darkPalette.common.black, 0.13),\n                },\n            },\n            inputBase: {\n                background: fade(darkPalette.common.black, 0.04),\n                borderRadius: 10,\n                '&:hover': {\n                    background: fade(darkPalette.common.black, 0.1),\n                },\n            },\n            inputAdornmentStart: {\n                color: darkPalette.common.white,\n            },\n        },\n        RaSidebar: {\n            drawerPaper: {\n                paddingRight: 16,\n                width: 'auto',\n            },\n        },\n        RaMenuItemCategory: {\n            closeButton: {\n                color: 'white',\n            },\n            popoverPaper: {\n                backgroundColor: '#424242',\n            },\n        },\n        RaMenuItem: {\n            root: {\n                color: 'white',\n            },\n            link: {\n                '&:hover': {\n                    color: 'black',\n                    backgroundColor: grey[200],\n                },\n            },\n        },\n        RaFilterFormInput: {\n            body: {\n                // Fixes search filter breadcrumb overlap\n                '& > div': {\n                    marginTop: 8,\n                },\n            },\n        },\n        RaTopToolbar: {\n            root: {\n                alignItems: 'center',\n                paddingTop: 0,\n            },\n        },\n        RaListToolbar: {\n            root: {\n                alignItems: 'center',\n                paddingTop: 0,\n            },\n            actions: {\n                alignItems: 'center',\n                paddingTop: 0,\n                minHeight: 'auto',\n            },\n            toolbar: {\n                minHeight: 'auto',\n            },\n        },\n    },\n};\n\nconst lightPalette = createPalette({\n    type: 'light',\n    primary: {\n        main: '#4f3cc9',\n    },\n    secondary: {\n        light: '#5f5fc4',\n        main: '#283593',\n        dark: '#001064',\n        contrastText: '#fff',\n    },\n    background: {\n        default: '#fcfcfe',\n    },\n});\n\nexport const lightTheme: ThemeOptions = {\n    palette: lightPalette,\n    shape: {\n        borderRadius: 10,\n    },\n    overrides: {\n        RaAppBar: {\n            menuButton: {\n                // Since sub-<Menu /> hide labels when sidebar is closed\n                // We need to disallow sidebar closing (hiding button is simpler)\n                display: 'none',\n            },\n        },\n        RaSearchInput: {\n            root: {\n                color: lightPalette.text.primary,\n                backgroundColor: fade(lightPalette.common.black, 0.04),\n                '&:hover': {\n                    backgroundColor: fade(lightPalette.common.black, 0.13),\n                },\n                '&:focus': {\n                    backgroundColor: fade(lightPalette.common.black, 0.13),\n                },\n                '&:focus-within': {\n                    backgroundColor: fade(lightPalette.common.black, 0.13),\n                },\n            },\n            inputBase: {\n                background: fade(lightPalette.common.black, 0.04),\n                borderRadius: 10,\n                '&:hover': {\n                    background: fade(lightPalette.common.black, 0.1),\n                },\n            },\n            inputAdornmentStart: {\n                color: lightPalette.text.hint,\n            },\n        },\n        RaMenuItemLink: {\n            root: {\n                borderLeft: '3px solid #fff',\n            },\n            active: {\n                borderLeft: '3px solid #808080',\n            },\n        },\n        RaMenuItemCategory: {\n            root: {\n                color: '#808080',\n                '&:hover': {\n                    color: 'black',\n                    backgroundColor: grey[200],\n                },\n            },\n        },\n        RaMenuItem: {\n            root: {\n                color: '#808080',\n            },\n        },\n        RaMultiLevelMenu: {\n            navWithCategories: {\n                backgroundColor: '#fff',\n            },\n        },\n        MuiPaper: {\n            elevation1: {\n                boxShadow: 'none',\n            },\n            root: {\n                border: '1px solid #e0e0e3',\n                backgroundClip: 'padding-box',\n            },\n        },\n        MuiButton: {\n            contained: {\n                backgroundColor: '#fff',\n                color: '#4f3cc9',\n                boxShadow: 'none',\n            },\n        },\n        MuiAppBar: {\n            // Hide MenuItemCategory shadow behind the appbar\n            root: { zIndex: 9999 },\n            colorSecondary: {\n                color: '#808080',\n                backgroundColor: '#fff',\n            },\n        },\n        MuiLinearProgress: {\n            colorPrimary: {\n                backgroundColor: '#f5f5f5',\n            },\n            barColorPrimary: {\n                backgroundColor: '#d7d7d7',\n            },\n        },\n        MuiFilledInput: {\n            root: {\n                backgroundColor: 'rgba(0, 0, 0, 0.04)',\n                '&$disabled': {\n                    backgroundColor: 'rgba(0, 0, 0, 0.04)',\n                },\n            },\n        },\n        RaSidebar: {\n            drawerPaper: {\n                paddingRight: 16,\n                width: 'auto',\n            },\n        },\n        RaFilterFormInput: {\n            body: {\n                // Fixes search filter breadcrumb overlap\n                '& > div': {\n                    marginTop: 8,\n                },\n            },\n        },\n        RaLinkedData: {\n            root: {\n                '&:hover': {\n                    backgroundColor: '#ddd',\n                },\n            },\n        },\n        RaTopToolbar: {\n            root: {\n                alignItems: 'center',\n                paddingTop: 0,\n            },\n        },\n        RaListToolbar: {\n            root: {\n                alignItems: 'center',\n                paddingTop: 0,\n            },\n            actions: {\n                alignItems: 'center',\n                minHeight: 'auto',\n                paddingTop: 0,\n            },\n            toolbar: {\n                minHeight: 'auto',\n            },\n        },\n    },\n};\n","import { AuthProvider } from 'react-admin';\n\nconst authProvider: AuthProvider = {\n    login: ({ username }) => {\n        localStorage.setItem('username', username);\n        // accept all username/password combinations\n        return Promise.resolve();\n    },\n    logout: () => {\n        localStorage.removeItem('username');\n        return Promise.resolve();\n    },\n    checkError: () => Promise.resolve(),\n    checkAuth: () =>\n        localStorage.getItem('username') ? Promise.resolve() : Promise.reject(),\n    getPermissions: () => Promise.reject('Unknown method'),\n};\n\nexport default authProvider;\n","import * as React from 'react';\nimport { SVGProps } from 'react';\n\nconst Logo = (props: SVGProps<SVGSVGElement>): React.ReactElement => (\n    <svg width={234.532} height={20.475} viewBox=\"0 0 62.053 5.417\" {...props}>\n        <g\n            aria-label=\"~Posters Galore~\"\n            style={{\n                lineHeight: 1.25,\n            }}\n            fontWeight={400}\n            fontSize={7.056}\n            fontFamily=\"Permanent Marker\"\n            letterSpacing={0}\n            wordSpacing={0}\n            strokeWidth={0.265}\n            fill=\"#4f3cc9\"\n        >\n            <path d=\"M.227 3.659Q.124 3.652.062 3.61 0 3.562 0 3.486q0-.068.062-.124.041-.103.083-.165L.24 3.06q.07-.096.138-.193.069-.096.152-.193.04-.034.068-.048.076-.055.152-.103.076-.055.172-.09.173-.062.338-.062.165-.007.282 0 .097.007.18.02.09.008.151.022.103.048.165.09.07.04.131.096.076.04.118.09.048.04.082.089.02.027.083.09.062.061.151.061.083 0 .138-.075.062-.076.124-.131.055-.145.18-.22.055-.028.089-.035l.076-.014q.02-.007.041-.007l.035-.014.075-.007h.09q.117-.034.207-.034.103.007.165.055.062.041.062.117 0 .076-.062.124-.041.11-.09.172-.04.062-.09.131l-.137.193q-.069.097-.158.193-.028.035-.07.048-.068.056-.144.11-.076.049-.172.083-.18.062-.345.07-.158 0-.275-.008l-.186-.013q-.083-.014-.152-.028-.096-.048-.165-.09-.07-.04-.131-.09-.076-.047-.117-.089-.042-.048-.076-.096-.02-.028-.09-.09-.069-.069-.144-.062-.076.007-.145.083-.062.069-.124.124-.041.138-.172.22-.056.028-.097.035l-.069.014-.041.013q-.02 0-.035.007l-.075.007h-.09q-.117.035-.207.035zM4.417 3.225q.007-.028.027-.021.028 0 .048-.007-.055-.055-.068-.145-.014-.096-.07-.158.014-.035.021-.069.014-.034.062-.028-.02-.151.007-.282.028-.131.083-.248.062-.117.138-.228.082-.117.158-.234.062-.014.076.014.014.02.048-.014.11-.076.152-.165.041-.097.041-.207.062-.179.138-.351.083-.18.186-.331.103-.152.22-.262.118-.117.255-.179.097-.083.242-.152.151-.068.316-.103.173-.041.352-.041.179-.007.33.034.035.014.042-.014Q7.228 0 7.255 0q.345.041.614.138.275.096.468.269.131.206.248.447.117.235.18.496.068.255.061.531-.007.276-.117.551-.241.303-.585.49-.345.179-.745.303-.392.117-.82.193-.42.075-.82.165.007.186 0 .4-.006.206-.048.42-.034.207-.11.406-.069.2-.193.372-.138-.006-.29.028-.144.034-.261.069l-.11-.069q-.049-.028-.124-.034.02-.083-.042-.173-.055-.09-.117-.172-.055-.09-.076-.172-.013-.09.083-.159-.055-.048-.055-.151.028.027.069.027-.014-.124.027-.296.049-.172.076-.338.035-.172.014-.31-.02-.144-.165-.206zm1.791-1.613l-.048.138q-.014.055-.035.103-.02.049-.048.097l-.048.11q.014.042.055.062.041.02.055.062.097-.048.193-.069.097-.027.193-.041.096-.014.193-.035.096-.02.2-.068.103-.049.213-.076l.228-.07q.11-.034.213-.075.104-.048.18-.124-.097-.09-.29-.158-.193-.07-.42-.083-.22-.02-.448.028-.22.048-.386.2zM12.506 3.1q-.007.083.013.16.021.075.049.15.034.07.062.145.027.076.041.152.014.096 0 .214-.014.11-.048.22-.035.103-.09.193-.055.083-.13.124-.097.124-.235.193-.138.069-.255.165-.076.048-.172.07l-.186.04q-.076.042-.18.09l-.213.083q-.11.034-.22.055-.11.014-.193.007-.207.076-.407.096-.193.028-.455-.027-.248.034-.461-.021-.207-.055-.372-.172-.159-.124-.283-.29-.117-.172-.193-.358-.055-.393.028-.71.083-.323.234-.592.159-.276.358-.503.2-.234.386-.455.042.014.062 0 .028-.02.048-.048.021-.035.042-.062.027-.028.062-.035.048-.103.138-.151.096-.055.151-.152.062-.014.104-.041.04-.028.075-.062.042-.035.083-.062.041-.035.097-.048v-.076q.124-.055.179-.124l.144-.18q.062-.006.097-.006.041 0 .117-.014.055-.096.096-.145.049-.048.138-.103.083.041.18.055.103.014.178.09.007.069.042.11.034.034.076.069.041.027.075.062.042.034.056.096.027.007.034-.007.014-.013.041-.007.021.097.049.131.027.028.055.117-.035.07-.055.145-.014.07-.083.104-.007.048.027.055.035 0 .042.034.007.062-.02.09.164.268.295.572.131.296.297.565zm-.862.655q.028-.076.07-.124.048-.048.054-.145-.034-.055-.04-.082-.008-.035-.008-.104-.151-.213-.262-.454-.11-.248-.248-.462-.013.028-.048.055-.034.028-.076-.014-.013.055-.048.083-.034.02-.076.02-.041-.006-.09-.02-.04-.02-.075-.048-.2.158-.4.31-.2.151-.358.351-.028.014-.034.014-.007-.007-.042.007-.055.13-.138.241-.075.103-.151.214-.076.11-.131.234-.055.124-.062.29.117.096.276.116.158.021.323.007.173-.013.331-.041.165-.034.303-.034.29-.07.496-.18.207-.117.434-.234zM12.898 2.067q.049-.145.152-.248.11-.103.234-.172.131-.076.269-.124t.262-.083q.275-.117.585-.22.317-.11.641-.193.331-.083.676-.104.344-.027.723.083.02.069.062.13l.083.125q.048.062.082.124.035.055.042.117.069.062.11.138.041.069.014.186-.07.055-.138.103-.062.042-.138.076-.255-.062-.517-.041-.261.02-.468.034-.062-.062-.152-.062-.082 0-.179.028l-.186.055q-.09.027-.172.014-.07.055-.172.075-.097.014-.214.028-.007.034.014.048.02.007.007.042.041.048.103.068l.138.042q.076.02.13.055.056.027.076.096.104 0 .18.049.075.048.124.117.048.069.069.151.027.076.027.138.02.055.048.048.028-.007.062.028.021.09.104.186.082.09.13.2.014.172.021.31.007.13-.048.269-.103.254-.29.454-.178.2-.413.359-.227.151-.489.261-.262.11-.51.186-.027-.006-.055 0-.027.007-.014-.034-.055.048-.124.062-.062.014-.138.007-.075 0-.158-.007-.076-.007-.145.007-.048-.048-.09-.097-.034-.04-.054-.11-.035 0-.035-.034.007-.035-.02-.035.04-.069.034-.076 0-.013-.02-.02l-.028-.014q-.014-.014-.007-.034.027-.056.02-.124l-.013-.152q-.007-.076.007-.145.02-.069.103-.11.234.028.44-.014.215-.048.4-.13.187-.083.352-.18.172-.096.338-.172.02-.062.055-.103.041-.042.082-.076.042-.035.076-.076.035-.041.048-.103.007-.049-.027-.055-.028-.014-.028-.056l-.076-.02q-.13-.076-.296-.124-.165-.055-.282-.117-.076.04-.145.02-.062-.02-.165-.041-.235-.014-.455-.048-.214-.035-.414-.124-.013-.035-.034-.062-.02-.028-.076-.014-.041-.055-.082-.103-.042-.056-.076-.118.014-.082.02-.137.007-.062-.04-.118.027-.09.04-.144.014-.055 0-.145z\" />\n            <path d=\"M19.988 1.853q-.172 0-.372.028-.2.02-.392.048-.138.02-.27.035-.123.013-.226.02-.049.152-.097.27-.048.116-.103.226-.055.118-.104.242-.041.117-.082.255-.07.11-.117.206-.042.09-.07.207-.082.103-.123.22-.042.11-.062.193l-.028.083q-.041.041-.048.069-.007.02-.035.041-.007.076-.048.152-.014.034-.02.069-.007.027-.007.041 0 .069-.035.09.007.034 0 .075l-.014.07q-.02.082-.013.13l.034.049q.02.02.028.055.04.027.062.034.027.02.082.048l.062.07q.035.199-.062.316-.103.131-.351.131h-.083q-.034-.034-.041-.055l-.09-.034q-.034-.014-.062-.056-.09-.04-.144-.068l-.062-.035v-.083q-.049-.062-.076-.137-.02-.076-.035-.152-.013-.062-.034-.117-.014-.055-.041-.097-.014-.4.075-.675.09-.275.186-.53l.11-.276q.056-.145.097-.296l.062-.07.076-.178.069-.152q.02-.048.034-.09l.035-.082q-.042 0-.076.007-.035 0-.069.007l-.076.013h-.069q-.048 0-.069-.006-.075.034-.165.034H17.019q-.014-.007-.028-.007-.069 0-.11.02h-.228q-.013 0-.034.008h-.034q-.049 0-.104-.007-.055-.014-.117-.048-.082-.11-.11-.118l-.062-.082q-.007-.042-.02-.076-.014-.041-.028-.09-.028-.069-.055-.144-.021-.083-.021-.193.007-.055.028-.083l.034-.048.02-.104.09.007h.193q.22 0 .448-.013l.469-.042.275-.027.296-.028q.028-.062.056-.117l.068-.034q.124-.007.173.034.055.034.09.069l.302-.028q.159-.02.317-.048.235-.034.469-.062.241-.027.462-.027.096 0 .186.006.09.007.165.021l.069.048q.02.042.055.076l.083.069q.082.076.165.18.083.103.062.302-.055.083-.083.097l-.062.082-.069-.006q-.04 0-.075.013-.035.007-.07.021l-.054.028-.062.013h-.104q-.034-.007-.076-.007z\" />\n            <path d=\"M23.303 1.288q.007.049 0 .076 0 .02-.007.042v.048q0 .02.014.069-.145.234-.338.324-.186.082-.407.124-.22.034-.454.075-.228.042-.455.18-.09-.035-.166 0-.068.034-.206.02-.042.042-.104.062-.062.014-.124.035.028.062.021.13 0 .063.02.104.242.02.531-.007.297-.028.58-.034.006.034-.008.048-.014.007-.007.034.049.035.097.09l.096.096q.048.049.097.083.055.028.124.02.027.056.034.125.014.062-.014.13-.11.076-.22.159-.11.076-.234.138-.118.062-.255.103-.131.035-.297.028h-.055q-.014 0-.041-.02-.055.034-.159.02-.096-.014-.151.02-.076-.034-.186-.027-.104 0-.186-.028-.11.145-.2.31-.09.166-.159.352.235.034.386.027.159-.007.297-.02.137-.021.282-.035.145-.02.365-.014.138-.075.324-.096.193-.028.352-.083.055.021.096.076.041.048.076.097.041.04.082.075.042.035.104.028.027.027.034.069.014.034.02.069.008.034.022.062.02.02.062.013-.104.228-.242.352-.13.117-.303.179-.172.062-.386.096-.206.035-.461.083-.062.014-.104-.007-.04-.014-.096-.014-.158.035-.379.062-.22.028-.448.021-.227-.007-.434-.062-.207-.048-.338-.179-.055-.048-.075-.11-.014-.07-.09-.104-.007-.09-.027-.2l-.042-.227q-.02-.124-.034-.24-.007-.118.014-.215.02-.103.082-.186.07-.082.048-.179.035-.007.042-.034.007-.035.055-.028.041-.124.09-.234.048-.11.096-.214.055-.103.103-.206.055-.11.104-.241-.097-.09-.145-.193-.041-.11-.062-.214-.02-.11-.035-.22-.013-.118-.048-.235.07-.103.166-.165.103-.069.22-.11.117-.042.255-.07.138-.027.29-.061.275-.09.489-.138.22-.048.427-.076.213-.034.44-.062.228-.027.518-.083.062.062.117.062.027-.062.062-.034.041.02.034-.041.07.117.172.2.11.075.242.13zM24.185 4.451q-.076.276-.138.42-.055.138-.172.29-.09-.014-.125.02-.034.035-.075.062-.062.014-.09 0-.027-.013-.048-.034-.02-.014-.055-.034-.028-.014-.09-.014-.014-.055-.034-.104-.014-.048-.09-.034.014-.055.007-.09-.007-.041-.02-.069l-.014-.062q-.007-.034.007-.082-.035 0-.056-.048-.02-.049-.048-.097.02-.124.042-.234.02-.11.048-.207.034-.096.055-.193.02-.096-.02-.2.027.021.04-.007.014-.034.021-.082.007-.055.007-.104 0-.055-.007-.09.07-.178.11-.364.049-.193.083-.38.041-.185.083-.364.041-.18.11-.331.076-.014.165.02.097.028.118.076.179-.138.317-.33.137-.2.282-.386.145-.186.317-.331.18-.145.448-.172.138.103.303.213.172.104.282.276.056.027.09.062.041.028.097.062v.083q.082.075.13.179.056.096.097.213l.083.228q.04.11.096.213-.014.035-.014.062 0 .021.007.049.014.027.02.055.008.027 0 .076-.02.303-.199.489-.172.186-.42.31-.248.117-.53.2-.283.082-.51.179 0 .027.02.027.028 0 .02.035.166.103.262.165.097.062.18.103.09.042.186.076.103.028.282.07.18.04.276.068.103.02.186.041l.165.028.248.02q.062.063.104.152.048.083.062.172.013.083.006.166-.006.076-.048.124.007.02.028.02.027-.006.055 0-.041.028-.069.07l-.055.082q-.028.041-.062.069-.035.034-.097.041-.213.083-.537.007-.324-.069-.82-.262-.248-.096-.406-.165-.152-.076-.27-.145-.11-.075-.206-.158l-.22-.2zm.985-2.363q-.076.11-.172.2-.09.09-.18.186-.082.09-.151.206-.069.11-.097.262.242-.027.503-.13.262-.111.496-.208-.027-.213-.151-.344-.117-.13-.248-.172zM27.01 2.067q.048-.145.151-.248.11-.103.234-.172.131-.076.27-.124.137-.048.26-.083.277-.117.587-.22.317-.11.64-.193.331-.083.676-.104.344-.027.723.083.02.069.062.13l.083.125q.048.062.082.124.035.055.042.117.069.062.11.138.041.069.014.186-.07.055-.138.103-.062.042-.138.076-.255-.062-.517-.041-.261.02-.468.034-.062-.062-.152-.062-.082 0-.179.028l-.186.055q-.09.027-.172.014-.069.055-.172.075-.097.014-.214.028-.007.034.014.048.02.007.007.042.041.048.103.068l.138.042q.076.02.13.055.056.027.077.096.103 0 .179.049.076.048.124.117t.069.151q.027.076.027.138.02.055.048.048.028-.007.062.028.021.09.104.186.083.09.13.2.015.172.021.31.007.13-.048.269-.103.254-.29.454-.178.2-.413.359-.227.151-.489.261-.262.11-.51.186-.027-.006-.055 0-.027.007-.014-.034-.055.048-.124.062-.062.014-.137.007-.076 0-.159-.007-.076-.007-.145.007-.048-.048-.09-.097-.034-.04-.054-.11-.035 0-.035-.034.007-.035-.02-.035.04-.069.034-.076 0-.013-.02-.02l-.028-.014q-.014-.014-.007-.034.027-.056.02-.124l-.013-.152q-.007-.076.007-.145.02-.069.103-.11.234.028.441-.014.214-.048.4-.13.186-.083.351-.18.172-.096.338-.172.02-.062.055-.103.041-.042.082-.076.042-.035.076-.076.035-.041.048-.103.007-.049-.027-.055-.028-.014-.028-.056l-.075-.02q-.131-.076-.297-.124-.165-.055-.282-.117-.076.04-.145.02-.062-.02-.165-.041-.235-.014-.455-.048-.214-.035-.413-.124-.014-.035-.035-.062-.02-.028-.076-.014-.041-.055-.082-.103-.042-.056-.076-.118.014-.082.02-.137.007-.062-.04-.118.027-.09.04-.144.014-.055 0-.145zM32.797 3.535q0-.076.021-.138.02-.062.007-.159.213-.454.482-.84.276-.393.655-.69.062-.047.096-.096.042-.055.076-.103.041-.048.09-.083.048-.041.124-.055.172-.2.413-.365.241-.165.503-.317t.524-.31q.268-.159.482-.345.076.049.117.035.048-.02.097-.007.062.13.158.186.103.048.207.103.11.049.2.124.096.07.144.193-.048 0-.048.035.007.034.02.076.014.04.014.075 0 .035-.062.035 0 .048.049.048.048 0 .048.048 0 .042-.02.07-.015.02 0 .075-.166.11-.373.214l-.427.206q-.22.11-.455.241-.227.124-.455.29-.227.165-.461.365-.228.2-.441.427-.214.22-.4.462-.186.234-.317.461.014.035.035.062.027.028.041.063.262.013.49 0 .227-.021.454.027.028-.02.034-.055.007-.035.042-.048.468-.049.875-.152.406-.11.827-.22-.124-.049-.22-.076-.042-.041 0-.069.047-.034.075-.069-.11-.062-.186-.165-.069-.104-.083-.269.049-.041.049-.096 0-.056-.049-.09-.034-.014-.041 0l-.014.027q0 .014-.014.028-.007.014-.034 0 .007-.076.034-.124.028-.048.042-.117l.572-.38q.09.07.22.146.131.075.276.151.144.076.296.159.152.075.282.151.125.055.214.138.09.076.172.165l.166.166q.082.082.2.138-.014.11.013.179.028.069.014.165-.13.234-.317.4-.186.158-.42.275-.228.117-.49.2-.261.076-.537.152-.275.069-.558.151-.276.076-.544.18-.117 0-.2.006-.083.007-.159.021l-.151.028q-.076.013-.165.02-.035-.007-.049.014-.007.02-.027.035-.138.02-.248.02h-.186q-.097 0-.2.028-.104.027-.193.02-.62-.027-.972-.44-.351-.414-.385-1.137.006-.035-.014-.042-.02-.014-.035-.027z\" />\n            <path d=\"M42.01 4.589q-.042.117-.125.241-.075.117-.186.214-.103.09-.234.151-.13.062-.275.07-.09-.022-.124-.05-.028-.02-.062-.04-.021-.014-.042-.021-.014-.014-.027-.02l-.083-.035.028-.09q.013-.055-.007-.083-.021-.034-.083-.09l-.041-.04q-.021-.021-.035-.042l-.117-.13.186-.049q.172-.048.227-.124.062-.076.049-.255-.138-.027-.235-.007-.09.02-.186.048-.124.035-.255.062-.124.021-.275.021h-.104l-.103-.014-.069-.013q-.014-.076-.027-.083l-.028-.028q-.034-.034-.076-.09-.034-.061-.013-.15-.035-.063-.042-.125-.041.083-.062.172l-.027.07-.07.013q-.013.007-.02.035-.007.02-.007.034l-.034.117-.028.028q-.014.007-.027.02-.014.062-.035.124-.02.062-.041.118-.035.09-.062.179-.02.082-.014.165l-.028.076q-.034.041-.075.069l-.083.041q-.014.014-.041.028l-.035.013-.02.076-.083.014-.11.02q-.028.008-.07.008l-.068-.007-.117-.097q-.042-.041-.097-.076-.062-.082-.069-.124l-.014-.075q-.013-.042-.013-.07-.007-.027-.021-.04l-.09-.083.076-.062.007-.117q.138-.352.29-.676l.323-.661q.056-.11.104-.22l.11-.221q-.007-.02-.007-.048t.014-.062q.076-.118.124-.207l.096-.193q.055-.117.11-.227.063-.11.152-.228l.11-.048.049-.014q.027-.014.062-.014l.103.014q.193-.09.338-.248.144-.165.296-.393l.069-.096.09.055q.034.02.096.041.062.014.13.035.125.027.235.062.11.034.18.103.04.11.047.166.007.055.021.11.02.117.035.234.02.117.027.262.035.117.055.234.028.11.048.228l.07.323q.034.152.089.29.055 0 .069.007.034-.014.069-.021l.09-.014.075-.007.028.07q.007.034.069.068.09.007.13.042.042.027.076.062.028.027.055.04l.104.042-.055.104q-.07.124-.2.24-.124.111-.283.187.007.041.007.082.007.035.02.076.022.117.035.241.014.124 0 .255zm-1.992-1.192q.207-.014.372-.028.173-.02.38-.062-.049-.206-.104-.427-.055-.227-.117-.448l-.042.07q-.137.144-.268.323-.124.18-.214.338l-.083.124q-.04.062-.075.124.041-.007.075-.007.042 0 .076-.007zM44.29 5.092q-.193.062-.42.124-.228.062-.455.062-.344 0-.544-.172-.035-.076-.062-.104l-.042-.055q-.013-.034-.02-.09-.083-.096-.131-.22-.048-.13-.07-.262-.013-.138-.006-.275.014-.138.048-.262.014-.028.014-.055l.014-.062q.027-.11.055-.214.034-.103.09-.179-.028-.062 0-.138.027-.076.061-.138.097-.261.159-.44.069-.187.138-.366.117-.31.22-.613.104-.303.186-.655.055-.034.083-.048.041-.014.069-.02.124.062.29.124.165.055.275.055.055.034.069.055l.027.027q.076.09.131.186.055.09.035.242-.042.062-.062.062-.035.137-.076.234-.035.096-.076.193-.048.103-.09.206-.04.104-.068.255-.028.035-.042.062-.007.028-.02.062-.014.035-.035.076-.014.035-.048.062-.02.18-.069.29-.041.11-.09.22-.082.2-.151.4-.062.2-.076.454.035-.013.062-.013h.062q.062 0 .145.02.207-.11.448-.13.248-.021.489-.028H45q.096 0 .179-.014.062.035.076.041h.055q.048 0 .083.007.082.076.158.11.076.035.159.063.075.027.144.062.076.027.145.082l.048.297q.048.062.041.082 0 .055-.027.083l.014.076q-.104.02-.145.048-.034.027-.069.062-.055.007-.083.007h-.04q-.097 0-.235.034-.186-.062-.386-.062-.076 0-.159.007l-.165.014q-.083.014-.172.02-.083.008-.172.008zM50.25 3.1q-.007.083.014.16.02.075.048.15.035.07.062.145.028.076.041.152.014.096 0 .214-.013.11-.048.22-.034.103-.09.193-.054.083-.13.124-.097.124-.235.193-.137.069-.254.165-.076.048-.173.07l-.186.04q-.076.042-.179.09l-.213.083q-.11.034-.221.055-.11.014-.193.007-.207.076-.406.096-.193.028-.455-.027-.248.034-.462-.021-.207-.055-.372-.172-.158-.124-.282-.29-.118-.172-.193-.358-.055-.393.027-.71.083-.323.235-.592.158-.276.358-.503.2-.234.386-.455.041.014.062 0 .027-.02.048-.048.02-.035.041-.062.028-.028.062-.035.048-.103.138-.151.097-.055.152-.152.062-.014.103-.041.041-.028.076-.062.041-.035.082-.062.042-.035.097-.048v-.076q.124-.055.18-.124l.144-.18q.062-.006.096-.006.042 0 .117-.014.056-.096.097-.145.048-.048.138-.103.082.041.179.055.103.014.179.09.007.069.041.11.035.034.076.069.041.027.076.062.041.034.055.096.028.007.034-.007.014-.013.042-.007.02.097.048.131.028.028.055.117-.034.07-.055.145-.014.07-.083.104-.007.048.028.055.034 0 .041.034.007.062-.02.09.165.268.296.572.13.296.296.565zm-.861.655q.027-.076.069-.124.048-.048.055-.145-.035-.055-.041-.082-.007-.035-.007-.104-.152-.213-.262-.454-.11-.248-.248-.462-.014.028-.048.055-.035.028-.076-.014-.014.055-.048.083-.035.02-.076.02-.042-.006-.09-.02-.041-.02-.076-.048-.2.158-.4.31-.2.151-.358.351-.027.014-.034.014-.007-.007-.041.007-.055.13-.138.241-.076.103-.152.214-.076.11-.13.234-.056.124-.063.29.118.096.276.116.158.021.324.007.172-.013.33-.041.166-.034.304-.034.29-.07.496-.18.207-.117.434-.234zM51.78 4.451q-.076.276-.138.42-.055.138-.172.29-.09-.014-.124.02-.035.035-.076.062-.062.014-.09 0-.027-.013-.048-.034-.02-.014-.055-.034-.028-.014-.09-.014-.013-.055-.034-.104-.014-.048-.09-.034.014-.055.007-.09-.007-.041-.02-.069l-.014-.062q-.007-.034.007-.082-.034 0-.055-.048-.02-.049-.048-.097.02-.124.04-.234.022-.11.05-.207.034-.096.054-.193.02-.096-.02-.2.027.021.04-.007.015-.034.022-.082.007-.055.007-.104 0-.055-.007-.09.068-.178.11-.364.048-.193.082-.38l.083-.364q.041-.18.11-.331.076-.014.166.02.096.028.117.076.179-.138.317-.33.138-.2.282-.386.145-.186.317-.331.18-.145.448-.172.138.103.303.213.173.104.283.276.055.027.09.062.04.028.096.062v.083q.083.075.13.179.056.096.097.213.042.11.083.228.041.11.097.213-.014.035-.014.062 0 .021.007.049.014.027.02.055.007.027 0 .076-.02.303-.2.489-.172.186-.42.31-.248.117-.53.2-.283.082-.51.179 0 .027.02.027.028 0 .021.035.166.103.262.165.097.062.18.103.089.042.185.076.104.028.283.07.179.04.275.068.104.02.186.041l.166.028.248.02q.062.063.103.152.048.083.062.172.014.083.007.166-.007.076-.048.124.007.02.028.02.027-.006.055 0-.042.028-.07.07l-.054.082q-.028.041-.062.069-.035.034-.097.041-.213.083-.537.007-.324-.069-.82-.262-.248-.096-.407-.165-.151-.076-.268-.145-.11-.075-.207-.158l-.22-.2zm.985-2.363q-.076.11-.172.2-.09.09-.18.186-.082.09-.15.206-.07.11-.097.262.24-.027.503-.13.261-.111.496-.208-.028-.213-.152-.344-.117-.13-.248-.172zM58.332 1.288q.007.049 0 .076 0 .02-.007.042v.048q0 .02.014.069-.145.234-.337.324-.186.082-.407.124-.22.034-.455.075-.227.042-.454.18-.09-.035-.166 0-.069.034-.207.02-.04.042-.103.062-.062.014-.124.035.028.062.02.13 0 .063.021.104.242.02.531-.007.296-.028.579-.034.007.034-.007.048-.014.007-.007.034.048.035.096.09l.097.096q.048.049.096.083.055.028.124.02.028.056.035.125.014.062-.014.13-.11.076-.22.159-.11.076-.235.138-.117.062-.255.103-.13.035-.296.028h-.055q-.014 0-.041-.02-.056.034-.159.02-.096-.014-.152.02-.075-.034-.186-.027-.103 0-.186-.028-.11.145-.2.31-.089.166-.158.352.234.034.386.027.158-.007.296-.02.138-.021.283-.035.144-.02.365-.014.138-.075.324-.096.193-.028.351-.083.055.021.097.076.041.048.075.097.042.04.083.075.041.035.104.028.027.027.034.069.014.034.02.069.008.034.021.062.021.02.062.013-.103.228-.24.352-.132.117-.304.179-.172.062-.386.096-.206.035-.461.083-.062.014-.104-.007-.041-.014-.096-.014-.159.035-.38.062-.22.028-.447.021-.227-.007-.434-.062-.207-.048-.338-.179-.055-.048-.076-.11-.013-.07-.09-.104-.006-.09-.027-.2l-.041-.227q-.02-.124-.035-.24-.007-.118.014-.215.02-.103.083-.186.069-.082.048-.179.035-.007.041-.034.007-.035.056-.028.04-.124.09-.234.047-.11.096-.214.055-.103.103-.206.055-.11.103-.241-.096-.09-.144-.193-.042-.11-.062-.214-.021-.11-.035-.22-.014-.118-.048-.235.069-.103.165-.165.104-.069.22-.11.118-.042.256-.07.138-.027.29-.061.275-.09.488-.138.22-.048.427-.076.214-.034.441-.062.228-.027.517-.083.062.062.117.062.028-.062.062-.034.042.02.035-.041.069.117.172.2.11.075.241.13zM58.394 3.659q-.103-.007-.165-.049-.062-.048-.062-.124 0-.068.062-.124.041-.103.083-.165l.096-.138q.07-.096.138-.193.069-.096.152-.193.04-.034.068-.048.076-.055.152-.103.076-.055.172-.09.173-.062.338-.062.165-.007.282 0 .097.007.18.02.09.008.151.022.104.048.166.09.068.04.13.096.076.04.118.09.048.04.082.089.021.027.083.09.062.061.152.061.082 0 .137-.075.062-.076.124-.131.056-.145.18-.22.055-.028.09-.035l.075-.014q.02-.007.041-.007.021-.007.035-.014l.076-.007h.09q.116-.034.206-.034.103.007.165.055.062.041.062.117 0 .076-.062.124-.041.11-.09.172-.04.062-.089.131l-.138.193q-.069.097-.158.193-.028.035-.07.048-.068.056-.144.11-.076.049-.172.083-.18.062-.345.07-.158 0-.275-.008l-.186-.013q-.083-.014-.152-.028-.096-.048-.165-.09-.07-.04-.131-.09-.076-.047-.117-.089-.042-.048-.076-.096-.02-.028-.09-.09-.069-.069-.144-.062-.076.007-.145.083-.062.069-.124.124-.041.138-.172.22-.055.028-.097.035l-.069.014-.041.013q-.02 0-.035.007l-.075.007h-.09q-.117.035-.207.035z\" />\n        </g>\n    </svg>\n);\n\nexport default Logo;\n","import React, { FC } from 'react';\nimport { AppBar, useQuery } from 'react-admin';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport Badge from '@material-ui/core/Badge';\nimport TourIcon from '@material-ui/icons/Flag';\nimport { Link } from 'react-router-dom';\nimport {\n    ToggleThemeButton,\n    LanguageSwitcher,\n} from '@react-admin/ra-preferences';\n\nimport { Search } from './index';\nimport Logo from './Logo';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: 'relative',\n    },\n    title: {\n        flex: 1,\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n        paddingLeft: theme.spacing(1),\n    },\n    logo: {\n        padding: theme.spacing(0, 2),\n    },\n}));\n\nconst CustomAppBar: FC = props => {\n    const classes = useStyles();\n\n    const { data } = useQuery({\n        type: 'getList',\n        resource: 'tours',\n        payload: { filter: { playedOn: null } },\n    });\n\n    let numberOfTours = 0;\n    if (data) {\n        numberOfTours = data.length;\n    }\n\n    return (\n        <AppBar {...props} elevation={1}>\n            <Logo className={classes.logo} />\n            <Typography\n                variant=\"h6\"\n                color=\"inherit\"\n                className={classes.title}\n                id=\"react-admin-title\"\n            />\n            <Search />\n            <IconButton to=\"/tours\" component={Link} color=\"inherit\">\n                <Badge badgeContent={numberOfTours} color=\"error\" variant=\"dot\">\n                    <TourIcon />\n                </Badge>\n            </IconButton>\n            <ToggleThemeButton />\n            <LanguageSwitcher\n                languages={[\n                    { locale: 'en', name: 'English' },\n                    { locale: 'fr', name: 'Français' },\n                ]}\n                defaultLanguage=\"English\"\n            />\n        </AppBar>\n    );\n};\n\nexport default CustomAppBar;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    Breadcrumb,\n    BreadcrumbItem,\n    BreadcrumbProps,\n    ResourceBreadcrumbItems,\n} from '@react-admin/ra-navigation';\nimport { linkToRecord, useTranslate, Record } from 'react-admin';\n\nconst CustomBreadcrumb: FC<BreadcrumbProps> = props => {\n    const classes = useStyles();\n    const translate = useTranslate();\n\n    const editLabel = translate('ra.action.edit');\n    const createLabel = translate('ra.action.create');\n    return (\n        <Breadcrumb className={classes.root} {...props}>\n            <ResourceBreadcrumbItems resources={['stores', 'tours']} />\n            <BreadcrumbItem\n                name=\"catalog\"\n                label={translate('pos.menu.catalog', 1)}\n            >\n                <BreadcrumbItem\n                    name=\"products\"\n                    label={translate('resources.products.name', 2)}\n                    to=\"/products\"\n                >\n                    <BreadcrumbItem\n                        name=\"edit\"\n                        label={({ record }: { record?: Record }): string =>\n                            `${editLabel} ${\n                                record ? `\"${record.reference}\"` : '...'\n                            }`\n                        }\n                        to={({ record }: { record?: Record }): string =>\n                            record\n                                ? `${linkToRecord('/products', record.id)}/edit`\n                                : ''\n                        }\n                    />\n                    <BreadcrumbItem\n                        name=\"create\"\n                        label={createLabel}\n                        to=\"/products/create\"\n                    />\n                </BreadcrumbItem>\n                <BreadcrumbItem\n                    name=\"categories\"\n                    label={translate('resources.categories.name', 2)}\n                />\n            </BreadcrumbItem>\n            <BreadcrumbItem\n                name=\"reviews\"\n                label={translate('resources.reviews.name', 2)}\n                to=\"/reviews?filter={}\"\n            >\n                <BreadcrumbItem\n                    name=\"status_filter\"\n                    label={({ status }): string =>\n                        `${translate('pos.filter')} status \"${translate(\n                            `pos.reviews.${status}`\n                        )}\"`\n                    }\n                />\n            </BreadcrumbItem>\n            <BreadcrumbItem name=\"sales\" label={translate('pos.menu.sales', 1)}>\n                <BreadcrumbItem\n                    name=\"commands\"\n                    label={translate('resources.commands.name', 2)}\n                    to=\"/commands\"\n                >\n                    <BreadcrumbItem\n                        name=\"edit\"\n                        label={({ record }: { record?: Record }): string =>\n                            `${editLabel} ${\n                                record ? `\"${record.reference}\"` : '...'\n                            }`\n                        }\n                        to={({ record }: { record?: Record }): string =>\n                            record\n                                ? `${linkToRecord('/products', record.id)}/edit`\n                                : ''\n                        }\n                    />\n                </BreadcrumbItem>\n            </BreadcrumbItem>\n            <BreadcrumbItem\n                name=\"customers\"\n                label={translate('pos.menu.customers', 1)}\n            >\n                <BreadcrumbItem\n                    name=\"customers\"\n                    label={translate('resources.customers.name', 2)}\n                    to=\"/customers\"\n                >\n                    <BreadcrumbItem\n                        name=\"edit\"\n                        label={({ record }: { record?: Record }): string =>\n                            `${editLabel} ${\n                                record\n                                    ? `\"${record.first_name} ${record.last_name}\"`\n                                    : '...'\n                            }`\n                        }\n                        to={({ record }: { record?: Record }): string =>\n                            record\n                                ? `${linkToRecord(\n                                      '/customers',\n                                      record.id\n                                  )}/edit`\n                                : ''\n                        }\n                    />\n                    <BreadcrumbItem\n                        name=\"create\"\n                        label={createLabel}\n                        to=\"/customers/create\"\n                    />\n                </BreadcrumbItem>\n                <BreadcrumbItem\n                    name=\"segments\"\n                    label={translate('resources.segments.name', 2)}\n                />\n            </BreadcrumbItem>\n        </Breadcrumb>\n    );\n};\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        paddingTop: theme.spacing(1),\n        fontSize: 'small',\n        // Display the Breadcrumb over the custom Layout of some pages by adding a zIndex and a maxWidth\n        // @see \"src/products/ProductList.tsx\" or \"src/visitors/VisitorList.tsx\"\n        maxWidth: '700px',\n        width: 'min-content',\n        zIndex: 1,\n        '& a': {\n            pointerEvents: 'visible',\n        },\n    },\n}));\n\nexport default CustomBreadcrumb;\n","import React, { FC, useEffect } from 'react';\nimport { Create, useRefresh, useRedirect, CreateProps } from 'react-admin';\n\ninterface PromptProps {\n    label: string;\n    record?: any;\n    save?: (data) => any;\n}\n\nconst Prompt: FC<PromptProps> = ({\n    save = (): any => undefined,\n    record = {},\n}) => {\n    useEffect(() => {\n        const result = window.prompt('Category', record.name);\n        save({ ...record, name: result, children: [], isRoot: true });\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    return null;\n};\n\nconst CategoryCreate: FC<CreateProps> = props => {\n    const refresh = useRefresh();\n    const redirect = useRedirect();\n\n    const onSuccess = (): void => {\n        redirect(props.basePath as string);\n        refresh();\n    };\n\n    return (\n        <Create {...props} onSuccess={onSuccess}>\n            <Prompt label=\"Category name\" />\n        </Create>\n    );\n};\n\nexport default CategoryCreate;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { useTranslate } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Lock as LockIcon } from '@material-ui/icons';\nimport { Typography } from '@material-ui/core';\n\nexport const LockOverlay: FC<any> = ({ lock, ...rest }) => {\n    const classes = useStyles();\n    const translate = useTranslate();\n\n    return (\n        <div className={classes.root} {...rest}>\n            <LockIcon />\n            <div className={classes.identity}>\n                <Typography variant=\"body1\" color=\"inherit\">\n                    {translate('resources.locks.overlay', {\n                        name: lock.identity,\n                    })}\n                </Typography>\n            </div>\n        </div>\n    );\n};\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        background: 'rgba(0, 0, 0, 0.9)',\n        position: 'absolute',\n        textAlign: 'center',\n        color: theme.palette.common.white,\n        padding: '25% 0',\n    },\n    identity: {\n        paddingTop: '1em',\n    },\n}));\n","import * as React from 'react';\nimport { FC } from 'react';\nimport MuiGridList from '@material-ui/core/GridList';\nimport GridListTile from '@material-ui/core/GridListTile';\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport withWidth, { WithWidth } from '@material-ui/core/withWidth';\nimport { linkToRecord, NumberField, Record, useListContext } from 'react-admin';\nimport { Link } from 'react-router-dom';\nimport { Breakpoint } from '@material-ui/core/styles/createBreakpoints';\nimport { Lock, useHasLocks } from '@react-admin/ra-realtime';\n\nimport { LockOverlay } from './LockOverlay';\nimport { DatagridProps, Product } from '../types';\n\nconst useStyles = makeStyles(theme => ({\n    gridList: {\n        margin: 0,\n    },\n    tile: {\n        position: 'relative',\n    },\n    tileBar: {\n        background:\n            'linear-gradient(to top, rgba(0,0,0,0.8) 0%,rgba(0,0,0,0.4) 70%,rgba(0,0,0,0) 100%)',\n    },\n    placeholder: {\n        backgroundColor: theme.palette.grey[300],\n        height: '100%',\n    },\n    price: {\n        display: 'inline',\n        fontSize: '1em',\n    },\n    link: {\n        color: '#fff',\n    },\n}));\n\nconst getColsForWidth = (width: Breakpoint): number => {\n    if (width === 'xs') return 2;\n    if (width === 'sm') return 3;\n    if (width === 'md') return 4;\n    if (width === 'lg') return 5;\n    return 6;\n};\n\nconst times = (nbChildren: number, fn: (key: number) => any): Array<any> =>\n    Array.from({ length: nbChildren }, (_, key) => fn(key));\n\nconst LoadingGridList: FC<GridProps & { nbItems?: number }> = ({\n    width,\n    nbItems = 20,\n}) => {\n    const classes = useStyles();\n\n    return (\n        <MuiGridList\n            cellHeight={180}\n            cols={getColsForWidth(width)}\n            className={classes.gridList}\n        >\n            {times(nbItems, key => (\n                <GridListTile key={key}>\n                    <div className={classes.placeholder} />\n                </GridListTile>\n            ))}\n        </MuiGridList>\n    );\n};\n\ntype ProductTitleProps = {\n    record: Record;\n};\n\nconst ProductTile: FC<ProductTitleProps> = ({ record }) => {\n    const classes = useStyles();\n\n    return (\n        <GridListTileBar\n            className={classes.tileBar}\n            title={record.reference}\n            subtitle={\n                <span>\n                    {record.width}x{record.height},{' '}\n                    <NumberField\n                        className={classes.price}\n                        source=\"price\"\n                        record={record}\n                        color=\"inherit\"\n                        options={{\n                            style: 'currency',\n                            currency: 'USD',\n                        }}\n                    />\n                </span>\n            }\n        />\n    );\n};\n\nconst LoadedGridList: FC<GridProps> = ({ width }) => {\n    const { ids, data, basePath, resource } = useListContext();\n    const { data: locks } = useHasLocks(resource);\n    const classes = useStyles();\n\n    const firstLockRecordId = React.useRef();\n\n    if (!ids || !data) return null;\n\n    return (\n        <MuiGridList\n            cellHeight={180}\n            cols={getColsForWidth(width)}\n            className={classes.gridList}\n            data-tour-id=\"grid-line\"\n        >\n            {ids.map(id => {\n                const lock = locks.find((l: Lock) => l.recordId === id);\n                if (lock && !firstLockRecordId.current) {\n                    firstLockRecordId.current = lock.recordId;\n                }\n\n                const isFirstLock = firstLockRecordId.current === id;\n\n                return (\n                    <GridListTile\n                        key={id}\n                        component={lock ? 'span' : Link}\n                        to={linkToRecord(basePath, id)}\n                        className={classes.tile}\n                        data-productid={id}\n                        data-lockidentity={lock ? lock.identity : undefined}\n                        data-testid={\n                            isFirstLock ? 'productlocktile' : undefined\n                        }\n                    >\n                        <img src={data[id].thumbnail} alt=\"\" />\n                        <ProductTile record={data[id]} />\n                        {lock && <LockOverlay lock={lock} />}\n                    </GridListTile>\n                );\n            })}\n        </MuiGridList>\n    );\n};\n\ninterface GridProps extends DatagridProps<Product>, WithWidth {}\n\nconst GridList: FC<WithWidth> = ({ width }) => {\n    const { loaded } = useListContext();\n\n    return loaded ? (\n        <LoadedGridList width={width} />\n    ) : (\n        <LoadingGridList width={width} />\n    );\n};\n\nexport default withWidth()(GridList);\n","import * as React from 'react';\nimport { ReactElement } from 'react';\nimport { Card, CardContent } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport LocalOfferIcon from '@material-ui/icons/LocalOfferOutlined';\nimport BarChartIcon from '@material-ui/icons/BarChart';\nimport AttachMoneyIcon from '@material-ui/icons/AttachMoney';\nimport {\n    FilterList,\n    FilterListItem,\n    FilterLiveSearch,\n    ListProps,\n    useListFilterContext,\n} from 'react-admin';\nimport { useGetTree, Tree, getRCTree } from '@react-admin/ra-tree';\nimport { SavedQueriesList } from '@react-admin/ra-preferences';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        [theme.breakpoints.up('sm')]: {\n            width: '15em',\n            marginRight: '1em',\n            overflow: 'initial',\n        },\n        [theme.breakpoints.down('sm')]: {\n            display: 'none',\n        },\n    },\n}));\n\nconst Aside = (props: ListProps): ReactElement => {\n    const { setFilters, filterValues, displayedFilters } = useListFilterContext(\n        props\n    );\n\n    const { data } = useGetTree('categories');\n\n    const tree = data ? getRCTree(data, 'name') : undefined;\n\n    const defaultExpandedKeys = filterValues.category_id\n        ? [filterValues.category_id.toString()]\n        : !!tree\n        ? [tree[0].key]\n        : undefined;\n\n    const defaultSelectedKeys =\n        filterValues.category_id !== undefined\n            ? [filterValues.category_id.toString()]\n            : [];\n\n    const handleSelectCategory = (\n        selectedKeys: any,\n        { selectedNodes }: any\n    ): void => {\n        const [{ id }] = selectedNodes;\n\n        setFilters(\n            {\n                ...filterValues,\n                category_id: id,\n            },\n            displayedFilters\n        );\n    };\n\n    const classes = useStyles();\n    return (\n        <Card className={classes.root}>\n            <CardContent>\n                <FilterLiveSearch />\n                <SavedQueriesList />\n\n                <FilterList\n                    label=\"resources.products.filters.sales\"\n                    icon={<AttachMoneyIcon />}\n                >\n                    <FilterListItem\n                        label=\"resources.products.filters.best_sellers\"\n                        value={{\n                            sales_lte: undefined,\n                            sales_gt: 25,\n                            sales: undefined,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.average_sellers\"\n                        value={{\n                            sales_lte: 25,\n                            sales_gt: 10,\n                            sales: undefined,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.low_sellers\"\n                        value={{\n                            sales_lte: 10,\n                            sales_gt: 0,\n                            sales: undefined,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.never_sold\"\n                        value={{\n                            sales_lte: undefined,\n                            sales_gt: undefined,\n                            sales: 0,\n                        }}\n                    />\n                </FilterList>\n\n                <FilterList\n                    label=\"resources.products.filters.stock\"\n                    icon={<BarChartIcon />}\n                >\n                    <FilterListItem\n                        label=\"resources.products.filters.no_stock\"\n                        value={{\n                            stock_lt: undefined,\n                            stock_gt: undefined,\n                            stock: 0,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.low_stock\"\n                        value={{\n                            stock_lt: 10,\n                            stock_gt: 0,\n                            stock: undefined,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.average_stock\"\n                        value={{\n                            stock_lt: 50,\n                            stock_gt: 9,\n                            stock: undefined,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.enough_stock\"\n                        value={{\n                            stock_lt: undefined,\n                            stock_gt: 49,\n                            stock: undefined,\n                        }}\n                    />\n                </FilterList>\n\n                <FilterList\n                    label=\"resources.products.filters.categories\"\n                    icon={<LocalOfferIcon />}\n                >\n                    <Tree\n                        // HACK: ensure the tree is updated and expland nodes correctly\n                        // see https://github.com/react-component/tree/issues/234#issuecomment-599297897\n                        // I tried passing a JSON.stringify version of\n                        // defaultSelectedKeys and defaultExpandedKeys without success\n                        key={Math.random()}\n                        treeData={tree ? tree[0].children : []}\n                        onSelect={handleSelectCategory}\n                        defaultSelectedKeys={defaultSelectedKeys}\n                        defaultExpandedKeys={defaultExpandedKeys}\n                        autoExpandParent\n                    />\n                </FilterList>\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default Aside;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    BreadcrumbForActions,\n    BreadcrumbItem,\n    BreadcrumbProps,\n    ResourceBreadcrumbItems,\n} from '@react-admin/ra-navigation';\nimport { linkToRecord, useTranslate, Record } from 'react-admin';\n\nconst CustomBreadcrumbForActions: FC<BreadcrumbProps> = props => {\n    const classes = useStyles();\n    const translate = useTranslate();\n\n    const editLabel = translate('ra.action.edit');\n    const createLabel = translate('ra.action.create');\n    return (\n        <BreadcrumbForActions className={classes.root} {...props}>\n            <ResourceBreadcrumbItems resources={['stores', 'tours']} />\n            <BreadcrumbItem\n                name=\"catalog\"\n                label={translate('pos.menu.catalog', 1)}\n            >\n                <BreadcrumbItem\n                    name=\"products\"\n                    label={translate('resources.products.name', 2)}\n                    to=\"/products\"\n                >\n                    <BreadcrumbItem\n                        name=\"edit\"\n                        label={({ record }: { record?: Record }): string =>\n                            `${editLabel} ${\n                                record ? `\"${record.reference}\"` : '...'\n                            }`\n                        }\n                        to={({ record }: { record?: Record }): string =>\n                            record\n                                ? `${linkToRecord('/products', record.id)}/edit`\n                                : ''\n                        }\n                    />\n                    <BreadcrumbItem\n                        name=\"create\"\n                        label={createLabel}\n                        to=\"/products/create\"\n                    />\n                </BreadcrumbItem>\n                <BreadcrumbItem\n                    name=\"categories\"\n                    label={translate('resources.categories.name', 2)}\n                />\n            </BreadcrumbItem>\n            <BreadcrumbItem\n                name=\"reviews\"\n                label={translate('resources.reviews.name', 2)}\n                to=\"/reviews?filter={}\"\n            >\n                <BreadcrumbItem\n                    name=\"status_filter\"\n                    label={({ status }): string =>\n                        `${translate('pos.filter')} status \"${translate(\n                            `pos.reviews.${status}`\n                        )}\"`\n                    }\n                />\n            </BreadcrumbItem>\n            <BreadcrumbItem name=\"sales\" label={translate('pos.menu.sales', 1)}>\n                <BreadcrumbItem\n                    name=\"commands\"\n                    label={translate('resources.commands.name', 2)}\n                    to=\"/commands\"\n                >\n                    <BreadcrumbItem\n                        name=\"edit\"\n                        label={({ record }: { record?: Record }): string =>\n                            `${editLabel} ${\n                                record ? `\"${record.reference}\"` : '...'\n                            }`\n                        }\n                        to={({ record }: { record?: Record }): string =>\n                            record\n                                ? `${linkToRecord('/products', record.id)}/edit`\n                                : ''\n                        }\n                    />\n                </BreadcrumbItem>\n                <BreadcrumbItem\n                    name=\"invoices\"\n                    label={translate('resources.invoices.name', 2)}\n                    to=\"/invoices\"\n                >\n                    <BreadcrumbItem\n                        name=\"edit\"\n                        label={({ record }: { record?: Record }): string =>\n                            `${editLabel} ${\n                                record ? `\"${record.reference}\"` : '...'\n                            }`\n                        }\n                    />\n                </BreadcrumbItem>\n            </BreadcrumbItem>\n\n            <BreadcrumbItem\n                name=\"customers\"\n                label={translate('resources.customers.name', 2)}\n                to=\"/customers\"\n            >\n                <BreadcrumbItem\n                    name=\"edit\"\n                    label={({ record }: { record?: Record }): string =>\n                        `${editLabel} ${\n                            record\n                                ? `\"${record.first_name} ${record.last_name}\"`\n                                : '...'\n                        }`\n                    }\n                    to={({ record }: { record?: Record }): string =>\n                        record\n                            ? `${linkToRecord('/customers', record.id)}/edit`\n                            : ''\n                    }\n                />\n                <BreadcrumbItem\n                    name=\"create\"\n                    label={createLabel}\n                    to=\"/customers/create\"\n                />\n                <BreadcrumbItem\n                    name=\"segments\"\n                    label={translate('resources.segments.name', 2)}\n                />\n            </BreadcrumbItem>\n        </BreadcrumbForActions>\n    );\n};\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        paddingTop: theme.spacing(0),\n        alignItems: 'center',\n        fontSize: 'small',\n        // Display the Breadcrumb over the custom Layout of some pages by adding a zIndex and a maxWidth\n        // @see \"src/products/ProductList.tsx\" or \"src/visitors/VisitorList.tsx\"\n        maxWidth: '700px',\n        zIndex: 1,\n        '& a': {\n            pointerEvents: 'visible',\n        },\n    },\n}));\n\nexport default CustomBreadcrumbForActions;\n","import * as React from 'react';\nimport { ReactElement, FC } from 'react';\nimport { Box, Chip, useMediaQuery, Theme } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    CreateButton,\n    ExportButton,\n    FilterProps,\n    InputProps,\n    ListActionsProps,\n    ListBase,\n    ListProps,\n    NumberInput,\n    Pagination,\n    ReferenceInput,\n    SearchInput,\n    SelectInput,\n    SortButton,\n    Title,\n    TopToolbar,\n    useTranslate,\n    useListContext,\n} from 'react-admin';\n\nimport { useDefineAppLocation } from '@react-admin/ra-navigation';\nimport { FilterWithSave } from '@react-admin/ra-preferences';\n\nimport GridList from './GridList';\nimport Aside from './Aside';\nimport CustomBreadcrumbForActions from '../layout/BreadcrumbForActions';\n\nconst useQuickFilterStyles = makeStyles(theme => ({\n    root: {\n        marginBottom: theme.spacing(3),\n    },\n}));\n\nconst QuickFilter = ({ label }: InputProps): ReactElement => {\n    const translate = useTranslate();\n    const classes = useQuickFilterStyles();\n    return <Chip className={classes.root} label={translate(label)} />;\n};\n\nexport const ProductFilter = (\n    props: Omit<FilterProps, 'children'>\n): ReactElement => (\n    <FilterWithSave {...props}>\n        <SearchInput source=\"q\" alwaysOn />\n        <ReferenceInput\n            source=\"category_id\"\n            reference=\"categories\"\n            sort={{ field: 'id', order: 'ASC' }}\n        >\n            <SelectInput source=\"name\" />\n        </ReferenceInput>\n        <NumberInput source=\"width_gte\" />\n        <NumberInput source=\"width_lte\" />\n        <NumberInput source=\"height_gte\" />\n        <NumberInput source=\"height_lte\" />\n        <QuickFilter\n            label=\"resources.products.fields.stock_lte\"\n            source=\"stock_lte\"\n            defaultValue={10}\n        />\n    </FilterWithSave>\n);\n\nconst ListActions = ({\n    isSmall,\n}: ListActionsProps & { isSmall: boolean }): ReactElement => {\n    const classes = useListActionsStyles();\n\n    return (\n        <TopToolbar className={classes.root}>\n            <CustomBreadcrumbForActions />\n            {isSmall && <ProductFilter context=\"button\" />}\n            <SortButton fields={['reference', 'sales', 'stock']} />\n            <CreateButton basePath=\"/products\" />\n            <ExportButton />\n        </TopToolbar>\n    );\n};\n\nconst useListActionsStyles = makeStyles(theme => ({\n    root: {\n        paddingBottom: 0,\n        paddingTop: theme.spacing(7),\n    },\n}));\n\nconst ProductList: FC<ListProps> = ({ actions, ...props }) => {\n    useDefineAppLocation('catalog.products');\n    const isSmall = useMediaQuery<Theme>(theme => theme.breakpoints.down('sm'));\n\n    return (\n        <ListBase\n            filters={isSmall ? <ProductFilter /> : undefined}\n            perPage={20}\n            sort={{ field: 'reference', order: 'ASC' }}\n            {...props}\n        >\n            <ProductListView\n                actions={actions}\n                isSmall={isSmall}\n                aside={props.aside}\n                title={props.title}\n            />\n        </ListBase>\n    );\n};\n\n// The aside prop is only used to disable the aside here if explicitly set to false\n// If undefined, we consider the aside is not explicitly disabled an display the filter\n// vertical bar\nexport const ProductListView = ({\n    isSmall,\n    actions = <ListActions isSmall={isSmall} />,\n    aside,\n    title,\n}: {\n    isSmall: boolean;\n    actions?: ReactElement | false;\n    aside?: ReactElement | false;\n    title?: string | ReactElement;\n}): ReactElement => {\n    const { defaultTitle } = useListContext();\n    const classes = useStyles();\n    return (\n        <div className={classes.root}>\n            <Title title={title || defaultTitle} />\n            {actions}\n            {isSmall && (\n                <Box m={1}>\n                    <ProductFilter context=\"form\" />\n                </Box>\n            )}\n            <Box display=\"flex\">\n                {aside !== false ? <Aside /> : null}\n                <Box\n                    width={\n                        isSmall || aside === false\n                            ? 'auto'\n                            : 'calc(100% - 16em)'\n                    }\n                >\n                    <GridList />\n                    <Pagination rowsPerPageOptions={[10, 20, 40]} />\n                </Box>\n            </Box>\n        </div>\n    );\n};\n\nexport default ProductList;\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        marginTop: -theme.spacing(7),\n    },\n}));\n","import React, { FC, ReactElement } from 'react';\nimport {\n    Edit,\n    EditProps,\n    ListContextProvider,\n    TextInput,\n    useGetList,\n    useTranslate,\n} from 'react-admin';\nimport { SimpleForm } from '@react-admin/ra-tree';\n\nimport { ProductListView } from '../products/ProductList';\nimport { Typography, makeStyles } from '@material-ui/core';\n\nconst CategoryEdit: FC<EditProps> = props => {\n    const translate = useTranslate();\n    const classes = useStyles();\n\n    return (\n        <>\n            <Edit {...props}>\n                <SimpleForm>\n                    <TextInput source=\"name\" />\n                </SimpleForm>\n            </Edit>\n            <Typography className={classes.subtitle} variant=\"h5\">\n                {translate('resources.products.name', { smart_count: 2 })}\n            </Typography>\n            <CategoryEditAside {...props} />\n        </>\n    );\n};\n\nconst CategoryEditAside = ({ id }: EditProps): ReactElement => {\n    const { data, ids, total, loaded } = useGetList(\n        'products',\n        { page: 1, perPage: 25 },\n        { field: 'reference', order: 'ASC' },\n        { category_id: id }\n    );\n    return (\n        <ListContextProvider\n            value={{\n                data,\n                ids,\n                total,\n                loaded,\n                resource: 'products',\n                filterValues: {},\n                showFilter: (): void => undefined,\n                hideFilter: (): void => undefined,\n                setSort: (): void => undefined,\n                currentSort: { field: 'reference', order: 'ASC' },\n                page: 1,\n                perPage: 25,\n            }}\n        >\n            <ProductListView isSmall={false} aside={false} actions={false} />\n        </ListContextProvider>\n    );\n};\n\nexport default CategoryEdit;\n\nconst useStyles = makeStyles(theme => ({\n    subtitle: {\n        marginTop: theme.spacing(6),\n    },\n}));\n","import CategoryIcon from '@material-ui/icons/Bookmark';\n\nimport CategoryList from './CategoryList';\n\nexport default {\n    list: CategoryList,\n    icon: CategoryIcon,\n};\n","import React, { FC, useEffect } from 'react';\nimport { ListProps } from 'react-admin';\nimport { TreeWithDetails, useTreeController } from '@react-admin/ra-tree';\nimport { useDefineAppLocation } from '@react-admin/ra-navigation';\n\nimport CategoryCreate from './CategoryCreate';\nimport CategoryEdit from './CategoryEdit';\nimport CustomBreadcrumb from '../layout/Breadcrumb';\n\nconst CategoryList: FC<ListProps> = props => {\n    // We need to override the \"category\" location to highlight menu item in the sidebar\n    useDefineAppLocation('catalog.categories');\n\n    const { handleExpand } = useTreeController({\n        resource: props.resource as string,\n        titleField: 'name',\n    });\n\n    useEffect(() => {\n        handleExpand(['5']);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return (\n        <>\n            <CustomBreadcrumb />\n            <TreeWithDetails\n                create={CategoryCreate}\n                edit={CategoryEdit}\n                titleField=\"name\"\n                draggable\n                allowMultipleRoots\n                defaultSelectedKeys={['5']}\n                {...props}\n            />\n        </>\n    );\n};\n\nexport default CategoryList;\n","import React, {\n    cloneElement,\n    useMemo,\n    forwardRef,\n    ReactElement,\n    FC,\n    ReactNode,\n    JSXElementConstructor,\n    useRef,\n} from 'react';\n\nimport {\n    Button,\n    TopToolbar,\n    CreateButton,\n    sanitizeListRestProps,\n    ExportButton,\n    useListContext,\n    ListProps,\n} from 'react-admin';\n\nimport { List } from '@react-admin/ra-enterprise';\nimport classnames from 'classnames';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n    SelectColumnsMenu,\n    useSelectedColumns,\n    usePreferences,\n} from '@react-admin/ra-preferences';\n\nimport TableChartIcon from '@material-ui/icons/TableChart';\nimport AppsIcon from '@material-ui/icons/Apps';\n\nimport IconButton from '@material-ui/core/IconButton';\nimport Menu from '@material-ui/core/Menu';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport { ColumnList } from '@react-admin/ra-preferences/esm/src/list/useSelectedColumns';\nimport CustomBreadcrumbForActions from '../layout/BreadcrumbForActions';\n\nconst useStyles = makeStyles({\n    root: {\n        paddingBottom: 0,\n    },\n    menuPaper: {\n        padding: '1rem 0',\n    },\n    menuList: {\n        '&> * > *': {\n            padding: '0 2rem',\n        },\n    },\n    toolContainer: {\n        margin: '20px 0',\n        '&:first-child': {\n            marginTop: 0,\n        },\n        '&:last-child': {\n            marginBottom: 0,\n        },\n    },\n    columnsList: {\n        maxHeight: '250px',\n        overflowY: 'auto',\n        margin: 0,\n        background: '#eee',\n    },\n});\n\nconst ToolContainer = forwardRef<HTMLDivElement, any>(({ children }, ref) => {\n    const classes = useStyles();\n\n    return (\n        <div ref={ref} className={classes.toolContainer}>\n            {children}\n        </div>\n    );\n});\nToolContainer.displayName = 'ToolContainer';\n\nconst ColumnsTool: FC<{\n    preferenceKey: string;\n    defaultColumns: { [key: string]: ReactElement };\n}> = ({ preferenceKey, defaultColumns }) => {\n    const classes = useStyles();\n    const ref = useRef<HTMLDivElement | null>(null);\n\n    return (\n        <>\n            <Typography\n                variant=\"overline\"\n                gutterBottom\n                key=\"columns-selector-tool-title\"\n                component=\"div\"\n                ref={ref}\n            >\n                Columns to display\n            </Typography>\n            <SelectColumnsMenu\n                key=\"columns-selector-tool-menu\"\n                preference={preferenceKey}\n                columns={defaultColumns}\n                className={classes.columnsList}\n            />\n        </>\n    );\n};\n\ntype View = 'table' | 'grid' | 'small';\ntype SetView = (view: View) => void;\n\nconst GridOrListTool: FC<{\n    view: View;\n    setView: SetView;\n}> = ({ view, setView }) => (\n    <>\n        <Typography\n            variant=\"overline\"\n            gutterBottom\n            key=\"view-selector-tool-title\"\n            component=\"div\"\n        >\n            Layout\n        </Typography>\n\n        <ButtonGroup key=\"view-selector-tool-menu\">\n            <Button\n                color={view === 'table' ? 'primary' : 'default'}\n                onClick={(): void => setView('table')}\n                label=\"table\"\n            >\n                <TableChartIcon />\n            </Button>\n            <Button\n                color={view === 'grid' ? 'primary' : 'default'}\n                onClick={(): void => setView('grid')}\n                label=\"grid\"\n            >\n                <AppsIcon />\n            </Button>\n        </ButtonGroup>\n    </>\n);\n\nconst Actions: FC<{\n    className?: string;\n    defaultColumns: { [key: string]: ReactElement };\n    filters?: ReactElement | false;\n    hasColumnsSelector?: boolean;\n    hasList?: boolean;\n    hasShow?: boolean;\n    hasViewSelector?: boolean;\n    maxResults?: number;\n    permanentFilter?: any;\n    preferenceKey: string;\n    setView: SetView;\n    view: View;\n}> = ({\n    className,\n    defaultColumns,\n    filters,\n    hasColumnsSelector,\n    hasList,\n    hasShow,\n    hasViewSelector,\n    maxResults,\n    permanentFilter,\n    preferenceKey,\n    setView,\n    view,\n    ...rest\n}) => {\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const classes = useStyles();\n    const open = Boolean(anchorEl);\n    const {\n        basePath,\n        currentSort,\n        displayedFilters,\n        exporter,\n        filterValues,\n        resource,\n        showFilter,\n        total,\n    } = useListContext();\n\n    const handleClick = (event): void => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = (): void => {\n        setAnchorEl(null);\n    };\n\n    const hasTools = hasColumnsSelector || hasViewSelector;\n\n    return (\n        <TopToolbar\n            className={classnames(className, classes.root)}\n            {...sanitizeListRestProps(rest)}\n        >\n            <CustomBreadcrumbForActions />\n            {filters &&\n                cloneElement(filters, {\n                    resource,\n                    showFilter,\n                    displayedFilters,\n                    filterValues,\n                    context: 'button',\n                })}\n            <CreateButton basePath={basePath} />\n            {exporter && (\n                <ExportButton\n                    disabled={total === 0}\n                    resource={resource}\n                    sort={currentSort}\n                    filterValues={{ ...filterValues, ...permanentFilter }}\n                    exporter={exporter}\n                    maxResults={maxResults}\n                />\n            )}\n\n            {hasTools && (\n                <>\n                    <IconButton\n                        aria-label=\"more\"\n                        aria-controls=\"user-preference-menu\"\n                        aria-haspopup=\"true\"\n                        onClick={handleClick}\n                        size=\"small\"\n                    >\n                        <MoreVertIcon />\n                    </IconButton>\n                    <Menu\n                        id=\"user-preference-menu\"\n                        anchorEl={anchorEl}\n                        keepMounted\n                        open={open}\n                        onClose={handleClose}\n                        classes={{\n                            paper: classes.menuPaper,\n                            list: classes.menuList,\n                        }}\n                    >\n                        {hasViewSelector && (\n                            <ToolContainer>\n                                <GridOrListTool view={view} setView={setView} />\n                            </ToolContainer>\n                        )}\n                        {hasColumnsSelector && (\n                            <ToolContainer>\n                                <ColumnsTool\n                                    preferenceKey={preferenceKey}\n                                    defaultColumns={defaultColumns}\n                                />\n                            </ToolContainer>\n                        )}\n                    </Menu>\n                </>\n            )}\n        </TopToolbar>\n    );\n};\nconst elementHasProp = (element, name, value): boolean =>\n    element.props[name] && element.props[name] === value;\n\nconst hasChildren = (element, type, props): boolean => {\n    if (!React.isValidElement(element)) return false;\n\n    let hasChildrenOfType = false;\n\n    React.Children.map(element, child => {\n        if (hasChildrenOfType) return;\n        if (!React.isValidElement<{ children?: ReactNode }>(child)) return;\n\n        if (\n            (child.type as JSXElementConstructor<any>).name === type &&\n            Object.keys(props).every(propName =>\n                elementHasProp(child, propName, props[propName])\n            )\n        ) {\n            hasChildrenOfType = true;\n            return;\n        }\n\n        hasChildrenOfType = hasChildren(child.props.children, type, props);\n    });\n\n    return hasChildrenOfType;\n};\n\nconst EnterpriseList: FC<\n    {\n        children: (props?: any) => ReactElement;\n        classes?: any;\n        className?: string;\n        defaultColumns: ColumnList;\n        defaultOmittedColumns: string[];\n        defaultView?: View;\n        hasColumnsSelector?: boolean;\n        hasViewSelector?: boolean;\n        preferenceKey: string;\n    } & Omit<ListProps, 'children'>\n> = props => {\n    const {\n        className,\n        preferenceKey,\n\n        hasColumnsSelector = true,\n        defaultColumns = {},\n        defaultOmittedColumns = [],\n\n        hasViewSelector = true,\n        defaultView = 'small',\n\n        children,\n        ...rest\n    } = props;\n    const visibleColumns = useSelectedColumns({\n        preferences: `${preferenceKey}.columns`,\n        columns: defaultColumns,\n        omit: defaultOmittedColumns,\n    });\n\n    const [view, setView] = usePreferences<View>(\n        `${preferenceKey}.view`,\n        defaultView\n    );\n\n    const childrenElements = useMemo(\n        () => children({ ...rest, columns: visibleColumns, view }),\n        [visibleColumns, view, children, rest]\n    );\n\n    if (process.env.NODE_ENV === 'development') {\n        if (\n            hasColumnsSelector &&\n            hasChildren(childrenElements, 'Datagrid', { optimized: true })\n        ) {\n            throw new Error(\n                'Columns selector is not compatible with optimized Datagrids, please remove the optimized prop'\n            );\n        }\n    }\n\n    return (\n        <List\n            {...rest}\n            className={className}\n            actions={\n                <Actions\n                    preferenceKey={`${preferenceKey}.columns`}\n                    hasColumnsSelector={hasColumnsSelector}\n                    defaultColumns={defaultColumns}\n                    hasViewSelector={hasViewSelector}\n                    view={view}\n                    setView={setView}\n                />\n            }\n        >\n            {childrenElements}\n        </List>\n    );\n};\n\nexport default EnterpriseList;\n","export default [\n    { id: 'compulsive', name: 'resources.segments.data.compulsive' },\n    { id: 'collector', name: 'resources.segments.data.collector' },\n    { id: 'ordered_once', name: 'resources.segments.data.ordered_once' },\n    { id: 'regular', name: 'resources.segments.data.regular' },\n    { id: 'returns', name: 'resources.segments.data.returns' },\n    { id: 'reviewer', name: 'resources.segments.data.reviewer' },\n];\n","import React, { FC } from 'react';\nimport Chip from '@material-ui/core/Chip';\nimport { FieldProps, useTranslate } from 'react-admin';\nimport segments from '../segments/data';\nimport { makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles({\n    main: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        marginTop: -8,\n        marginBottom: -8,\n    },\n    chip: { margin: 4 },\n});\n\nconst SegmentsField: FC<FieldProps> = ({ record }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n\n    return record ? (\n        <span className={classes.main}>\n            {record.groups &&\n                record.groups.map(segmentId => {\n                    const segment = segments.find(s => s.id === segmentId);\n\n                    return segment ? (\n                        <Chip\n                            key={segment.id}\n                            className={classes.chip}\n                            label={translate(segment.name)}\n                        />\n                    ) : null;\n                })}\n        </span>\n    ) : null;\n};\n\nSegmentsField.defaultProps = {\n    addLabel: true,\n    source: 'groups',\n};\n\nexport default SegmentsField;\n","import React, { FC } from 'react';\nimport { InputProps, SelectInput, useTranslate } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport segments from '../segments/data';\n\nconst useStyles = makeStyles({\n    input: { width: 150 },\n});\n\ninterface Props extends Omit<InputProps, 'source'> {\n    source?: string;\n}\n\nconst SegmentInput: FC<Props> = props => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <SelectInput\n            {...props}\n            choices={segments.map(segment => ({\n                id: segment.id,\n                name: translate(segment.name),\n            }))}\n            className={classes.input}\n        />\n    );\n};\n\nSegmentInput.defaultProps = {\n    source: 'groups',\n};\n\nexport default SegmentInput;\n","import React, { FC } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport { Record } from 'react-admin';\n\ninterface Props {\n    className?: string;\n    record?: Record;\n    size?: string;\n}\n\nconst AvatarField: FC<Props> = ({ record, size = '25', className }) =>\n    record ? (\n        <Avatar\n            src={`${record.avatar}?size=${size}x${size}`}\n            style={{ width: parseInt(size, 10), height: parseInt(size, 10) }}\n            className={className}\n        />\n    ) : null;\n\nexport default AvatarField;\n","import React, { FC } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport pure from 'recompose/pure';\n\nimport AvatarField from './AvatarField';\nimport { FieldProps, Customer } from '../types';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: 'flex',\n        flexWrap: 'nowrap',\n        alignItems: 'center',\n    },\n    avatar: {\n        marginRight: theme.spacing(1),\n    },\n}));\n\ninterface Props extends FieldProps<Customer> {\n    size?: string;\n}\n\nconst FullNameField: FC<Props> = ({ record, size }) => {\n    const classes = useStyles();\n    return record ? (\n        <div className={classes.root}>\n            <AvatarField\n                className={classes.avatar}\n                record={record}\n                size={size}\n            />\n            {record.first_name} {record.last_name}\n        </div>\n    ) : null;\n};\n\nconst PureFullNameField = pure(FullNameField);\n\nPureFullNameField.defaultProps = {\n    source: 'last_name',\n    label: 'resources.customers.fields.name',\n};\n\nexport default PureFullNameField;\n","import React, { FC } from 'react';\nimport { Link } from 'react-admin';\n\nimport FullNameField from './FullNameField';\nimport { FieldProps, Customer } from '../types';\n\nconst CustomerLinkField: FC<FieldProps<Customer>> = props =>\n    props.record ? (\n        <Link to={`/customers/${props.record.id}`}>\n            <FullNameField {...props} />\n        </Link>\n    ) : null;\n\nCustomerLinkField.defaultProps = {\n    source: 'customer_id',\n    addLabel: true,\n};\n\nexport default CustomerLinkField;\n","import React, { ReactElement } from 'react';\nimport { NumberField, NumberFieldProps } from 'react-admin';\n\nconst ColoredNumberField = (props: NumberFieldProps): ReactElement | null =>\n    props.record && props.source ? (\n        props.record[props.source] > 500 ? (\n            <span style={{ color: 'red' }}>\n                <NumberField {...props} />\n            </span>\n        ) : (\n            <NumberField {...props} />\n        )\n    ) : null;\n\nColoredNumberField.defaultProps = NumberField.defaultProps;\n\nexport default ColoredNumberField;\n","// in src/comments.js\nimport React, { FC } from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n    DateField,\n    EditButton,\n    NumberField,\n    useTranslate,\n    useListContext,\n} from 'react-admin';\n\nimport AvatarField from './AvatarField';\nimport ColoredNumberField from './ColoredNumberField';\nimport SegmentsField from './SegmentsField';\n\nconst useStyles = makeStyles(theme => ({\n    root: { margin: '1em' },\n    card: {\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        margin: '0.5rem 0',\n    },\n    cardTitleContent: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n    },\n    cardContent: {\n        ...theme.typography.body1,\n        display: 'flex',\n        flexDirection: 'column',\n    },\n}));\n\nconst MobileGrid: FC = props => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    const { ids, data, basePath } = useListContext(props);\n\n    if (!ids || !data) {\n        return null;\n    }\n\n    return (\n        <div className={classes.root}>\n            {ids.map(id => (\n                <Card key={id} className={classes.card}>\n                    <CardHeader\n                        title={\n                            <div className={classes.cardTitleContent}>\n                                <h2>{`${data[id].first_name} ${data[id].last_name}`}</h2>\n                                <EditButton\n                                    resource=\"visitors\"\n                                    basePath={basePath}\n                                    record={data[id]}\n                                />\n                            </div>\n                        }\n                        avatar={<AvatarField record={data[id]} size=\"45\" />}\n                    />\n                    <CardContent className={classes.cardContent}>\n                        <div>\n                            {translate(\n                                'resources.customers.fields.last_seen_gte'\n                            )}\n                            &nbsp;\n                            <DateField record={data[id]} source=\"last_seen\" />\n                        </div>\n                        <div>\n                            {translate(\n                                'resources.commands.name',\n                                data[id].nb_commands || 1\n                            )}\n                            &nbsp;:&nbsp;\n                            <NumberField\n                                record={data[id]}\n                                source=\"nb_commands\"\n                                label=\"resources.customers.fields.commands\"\n                            />\n                        </div>\n                        <div>\n                            {translate(\n                                'resources.customers.fields.total_spent'\n                            )}\n                            &nbsp; :{' '}\n                            <ColoredNumberField\n                                record={data[id]}\n                                source=\"total_spent\"\n                                options={{ style: 'currency', currency: 'USD' }}\n                            />\n                        </div>\n                    </CardContent>\n                    {data[id].groups && data[id].groups.length > 0 && (\n                        <CardContent className={classes.cardContent}>\n                            <SegmentsField record={data[id]} />\n                        </CardContent>\n                    )}\n                </Card>\n            ))}\n        </div>\n    );\n};\n\nexport default MobileGrid;\n","import React, { FC, cloneElement } from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link as RouterLink } from 'react-router-dom';\n\nimport { linkToRecord, useListContext, useTranslate } from 'react-admin';\n\nimport EditIcon from '@material-ui/icons/Edit';\nimport IconButton from '@material-ui/core/IconButton';\n\nimport AvatarField from './AvatarField';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        margin: '1em',\n        display: 'flex',\n        flexWrap: 'wrap',\n        alignItems: 'stretch',\n        justifyContent: 'space-between',\n    },\n    card: {\n        width: 265,\n        display: 'flex',\n        flexDirection: 'column',\n        margin: '0.5rem 0',\n    },\n    cardTitleContent: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        position: 'relative',\n    },\n    editButton: {\n        position: 'absolute',\n        top: 0,\n        right: 0,\n    },\n    cardContent: {\n        ...theme.typography.body1,\n        display: 'flex',\n        flexDirection: 'column',\n    },\n}));\n\ninterface Props {\n    fields: any;\n}\n\nconst DesktopGrid: FC<Props> = ({ fields, ...rest }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    const { ids, data, basePath } = useListContext(rest);\n\n    if (!ids || !data) {\n        return null;\n    }\n\n    return (\n        <div className={classes.root}>\n            {ids.map(id => (\n                <Card key={id} className={classes.card}>\n                    <CardContent className={classes.cardContent}>\n                        <div className={classes.cardTitleContent}>\n                            <AvatarField record={data[id]} size=\"120\" />\n                            <h2>{`${data[id].first_name} ${data[id].last_name}`}</h2>\n\n                            <IconButton\n                                color=\"secondary\"\n                                aria-label=\"Edit\"\n                                component={RouterLink}\n                                className={classes.editButton}\n                                to={linkToRecord(basePath, id)}\n                            >\n                                <EditIcon />\n                            </IconButton>\n                        </div>\n                        {fields\n                            .filter(\n                                field => field.props.source !== 'customer_id'\n                            ) // we already display customer up there\n                            .filter(field => !!data[id][field.props.source])\n                            .map(field => {\n                                const fieldName = field.props.source;\n\n                                return (\n                                    <div\n                                        key={fieldName}\n                                        style={{\n                                            display: 'flex',\n                                            flexWrap: 'wrap',\n                                        }}\n                                    >\n                                        <div\n                                            style={{\n                                                marginRight: '1em',\n                                                marginBottom: '0.5em',\n                                                marginTop: '1em',\n                                            }}\n                                        >\n                                            {translate(\n                                                `resources.customers.fields.${fieldName}`\n                                            )}\n                                        </div>\n                                        <div\n                                            style={{\n                                                whiteSpace: 'nowrap',\n                                                marginBottom: '0.5em',\n                                                marginTop: '1em',\n                                            }}\n                                        >\n                                            {cloneElement(field, {\n                                                record: data[id],\n                                            })}\n                                        </div>\n                                    </div>\n                                );\n                            })}\n                    </CardContent>\n                </Card>\n            ))}\n        </div>\n    );\n};\n\nexport default DesktopGrid;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { Card as MuiCard, CardContent } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOnOutlined';\nimport MailIcon from '@material-ui/icons/MailOutline';\nimport LocalOfferIcon from '@material-ui/icons/LocalOfferOutlined';\nimport { FilterList, FilterListItem, FilterLiveSearch } from 'react-admin';\nimport { SavedQueriesList } from '@react-admin/ra-preferences';\nimport {\n    endOfYesterday,\n    startOfWeek,\n    subWeeks,\n    startOfMonth,\n    subMonths,\n} from 'date-fns';\n\nimport segments from '../segments/data';\n\nconst Card = withStyles(theme => ({\n    root: {\n        flexShrink: 0,\n        [theme.breakpoints.up('sm')]: {\n            order: -1,\n            width: '15em',\n            marginRight: '1em',\n        },\n        [theme.breakpoints.down('sm')]: {\n            display: 'none',\n        },\n    },\n}))(MuiCard);\n\nconst Aside: FC = () => (\n    <Card>\n        <CardContent>\n            <FilterLiveSearch />\n            <span id=\"persisted-queries\">\n                <SavedQueriesList />\n            </span>\n            <FilterList\n                label=\"resources.customers.filters.last_visited\"\n                icon={<AccessTimeIcon />}\n            >\n                <FilterListItem\n                    label=\"resources.customers.filters.today\"\n                    value={{\n                        last_seen_gte: endOfYesterday().toISOString(),\n                        last_seen_lte: undefined,\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.this_week\"\n                    value={{\n                        last_seen_gte: startOfWeek(new Date()).toISOString(),\n                        last_seen_lte: undefined,\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.last_week\"\n                    value={{\n                        last_seen_gte: subWeeks(\n                            startOfWeek(new Date()),\n                            1\n                        ).toISOString(),\n                        last_seen_lte: startOfWeek(new Date()).toISOString(),\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.this_month\"\n                    value={{\n                        last_seen_gte: startOfMonth(new Date()).toISOString(),\n                        last_seen_lte: undefined,\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.last_month\"\n                    value={{\n                        last_seen_gte: subMonths(\n                            startOfMonth(new Date()),\n                            1\n                        ).toISOString(),\n                        last_seen_lte: startOfMonth(new Date()).toISOString(),\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.earlier\"\n                    value={{\n                        last_seen_gte: undefined,\n                        last_seen_lte: subMonths(\n                            startOfMonth(new Date()),\n                            1\n                        ).toISOString(),\n                    }}\n                />\n            </FilterList>\n\n            <FilterList\n                label=\"resources.customers.filters.has_ordered\"\n                icon={<MonetizationOnIcon />}\n            >\n                <FilterListItem\n                    label=\"ra.boolean.true\"\n                    value={{\n                        nb_commands_gte: 1,\n                        nb_commands_lte: undefined,\n                    }}\n                />\n                <FilterListItem\n                    label=\"ra.boolean.false\"\n                    value={{\n                        nb_commands_gte: undefined,\n                        nb_commands_lte: 0,\n                    }}\n                />\n            </FilterList>\n\n            <FilterList\n                label=\"resources.customers.filters.has_newsletter\"\n                icon={<MailIcon />}\n            >\n                <FilterListItem\n                    label=\"ra.boolean.true\"\n                    value={{ has_newsletter: true }}\n                />\n                <FilterListItem\n                    label=\"ra.boolean.false\"\n                    value={{ has_newsletter: false }}\n                />\n            </FilterList>\n\n            <FilterList\n                label=\"resources.customers.filters.group\"\n                icon={<LocalOfferIcon />}\n            >\n                {segments.map(segment => (\n                    <FilterListItem\n                        label={segment.name}\n                        key={segment.id}\n                        value={{ groups: segment.id }}\n                    />\n                ))}\n            </FilterList>\n        </CardContent>\n    </Card>\n);\n\nexport default Aside;\n","import React, { FC } from 'react';\nimport {\n    BooleanField,\n    Datagrid,\n    DateField,\n    DateInput,\n    NullableBooleanInput,\n    NumberField,\n    SearchInput,\n    ListProps,\n} from 'react-admin';\nimport { useDefineAppLocation } from '@react-admin/ra-navigation';\nimport { useMediaQuery, Theme } from '@material-ui/core';\nimport { FilterWithSave } from '@react-admin/ra-preferences';\n\nimport EnterpriseList from '../ra-enterprise/List';\nimport SegmentsField from './SegmentsField';\nimport SegmentInput from './SegmentInput';\nimport CustomerLinkField from './CustomerLinkField';\nimport ColoredNumberField from './ColoredNumberField';\nimport MobileGrid from './MobileGrid';\nimport DesktopGrid from './DesktopGrid';\nimport VisitorListAside from './VisitorListAside';\n\nconst VisitorFilter: FC = (props: any) => (\n    <FilterWithSave {...props}>\n        <SearchInput source=\"q\" alwaysOn />\n        <DateInput source=\"last_seen_gte\" />\n        <NullableBooleanInput source=\"has_ordered\" />\n        <NullableBooleanInput source=\"has_newsletter\" defaultValue />\n        <SegmentInput />\n    </FilterWithSave>\n);\n\nconst visitorListColumn = {\n    customer: <CustomerLinkField />,\n    last_seen: <DateField source=\"last_seen\" />,\n    nb_commands: <NumberField source=\"nb_commands\" label=\"Commands\" />,\n    total_spent: (\n        <ColoredNumberField\n            source=\"total_spent\"\n            options={{ style: 'currency', currency: 'USD' }}\n        />\n    ),\n    latest_purchase: <DateField source=\"latest_purchase\" showTime />,\n    has_newsletter: <BooleanField source=\"has_newsletter\" label=\"News.\" />,\n    segments: <SegmentsField />,\n};\n\nconst VisitorList: FC<ListProps> = props => {\n    const isXsmall = useMediaQuery<Theme>(theme =>\n        theme.breakpoints.down('xs')\n    );\n    useDefineAppLocation('customers.customers');\n    const isSmall = useMediaQuery<Theme>(theme => theme.breakpoints.down('sm'));\n\n    return (\n        <EnterpriseList\n            {...props}\n            preferenceKey=\"visitors.list\"\n            hasColumnsSelector\n            defaultColumns={visitorListColumn}\n            defaultOmittedColumns={['last_seen']}\n            hasViewSelector\n            filters={isSmall ? <VisitorFilter /> : undefined}\n            aside={<VisitorListAside />}\n            sort={{ field: 'last_seen', order: 'DESC' }}\n            perPage={25}\n        >\n            {({\n                columns,\n                view,\n                hasShow,\n                hasList,\n                hasEdit,\n                hasCreate,\n                ...rest\n            }): JSX.Element => {\n                if (isXsmall) {\n                    return <MobileGrid />;\n                }\n                if (view === 'grid') {\n                    return <DesktopGrid fields={columns} />;\n                }\n                return (\n                    <Datagrid rowClick=\"edit\" {...rest}>\n                        {columns}\n                    </Datagrid>\n                );\n            }}\n        </EnterpriseList>\n    );\n};\n\nexport default VisitorList;\n","import React, { ReactElement } from 'react';\nimport {\n    Create,\n    DateInput,\n    SimpleForm,\n    TextInput,\n    useTranslate,\n    PasswordInput,\n    required,\n    CreateProps,\n} from 'react-admin';\nimport { useDefineAppLocation } from '@react-admin/ra-navigation';\nimport { Typography, Box } from '@material-ui/core';\nimport { makeStyles, Theme } from '@material-ui/core/styles';\nimport { Styles } from '@material-ui/styles/withStyles';\n\nexport const styles: Styles<Theme, any> = {\n    first_name: { display: 'inline-block' },\n    last_name: { display: 'inline-block', marginLeft: 32 },\n    email: { width: 544 },\n    address: { maxWidth: 544 },\n    zipcode: { display: 'inline-block' },\n    city: { display: 'inline-block', marginLeft: 32 },\n    comment: {\n        maxWidth: '20em',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n    },\n    password: { display: 'inline-block' },\n    confirm_password: { display: 'inline-block', marginLeft: 32 },\n};\n\nconst useStyles = makeStyles(styles);\n\nexport const validatePasswords = ({\n    password,\n    confirm_password,\n}: {\n    password: string;\n    confirm_password: string;\n}): any => {\n    const errors = {} as any;\n\n    if (password && confirm_password && password !== confirm_password) {\n        errors.confirm_password = [\n            'resources.customers.errors.password_mismatch',\n        ];\n    }\n\n    return errors;\n};\n\nconst VisitorCreate = (props: CreateProps): ReactElement => {\n    const classes = useStyles(props);\n    useDefineAppLocation('customers.customers.create');\n\n    return (\n        <Create {...props}>\n            <SimpleForm validate={validatePasswords}>\n                <SectionTitle label=\"resources.customers.fieldGroups.identity\" />\n                <TextInput\n                    source=\"first_name\"\n                    formClassName={classes.first_name}\n                    validate={requiredValidate}\n                />\n                <TextInput\n                    source=\"last_name\"\n                    formClassName={classes.last_name}\n                    validate={requiredValidate}\n                />\n                <TextInput\n                    type=\"email\"\n                    source=\"email\"\n                    validation={{ email: true }}\n                    fullWidth={true}\n                    formClassName={classes.email}\n                    validate={requiredValidate}\n                />\n                <DateInput source=\"birthday\" />\n                <Separator />\n                <SectionTitle label=\"resources.customers.fieldGroups.address\" />\n                <TextInput\n                    source=\"address\"\n                    formClassName={classes.address}\n                    multiline={true}\n                    fullWidth={true}\n                />\n                <TextInput source=\"zipcode\" formClassName={classes.zipcode} />\n                <TextInput source=\"city\" formClassName={classes.city} />\n                <Separator />\n                <SectionTitle label=\"resources.customers.fieldGroups.password\" />\n                <PasswordInput\n                    source=\"password\"\n                    formClassName={classes.password}\n                />\n                <PasswordInput\n                    source=\"confirm_password\"\n                    formClassName={classes.confirm_password}\n                />\n            </SimpleForm>\n        </Create>\n    );\n};\n\nconst requiredValidate = [required()];\n\nconst SectionTitle = ({ label }: { label: string }): ReactElement => {\n    const translate = useTranslate();\n\n    return (\n        <Typography variant=\"h6\" gutterBottom>\n            {translate(label)}\n        </Typography>\n    );\n};\n\nconst Separator = (): ReactElement => <Box pt=\"1em\" />;\n\nexport default VisitorCreate;\n","import React, { FC, ReactNode } from 'react';\nimport { FunctionField, FunctionFieldProps, Record } from 'react-admin';\n\nconst render = (record?: Record): ReactNode =>\n    record ? record.basket.length : null;\n\nconst NbItemsField: FC<Omit<FunctionFieldProps, 'render'>> = props => (\n    <FunctionField {...props} render={render} />\n);\n\nNbItemsField.defaultProps = {\n    label: 'Nb Items',\n    textAlign: 'right',\n};\n\nexport default NbItemsField;\n","import React, { FC } from 'react';\nimport { ReferenceField, ReferenceFieldProps } from 'react-admin';\n\nimport FullNameField from './FullNameField';\n\nconst CustomerReferenceField: FC<Omit<\n    ReferenceFieldProps,\n    'children' | 'source' | 'reference'\n>> = props => (\n    <ReferenceField source=\"customer_id\" reference=\"customers\" {...props}>\n        <FullNameField />\n    </ReferenceField>\n);\n\nCustomerReferenceField.defaultProps = {\n    addLabel: true,\n};\n\nexport default CustomerReferenceField;\n","import React, { FC } from 'react';\nimport { FieldProps, Customer } from '../types';\n\nconst AddressField: FC<FieldProps<Customer>> = ({ record }) =>\n    record ? (\n        <span>\n            {record.address}, {record.city} {record.zipcode}\n        </span>\n    ) : null;\n\nexport default AddressField;\n","// in src/comments.js\nimport * as React from 'react';\nimport { FC } from 'react';\nimport { Card, CardHeader, CardContent } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    DateField,\n    EditButton,\n    NumberField,\n    TextField,\n    BooleanField,\n    useTranslate,\n    RecordMap,\n    Identifier,\n    Record,\n} from 'react-admin';\n\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\n\nconst useListStyles = makeStyles(theme => ({\n    card: {\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        margin: '0.5rem 0',\n    },\n    cardTitleContent: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n    },\n    cardContent: theme.typography.body1,\n    cardContentRow: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        margin: '0.5rem 0',\n    },\n}));\n\ninterface MobileGridProps {\n    ids?: Identifier[];\n    data?: RecordMap<Record>;\n    basePath?: string;\n}\n\nconst MobileGrid: FC<MobileGridProps> = ({ ids, data, basePath }) => {\n    const translate = useTranslate();\n    const classes = useListStyles();\n\n    if (!ids || !data || !basePath) {\n        return null;\n    }\n\n    return (\n        <div style={{ margin: '1em' }}>\n            {ids.map(id => (\n                <Card key={id} className={classes.card}>\n                    <CardHeader\n                        title={\n                            <div className={classes.cardTitleContent}>\n                                <span>\n                                    {translate('resources.commands.name', 1)}\n                                    :&nbsp;\n                                    <TextField\n                                        record={data[id]}\n                                        source=\"reference\"\n                                    />\n                                </span>\n                                <EditButton\n                                    resource=\"commands\"\n                                    basePath={basePath}\n                                    record={data[id]}\n                                />\n                            </div>\n                        }\n                    />\n                    <CardContent className={classes.cardContent}>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.customers.name', 1)}:&nbsp;\n                            <CustomerReferenceField\n                                record={data[id]}\n                                basePath={basePath}\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.reviews.fields.date')}:&nbsp;\n                            <DateField\n                                record={data[id]}\n                                source=\"date\"\n                                showTime\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate(\n                                'resources.commands.fields.basket.total'\n                            )}\n                            :&nbsp;\n                            <NumberField\n                                record={data[id]}\n                                source=\"total\"\n                                options={{ style: 'currency', currency: 'USD' }}\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.commands.fields.status')}\n                            :&nbsp;\n                            <TextField source=\"status\" record={data[id]} />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.commands.fields.returned')}\n                            :&nbsp;\n                            <BooleanField record={data[id]} source=\"returned\" />\n                        </span>\n                    </CardContent>\n                </Card>\n            ))}\n        </div>\n    );\n};\n\nMobileGrid.defaultProps = {\n    data: {},\n    ids: [],\n};\n\nexport default MobileGrid;\n","import * as React from 'react';\nimport {\n    FC,\n    Fragment,\n    ChangeEvent,\n    useCallback,\n    useEffect,\n    useState,\n} from 'react';\nimport {\n    AutocompleteInput,\n    BooleanField,\n    Datagrid,\n    DatagridProps,\n    DateField,\n    DateInput,\n    Filter,\n    FilterProps,\n    Identifier,\n    ListContextProvider,\n    ListProps,\n    NullableBooleanInput,\n    NumberField,\n    ReferenceInput,\n    ReferenceField,\n    SearchInput,\n    TextField,\n    TextInput,\n    useGetList,\n    useListContext,\n} from 'react-admin';\nimport {\n    useMediaQuery,\n    Divider,\n    Tabs,\n    Tab,\n    useTheme,\n    lighten,\n    darken,\n    fade,\n    Theme,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ListActions, RealTimeList } from '@react-admin/ra-enterprise';\n\nimport NbItemsField from './NbItemsField';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport AddressField from '../visitors/AddressField';\nimport MobileGrid from './MobileGrid';\nimport { Customer } from '../types';\nimport CustomBreadcrumbForActions from '../layout/BreadcrumbForActions';\nimport { useDefineAppLocation } from '@react-admin/ra-navigation';\n\nconst OrderFilter: FC<Omit<FilterProps, 'children'>> = props => (\n    <Filter {...props}>\n        <SearchInput source=\"q\" alwaysOn />\n        <ReferenceInput source=\"customer_id\" reference=\"customers\">\n            <AutocompleteInput\n                optionText={(choice: Customer): string =>\n                    choice.id // the empty choice is { id: '' }\n                        ? `${choice.first_name} ${choice.last_name}`\n                        : ''\n                }\n            />\n        </ReferenceInput>\n        <DateInput source=\"date_gte\" />\n        <DateInput source=\"date_lte\" />\n        <TextInput source=\"total_gte\" />\n        <NullableBooleanInput source=\"returned\" />\n    </Filter>\n);\n\nconst useDatagridStyles = makeStyles({\n    total: { fontWeight: 'bold' },\n});\n\nconst orderRowStyle = (batchLevel, theme) => (record): any => {\n    let backgroundColor;\n    switch (record.batch) {\n        case batchLevel:\n            backgroundColor =\n                theme.palette.type === 'light'\n                    ? lighten(fade(theme.palette.info.light, 1), 0.68)\n                    : darken(fade(theme.palette.info.dark, 1), 0.88);\n            break;\n        case 1:\n            if (batchLevel > 0) {\n                backgroundColor =\n                    theme.palette.type === 'light'\n                        ? lighten(fade(theme.palette.info.light, 1), 0.78)\n                        : darken(fade(theme.palette.info.dark, 1), 0.78);\n            }\n            break;\n        default:\n            backgroundColor = theme.palette.background.paper;\n    }\n\n    return {\n        backgroundColor,\n    };\n};\n\nconst tabs = [\n    { id: 'ordered', name: 'ordered' },\n    { id: 'delivered', name: 'delivered' },\n    { id: 'cancelled', name: 'cancelled' },\n];\n\ntype TabbedDatagridProps = DatagridProps;\n\nconst useGetTotals = (filterValues: any): any => {\n    const { total: totalOrdered } = useGetList(\n        'commands',\n        { perPage: 1, page: 1 },\n        { field: 'id', order: 'ASC' },\n        { ...filterValues, status: 'ordered' }\n    );\n    const { total: totalDelivered } = useGetList(\n        'commands',\n        { perPage: 1, page: 1 },\n        { field: 'id', order: 'ASC' },\n        { ...filterValues, status: 'delivered' }\n    );\n    const { total: totalCancelled } = useGetList(\n        'commands',\n        { perPage: 1, page: 1 },\n        { field: 'id', order: 'ASC' },\n        { ...filterValues, status: 'cancelled' }\n    );\n\n    return {\n        ordered: totalOrdered,\n        delivered: totalDelivered,\n        cancelled: totalCancelled,\n    };\n};\n\nconst TabbedDatagrid: FC<TabbedDatagridProps> = props => {\n    const listContext = useListContext();\n    useDefineAppLocation('sales.commands');\n    const { ids, filterValues, setFilters, displayedFilters } = listContext;\n    const classes = useDatagridStyles();\n    const isXSmall = useMediaQuery<Theme>(theme =>\n        theme.breakpoints.down('xs')\n    );\n    const [ordered, setOrdered] = useState<Identifier[]>([] as Identifier[]);\n    const [delivered, setDelivered] = useState<Identifier[]>(\n        [] as Identifier[]\n    );\n    const [cancelled, setCancelled] = useState<Identifier[]>(\n        [] as Identifier[]\n    );\n    const totals = useGetTotals(filterValues) as any;\n\n    useEffect(() => {\n        if (ids && ids !== filterValues.status) {\n            switch (filterValues.status) {\n                case 'ordered':\n                    setOrdered(ids);\n                    break;\n                case 'delivered':\n                    setDelivered(ids);\n                    break;\n                case 'cancelled':\n                    setCancelled(ids);\n                    break;\n            }\n        }\n    }, [ids, filterValues.status]);\n\n    const handleChange = useCallback(\n        (event: ChangeEvent<unknown>, value: any) => {\n            setFilters &&\n                setFilters(\n                    { ...filterValues, status: value },\n                    displayedFilters\n                );\n        },\n        [displayedFilters, filterValues, setFilters]\n    );\n\n    const theme = useTheme();\n    const batchLevel =\n        parseInt(localStorage.getItem('batchLevel') || '0', 0) || 0;\n    const rowStyle = orderRowStyle(batchLevel, theme);\n\n    const selectedIds =\n        filterValues.status === 'ordered'\n            ? ordered\n            : filterValues.status === 'delivered'\n            ? delivered\n            : cancelled;\n\n    return (\n        <Fragment>\n            <Tabs\n                variant=\"fullWidth\"\n                centered\n                value={filterValues.status}\n                indicatorColor=\"primary\"\n                onChange={handleChange}\n            >\n                {tabs.map(choice => (\n                    <Tab\n                        key={choice.id}\n                        label={\n                            totals[choice.name]\n                                ? `${choice.name} (${totals[choice.name]})`\n                                : choice.name\n                        }\n                        value={choice.id}\n                    />\n                ))}\n            </Tabs>\n            <Divider />\n            {isXSmall ? (\n                <ListContextProvider\n                    value={{ ...listContext, ids: selectedIds }}\n                >\n                    <MobileGrid {...props} ids={selectedIds} />\n                </ListContextProvider>\n            ) : (\n                <div>\n                    {filterValues.status === 'ordered' && (\n                        <ListContextProvider\n                            value={{ ...listContext, ids: ordered }}\n                        >\n                            <Datagrid\n                                {...props}\n                                optimized\n                                rowClick=\"edit\"\n                                rowStyle={rowStyle}\n                                data-testid=\"order-ordered-datagrid\"\n                            >\n                                <DateField source=\"date\" showTime />\n                                <TextField source=\"reference\" />\n                                <CustomerReferenceField />\n                                <ReferenceField\n                                    source=\"customer_id\"\n                                    reference=\"customers\"\n                                    link={false}\n                                    label=\"resources.commands.fields.address\"\n                                >\n                                    <AddressField />\n                                </ReferenceField>\n                                <NbItemsField />\n                                <NumberField\n                                    source=\"total\"\n                                    options={{\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    }}\n                                    className={classes.total}\n                                />\n                            </Datagrid>\n                        </ListContextProvider>\n                    )}\n                    {filterValues.status === 'delivered' && (\n                        <ListContextProvider\n                            value={{ ...listContext, ids: delivered }}\n                        >\n                            <Datagrid {...props} rowClick=\"edit\">\n                                <DateField source=\"date\" showTime />\n                                <TextField source=\"reference\" />\n                                <CustomerReferenceField />\n                                <ReferenceField\n                                    source=\"customer_id\"\n                                    reference=\"customers\"\n                                    link={false}\n                                    label=\"resources.commands.fields.address\"\n                                >\n                                    <AddressField />\n                                </ReferenceField>\n                                <NbItemsField />\n                                <NumberField\n                                    source=\"total\"\n                                    options={{\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    }}\n                                    className={classes.total}\n                                />\n                                <BooleanField source=\"returned\" />\n                            </Datagrid>\n                        </ListContextProvider>\n                    )}\n                    {filterValues.status === 'cancelled' && (\n                        <ListContextProvider\n                            value={{ ...listContext, ids: cancelled }}\n                        >\n                            <Datagrid {...props} rowClick=\"edit\">\n                                <DateField source=\"date\" showTime />\n                                <TextField source=\"reference\" />\n                                <CustomerReferenceField />\n                                <ReferenceField\n                                    source=\"customer_id\"\n                                    reference=\"customers\"\n                                    link={false}\n                                    label=\"resources.commands.fields.address\"\n                                >\n                                    <AddressField />\n                                </ReferenceField>\n                                <NbItemsField />\n                                <NumberField\n                                    source=\"total\"\n                                    options={{\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    }}\n                                    className={classes.total}\n                                />\n                                <BooleanField source=\"returned\" />\n                            </Datagrid>\n                        </ListContextProvider>\n                    )}\n                </div>\n            )}\n        </Fragment>\n    );\n};\n\nconst OrderList: FC<ListProps> = props => (\n    <RealTimeList\n        {...props}\n        filterDefaultValues={{ status: 'ordered' }}\n        sort={{ field: 'date', order: 'DESC' }}\n        perPage={25}\n        filters={<OrderFilter />}\n        actions={<ListActions breadcrumb={<CustomBreadcrumbForActions />} />}\n    >\n        <TabbedDatagrid />\n    </RealTimeList>\n);\n\nexport default OrderList;\n","import React, { FC } from 'react';\nimport classnames from 'classnames';\n\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport { Link, useTranslate, useQueryWithStore } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FieldProps, AppState, Order, Product } from '../types';\n\nconst useStyles = makeStyles({\n    container: { minWidth: '35em', marginLeft: '1em' },\n    rightAlignedCell: { textAlign: 'right' },\n    boldCell: { fontWeight: 'bold' },\n});\n\nconst Basket: FC<FieldProps<Order>> = ({ record }) => {\n    const classes = useStyles();\n    const translate = useTranslate();\n\n    const { loaded, data: products } = useQueryWithStore(\n        {\n            type: 'getMany',\n            resource: 'products',\n            payload: {\n                ids: record ? record.basket.map(item => item.product_id) : [],\n            },\n        },\n        {},\n        (state: AppState) => {\n            const productIds = record\n                ? record.basket.map(item => item.product_id)\n                : [];\n\n            return productIds\n                .map<Product>(\n                    productId =>\n                        state.admin.resources.products.data[\n                            productId\n                        ] as Product\n                )\n                .filter(r => typeof r !== 'undefined')\n                .reduce((prev, next) => {\n                    prev[next.id] = next;\n                    return prev;\n                }, {} as { [key: string]: Product });\n        }\n    );\n\n    if (!loaded || !record) return null;\n\n    return (\n        <Paper className={classes.container} elevation={2}>\n            <Table>\n                <TableHead>\n                    <TableRow>\n                        <TableCell>\n                            {translate(\n                                'resources.commands.fields.basket.reference'\n                            )}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {translate(\n                                'resources.commands.fields.basket.unit_price'\n                            )}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {translate(\n                                'resources.commands.fields.basket.quantity'\n                            )}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {translate(\n                                'resources.commands.fields.basket.total'\n                            )}\n                        </TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {record.basket.map(\n                        (item: any) =>\n                            products[item.product_id] && (\n                                <TableRow key={item.product_id}>\n                                    <TableCell>\n                                        <Link\n                                            to={`/products/${item.product_id}`}\n                                        >\n                                            {\n                                                products[item.product_id]\n                                                    .reference\n                                            }\n                                        </Link>\n                                    </TableCell>\n                                    <TableCell\n                                        className={classes.rightAlignedCell}\n                                    >\n                                        {products[\n                                            item.product_id\n                                        ].price.toLocaleString(undefined, {\n                                            style: 'currency',\n                                            currency: 'USD',\n                                        })}\n                                    </TableCell>\n                                    <TableCell\n                                        className={classes.rightAlignedCell}\n                                    >\n                                        {item.quantity}\n                                    </TableCell>\n                                    <TableCell\n                                        className={classes.rightAlignedCell}\n                                    >\n                                        {(\n                                            products[item.product_id].price *\n                                            item.quantity\n                                        ).toLocaleString(undefined, {\n                                            style: 'currency',\n                                            currency: 'USD',\n                                        })}\n                                    </TableCell>\n                                </TableRow>\n                            )\n                    )}\n                    <TableRow>\n                        <TableCell colSpan={2} />\n                        <TableCell>\n                            {translate('resources.commands.fields.basket.sum')}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {record.total_ex_taxes.toLocaleString(undefined, {\n                                style: 'currency',\n                                currency: 'USD',\n                            })}\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell colSpan={2} />\n                        <TableCell>\n                            {translate(\n                                'resources.commands.fields.basket.delivery'\n                            )}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {record.delivery_fees.toLocaleString(undefined, {\n                                style: 'currency',\n                                currency: 'USD',\n                            })}\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell colSpan={2} />\n                        <TableCell>\n                            {translate(\n                                'resources.commands.fields.basket.tax_rate'\n                            )}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {record.tax_rate.toLocaleString(undefined, {\n                                style: 'percent',\n                            })}\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell colSpan={2} />\n                        <TableCell className={classes.boldCell}>\n                            {translate(\n                                'resources.commands.fields.basket.total'\n                            )}\n                        </TableCell>\n                        <TableCell\n                            className={classnames(\n                                classes.boldCell,\n                                classes.rightAlignedCell\n                            )}\n                        >\n                            {record.total.toLocaleString(undefined, {\n                                style: 'currency',\n                                currency: 'USD',\n                            })}\n                        </TableCell>\n                    </TableRow>\n                </TableBody>\n            </Table>\n        </Paper>\n    );\n};\n\nexport default Basket;\n","import * as React from 'react';\nimport { ReactElement } from 'react';\nimport {\n    EditActions as RaEditActions,\n    EditActionsProps,\n} from '@react-admin/ra-enterprise';\nimport CustomBreadcrumbForActions from '../layout/BreadcrumbForActions';\n\nexport const EditActions = (props: EditActionsProps): ReactElement => (\n    <RaEditActions breadcrumb={<CustomBreadcrumbForActions />} {...props} />\n);\n","import React, { FC, ReactElement } from 'react';\nimport {\n    AutocompleteInput,\n    BooleanInput,\n    DateInput,\n    EditProps,\n    Record,\n    ReferenceInput,\n    SelectInput,\n    SimpleForm,\n    useTranslate,\n} from 'react-admin';\nimport { Edit } from '@react-admin/ra-enterprise';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Basket from './Basket';\nimport { EditActions } from '../layout/EditActions';\nimport { useDefineAppLocation } from '@react-admin/ra-navigation';\n\nconst OrderTitle: FC<{ record?: Record }> = ({ record }) => {\n    const translate = useTranslate();\n\n    if (!record) {\n        return null;\n    }\n\n    return (\n        <span>\n            {translate('resources.commands.title', {\n                reference: record.reference,\n            })}\n        </span>\n    );\n};\n\nconst useEditStyles = makeStyles({\n    root: {\n        alignItems: 'flex-start',\n    },\n});\n\nconst OrderEditForm = (props: any): ReactElement => {\n    useDefineAppLocation('sales.commands.edit', props);\n    return (\n        <SimpleForm>\n            <DateInput source=\"date\" />\n            <ReferenceInput source=\"customer_id\" reference=\"customers\">\n                <AutocompleteInput\n                    optionText={(choice: Record): string =>\n                        `${choice.first_name} ${choice.last_name}`\n                    }\n                />\n            </ReferenceInput>\n            <SelectInput\n                source=\"status\"\n                choices={[\n                    { id: 'delivered', name: 'delivered' },\n                    { id: 'ordered', name: 'ordered' },\n                    { id: 'cancelled', name: 'cancelled' },\n                    {\n                        id: 'unknown',\n                        name: 'unknown',\n                        disabled: true,\n                    },\n                ]}\n            />\n            <BooleanInput source=\"returned\" />\n        </SimpleForm>\n    );\n};\n\nconst OrderEdit: FC<EditProps> = props => {\n    const classes = useEditStyles();\n    return (\n        <Edit\n            title={<OrderTitle />}\n            aside={<Basket />}\n            classes={classes}\n            actions={<EditActions />}\n            {...props}\n        >\n            <OrderEditForm />\n        </Edit>\n    );\n};\n\nexport default OrderEdit;\n","import OrderIcon from '@material-ui/icons/AttachMoney';\n\nimport OrderList from './OrderList';\nimport OrderEdit from './OrderEdit';\n\nexport default {\n    list: OrderList,\n    edit: OrderEdit,\n    icon: OrderIcon,\n};\n","import React, { FC } from 'react';\nimport PropTypes from 'prop-types';\nimport ThumbUp from '@material-ui/icons/ThumbUp';\nimport {\n    Button,\n    useUpdateMany,\n    useNotify,\n    useRedirect,\n    useUnselectAll,\n    CRUD_UPDATE_MANY,\n    useListContext,\n} from 'react-admin';\n\nconst BulkAcceptButton: FC = () => {\n    const notify = useNotify();\n    const redirectTo = useRedirect();\n    const unselectAll = useUnselectAll('reviews');\n    const { selectedIds } = useListContext();\n\n    const [approve, { loading }] = useUpdateMany(\n        'reviews',\n        selectedIds,\n        { status: 'accepted' },\n        {\n            action: CRUD_UPDATE_MANY,\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.approved_success',\n                    'info',\n                    {},\n                    true\n                );\n                redirectTo('/reviews');\n                unselectAll();\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.approved_error',\n                    'warning'\n                );\n            },\n        }\n    );\n\n    return (\n        <Button\n            label=\"resources.reviews.action.accept\"\n            onClick={approve}\n            disabled={loading}\n        >\n            <ThumbUp />\n        </Button>\n    );\n};\n\nBulkAcceptButton.propTypes = {\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n};\n\nexport default BulkAcceptButton;\n","import React, { FC } from 'react';\nimport PropTypes from 'prop-types';\nimport ThumbDown from '@material-ui/icons/ThumbDown';\nimport {\n    Button,\n    useUpdateMany,\n    useNotify,\n    useRedirect,\n    useUnselectAll,\n    CRUD_UPDATE_MANY,\n    useListContext,\n} from 'react-admin';\n\nconst BulkRejectButton: FC = () => {\n    const notify = useNotify();\n    const redirectTo = useRedirect();\n    const unselectAll = useUnselectAll('reviews');\n    const { selectedIds } = useListContext();\n\n    const [reject, { loading }] = useUpdateMany(\n        'reviews',\n        selectedIds,\n        { status: 'rejected' },\n        {\n            action: CRUD_UPDATE_MANY,\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.approved_success',\n                    'info',\n                    {},\n                    true\n                );\n                redirectTo('/reviews');\n                unselectAll();\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.approved_error',\n                    'warning'\n                );\n            },\n        }\n    );\n\n    return (\n        <Button\n            label=\"resources.reviews.action.reject\"\n            onClick={reject}\n            disabled={loading}\n        >\n            <ThumbDown />\n        </Button>\n    );\n};\n\nBulkRejectButton.propTypes = {\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n};\n\nexport default BulkRejectButton;\n","import React, { FC, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport {\n    linkToRecord,\n    ReferenceField,\n    FunctionField,\n    TextField,\n    useListContext,\n    Record,\n} from 'react-admin';\nimport {\n    useAppLocationState,\n    useResourceAppLocation,\n} from '@react-admin/ra-navigation';\n\nimport AvatarField from '../visitors/AvatarField';\n\nconst useStyles = makeStyles({\n    root: {\n        width: '100vw',\n    },\n    link: {\n        textDecoration: 'none',\n        color: 'inherit',\n    },\n    inline: {\n        display: 'inline',\n    },\n});\n\nconst ReviewMobileList: FC = () => {\n    const classes = useStyles();\n    const [, setLocation] = useAppLocationState();\n    const resourceLocation = useResourceAppLocation();\n    const {\n        basePath,\n        data,\n        ids,\n        loading,\n        total,\n        filterValues,\n    } = useListContext();\n\n    const effectDependency = JSON.stringify({\n        resourceLocation,\n        filter: filterValues,\n    });\n    useEffect(() => {\n        const { status } = filterValues;\n        if (typeof status !== 'undefined') {\n            setLocation('reviews.status_filter', { status });\n        } else {\n            setLocation('reviews');\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [setLocation, effectDependency]);\n    return loading || total > 0 ? (\n        <List className={classes.root}>\n            {ids.map(id => (\n                <Link\n                    to={linkToRecord(basePath, id)}\n                    className={classes.link}\n                    key={id}\n                >\n                    <ListItem button>\n                        <ListItemAvatar>\n                            <ReferenceField\n                                record={data[id]}\n                                source=\"customer_id\"\n                                reference=\"customers\"\n                                basePath={basePath}\n                                linkType={false}\n                            >\n                                <AvatarField size=\"40\" />\n                            </ReferenceField>\n                        </ListItemAvatar>\n                        <ListItemText\n                            primary={\n                                <>\n                                    <ReferenceField\n                                        record={data[id]}\n                                        source=\"customer_id\"\n                                        reference=\"customers\"\n                                        basePath={basePath}\n                                        linkType={false}\n                                    >\n                                        <FunctionField\n                                            render={(record?: Record): string =>\n                                                record\n                                                    ? `${record.first_name} ${record.last_name}`\n                                                    : ''\n                                            }\n                                            variant=\"subtitle1\"\n                                            className={classes.inline}\n                                        />\n                                    </ReferenceField>{' '}\n                                    on{' '}\n                                    <ReferenceField\n                                        record={data[id]}\n                                        source=\"product_id\"\n                                        reference=\"products\"\n                                        basePath={basePath}\n                                        linkType={false}\n                                    >\n                                        <TextField\n                                            source=\"reference\"\n                                            variant=\"subtitle1\"\n                                            className={classes.inline}\n                                        />\n                                    </ReferenceField>\n                                </>\n                            }\n                            secondary={data[id].comment}\n                            secondaryTypographyProps={{ noWrap: true }}\n                        />\n                    </ListItem>\n                </Link>\n            ))}\n        </List>\n    ) : null;\n};\n\nReviewMobileList.propTypes = {\n    basePath: PropTypes.string,\n    data: PropTypes.object,\n    hasBulkActions: PropTypes.bool.isRequired,\n    ids: PropTypes.array,\n    leftAvatar: PropTypes.func,\n    leftIcon: PropTypes.func,\n    linkType: PropTypes.oneOfType([PropTypes.string, PropTypes.bool])\n        .isRequired,\n    onToggleItem: PropTypes.func,\n    primaryText: PropTypes.func,\n    rightAvatar: PropTypes.func,\n    rightIcon: PropTypes.func,\n    secondaryText: PropTypes.func,\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n    tertiaryText: PropTypes.func,\n};\n\nReviewMobileList.defaultProps = {\n    linkType: 'edit',\n    hasBulkActions: false,\n    selectedIds: [],\n};\n\nexport default ReviewMobileList;\n","import React, { FC } from 'react';\nimport { ReferenceField, ReferenceFieldProps, TextField } from 'react-admin';\n\nconst ProductReferenceField: FC<Omit<\n    ReferenceFieldProps,\n    'children' | 'source' | 'reference'\n>> = props => (\n    <ReferenceField\n        label=\"Product\"\n        source=\"product_id\"\n        reference=\"products\"\n        {...props}\n    >\n        <TextField source=\"reference\" />\n    </ReferenceField>\n);\n\nProductReferenceField.defaultProps = {\n    addLabel: true,\n};\n\nexport default ProductReferenceField;\n","import React, { FC } from 'react';\nimport Icon from '@material-ui/icons/Stars';\nimport { makeStyles } from '@material-ui/core';\n\nimport { FieldProps } from '../types';\n\nconst useStyles = makeStyles({\n    root: {\n        opacity: 0.87,\n        whiteSpace: 'nowrap',\n    },\n    large: {\n        width: 20,\n        height: 20,\n    },\n    small: {\n        width: 15,\n        height: 15,\n    },\n});\n\ninterface OwnProps {\n    size?: 'large' | 'small';\n}\n\nconst StarRatingField: FC<FieldProps & OwnProps> = ({\n    record,\n    size = 'large',\n}) => {\n    const classes = useStyles();\n    return record ? (\n        <span>\n            {Array(record.rating)\n                .fill(true)\n                .map((_, i) => (\n                    <Icon\n                        key={i}\n                        className={\n                            size === 'large' ? classes.large : classes.small\n                        }\n                    />\n                ))}\n        </span>\n    ) : null;\n};\n\nStarRatingField.defaultProps = {\n    label: 'resources.reviews.fields.rating',\n    source: 'rating',\n    addLabel: true,\n};\n\nexport default StarRatingField;\n","import { Theme } from '@material-ui/core';\nimport green from '@material-ui/core/colors/green';\nimport orange from '@material-ui/core/colors/orange';\nimport red from '@material-ui/core/colors/red';\nimport { Identifier, Record } from 'react-admin';\n\nconst rowStyle = (selectedRow: Identifier | false, theme: Theme) => (\n    record: Record,\n    index: number,\n    defaultStyle = {}\n): any => {\n    let style = defaultStyle;\n    if (selectedRow === record.id) {\n        style = {\n            ...style,\n            backgroundColor: theme.palette.action.selected,\n        };\n    }\n    if (record.status === 'accepted')\n        return {\n            ...style,\n            borderLeftColor: green[500],\n            borderLeftWidth: 5,\n            borderLeftStyle: 'solid',\n        };\n    if (record.status === 'pending')\n        return {\n            ...style,\n            borderLeftColor: orange[500],\n            borderLeftWidth: 5,\n            borderLeftStyle: 'solid',\n        };\n    if (record.status === 'rejected')\n        return {\n            ...style,\n            borderLeftColor: red[500],\n            borderLeftWidth: 5,\n            borderLeftStyle: 'solid',\n        };\n    return style;\n};\n\nexport default rowStyle;\n","import React, { FC, useEffect } from 'react';\nimport { Datagrid, DateField, TextField, useListContext } from 'react-admin';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport {\n    useAppLocationState,\n    useResourceAppLocation,\n} from '@react-admin/ra-navigation';\nimport ProductReferenceField from '../products/ProductReferenceField';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport StarRatingField from './StarRatingField';\n\nimport rowStyle from './rowStyle';\n\nconst useListStyles = makeStyles({\n    headerRow: {\n        borderLeftColor: 'white',\n        borderLeftWidth: 5,\n        borderLeftStyle: 'solid',\n    },\n    headerCell: {\n        padding: '6px 8px 6px 8px',\n    },\n    rowCell: {\n        padding: '6px 8px 6px 8px',\n    },\n    comment: {\n        maxWidth: '18em',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n    },\n});\n\nconst ReviewListDesktop: FC<{ selectedRow: number | false }> = ({\n    selectedRow,\n    ...props\n}) => {\n    const classes = useListStyles();\n    const theme = useTheme();\n    const [, setLocation] = useAppLocationState();\n    const resourceLocation = useResourceAppLocation();\n    const { filterValues } = useListContext();\n\n    const effectDependency = JSON.stringify({\n        resourceLocation,\n        filter: filterValues,\n    });\n    useEffect(() => {\n        const { status } = filterValues;\n        if (typeof status !== 'undefined') {\n            setLocation('reviews.status_filter', { status });\n        } else {\n            setLocation('reviews');\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [setLocation, effectDependency]);\n    return (\n        <Datagrid\n            rowClick=\"edit\"\n            rowStyle={rowStyle(selectedRow, theme)}\n            classes={{\n                headerRow: classes.headerRow,\n                headerCell: classes.headerCell,\n                rowCell: classes.rowCell,\n            }}\n            optimized\n            {...props}\n        >\n            <DateField source=\"date\" />\n            <CustomerReferenceField link={false} />\n            <ProductReferenceField link={false} />\n            <StarRatingField size=\"small\" />\n            <TextField source=\"comment\" cellClassName={classes.comment} />\n            <TextField source=\"status\" />\n        </Datagrid>\n    );\n};\n\nexport default ReviewListDesktop;\n","import React, { FC } from 'react';\nimport {\n    AutocompleteInput,\n    DateInput,\n    ReferenceInput,\n    SearchInput,\n    SelectInput,\n    Filter,\n    FilterProps,\n    Record,\n} from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useFilterStyles = makeStyles({\n    status: { width: 150 },\n});\n\nconst ReviewFilter: FC<Partial<FilterProps>> = props => {\n    const classes = useFilterStyles();\n    return (\n        <Filter {...props}>\n            <SearchInput source=\"q\" alwaysOn />\n            <SelectInput\n                source=\"status\"\n                choices={[\n                    { id: 'accepted', name: 'pos.reviews.accepted' },\n                    { id: 'pending', name: 'pos.reviews.pending' },\n                    { id: 'rejected', name: 'pos.reviews.rejected' },\n                ]}\n                className={classes.status}\n            />\n            <ReferenceInput source=\"customer_id\" reference=\"customers\">\n                <AutocompleteInput\n                    optionText={(choice: Record): string =>\n                        `${choice.first_name} ${choice.last_name}`\n                    }\n                />\n            </ReferenceInput>\n            <ReferenceInput source=\"product_id\" reference=\"products\">\n                <AutocompleteInput optionText=\"reference\" />\n            </ReferenceInput>\n            <DateInput source=\"date_gte\" />\n            <DateInput source=\"date_lte\" />\n        </Filter>\n    );\n};\n\nexport default ReviewFilter;\n","import React, { FC } from 'react';\nimport Button from '@material-ui/core/Button';\nimport ThumbUp from '@material-ui/icons/ThumbUp';\nimport {\n    useTranslate,\n    useUpdate,\n    useNotify,\n    useRedirect,\n    Record,\n} from 'react-admin';\n\n/**\n * This custom button demonstrate using useUpdate to update data\n */\nconst AcceptButton: FC<{ record: Record }> = ({ record }) => {\n    const translate = useTranslate();\n    const notify = useNotify();\n    const redirectTo = useRedirect();\n\n    const [approve, { loading }] = useUpdate(\n        'reviews',\n        record.id,\n        { status: 'accepted' },\n        record,\n        {\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.approved_success',\n                    'info',\n                    {},\n                    true\n                );\n                redirectTo('/reviews');\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.approved_error',\n                    'warning'\n                );\n            },\n        }\n    );\n\n    return record && record.status === 'pending' ? (\n        <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            size=\"small\"\n            onClick={approve}\n            disabled={loading}\n        >\n            <ThumbUp\n                color=\"primary\"\n                style={{ paddingRight: '0.5em', color: 'green' }}\n            />\n            {translate('resources.reviews.action.accept')}\n        </Button>\n    ) : (\n        <span />\n    );\n};\n\nexport default AcceptButton;\n","import React, { FC } from 'react';\nimport Button from '@material-ui/core/Button';\nimport ThumbDown from '@material-ui/icons/ThumbDown';\nimport {\n    useTranslate,\n    useUpdate,\n    useNotify,\n    useRedirect,\n    Record,\n} from 'react-admin';\n\n/**\n * This custom button demonstrate using a custom action to update data\n */\nconst RejectButton: FC<{ record: Record }> = ({ record }) => {\n    const translate = useTranslate();\n    const notify = useNotify();\n    const redirectTo = useRedirect();\n\n    const [reject, { loading }] = useUpdate(\n        'reviews',\n        record.id,\n        { status: 'rejected' },\n        record,\n        {\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.rejected_success',\n                    'info',\n                    {},\n                    true\n                );\n                redirectTo('/reviews');\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.rejected_error',\n                    'warning'\n                );\n            },\n        }\n    );\n\n    return record && record.status === 'pending' ? (\n        <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            size=\"small\"\n            onClick={reject}\n            disabled={loading}\n        >\n            <ThumbDown\n                color=\"primary\"\n                style={{ paddingRight: '0.5em', color: 'red' }}\n            />\n            {translate('resources.reviews.action.reject')}\n        </Button>\n    ) : (\n        <span />\n    );\n};\n\nexport default RejectButton;\n","import React, { FC, Fragment } from 'react';\nimport MuiToolbar from '@material-ui/core/Toolbar';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { SaveButton, DeleteButton, ToolbarProps } from 'react-admin';\nimport AcceptButton from './AcceptButton';\nimport RejectButton from './RejectButton';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        backgroundColor: theme.palette.background.paper,\n        display: 'flex',\n        justifyContent: 'space-between',\n    },\n}));\n\nconst ReviewEditToolbar: FC<ToolbarProps> = ({\n    basePath,\n    handleSubmitWithRedirect,\n    invalid,\n    record,\n    resource,\n    saving,\n}) => {\n    const classes = useStyles();\n    if (!record) {\n        return null;\n    }\n\n    return (\n        <MuiToolbar className={classes.root}>\n            {record.status === 'pending' ? (\n                <Fragment>\n                    <AcceptButton record={record} />\n                    <RejectButton record={record} />\n                </Fragment>\n            ) : (\n                <Fragment>\n                    <SaveButton\n                        handleSubmitWithRedirect={handleSubmitWithRedirect}\n                        invalid={invalid}\n                        saving={saving}\n                        redirect=\"list\"\n                        submitOnEnter={true}\n                    />\n                    <DeleteButton\n                        basePath={basePath}\n                        record={record}\n                        resource={resource}\n                    />\n                </Fragment>\n            )}\n        </MuiToolbar>\n    );\n};\n\nexport default ReviewEditToolbar;\n","import React, { FC } from 'react';\nimport {\n    useEditController,\n    useTranslate,\n    TextInput,\n    SimpleForm,\n    DateField,\n    EditProps,\n} from 'react-admin';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport ProductReferenceField from '../products/ProductReferenceField';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport StarRatingField from './StarRatingField';\nimport ReviewEditToolbar from './ReviewEditToolbar';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        paddingTop: 40,\n    },\n    title: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        margin: '1em',\n    },\n    form: {\n        [theme.breakpoints.up('xs')]: {\n            width: 400,\n        },\n        [theme.breakpoints.down('xs')]: {\n            width: '100vw',\n            marginTop: -30,\n        },\n    },\n    inlineField: {\n        display: 'inline-block',\n        width: '50%',\n    },\n}));\n\nconst ReviewEdit: FC<EditProps & { onCancel?: () => void }> = ({\n    onCancel,\n    ...props\n}) => {\n    const classes = useStyles();\n    const controllerProps = useEditController(props);\n    const translate = useTranslate();\n    if (!controllerProps.record) {\n        return null;\n    }\n    return (\n        <div className={classes.root}>\n            <div className={classes.title}>\n                <Typography variant=\"h6\">\n                    {translate('resources.reviews.detail')}\n                </Typography>\n                <IconButton onClick={onCancel}>\n                    <CloseIcon />\n                </IconButton>\n            </div>\n            <SimpleForm\n                className={classes.form}\n                basePath={controllerProps.basePath}\n                record={controllerProps.record}\n                save={controllerProps.save}\n                version={controllerProps.version}\n                redirect=\"list\"\n                resource=\"reviews\"\n                toolbar={<ReviewEditToolbar />}\n            >\n                <CustomerReferenceField\n                    label=\"resources.reviews.fields.customer_id\"\n                    formClassName={classes.inlineField}\n                />\n\n                <ProductReferenceField\n                    label=\"resources.reviews.fields.product_id\"\n                    formClassName={classes.inlineField}\n                />\n                <DateField source=\"date\" formClassName={classes.inlineField} />\n                <StarRatingField formClassName={classes.inlineField} />\n                <TextInput source=\"comment\" rowsMax={15} multiline fullWidth />\n            </SimpleForm>\n        </div>\n    );\n};\n\nexport default ReviewEdit;\n","import React, { FC, Fragment, ReactElement, useCallback } from 'react';\nimport classnames from 'classnames';\nimport { BulkDeleteButton, ListProps } from 'react-admin';\nimport { List, ListActions } from '@react-admin/ra-enterprise';\nimport { Route, useHistory } from 'react-router-dom';\nimport { Drawer, useMediaQuery, makeStyles, Theme } from '@material-ui/core';\nimport BulkAcceptButton from './BulkAcceptButton';\nimport BulkRejectButton from './BulkRejectButton';\nimport ReviewListMobile from './ReviewListMobile';\nimport ReviewListDesktop from './ReviewListDesktop';\nimport ReviewFilter from './ReviewFilter';\nimport ReviewEdit from './ReviewEdit';\nimport CustomBreadcrumbForActions from '../layout/BreadcrumbForActions';\n\nconst ReviewsBulkActionButtons: FC = ({ children, ...props }) => (\n    <Fragment>\n        <BulkAcceptButton {...props} />\n        <BulkRejectButton {...props} />\n        <BulkDeleteButton {...props} />\n    </Fragment>\n);\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: 'flex',\n    },\n    list: {\n        flexGrow: 1,\n        transition: theme.transitions.create(['all'], {\n            duration: theme.transitions.duration.enteringScreen,\n        }),\n        marginRight: 0,\n    },\n    listWithDrawer: {\n        marginRight: 400,\n    },\n    drawerPaper: {\n        zIndex: 100,\n    },\n}));\n\nconst ReviewList: FC<ListProps> = props => {\n    const classes = useStyles();\n    const isXSmall = useMediaQuery<Theme>(theme =>\n        theme.breakpoints.down('xs')\n    );\n    const history = useHistory();\n\n    const handleClose = useCallback(() => {\n        history.push('/reviews');\n    }, [history]);\n\n    return (\n        <div className={classes.root}>\n            <Route path=\"/reviews/:id\">\n                {({ match }): ReactElement => {\n                    const isMatch = !!(\n                        match &&\n                        match.params &&\n                        match.params.id !== 'create'\n                    );\n\n                    return (\n                        <Fragment>\n                            <List\n                                {...props}\n                                className={classnames(classes.list, {\n                                    [classes.listWithDrawer]: isMatch,\n                                })}\n                                bulkActionButtons={<ReviewsBulkActionButtons />}\n                                filters={<ReviewFilter />}\n                                actions={\n                                    <ListActions\n                                        breadcrumb={\n                                            <CustomBreadcrumbForActions />\n                                        }\n                                    />\n                                }\n                                perPage={25}\n                                sort={{ field: 'date', order: 'DESC' }}\n                            >\n                                {isXSmall ? (\n                                    <ReviewListMobile />\n                                ) : (\n                                    <ReviewListDesktop\n                                        selectedRow={\n                                            isMatch &&\n                                            !!match &&\n                                            parseInt(match.params.id, 10)\n                                        }\n                                    />\n                                )}\n                            </List>\n                            <Drawer\n                                variant=\"persistent\"\n                                open={isMatch}\n                                anchor=\"right\"\n                                onClose={handleClose}\n                                classes={{\n                                    paper: classes.drawerPaper,\n                                }}\n                            >\n                                {/* To avoid any errors if the route does not match, we don't render at all the component in this case */}\n                                {isMatch && !!match ? (\n                                    <ReviewEdit\n                                        id={match.params.id}\n                                        onCancel={handleClose}\n                                        {...props}\n                                    />\n                                ) : null}\n                            </Drawer>\n                        </Fragment>\n                    );\n                }}\n            </Route>\n        </div>\n    );\n};\n\nexport default ReviewList;\n","import ReviewIcon from '@material-ui/icons/Comment';\nimport ReviewList from './ReviewList';\n\nexport default {\n    icon: ReviewIcon,\n    list: ReviewList,\n};\n","import React, { FC } from 'react';\nimport {\n    NumberField,\n    TextField,\n    DateField,\n    useTranslate,\n    useGetList,\n    linkToRecord,\n    Record as RaRecord,\n    ListProps,\n    Identifier,\n    RecordMap,\n} from 'react-admin';\nimport PropTypes from 'prop-types';\nimport {\n    Tooltip,\n    Typography,\n    Card,\n    CardContent,\n    CardHeader,\n    Avatar,\n    IconButton,\n    Box,\n} from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\nimport ContentCreate from '@material-ui/icons/Create';\nimport order from '../orders';\nimport review from '../reviews';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ProductReferenceField from '../products/ProductReferenceField';\nimport StarRatingField from '../reviews/StarRatingField';\nimport { Order, Review } from '../types';\n\nconst useAsideStyles = makeStyles(theme => ({\n    root: {\n        width: 400,\n        [theme.breakpoints.down('md')]: {\n            display: 'none',\n        },\n    },\n}));\n\nconst Aside: FC<{ record?: RaRecord; basePath?: string }> = ({\n    record,\n    basePath,\n}) => {\n    const classes = useAsideStyles();\n    return (\n        <div className={classes.root}>\n            {record && <EventList record={record} basePath={basePath} />}\n        </div>\n    );\n};\n\nAside.propTypes = {\n    record: PropTypes.any,\n    basePath: PropTypes.string,\n};\n\nconst EventList: FC<ListProps & { record?: RaRecord }> = ({\n    record,\n    basePath,\n}) => {\n    const translate = useTranslate();\n    const { data: orders, ids: orderIds } = useGetList<Order>(\n        'commands',\n        { page: 1, perPage: 100 },\n        { field: 'date', order: 'DESC' },\n        { customer_id: record && record.id }\n    );\n    const { data: reviews, ids: reviewIds } = useGetList<Review>(\n        'reviews',\n        { page: 1, perPage: 100 },\n        { field: 'date', order: 'DESC' },\n        { customer_id: record && record.id }\n    );\n\n    if (!orders || !reviews || !orderIds || !reviewIds) {\n        return null;\n    }\n\n    const events = mixOrdersAndReviews(orders, orderIds, reviews, reviewIds);\n\n    return (\n        <>\n            <Box m=\"0 0 1em 1em\">\n                <Card>\n                    <CardContent>\n                        <Typography variant=\"h6\" gutterBottom>\n                            {translate(\n                                'resources.customers.fieldGroups.history'\n                            )}\n                        </Typography>\n                        <Box display=\"flex\">\n                            <Box flexGrow={1}>\n                                <Box display=\"flex\" mb=\"1em\">\n                                    <Box mr=\"1em\">\n                                        <AccessTimeIcon\n                                            fontSize=\"small\"\n                                            color=\"disabled\"\n                                        />\n                                    </Box>\n                                    <Box flexGrow={1}>\n                                        <Typography>\n                                            {translate(\n                                                'resources.customers.fields.first_seen'\n                                            )}\n                                        </Typography>\n                                        <DateField\n                                            record={record}\n                                            source=\"first_seen\"\n                                        />\n                                    </Box>\n                                </Box>\n                                {orderIds.length > 0 && (\n                                    <Box display=\"flex\">\n                                        <Box mr=\"1em\">\n                                            <order.icon\n                                                fontSize=\"small\"\n                                                color=\"disabled\"\n                                            />\n                                        </Box>\n                                        <Box flexGrow={1}>\n                                            <Typography>\n                                                {translate(\n                                                    'resources.commands.amount',\n                                                    {\n                                                        smart_count:\n                                                            orderIds.length,\n                                                    }\n                                                )}\n                                            </Typography>\n                                        </Box>\n                                    </Box>\n                                )}\n                            </Box>\n                            <Box flexGrow={1}>\n                                <Box display=\"flex\" mb=\"1em\">\n                                    <Box mr=\"1em\">\n                                        <AccessTimeIcon\n                                            fontSize=\"small\"\n                                            color=\"disabled\"\n                                        />\n                                    </Box>\n                                    <Box flexGrow={1}>\n                                        <Typography>\n                                            {translate(\n                                                'resources.customers.fields.last_seen'\n                                            )}\n                                        </Typography>\n                                        <DateField\n                                            record={record}\n                                            source=\"last_seen\"\n                                        />\n                                    </Box>\n                                </Box>\n                                {reviewIds.length > 0 && (\n                                    <Box display=\"flex\">\n                                        <Box mr=\"1em\">\n                                            <review.icon\n                                                fontSize=\"small\"\n                                                color=\"disabled\"\n                                            />\n                                        </Box>\n                                        <Box flexGrow={1}>\n                                            <Typography>\n                                                {translate(\n                                                    'resources.reviews.amount',\n                                                    {\n                                                        smart_count:\n                                                            reviewIds.length,\n                                                    }\n                                                )}\n                                            </Typography>\n                                        </Box>\n                                    </Box>\n                                )}\n                            </Box>\n                        </Box>\n                    </CardContent>\n                </Card>\n            </Box>\n\n            {events.map(event =>\n                event.type === 'order' ? (\n                    <OrderEvent\n                        record={event.data}\n                        key={`event_${event.data.id}`}\n                        basePath={basePath}\n                    />\n                ) : (\n                    <ReviewEvent\n                        record={event.data}\n                        key={`review_${event.data.id}`}\n                        basePath={basePath}\n                    />\n                )\n            )}\n        </>\n    );\n};\n\ntype OrderReviewEvent = {\n    type: 'order' | 'review';\n    date: Date;\n    data: Order | Review;\n};\n\nconst mixOrdersAndReviews = (\n    orders: RecordMap<Order>,\n    orderIds: Identifier[],\n    reviews: RecordMap<Review>,\n    reviewIds: Identifier[]\n): OrderReviewEvent[] => {\n    const eventsFromOrders = orderIds.map<OrderReviewEvent>(id => ({\n        type: 'order',\n        date: orders[id].date,\n        data: orders[id],\n    }));\n\n    const eventsFromReviews = reviewIds.map<OrderReviewEvent>(id => ({\n        type: 'review',\n        date: reviews[id].date,\n        data: reviews[id],\n    }));\n\n    const events = [...eventsFromOrders, ...eventsFromReviews];\n    events.sort(\n        (e1, e2) => new Date(e1.date).valueOf() - new Date(e2.date).valueOf()\n    );\n    return events;\n};\n\nconst useEventStyles = makeStyles({\n    card: {\n        margin: '0 0 1em 1em',\n    },\n    cardHeader: {\n        alignItems: 'flex-start',\n    },\n    clamp: {\n        display: '-webkit-box',\n        '-webkit-line-clamp': 3,\n        '-webkit-box-orient': 'vertical',\n        overflow: 'hidden',\n    },\n});\n\nconst OrderEvent: FC<{ record?: RaRecord; basePath?: string }> = ({\n    record,\n    basePath,\n}) => {\n    const translate = useTranslate();\n    const classes = useEventStyles();\n\n    if (!record) {\n        return null;\n    }\n\n    return (\n        <Card className={classes.card}>\n            <CardHeader\n                className={classes.cardHeader}\n                avatar={\n                    <Avatar\n                        aria-label={translate('resources.commands.name', {\n                            smart_count: 1,\n                        })}\n                    >\n                        <order.icon />\n                    </Avatar>\n                }\n                action={<EditButton record={record} basePath=\"/commands\" />}\n                title={`${translate('resources.commands.name', {\n                    smart_count: 1,\n                })} #${record.reference}`}\n                subheader={\n                    <>\n                        <Typography variant=\"body2\">{record.date}</Typography>\n                        <Typography variant=\"body2\" color=\"textSecondary\">\n                            {translate('resources.commands.nb_items', {\n                                smart_count: record.basket.length,\n                                _: '1 item |||| %{smart_count} items',\n                            })}\n                            &nbsp;-&nbsp;\n                            <NumberField\n                                source=\"total\"\n                                options={{\n                                    style: 'currency',\n                                    currency: 'USD',\n                                }}\n                                record={record}\n                                basePath={basePath}\n                            />\n                            &nbsp;-&nbsp;\n                            <TextField\n                                source=\"status\"\n                                record={record}\n                                basePath={basePath}\n                            />\n                        </Typography>\n                    </>\n                }\n            />\n        </Card>\n    );\n};\n\nconst ReviewEvent: FC<{ record?: RaRecord; basePath?: string }> = ({\n    record,\n    basePath,\n}) => {\n    const translate = useTranslate();\n    const classes = useEventStyles();\n\n    if (!record) {\n        return null;\n    }\n\n    return (\n        <Card className={classes.card}>\n            <CardHeader\n                className={classes.cardHeader}\n                avatar={\n                    <Avatar\n                        aria-label={translate('resources.reviews.name', {\n                            smart_count: 1,\n                        })}\n                    >\n                        <review.icon />\n                    </Avatar>\n                }\n                action={<EditButton record={record} basePath=\"/reviews\" />}\n                title={\n                    <span>\n                        {translate('resources.reviews.relative_to_poster')}{' '}\n                        <ProductReferenceField\n                            resource=\"reviews\"\n                            record={record}\n                            basePath={basePath}\n                        />\n                    </span>\n                }\n                subheader={\n                    <>\n                        <Typography variant=\"body2\">{record.date}</Typography>\n                        <StarRatingField record={record} />\n                        <Typography variant=\"inherit\" className={classes.clamp}>\n                            {record.comment}\n                        </Typography>\n                    </>\n                }\n            />\n        </Card>\n    );\n};\n\nconst EditButton: FC<{ record?: RaRecord; basePath?: string }> = ({\n    record,\n    basePath,\n}) => {\n    const translate = useTranslate();\n    return (\n        <Tooltip title={translate('ra.action.edit')}>\n            <IconButton\n                aria-label={translate('ra.action.edit')}\n                component={Link}\n                to={linkToRecord(basePath, record && record.id)}\n            >\n                <ContentCreate />\n            </IconButton>\n        </Tooltip>\n    );\n};\n\nexport default Aside;\n","import React, { FC } from 'react';\nimport { InputProps, SelectArrayInput, useTranslate } from 'react-admin';\n\nimport segments from '../segments/data';\n\ninterface Props extends Omit<InputProps, 'source'> {\n    source?: string;\n}\n\nconst SegmentsInput: FC<Props> = ({ addField, ...rest }) => {\n    const translate = useTranslate();\n    return (\n        <SelectArrayInput\n            {...rest}\n            choices={segments.map(segment => ({\n                id: segment.id,\n                name: translate(segment.name),\n            }))}\n        />\n    );\n};\n\nSegmentsInput.defaultProps = {\n    addField: true,\n    source: 'groups',\n    resource: 'customers',\n};\n\nexport default SegmentsInput;\n","import React, { FC, ReactElement } from 'react';\nimport {\n    DateInput,\n    EditProps,\n    NullableBooleanInput,\n    TextInput,\n    PasswordInput,\n    Toolbar,\n    useTranslate,\n    FormWithRedirect,\n} from 'react-admin';\nimport { Edit, EditActions } from '@react-admin/ra-enterprise';\nimport { useDefineAppLocation } from '@react-admin/ra-navigation';\nimport { Box, Card, CardContent, Typography } from '@material-ui/core';\n\nimport Aside from './Aside';\nimport FullNameField from './FullNameField';\nimport SegmentsInput from './SegmentsInput';\nimport { validatePasswords } from './VisitorCreate';\nimport { Customer, FieldProps } from '../types';\nimport CustomBreadcrumbForActions from '../layout/BreadcrumbForActions';\n\nconst VisitorEdit: FC<EditProps> = props => {\n    return (\n        <Edit\n            title={<VisitorTitle />}\n            aside={<Aside />}\n            actions={\n                <EditActions breadcrumb={<CustomBreadcrumbForActions />} />\n            }\n            component=\"div\"\n            {...props}\n        >\n            <VisitorForm />\n        </Edit>\n    );\n};\n\nconst VisitorTitle: FC<FieldProps<Customer>> = ({ record }) =>\n    record ? <FullNameField record={record} size=\"32\" /> : null;\n\nconst VisitorForm = (props: any): ReactElement => {\n    const translate = useTranslate();\n    useDefineAppLocation('customers.edit', props);\n\n    return (\n        <FormWithRedirect\n            {...props}\n            validate={validatePasswords}\n            render={(formProps: any): ReactElement => (\n                <Card>\n                    <form>\n                        <CardContent>\n                            <Box display={{ md: 'block', lg: 'flex' }}>\n                                <Box flex={2} mr={{ md: 0, lg: '1em' }}>\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.identity'\n                                        )}\n                                    </Typography>\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"first_name\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={1}\n                                            ml={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"last_name\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                    </Box>\n                                    <TextInput\n                                        type=\"email\"\n                                        source=\"email\"\n                                        resource=\"customers\"\n                                        validation={{ email: true }}\n                                        fullWidth\n                                    />\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <DateInput\n                                                source=\"birthday\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={2}\n                                            ml={{ xs: 0, sm: '0.5em' }}\n                                        />\n                                    </Box>\n\n                                    <Box mt=\"1em\" />\n\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.address'\n                                        )}\n                                    </Typography>\n                                    <TextInput\n                                        source=\"address\"\n                                        resource=\"customers\"\n                                        multiline\n                                        fullWidth\n                                    />\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"zipcode\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={2}\n                                            ml={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"city\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                    </Box>\n\n                                    <Box mt=\"1em\" />\n\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.change_password'\n                                        )}\n                                    </Typography>\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <PasswordInput\n                                                source=\"password\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={1}\n                                            ml={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <PasswordInput\n                                                source=\"confirm_password\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                    </Box>\n                                </Box>\n                                <Box\n                                    flex={1}\n                                    ml={{ xs: 0, lg: '1em' }}\n                                    mt={{ xs: '1em', lg: 0 }}\n                                >\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.stats'\n                                        )}\n                                    </Typography>\n                                    <div>\n                                        <SegmentsInput fullWidth />\n                                    </div>\n                                    <div>\n                                        <NullableBooleanInput\n                                            source=\"has_newsletter\"\n                                            resource=\"customers\"\n                                        />\n                                    </div>\n                                </Box>\n                            </Box>\n                        </CardContent>\n                        <Toolbar\n                            record={formProps.record}\n                            basePath={formProps.basePath}\n                            undoable={true}\n                            invalid={formProps.invalid}\n                            handleSubmit={formProps.handleSubmit}\n                            saving={formProps.saving}\n                            resource=\"customers\"\n                        />\n                    </form>\n                </Card>\n            )}\n        />\n    );\n};\n\nexport default VisitorEdit;\n","import VisitorIcon from '@material-ui/icons/People';\n\nimport VisitorList from './VisitorList';\nimport VisitorCreate from './VisitorCreate';\nimport VisitorEdit from './VisitorEdit';\n\nexport default {\n    list: VisitorList,\n    create: VisitorCreate,\n    edit: VisitorEdit,\n    icon: VisitorIcon,\n};\n","import React, { FC, ReactElement } from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles, darken, fade, lighten } from '@material-ui/core/styles';\nimport {\n    useShowController,\n    ReferenceField,\n    TextField,\n    ShowProps,\n} from 'react-admin';\n\nimport Basket from '../orders/Basket';\nimport { FieldProps, Customer } from '../types';\n\nconst CustomerField = ({ record }: FieldProps<Customer>): ReactElement | null =>\n    record ? (\n        <Typography>\n            {record.first_name} {record.last_name}\n            <br />\n            {record.address}\n            <br />\n            {record.city}, {record.zipcode}\n        </Typography>\n    ) : null;\n\nconst InvoiceShow: FC<ShowProps> = props => {\n    const { record } = useShowController(props);\n    const classes = useStyles();\n\n    if (!record) return null;\n    return (\n        <Card className={classes.root}>\n            <CardContent>\n                <Grid container spacing={2}>\n                    <Grid item xs={6}>\n                        <Typography variant=\"h6\" gutterBottom>\n                            Posters Galore\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={6}>\n                        <Typography variant=\"h6\" gutterBottom align=\"right\">\n                            Invoice {record.id}\n                        </Typography>\n                    </Grid>\n                </Grid>\n                <Grid container spacing={2}>\n                    <Grid item xs={12} container alignContent=\"flex-end\">\n                        <ReferenceField\n                            resource=\"invoices\"\n                            reference=\"customers\"\n                            source=\"customer_id\"\n                            basePath=\"/invoices\"\n                            record={record}\n                            link={false}\n                        >\n                            <CustomerField />\n                        </ReferenceField>\n                    </Grid>\n                </Grid>\n                <div className={classes.spacer}>&nbsp;</div>\n                <Grid container spacing={2}>\n                    <Grid item xs={6}>\n                        <Typography variant=\"h6\" gutterBottom align=\"center\">\n                            Date{' '}\n                        </Typography>\n                        <Typography gutterBottom align=\"center\">\n                            {new Date(record.date).toLocaleDateString()}\n                        </Typography>\n                    </Grid>\n\n                    <Grid item xs={5}>\n                        <Typography variant=\"h6\" gutterBottom align=\"center\">\n                            Order\n                        </Typography>\n                        <ReferenceField\n                            resource=\"invoices\"\n                            reference=\"commands\"\n                            source=\"command_id\"\n                            basePath=\"/invoices\"\n                            record={record}\n                            link={false}\n                        >\n                            <TextField\n                                source=\"reference\"\n                                align=\"center\"\n                                component=\"p\"\n                                gutterBottom\n                            />\n                        </ReferenceField>\n                    </Grid>\n                </Grid>\n                <div className={classes.invoices}>\n                    <ReferenceField\n                        resource=\"invoices\"\n                        reference=\"commands\"\n                        source=\"command_id\"\n                        basePath=\"/invoices\"\n                        record={record}\n                        link={false}\n                    >\n                        <Basket />\n                    </ReferenceField>\n                </div>\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default InvoiceShow;\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        width: 600,\n        margin: 'auto',\n        borderStyle: 'solid',\n        borderWidth: 1,\n        borderColor:\n            theme.palette.type === 'light'\n                ? lighten(fade(theme.palette.divider, 1), 0.88)\n                : darken(fade(theme.palette.divider, 1), 0.68),\n    },\n    spacer: { height: 20 },\n    invoices: { margin: '10px 0' },\n}));\n","import React, { ReactElement } from 'react';\nimport {\n    Datagrid,\n    TextField,\n    DateField,\n    ReferenceField,\n    NumberField,\n    DateInput,\n    Filter,\n    ListProps,\n    FilterProps,\n} from 'react-admin';\nimport { List, ListActions } from '@react-admin/ra-enterprise';\nimport FullNameField from '../visitors/FullNameField';\nimport AddressField from '../visitors/AddressField';\nimport InvoiceShow from './InvoiceShow';\nimport CustomBreadcrumbForActions from '../layout/BreadcrumbForActions';\nimport { useDefineAppLocation } from '@react-admin/ra-navigation';\n\nconst ListFilters = (props: Omit<FilterProps, 'children'>): ReactElement => (\n    <Filter {...props}>\n        <DateInput source=\"date_gte\" alwaysOn />\n        <DateInput source=\"date_lte\" alwaysOn />\n    </Filter>\n);\n\nconst InvoicesDatagrid = (): ReactElement => {\n    useDefineAppLocation('sales.invoices');\n    return (\n        <Datagrid rowClick=\"expand\" expand={<InvoiceShow />}>\n            <TextField source=\"id\" />\n            <DateField source=\"date\" />\n            <ReferenceField source=\"customer_id\" reference=\"customers\">\n                <FullNameField />\n            </ReferenceField>\n            <ReferenceField\n                source=\"customer_id\"\n                reference=\"customers\"\n                link={false}\n                label=\"resources.invoices.fields.address\"\n            >\n                <AddressField />\n            </ReferenceField>\n            <ReferenceField source=\"command_id\" reference=\"commands\">\n                <TextField source=\"reference\" />\n            </ReferenceField>\n            <NumberField source=\"total_ex_taxes\" />\n            <NumberField source=\"delivery_fees\" />\n            <NumberField source=\"taxes\" />\n            <NumberField source=\"total\" />\n        </Datagrid>\n    );\n};\nconst InvoiceList = (props: ListProps): ReactElement => (\n    <List\n        {...props}\n        perPage={25}\n        filters={<ListFilters />}\n        actions={<ListActions breadcrumb={<CustomBreadcrumbForActions />} />}\n    >\n        <InvoicesDatagrid />\n    </List>\n);\n\nexport default InvoiceList;\n","import InvoiceIcon from '@material-ui/icons/LibraryBooks';\n\nimport InvoiceList from './InvoiceList';\n\nexport default {\n    list: InvoiceList,\n    icon: InvoiceIcon,\n};\n","import * as React from 'react';\nimport { FC } from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FieldProps, Product } from '../types';\n\nconst useStyles = makeStyles({\n    root: { display: 'inline-block', marginTop: '1em', zIndex: 2 },\n    content: { padding: 0, '&:last-child': { padding: 0 } },\n    img: {\n        width: 'initial',\n        minWidth: 'initial',\n        maxWidth: '42em',\n        maxHeight: '15em',\n    },\n});\n\nconst Poster: FC<FieldProps<Product>> = ({ record }) => {\n    const classes = useStyles();\n\n    if (!record) return null;\n\n    return (\n        <Card className={classes.root}>\n            <CardContent className={classes.content}>\n                <img src={record.image} alt=\"\" className={classes.img} />\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default Poster;\n","import * as React from 'react';\nimport { ReactElement } from 'react';\nimport {\n    CreateActions as RaCreateActions,\n    CreateActionsProps,\n} from '@react-admin/ra-enterprise';\nimport CustomBreadcrumbForActions from '../layout/BreadcrumbForActions';\n\nexport const CreateActions = (props: CreateActionsProps): ReactElement => (\n    <RaCreateActions breadcrumb={<CustomBreadcrumbForActions />} {...props} />\n);\n","import React, { FC } from 'react';\nimport {\n    CreateProps,\n    FormTab,\n    NumberInput,\n    ReferenceInput,\n    SelectInput,\n    TabbedForm,\n    TextInput,\n    required,\n} from 'react-admin';\nimport { InputAdornment } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Create } from '@react-admin/ra-enterprise';\nimport { MarkdownInput } from '@react-admin/ra-markdown';\nimport { useDefineAppLocation } from '@react-admin/ra-navigation';\nimport { CreateActions } from '../layout/CreateActions';\n\nexport const styles = {\n    price: { width: '7em' },\n    width: { width: '7em' },\n    height: { width: '7em' },\n    stock: { width: '7em' },\n    widthFormGroup: { display: 'inline-block' },\n    heightFormGroup: { display: 'inline-block', marginLeft: 32 },\n};\n\nconst useStyles = makeStyles(styles);\n\nconst ProductCreate: FC<CreateProps> = props => {\n    useDefineAppLocation('catalog.products.create');\n    const classes = useStyles();\n    return (\n        <Create actions={<CreateActions />} {...props}>\n            <TabbedForm>\n                <FormTab label=\"resources.products.tabs.image\">\n                    <TextInput source=\"image\" fullWidth validate={required()} />\n                    <TextInput\n                        source=\"thumbnail\"\n                        fullWidth\n                        validate={required()}\n                    />\n                </FormTab>\n                <FormTab label=\"resources.products.tabs.details\" path=\"details\">\n                    <TextInput source=\"reference\" validate={required()} />\n                    <NumberInput\n                        source=\"price\"\n                        validate={required()}\n                        className={classes.price}\n                        InputProps={{\n                            startAdornment: (\n                                <InputAdornment position=\"start\">\n                                    €\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <NumberInput\n                        source=\"width\"\n                        validate={required()}\n                        className={classes.width}\n                        formClassName={classes.widthFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <NumberInput\n                        source=\"height\"\n                        validate={required()}\n                        className={classes.height}\n                        formClassName={classes.heightFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <ReferenceInput\n                        source=\"category_id\"\n                        reference=\"categories\"\n                        allowEmpty\n                    >\n                        <SelectInput source=\"name\" />\n                    </ReferenceInput>\n                    <NumberInput\n                        source=\"stock\"\n                        validate={required()}\n                        className={classes.stock}\n                    />\n                </FormTab>\n                <FormTab\n                    label=\"resources.products.tabs.description\"\n                    path=\"description\"\n                >\n                    <MarkdownInput source=\"description\" label=\"\" />\n                </FormTab>\n            </TabbedForm>\n        </Create>\n    );\n};\n\nexport default ProductCreate;\n","import React, { FC } from 'react';\nimport { MarkdownField } from '@react-admin/ra-markdown';\nimport { Typography } from '@material-ui/core';\nimport { makeStyles, lighten, darken } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    container: {\n        display: 'flex',\n        flexDirection: 'column',\n        padding: '0 20px',\n        width: 350,\n        '& > p': {\n            fontSize: 12,\n            color: theme.palette.text.primary,\n            textAlign: 'right',\n        },\n        // Temporary until darkmode is correctly implemented in ra-markdown\n        '& .tui-editor-contents p': {\n            color:\n                theme.palette.type === 'light'\n                    ? lighten(theme.palette.text.primary, 0.38)\n                    : darken(theme.palette.text.primary, 0.38),\n        },\n    },\n    info: {\n        padding: theme.spacing(2, 3),\n        '& h1': {\n            fontSize: 18,\n            color: theme.palette.text.primary,\n            fontWeight: 'normal',\n        },\n        '& h2': {\n            fontSize: 14,\n            color:\n                theme.palette.type === 'light'\n                    ? lighten(theme.palette.text.primary, 0.38)\n                    : darken(theme.palette.text.primary, 0.38),\n            fontWeight: 'normal',\n        },\n        '& .MuiFormControl-root': {\n            margin: 0,\n            '& > div': {\n                padding: 0,\n            },\n        },\n    },\n    details: {\n        display: 'flex',\n        flexDirection: 'column',\n    },\n    preview: {\n        padding: theme.spacing(2),\n    },\n    frame: {\n        position: 'relative',\n        width: '100%',\n        paddingBottom: '82.5%',\n        background: theme.palette.common.black,\n        boxShadow: '0 10px 7px -5px rgba(0, 0, 0, 0.3)',\n    },\n    mat: {\n        position: 'absolute',\n        background: theme.palette.background.paper,\n        top: '3.0303%',\n        bottom: '3.0303%',\n        left: '2.5%',\n        right: '2.5%',\n        boxShadow: '0px 0px 20px 0px rgba(0,0,0,0.5) inset',\n    },\n    art: {\n        position: 'absolute',\n        top: '16.129%',\n        bottom: '16.129%',\n        left: '13.158%',\n        right: '13.158%',\n        '& img': {\n            width: '100%',\n        },\n    },\n}));\n\nconst Preview: FC<{ record: any }> = ({ record }) => {\n    const { image, height, width, price, reference } = record;\n    const classes = useStyles();\n\n    return (\n        <div className={classes.container}>\n            <div className={classes.preview}>\n                <div className={classes.frame}>\n                    <div className={classes.mat}>\n                        <div className={classes.art}>\n                            <img src={image} alt=\"\" />\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div className={classes.info}>\n                <Typography variant=\"h1\">{reference}</Typography>\n                <div className={classes.details}>\n                    <Typography variant=\"caption\">\n                        {width} x {height} cm\n                    </Typography>\n                    <Typography variant=\"caption\">{price}€</Typography>\n                </div>\n                <MarkdownField record={record} label=\"\" source=\"description\" />\n            </div>\n        </div>\n    );\n};\n\nexport default Preview;\n","import React, { FC } from 'react';\nimport {\n    Datagrid,\n    DateField,\n    EditButton,\n    SimpleForm,\n    NumberInput,\n    Pagination,\n    ReferenceInput,\n    ReferenceManyField,\n    SelectInput,\n    TextField,\n    TextInput,\n    FormDataConsumer,\n    FormWithRedirect,\n    useNotify,\n    SaveButton,\n    Toolbar,\n    EditProps,\n} from 'react-admin';\nimport { Edit } from '@react-admin/ra-enterprise';\nimport { MarkdownInput } from '@react-admin/ra-markdown';\nimport { useLock, useHasLock } from '@react-admin/ra-realtime';\nimport { useDefineAppLocation } from '@react-admin/ra-navigation';\nimport { AccordionSection } from '@react-admin/ra-form-layout';\nimport {\n    Card,\n    CardContent,\n    InputAdornment,\n    Typography,\n    CircularProgress,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport StarRatingField from '../reviews/StarRatingField';\nimport Poster from './Poster';\nimport { styles as createStyles } from './ProductCreate';\nimport ProductPreview from './ProductPreview';\n\nimport { Product } from '../types';\nimport { EditActions } from '../layout/EditActions';\n\ninterface ProductTitleProps {\n    record?: Product;\n}\n\nconst ProductTitle: FC<ProductTitleProps> = ({ record }) =>\n    record ? <span>Poster #{record.reference}</span> : null;\n\nconst useStyles = makeStyles({\n    ...createStyles,\n    comment: {\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n        maxWidth: 256,\n    },\n    container: {\n        display: 'flex',\n        '& > :first-child': {\n            flex: 1,\n            minWidth: '60%',\n            maxWidth: '70%',\n        },\n        '& > :last-child': {\n            width: '25%',\n            flexShrink: 0,\n        },\n    },\n    root: {\n        padding: '0 !important',\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        '& .tabbed-form': {\n            display: 'flex',\n            flexDirection: 'column',\n            flex: 1,\n        },\n        '& .toolbar': {\n            marginTop: 'auto',\n        },\n    },\n});\n\nconst ProductEditFormWithPreview: FC<{ toolbar: any }> = ({\n    children,\n    ...props\n}) => {\n    const classes = useStyles();\n    useDefineAppLocation('catalog.products.edit', props);\n    return (\n        <FormWithRedirect\n            {...props}\n            render={(formProps): JSX.Element => {\n                return (\n                    <div className={classes.container}>\n                        <Card>\n                            <CardContent className={classes.root}>\n                                <SimpleForm {...formProps}>\n                                    {children}\n                                </SimpleForm>\n                            </CardContent>\n                        </Card>\n                        <div data-testid=\"product-edit-preview\">\n                            <FormDataConsumer>\n                                {({ formData }): JSX.Element => {\n                                    return <ProductPreview record={formData} />;\n                                }}\n                            </FormDataConsumer>\n                        </div>\n                    </div>\n                );\n            }}\n        />\n    );\n};\n\nconst ProductEdit: FC<EditProps> = props => {\n    const { resource, id } = props;\n\n    const classes = useStyles();\n    const notify = useNotify();\n\n    const { loading } = useLock(\n        resource as string,\n        id as string,\n        'todousername',\n        {\n            onFailure: () => {\n                notify('ra-realtime.notification.lock.lockedBySomeoneElse');\n            },\n        }\n    );\n\n    if (loading) {\n        return <CircularProgress />;\n    }\n\n    return (\n        <Edit\n            {...props}\n            className={classes.root}\n            title={<ProductTitle />}\n            actions={<EditActions />}\n            component=\"div\"\n        >\n            <ProductEditFormWithPreview toolbar={<CustomToolbar />}>\n                <Poster />\n                <TextInput source=\"image\" fullWidth />\n                <TextInput source=\"thumbnail\" fullWidth />\n                <AccordionSection\n                    label=\"resources.products.tabs.description\"\n                    data-tour-id=\"description-tab\"\n                    fullWidth\n                >\n                    <MarkdownInput source=\"description\" label=\"\" />\n                </AccordionSection>\n                <AccordionSection\n                    label=\"resources.products.tabs.details\"\n                    fullWidth\n                >\n                    <TextInput source=\"reference\" />\n                    <NumberInput\n                        source=\"price\"\n                        className={classes.price}\n                        InputProps={{\n                            startAdornment: (\n                                <InputAdornment position=\"start\">\n                                    €\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <NumberInput\n                        source=\"width\"\n                        className={classes.width}\n                        formClassName={classes.widthFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <NumberInput\n                        source=\"height\"\n                        className={classes.height}\n                        formClassName={classes.heightFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <ReferenceInput source=\"category_id\" reference=\"categories\">\n                        <SelectInput source=\"name\" />\n                    </ReferenceInput>\n                    <NumberInput source=\"stock\" className={classes.stock} />\n                </AccordionSection>\n                <AccordionSection\n                    label=\"resources.products.tabs.reviews\"\n                    fullWidth\n                >\n                    <ReferenceManyField\n                        label=\"\"\n                        reference=\"reviews\"\n                        target=\"product_id\"\n                        pagination={<ReferenceManyFieldPagination />}\n                        fullWidth\n                    >\n                        <Datagrid>\n                            <DateField source=\"date\" />\n                            <CustomerReferenceField />\n                            <StarRatingField />\n                            <TextField\n                                source=\"comment\"\n                                cellClassName={classes.comment}\n                            />\n                            <TextField source=\"status\" />\n                            <EditButton />\n                        </Datagrid>\n                    </ReferenceManyField>\n                </AccordionSection>\n            </ProductEditFormWithPreview>\n        </Edit>\n    );\n};\n\nconst CustomToolbar: FC<any> = props => {\n    const { resource, record } = props;\n\n    const { data: lock } = useHasLock(resource, record.id);\n    const isMeLocker = lock?.identity === 'todousername';\n\n    return (\n        <Toolbar {...props}>\n            <SaveButton disabled={!isMeLocker} />\n            {!isMeLocker && <LockMessage identity={lock?.identity} />}\n        </Toolbar>\n    );\n};\n\nconst useLockMessageStyles = makeStyles(theme => ({\n    root: {\n        padding: theme.spacing(0, 1),\n    },\n}));\n\nconst LockMessage: FC<any> = props => {\n    const { identity, variant = 'body1' } = props;\n    const classes = useLockMessageStyles(props);\n\n    return (\n        <Typography className={classes.root} variant={variant}>\n            This record is locked by another user: {identity}.\n        </Typography>\n    );\n};\n\nexport default ProductEdit;\n\n// There is an issue with the ReferenceManyField or the Pagination component\n// which do not sanitize some props (addLabel, fullWidth)\n// TODO: Fix react-admin and remove this component\nconst ReferenceManyFieldPagination: FC = ({\n    addLabel,\n    fullWidth,\n    ...props\n}: {\n    addLabel?: boolean;\n    fullWidth?: boolean;\n    [key: string]: any;\n}) => {\n    return <Pagination {...props} />;\n};\n","import ProductIcon from '@material-ui/icons/Collections';\nimport ProductList from './ProductList';\nimport ProductEdit from './ProductEdit';\nimport ProductCreate from './ProductCreate';\n\nexport default {\n    list: ProductList,\n    create: ProductCreate,\n    edit: ProductEdit,\n    icon: ProductIcon,\n};\n","import React, { FC } from 'react';\nimport {\n    DateField,\n    DateInput,\n    TextField,\n    TextInput,\n    ListProps,\n} from 'react-admin';\n\nimport { List, ListActions } from '@react-admin/ra-enterprise';\nimport { EditableDatagrid, RowForm } from '@react-admin/ra-editable-datagrid';\nimport CustomBreadcrumbForActions from '../layout/BreadcrumbForActions';\n\nconst StoreForm: FC = props => (\n    <RowForm {...props}>\n        <TextField source=\"id\" />\n        {/* eslint-disable-next-line */}\n        <TextInput source=\"city\" autoFocus />\n        <TextInput source=\"country\" />\n        <TextInput source=\"address\" />\n        <DateInput source=\"created_at\" />\n    </RowForm>\n);\n\nconst StoreListActions: FC = props => (\n    <ListActions {...props} breadcrumb={<CustomBreadcrumbForActions />} />\n);\n\nexport const StoreList: FC<ListProps> = props => (\n    <List\n        {...props}\n        actions={<StoreListActions />}\n        hasCreate\n        empty={false}\n        perPage={25}\n    >\n        <EditableDatagrid\n            data-testid=\"store-datagrid\"\n            rowClick=\"edit\"\n            createForm={<StoreForm />}\n            editForm={<StoreForm />}\n        >\n            <TextField source=\"id\" />\n            <TextField source=\"city\" />\n            <TextField source=\"country\" />\n            <TextField source=\"address\" />\n            <DateField source=\"created_at\" />\n        </EditableDatagrid>\n    </List>\n);\n","import { StoreList } from './StoreList';\nimport StoreIcon from '@material-ui/icons/Store';\n\nexport default {\n    icon: StoreIcon,\n    list: StoreList,\n};\n","export const segments = [\n    'compulsive',\n    'collector',\n    'ordered_once',\n    'regular',\n    'returns',\n    'reviewer',\n];\n\nfunction capitalizeFirstLetter(string: string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nexport default segments.map(segment => ({\n    id: segment,\n    name: capitalizeFirstLetter(segment),\n}));\n","import React, { FC, ReactNode, useState, useEffect, ReactElement } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useTranslate } from 'react-admin';\nimport { useSubscribeToRecordList } from '@react-admin/ra-realtime';\nimport DashboardIcon from '@material-ui/icons/Dashboard';\nimport CheckCircleOutlineIcon from '@material-ui/icons/CheckCircleOutline';\nimport AVTimerIcon from '@material-ui/icons/AvTimer';\nimport BlockIcon from '@material-ui/icons/Block';\nimport querystring from 'query-string';\n\nimport {\n    MultiLevelMenu,\n    MenuItem,\n    MenuItemCategory,\n    Menu as NavigationMenu,\n    useAppLocationMatcher,\n    useResourceAppLocation,\n} from '@react-admin/ra-navigation';\n\nimport {\n    useMediaQuery,\n    Theme,\n    CardContent,\n    Typography,\n    withStyles,\n    Badge,\n    Box,\n} from '@material-ui/core';\n\nimport categories from '../categories';\nimport visitors from '../visitors';\nimport orders from '../orders';\nimport invoices from '../invoices';\nimport products from '../products';\nimport reviews from '../reviews';\nimport stores from '../stores';\nimport { AppState } from '../types';\nimport { segments } from '../visitors/segments';\nimport { useSavedQueries } from '@react-admin/ra-preferences';\n\ninterface Props {\n    logout?: ReactNode;\n    onMenuClick?: () => void;\n}\n\nconst newCustomerFilter = { last_seen_gte: '2020-07-31T22:00:00.000Z' };\nconst visitorsFilter = { nb_commands_lte: 0 };\n\nconst useResourceChangeCounter = (resource: string): number => {\n    const match = useAppLocationMatcher();\n    const location = useResourceAppLocation();\n    const [countEvent, setCountEvent] = useState(0);\n\n    useSubscribeToRecordList(resource, ({ payload }) => {\n        if (!payload || !payload.ids) {\n            return;\n        }\n\n        let count = payload.ids.length;\n\n        if (location && match(resource)) {\n            const { record } = location && (location.values || {});\n            if (!record || record.id == null) {\n                return;\n            }\n\n            count = payload.ids.filter(id => id !== record.id).length;\n        }\n\n        if (count) {\n            setCountEvent(previous => previous + count);\n        }\n    });\n\n    useEffect(() => {\n        if (match(resource)) {\n            setCountEvent(0);\n        }\n    }, [match, resource]);\n\n    return countEvent;\n};\n\nconst StyledBadgeForText = withStyles(theme => ({\n    badge: {\n        top: 13,\n        right: 13,\n        border: `1px solid ${theme.palette.background.paper}`,\n        padding: '0 4px',\n    },\n}))(Badge);\n\nconst Menu: FC<Props> = ({ onMenuClick, logout }) => {\n    const translate = useTranslate();\n    const commandsChangeCount = useResourceChangeCounter('commands');\n\n    const isXSmall = useMediaQuery((theme: Theme) =>\n        theme.breakpoints.down('xs')\n    );\n\n    useSelector((state: AppState) => state.theme); // force rerender on theme change\n\n    return (\n        <MultiLevelMenu variant=\"categories\">\n            <MenuItemCategory\n                name=\"dashboard\"\n                to=\"/\"\n                exact\n                icon={<DashboardIcon />}\n                onClick={onMenuClick}\n                label=\"ra.page.dashboard\"\n            />\n            <MenuItemCategory\n                name=\"sales\"\n                icon={<products.icon />}\n                onClick={onMenuClick}\n                label={translate(`pos.menu.sales`, { smart_count: 1 })}\n            >\n                <CardContent>\n                    <Typography variant=\"h6\" gutterBottom>\n                        {translate(`pos.menu.sales`, { smart_count: 1 })}\n                    </Typography>\n                    <NavigationMenu>\n                        <StyledBadgeForText\n                            badgeContent={commandsChangeCount}\n                            color=\"primary\"\n                        >\n                            <MenuItem\n                                name=\"commands\"\n                                to=\"/commands\"\n                                icon={<orders.icon />}\n                                onClick={onMenuClick}\n                                label={translate(`resources.commands.name`, {\n                                    smart_count: 2,\n                                })}\n                                data-testid=\"commands-menu\"\n                            />\n                        </StyledBadgeForText>\n                        <MenuItem\n                            name=\"invoices\"\n                            to=\"/invoices?filter={}\"\n                            icon={<invoices.icon />}\n                            onClick={onMenuClick}\n                            label={translate(`resources.invoices.name`, {\n                                smart_count: 2,\n                            })}\n                        />\n                    </NavigationMenu>\n                </CardContent>\n            </MenuItemCategory>\n            <MenuItemCategory\n                name=\"catalog\"\n                icon={<products.icon />}\n                onClick={onMenuClick}\n                label={translate(`pos.menu.catalog`, { smart_count: 1 })}\n            >\n                <CardContent>\n                    <CatalogMenu onMenuClick={onMenuClick} />\n                </CardContent>\n            </MenuItemCategory>\n            <MenuItemCategory\n                name=\"customers\"\n                icon={<visitors.icon />}\n                onClick={onMenuClick}\n                label={translate(`pos.menu.customers`, { smart_count: 2 })}\n            >\n                <CustomersMenu onMenuClick={onMenuClick} />\n            </MenuItemCategory>\n            <MenuItemCategory\n                name=\"reviews\"\n                icon={<reviews.icon />}\n                onClick={onMenuClick}\n                label={translate(`resources.reviews.name`, { smart_count: 2 })}\n            >\n                <CardContent>\n                    <Typography variant=\"h6\" gutterBottom>\n                        {translate(`resources.reviews.name`, {\n                            smart_count: 2,\n                        })}\n                    </Typography>{' '}\n                    <NavigationMenu>\n                        <MenuItem\n                            name=\"reviews.all\"\n                            to={'/reviews?filter={}'}\n                            icon={<CheckCircleOutlineIcon />}\n                            onClick={onMenuClick}\n                            label=\"pos.menu.all_reviews\"\n                        />\n                        <MenuItem\n                            name=\"reviews.pending\"\n                            to={'/reviews?filter={\"status\": \"pending\"}'}\n                            icon={<AVTimerIcon />}\n                            onClick={onMenuClick}\n                            label=\"pos.menu.pending_reviews\"\n                        />\n                        <MenuItem\n                            name=\"reviews.bad\"\n                            to={'/reviews?filter={\"rating_lte\": \"2\"}'}\n                            icon={<BlockIcon />}\n                            onClick={onMenuClick}\n                            label=\"pos.menu.bad_reviews\"\n                        />\n                    </NavigationMenu>\n                </CardContent>\n            </MenuItemCategory>\n            <MenuItemCategory\n                name=\"stores\"\n                to=\"/stores\"\n                icon={<stores.icon />}\n                onClick={onMenuClick}\n                label={translate(`resources.stores.name`, { smart_count: 2 })}\n            />\n            {isXSmall && logout}\n        </MultiLevelMenu>\n    );\n};\n\nexport default Menu;\n\nconst CustomersMenu: FC<{ onMenuClick: (() => void) | undefined }> = ({\n    onMenuClick,\n}) => {\n    const translate = useTranslate();\n    const savedQueriesMenuItems = usePersistedQueriesMenu('customers');\n\n    return (\n        <CardContent>\n            <Box display=\"flex\" justifyContent=\"space-between\">\n                <Box marginRight={2}>\n                    <Typography variant=\"h6\" gutterBottom>\n                        {translate(`resources.customers.name`, {\n                            smart_count: 2,\n                        })}\n                    </Typography>\n                    <NavigationMenu>\n                        <MenuItem\n                            name=\"customers.all_customers\"\n                            to={`/customers?filter={}`}\n                            onClick={onMenuClick}\n                            label={translate(`pos.menu.all_customers`, {\n                                smart_count: 2,\n                            })}\n                        />\n                        <MenuItem\n                            name=\"customers.newcomers\"\n                            to={`/customers?filter=${JSON.stringify(\n                                newCustomerFilter\n                            )}`}\n                            onClick={onMenuClick}\n                            label={translate(`pos.menu.new_customers`, {\n                                smart_count: 2,\n                            })}\n                        />\n                        <MenuItem\n                            name=\"customers.visitors\"\n                            to={`/customers?filter=${JSON.stringify(\n                                visitorsFilter\n                            )}`}\n                            onClick={onMenuClick}\n                            label={translate(`pos.menu.visitors`, {\n                                smart_count: 2,\n                            })}\n                        />\n                    </NavigationMenu>\n                    <Typography variant=\"h6\" gutterBottom>\n                        {translate(`resources.segments.name`, {\n                            smart_count: 2,\n                        })}\n                    </Typography>\n                    <NavigationMenu>\n                        {segments.map(segment => (\n                            <MenuItem\n                                key={segment}\n                                name={`segments.${segment}`}\n                                to={`/customers?filter={\"groups\": \"${segment}\"}`}\n                                onClick={onMenuClick}\n                                label={translate(\n                                    `resources.segments.data.${segment}`,\n                                    {\n                                        smart_count: 2,\n                                    }\n                                )}\n                            />\n                        ))}\n                    </NavigationMenu>\n                </Box>\n                {savedQueriesMenuItems.length > 0 && (\n                    <Box>\n                        <Typography variant=\"h6\" gutterBottom>\n                            {translate(`pos.menu.my_queries`, {\n                                smart_count: 1,\n                            })}\n                        </Typography>\n                        <NavigationMenu>\n                            {savedQueriesMenuItems.map(({ label, to }) => (\n                                <MenuItem\n                                    key={label}\n                                    name=\"customers\"\n                                    to={to}\n                                    onClick={onMenuClick}\n                                    label={label}\n                                />\n                            ))}\n                        </NavigationMenu>\n                    </Box>\n                )}\n            </Box>\n        </CardContent>\n    );\n};\n\nconst CatalogMenu = (props: {\n    onMenuClick: (() => void) | undefined;\n}): ReactElement => {\n    const { onMenuClick } = props;\n    const translate = useTranslate();\n    const savedQueriesMenuItems = usePersistedQueriesMenu('products');\n\n    return (\n        <Box display=\"flex\" justifyContent=\"space-between\">\n            <Box marginRight={savedQueriesMenuItems.length > 0 ? 2 : 0}>\n                <Typography variant=\"h6\" gutterBottom>\n                    {translate(`pos.menu.catalog`, {\n                        smart_count: 1,\n                    })}\n                </Typography>\n                <NavigationMenu>\n                    <MenuItem\n                        name=\"products\"\n                        to=\"/products\"\n                        icon={<products.icon />}\n                        onClick={onMenuClick}\n                        label={translate(`resources.products.name`, {\n                            smart_count: 2,\n                        })}\n                    />\n                    <MenuItem\n                        name=\"categories\"\n                        to=\"/categories/5\"\n                        icon={<categories.icon />}\n                        onClick={onMenuClick}\n                        label={translate(`resources.categories.name`, {\n                            smart_count: 2,\n                        })}\n                    />\n                </NavigationMenu>\n            </Box>\n            {savedQueriesMenuItems.length > 0 && (\n                <Box>\n                    <Typography variant=\"h6\" gutterBottom>\n                        {translate(`pos.menu.my_queries`, {\n                            smart_count: 1,\n                        })}\n                    </Typography>\n                    <NavigationMenu>\n                        {savedQueriesMenuItems.map(({ label, to }) => (\n                            <MenuItem\n                                key={label}\n                                name=\"products\"\n                                to={to}\n                                onClick={onMenuClick}\n                                label={label}\n                            />\n                        ))}\n                    </NavigationMenu>\n                </Box>\n            )}\n        </Box>\n    );\n};\n\nconst usePersistedQueriesMenu = (\n    resource: string\n): { label: string; to: string }[] => {\n    const [savedQueries] = useSavedQueries(resource);\n    const savedQueriesMenuItems = savedQueries.map(({ label, value }) => ({\n        label,\n        to: `/${resource}?${querystring.stringify({\n            filter: JSON.stringify(value.filter),\n            sort: value?.sort?.field,\n            order: value?.sort?.order,\n            page: 1,\n            perPage: value.perPage,\n            displayedFilters: value.displayedFilters,\n        })}`,\n    }));\n\n    return savedQueriesMenuItems;\n};\n","import * as React from 'react';\nimport { ReactElement } from 'react';\nimport { Layout } from '@react-admin/ra-enterprise';\n\nimport AppBar from './AppBar';\nimport Menu from './Menu';\nimport tours from '../tours/tours';\n\nconst CustomLayout = (props): ReactElement => {\n    return <Layout {...props} appBar={AppBar} menu={Menu} tours={tours} />;\n};\n\nexport default CustomLayout;\n","import React, { ReactElement, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Field, withTypes } from 'react-final-form';\nimport { useLocation } from 'react-router-dom';\n\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport TextField from '@material-ui/core/TextField';\nimport { createMuiTheme, makeStyles } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport LockIcon from '@material-ui/icons/Lock';\n\nimport { Notification, useTranslate, useLogin, useNotify } from 'react-admin';\nimport { lightTheme } from './themes';\n\nconst useStyles = makeStyles(theme => ({\n    main: {\n        display: 'flex',\n        flexDirection: 'column',\n        minHeight: '100vh',\n        alignItems: 'center',\n        justifyContent: 'flex-start',\n        background: 'url(https://source.unsplash.com/random/1600x900)',\n        backgroundRepeat: 'no-repeat',\n        backgroundSize: 'cover',\n    },\n    card: {\n        minWidth: 300,\n        marginTop: '6em',\n    },\n    avatar: {\n        margin: '1em',\n        display: 'flex',\n        justifyContent: 'center',\n    },\n    icon: {\n        backgroundColor: theme.palette.secondary.main,\n    },\n    hint: {\n        marginTop: '1em',\n        display: 'flex',\n        justifyContent: 'center',\n        color: theme.palette.grey[500],\n    },\n    form: {\n        padding: '0 1em 1em 1em',\n    },\n    input: {\n        marginTop: '1em',\n    },\n    actions: {\n        padding: '0 1em 1em 1em',\n    },\n}));\n\nconst renderInput = ({\n    meta: { touched, error } = { touched: false, error: undefined },\n    input: { ...inputProps },\n    ...props\n}: any): ReactElement => (\n    <TextField\n        error={!!(touched && error)}\n        helperText={touched && error}\n        {...inputProps}\n        {...props}\n        fullWidth\n    />\n);\n\ninterface FormValues {\n    username?: string;\n    password?: string;\n}\n\nconst { Form } = withTypes<FormValues>();\n\nconst Login = (): ReactElement => {\n    const [loading, setLoading] = useState(false);\n    const translate = useTranslate();\n    const classes = useStyles();\n    const notify = useNotify();\n    const login = useLogin();\n    const location = useLocation<{ nextPathname: string } | null>();\n\n    const handleSubmit = (auth: FormValues): void => {\n        setLoading(true);\n        login(auth, location.state ? location.state.nextPathname : '/').catch(\n            (error: Error) => {\n                setLoading(false);\n                notify(\n                    typeof error === 'string'\n                        ? error\n                        : typeof error === 'undefined' || !error.message\n                        ? 'ra.auth.sign_in_error'\n                        : error.message,\n                    'warning'\n                );\n            }\n        );\n    };\n\n    const validate = (values: FormValues): any => {\n        const errors: FormValues = {};\n        if (!values.username) {\n            errors.username = translate('ra.validation.required');\n        }\n        if (!values.password) {\n            errors.password = translate('ra.validation.required');\n        }\n        return errors;\n    };\n\n    return (\n        <Form\n            onSubmit={handleSubmit}\n            validate={validate}\n            render={({ handleSubmit }): ReactElement => (\n                <form onSubmit={handleSubmit} noValidate>\n                    <div className={classes.main}>\n                        <Card className={classes.card}>\n                            <div className={classes.avatar}>\n                                <Avatar className={classes.icon}>\n                                    <LockIcon />\n                                </Avatar>\n                            </div>\n                            <div className={classes.hint}>\n                                Hint: demo / demo\n                            </div>\n                            <div className={classes.form}>\n                                <div className={classes.input}>\n                                    <Field\n                                        name=\"username\"\n                                        component={renderInput}\n                                        label={translate('ra.auth.username')}\n                                        disabled={loading}\n                                    />\n                                </div>\n                                <div className={classes.input}>\n                                    <Field\n                                        name=\"password\"\n                                        component={renderInput}\n                                        label={translate('ra.auth.password')}\n                                        type=\"password\"\n                                        disabled={loading}\n                                    />\n                                </div>\n                            </div>\n                            <CardActions className={classes.actions}>\n                                <Button\n                                    variant=\"contained\"\n                                    type=\"submit\"\n                                    color=\"primary\"\n                                    disabled={loading}\n                                    fullWidth\n                                >\n                                    {loading && (\n                                        <CircularProgress\n                                            size={25}\n                                            thickness={2}\n                                        />\n                                    )}\n                                    {translate('ra.auth.sign_in')}\n                                </Button>\n                            </CardActions>\n                        </Card>\n                        <Notification />\n                    </div>\n                </form>\n            )}\n        />\n    );\n};\n\nLogin.propTypes = {\n    authProvider: PropTypes.func,\n    previousRoute: PropTypes.string,\n};\n\n// We need to put the ThemeProvider decoration in another component\n// Because otherwise the useStyles() hook used in Login won't get\n// the right theme\nconst LoginWithTheme = (props: any): ReactElement => (\n    <ThemeProvider theme={createMuiTheme(lightTheme)}>\n        <Login {...props} />\n    </ThemeProvider>\n);\n\nexport default LoginWithTheme;\n","import React, { FC, forwardRef } from 'react';\nimport { Link } from '@material-ui/core';\nimport { Link as RouterLink } from 'react-router-dom';\n\n// This component could be added to ra-search\nexport const SearchListItemLink: FC<any> = forwardRef((props, ref) => {\n    const { data, onClick, ...rest } = props;\n\n    return (\n        <Link\n            component={RouterLink}\n            to={data.url}\n            onClick={onClick}\n            ref={ref}\n            {...rest}\n        />\n    );\n});\n\nSearchListItemLink.displayName = 'SearchListItemLink';\n","import React, { FC } from 'react';\nimport classnames from 'classnames';\nimport { useTranslate } from 'react-admin';\nimport {\n    Avatar,\n    Grid,\n    ListItem,\n    ListItemAvatar,\n    Typography,\n} from '@material-ui/core';\nimport { makeStyles, lighten } from '@material-ui/core/styles';\nimport { blue } from '@material-ui/core/colors';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\n\nimport { SearchListItemLink } from './SearchListItemLink';\n\nexport const CommandListItem: FC<any> = props => {\n    const { data, onClick } = props;\n    const { content } = data;\n\n    const classes = useCommandListItemStyles();\n    const translate = useTranslate();\n\n    if (!content) {\n        return null;\n    }\n\n    return (\n        <ListItem\n            button\n            component={SearchListItemLink}\n            data={data}\n            onClick={onClick}\n            alignItems=\"flex-start\"\n        >\n            <ListItemAvatar className={classes.avatar}>\n                <Avatar alt={content.reference}>\n                    <ShoppingCartIcon fontSize=\"large\" />\n                </Avatar>\n            </ListItemAvatar>\n            <Grid className={classes.root} container spacing={2}>\n                <Grid container item xs>\n                    <Grid item xs={8}>\n                        <Typography\n                            variant=\"body1\"\n                            color=\"textPrimary\"\n                            gutterBottom\n                        >\n                            Ref. {content.reference}\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={4}>\n                        <CommandStatus status={content.status} />\n                    </Grid>\n                    <Grid item xs={12}>\n                        <Typography\n                            variant=\"body2\"\n                            color=\"textPrimary\"\n                            gutterBottom\n                        >\n                            {new Date(content.date).toLocaleDateString()}\n                            &nbsp;-&nbsp;\n                            {`${content.customer.first_name} ${content.customer.last_name}`}\n                            &nbsp;-&nbsp;\n                            {`${translate(\n                                'resources.commands.fields.basket.total'\n                            )} ${content.total}`}\n                            €\n                        </Typography>\n                    </Grid>\n                </Grid>\n            </Grid>\n        </ListItem>\n    );\n};\n\nconst useCommandListItemStyles = makeStyles(theme => ({\n    avatar: {\n        marginLeft: theme.spacing(1),\n        marginRight: theme.spacing(1),\n        '& svg': {\n            width: 30,\n            height: 30,\n        },\n    },\n    root: {\n        padding: theme.spacing(1, 0),\n    },\n    total: {\n        fontWeight: theme.typography.fontWeightBold,\n    },\n}));\n\nconst CommandStatus: FC<{ status: string }> = ({ status }) => {\n    const classes = useCommandStatusStyles();\n\n    return (\n        <div\n            className={classnames(classes.root, {\n                [classes.ordered]: status === 'ordered',\n                [classes.delivered]: status === 'delivered',\n                [classes.cancelled]: status === 'cancelled',\n            })}\n        >\n            <Typography className={classes.status} variant=\"caption\">\n                {status}\n            </Typography>\n        </div>\n    );\n};\n\nconst useCommandStatusStyles = makeStyles(theme => ({\n    root: {\n        maxWidth: 64,\n        padding: theme.spacing(0.25, 1),\n        borderRadius: theme.shape.borderRadius,\n        textAlign: 'center',\n    },\n    ordered: {\n        backgroundColor: lighten(blue[300], 0.3),\n        color: theme.palette.getContrastText(lighten(blue[300], 0.3)),\n    },\n    delivered: {\n        backgroundColor: lighten(theme.palette.success.main, 0.3),\n        color: theme.palette.getContrastText(\n            lighten(theme.palette.success.main, 0.3)\n        ),\n    },\n    cancelled: {\n        backgroundColor: lighten(theme.palette.error.main, 0.3),\n        color: theme.palette.getContrastText(\n            lighten(theme.palette.error.main, 0.3)\n        ),\n    },\n    status: {\n        color: 'inherit',\n        textTransform: 'capitalize',\n    },\n}));\n","import * as React from 'react';\nimport { ReactElement, ReactNode } from 'react';\nimport { Box, BoxProps, Link, Typography } from '@material-ui/core';\nimport { makeStyles, Theme } from '@material-ui/core/styles';\nimport { Link as RouterLink } from 'react-router-dom';\n\nconst useStyles = makeStyles(\n    (theme: Theme) => ({\n        root: {\n            borderRadius: '3px',\n            padding: 5,\n            width: 100,\n            '&:hover': {\n                backgroundColor: theme.palette.background.default,\n            },\n        },\n        link: {\n            color: 'inherit',\n            '&:hover': {\n                textDecoration: 'none',\n            },\n        },\n    }),\n    {\n        name: 'RaLinkedData',\n    }\n);\n\nexport const LinkedData = ({\n    children,\n    label,\n    icon,\n    to,\n    ...rest\n}: {\n    children: ReactNode;\n    label: ReactNode;\n    icon: ReactNode;\n    to: any;\n} & BoxProps): ReactElement => {\n    const classes = useStyles();\n    return (\n        <Link component={RouterLink} to={to} className={classes.link}>\n            <Box\n                component=\"li\"\n                display=\"flex\"\n                alignItems=\"center\"\n                justifyContent=\"center\"\n                flexDirection=\"column\"\n                className={classes.root}\n                {...rest}\n            >\n                <Box display=\"flex\" alignItems=\"center\">\n                    <Box marginRight={1}>{icon}</Box>\n                    <Typography component=\"span\">{children}</Typography>\n                </Box>\n                <Typography variant=\"caption\">{label}</Typography>\n            </Box>\n        </Link>\n    );\n};\n","import React, { FC } from 'react';\nimport {\n    Avatar,\n    Box,\n    ListItem,\n    ListItemAvatar,\n    ListItemText,\n    makeStyles,\n    Typography,\n} from '@material-ui/core';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\nimport CommentIcon from '@material-ui/icons/Comment';\nimport DollarIcon from '@material-ui/icons/AttachMoney';\n\nimport { SearchListItemLink } from './SearchListItemLink';\nimport { useTranslate } from 'react-admin';\nimport { LinkedData } from './LinkedData';\n\nconst secondaryTypographyProps = {\n    component: 'div',\n};\n\nexport const CustomerListItem: FC<any> = props => {\n    const { data, onClick } = props;\n    const { content } = data;\n\n    const classes = useStyles();\n    const translate = useTranslate();\n\n    if (!content) {\n        return null;\n    }\n\n    const fullname = `${content.first_name} ${content.last_name}`;\n\n    return (\n        <ListItem\n            button\n            component={SearchListItemLink}\n            data={data}\n            onClick={onClick}\n            alignItems=\"flex-start\"\n            className={classes.root}\n            data-testid=\"customer\"\n        >\n            <ListItemAvatar className={classes.avatar}>\n                <Avatar alt={fullname} src={content.avatar} />\n            </ListItemAvatar>\n            <ListItemText\n                primary={\n                    <Typography color=\"textPrimary\">{fullname}</Typography>\n                }\n                secondary={\n                    <Box\n                        component=\"ul\"\n                        display=\"flex\"\n                        justifyContent=\"flex-start\"\n                        padding={0}\n                        marginTop={1}\n                        marginBottom={1}\n                    >\n                        {content.pending_orders > 0 ? (\n                            <LinkedData\n                                icon={<ShoppingCartIcon />}\n                                label={translate('resources.commands.name', {\n                                    smart_count: 2,\n                                })}\n                                to={`/commands?filter=%7B\"status\"%3A\"ordered\"%2C\"customer_id\"%3A${content.id}%7D`}\n                            >\n                                {content.pending_orders}\n                            </LinkedData>\n                        ) : null}\n\n                        {content.total_spent > 0 ? (\n                            <LinkedData\n                                icon={<DollarIcon />}\n                                label={translate(\n                                    'resources.customers.fields.total_spent'\n                                )}\n                                to={`/commands?filter=%7B\"status\"%3A\"delivered\"%2C\"customer_id\"%3A${content.id}%7D`}\n                            >\n                                {content.total_spent.toLocaleString()}\n                            </LinkedData>\n                        ) : null}\n                        {content.reviews > 0 ? (\n                            <LinkedData\n                                icon={<CommentIcon />}\n                                label={translate('resources.reviews.name', {\n                                    smart_count: 2,\n                                })}\n                                to={`/reviews?filter=%7B\"customer_id\"%3A${content.id}%7D`}\n                            >\n                                {content.reviews}\n                            </LinkedData>\n                        ) : null}\n                    </Box>\n                }\n                // @ts-ignore Could not make TS happy\n                secondaryTypographyProps={secondaryTypographyProps}\n            />\n        </ListItem>\n    );\n};\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        textDecoration: 'none',\n        '&:hover': {\n            textDecoration: 'none',\n        },\n        '& a': {\n            textDecoration: 'none',\n        },\n        '& a:hover': {\n            textDecoration: 'none',\n        },\n    },\n    avatar: {\n        marginLeft: theme.spacing(1),\n        marginRight: theme.spacing(1),\n        '& img': {\n            width: 50,\n            height: 50,\n        },\n    },\n}));\n","import React, { FC } from 'react';\nimport {\n    Box,\n    ListItem,\n    ListItemAvatar,\n    ListItemText,\n    Typography,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CommentIcon from '@material-ui/icons/Comment';\n\nimport { SearchListItemLink } from './index';\nimport { useTranslate } from 'react-admin';\nimport { LinkedData } from './LinkedData';\n\nconst secondaryTypographyProps = {\n    component: 'div',\n};\n\nexport const ProductListItem: FC<any> = props => {\n    const { data, onClick } = props;\n    const { content } = data;\n\n    const classes = useProductListItemStyles();\n    const translate = useTranslate();\n\n    if (!content) {\n        return null;\n    }\n\n    return (\n        <ListItem\n            button\n            component={SearchListItemLink}\n            data={data}\n            onClick={onClick}\n            alignItems=\"flex-start\"\n            className={classes.root}\n        >\n            <ListItemAvatar className={classes.avatar}>\n                <div className={classes.art}>\n                    <img src={content.thumbnail} alt={content.reference} />\n                </div>\n            </ListItemAvatar>\n            <ListItemText\n                primary={\n                    <Typography color=\"textPrimary\">\n                        {content.reference}\n                    </Typography>\n                }\n                secondary={\n                    content.reviews > 0 ? (\n                        <Box\n                            component=\"ul\"\n                            display=\"flex\"\n                            justifyContent=\"space-between\"\n                            padding={0}\n                            marginTop={1}\n                            marginBottom={1}\n                        >\n                            <LinkedData\n                                icon={<CommentIcon />}\n                                label={translate('resources.reviews.name', {\n                                    smart_count: 2,\n                                })}\n                                to={`/reviews?filter=%7B\"product_id\"%3A${content.id}%7D`}\n                            >\n                                {content.reviews}\n                            </LinkedData>\n                        </Box>\n                    ) : undefined\n                }\n                // @ts-ignore Could not make TS happy\n                secondaryTypographyProps={secondaryTypographyProps}\n            />\n        </ListItem>\n    );\n};\n\nconst useProductListItemStyles = makeStyles(theme => ({\n    root: {\n        textDecoration: 'none',\n        '&:hover': {\n            textDecoration: 'none',\n        },\n        '& a': {\n            textDecoration: 'none',\n        },\n        '& a:hover': {\n            textDecoration: 'none',\n        },\n    },\n    avatar: {\n        width: 64,\n        height: 64,\n        paddingRight: theme.spacing(2),\n    },\n    mat: {\n        background: theme.palette.background.paper,\n        boxShadow: '0px 0px 8px 0px rgba(0,0,0,0.5) inset',\n    },\n    art: {\n        '& img': {\n            width: '100%',\n        },\n    },\n}));\n","import React, { FC } from 'react';\nimport {\n    Avatar,\n    ListItem,\n    ListItemAvatar,\n    ListItemText,\n    makeStyles,\n    Tooltip,\n    Typography,\n} from '@material-ui/core';\nimport { Rating } from '@material-ui/lab';\nimport CommentIcon from '@material-ui/icons/Comment';\n\nimport { SearchListItemLink } from './index';\n\nconst secondaryTypographyProps = {\n    component: 'div',\n};\n\nexport const ReviewListItem: FC<any> = props => {\n    const { data, onClick } = props;\n    const classes = useStyles();\n    const { content } = data;\n\n    if (!content) {\n        return null;\n    }\n\n    return (\n        <ListItem\n            button\n            component={SearchListItemLink}\n            data={data}\n            onClick={onClick}\n            alignItems=\"flex-start\"\n        >\n            <ListItemAvatar className={classes.avatar}>\n                <Avatar alt={content.reference}>\n                    <CommentIcon fontSize=\"large\" />\n                </Avatar>\n            </ListItemAvatar>\n            <ListItemText\n                primary={<Rating value={content.rating} readOnly />}\n                secondary={<ReviewComment comment={content.comment} />}\n                // @ts-ignore Could not make TS happy\n                secondaryTypographyProps={secondaryTypographyProps}\n            />\n        </ListItem>\n    );\n};\n\nconst ReviewComment: FC<{ comment: string }> = ({ comment }) => {\n    return (\n        <div>\n            {comment.length <= 200 ? (\n                <Typography variant=\"caption\" color=\"textPrimary\">\n                    {comment}\n                </Typography>\n            ) : (\n                <Tooltip title={comment}>\n                    <Typography variant=\"caption\" color=\"textPrimary\">\n                        {truncateString(comment, 200)}\n                    </Typography>\n                </Tooltip>\n            )}\n        </div>\n    );\n};\n\nexport function truncateString(text: string, max: number): string {\n    // If the length of text is less than or equal to num\n    // just return text--don't truncate it.\n    if (text.length <= max) {\n        return text;\n    }\n    // Return text truncated with '...' concatenated to the end of text.\n    return text.slice(0, max) + '...';\n}\n\nconst useStyles = makeStyles(theme => ({\n    avatar: {\n        width: 64,\n        height: 64,\n        paddingRight: theme.spacing(2),\n\n        '& > *': {\n            width: '100%',\n            height: '100%',\n        },\n    },\n}));\n","import React, { FC, Fragment } from 'react';\nimport { useTranslate } from 'react-admin';\nimport {\n    List,\n    ListSubheader,\n    ListItem,\n    ListItemText,\n    Typography,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    Search,\n    SearchProps,\n    SearchPanelProps,\n    useSearchResults,\n    groupSearchResultsByResource,\n} from '@react-admin/ra-search';\n\nimport {\n    CommandListItem,\n    CustomerListItem,\n    ProductListItem,\n    ReviewListItem,\n} from './search';\n\nconst CustomSearch: FC<SearchProps> = props => {\n    return (\n        <div data-testid=\"search\">\n            <Search {...props}>\n                <CustomSearchPanel></CustomSearchPanel>\n            </Search>\n        </div>\n    );\n};\n\nexport default CustomSearch;\n\nconst CustomSearchPanel: FC<SearchPanelProps> = props => {\n    const translate = useTranslate();\n    const classes = useCustomSearchPanelStyles(props);\n\n    const { data, onClose } = useSearchResults();\n\n    if (!data || data.length === 0) {\n        return (\n            <List data-testid=\"search-panel\" dense {...props}>\n                <ListItem>\n                    <ListItemText\n                        primary={translate('ra.navigation.no_results')}\n                    />\n                </ListItem>\n            </List>\n        );\n    }\n    const groupedData = groupSearchResultsByResource(data, translate);\n\n    return (\n        <List\n            data-testid=\"search-panel\"\n            dense\n            className={classes.root}\n            {...props}\n        >\n            {groupedData.map(group => (\n                <Fragment key={group.label}>\n                    <ListSubheader\n                        role=\"presentation\"\n                        className={classes.header}\n                        disableSticky\n                    >\n                        <>\n                            <Typography\n                                className={classes.headerGroup}\n                                variant=\"subtitle1\"\n                            >\n                                {translate(group.label.toString(), {\n                                    _: group.label,\n                                })}\n                            </Typography>\n                            <Typography\n                                className={classes.headerCount}\n                                variant=\"subtitle1\"\n                            >\n                                {translate('ra-search.result', {\n                                    smart_count: group.data.length,\n                                })}\n                            </Typography>\n                        </>\n                    </ListSubheader>\n                    {group.data.map(searchResultItem => (\n                        <CustomSearchResultItem\n                            key={searchResultItem.id}\n                            data={searchResultItem}\n                            onClose={onClose}\n                        />\n                    ))}\n                </Fragment>\n            ))}\n        </List>\n    );\n};\n\nconst useCustomSearchPanelStyles = makeStyles(theme => ({\n    root: {\n        maxHeight: 'calc(100vh - 100px)',\n        maxWidth: 512,\n        overflowX: 'hidden',\n    },\n    header: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        padding: theme.spacing(1, 2),\n    },\n    headerGroup: {\n        textTransform: 'capitalize',\n    },\n    headerCount: {\n        textTransform: 'lowercase',\n    },\n}));\n\nconst CustomSearchResultItem: FC<any> = props => {\n    const { data, onClose, ...rest } = props;\n\n    if (!data) {\n        return null;\n    }\n\n    switch (data.type) {\n        case 'customers':\n            return <CustomerListItem {...rest} data={data} onClick={onClose} />;\n        case 'products':\n            return <ProductListItem {...rest} data={data} onClick={onClose} />;\n        case 'commands':\n            return <CommandListItem {...rest} data={data} onClick={onClose} />;\n        case 'reviews':\n            return <ReviewListItem {...rest} data={data} onClick={onClose} />;\n        default:\n            return null;\n    }\n};\n","export default __webpack_public_path__ + \"static/media/welcome_illustration.cd84d2be.svg\";","import * as React from 'react';\nimport { FC } from 'react';\nimport { Box, Card, CardActions, Button, Typography } from '@material-ui/core';\nimport HomeIcon from '@material-ui/icons/Home';\nimport TourIcon from '@material-ui/icons/Flag';\nimport GitHubIcon from '@material-ui/icons/GitHub';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate } from 'react-admin';\n\nimport publishArticleImage from './welcome_illustration.svg';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        background:\n            theme.palette.type === 'dark'\n                ? '#535353'\n                : `linear-gradient(to right, #8975fb 0%, #746be7 35%), linear-gradient(to bottom, #8975fb 0%, #6f4ceb 50%), #6f4ceb`,\n        color: '#fff',\n        padding: 20,\n        marginTop: theme.spacing(2),\n        marginBottom: '1em',\n    },\n    media: {\n        background: `url(${publishArticleImage}) top right / cover`,\n        marginLeft: 'auto',\n    },\n    actions: {\n        [theme.breakpoints.down('md')]: {\n            padding: 0,\n            flexWrap: 'wrap',\n            '& a': {\n                marginTop: '1em',\n                marginLeft: '0!important',\n                marginRight: '1em',\n            },\n        },\n    },\n}));\n\nconst Welcome: FC = () => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <Card className={classes.root}>\n            <Box display=\"flex\">\n                <Box flex=\"1\">\n                    <Typography variant=\"h5\" component=\"h2\" gutterBottom>\n                        {translate('pos.dashboard.welcome.title')}\n                    </Typography>\n                    <Box maxWidth=\"50em\">\n                        <Typography variant=\"body1\" component=\"p\" gutterBottom>\n                            {translate('pos.dashboard.welcome.subtitle')}\n                        </Typography>\n                    </Box>\n                    <CardActions className={classes.actions}>\n                        <Button\n                            variant=\"contained\"\n                            href=\"#/tours\"\n                            startIcon={<TourIcon />}\n                        >\n                            {translate('pos.dashboard.welcome.demo_button')}\n                        </Button>\n                        <Button\n                            variant=\"contained\"\n                            href=\"https://marmelab.com/ra-enterprise/\"\n                            startIcon={<HomeIcon />}\n                        >\n                            {translate('pos.dashboard.welcome.ra_button')}\n                        </Button>\n                        <Button\n                            variant=\"contained\"\n                            href=\"https://github.com/marmelab/ra-enterprise-demo\"\n                            target=\"demo_source_code\"\n                            startIcon={<GitHubIcon />}\n                        >\n                            {translate('pos.dashboard.welcome.github_button')}\n                        </Button>\n                    </CardActions>\n                </Box>\n\n                <Box\n                    display={{ xs: 'none', sm: 'none', md: 'block' }}\n                    className={classes.media}\n                    width=\"16em\"\n                    height=\"9em\"\n                    overflow=\"hidden\"\n                />\n            </Box>\n        </Card>\n    );\n};\n\nexport default Welcome;\n","import * as React from 'react';\nimport { FC, createElement } from 'react';\nimport { Card, Box, Typography, Divider } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\n\nimport cartouche from './cartouche.png';\nimport cartoucheDark from './cartoucheDark.png';\n\ninterface Props {\n    icon: FC<any>;\n    to: string;\n    title?: string;\n    subtitle?: string | number;\n}\n\nconst useStyles = makeStyles(theme => ({\n    card: {\n        minHeight: 52,\n        flex: '1',\n        '& a': {\n            textDecoration: 'none',\n            color: 'inherit',\n        },\n    },\n    main: {\n        overflow: 'inherit',\n        padding: 16,\n        background: `url(${\n            theme.palette.type === 'dark' ? cartoucheDark : cartouche\n        }) no-repeat`,\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        '& .icon': {\n            color: theme.palette.type === 'dark' ? 'inherit' : '#dc2440',\n        },\n    },\n    title: {},\n}));\n\nconst CardWithIcon: FC<Props> = props => {\n    const { icon, title, subtitle, to, children } = props;\n    const classes = useStyles(props);\n    return (\n        <Card className={classes.card}>\n            <Link to={to}>\n                <div className={classes.main}>\n                    <Box width=\"3em\" className=\"icon\">\n                        {createElement(icon, { fontSize: 'large' })}\n                    </Box>\n                    <Box textAlign=\"right\">\n                        <Typography\n                            className={classes.title}\n                            color=\"textSecondary\"\n                        >\n                            {title}\n                        </Typography>\n                        <Typography variant=\"h5\" component=\"h2\">\n                            {subtitle || ' '}\n                        </Typography>\n                    </Box>\n                </div>\n            </Link>\n            {children && <Divider />}\n            {children}\n        </Card>\n    );\n};\n\nexport default CardWithIcon;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAABZCAMAAAD//SY8AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAO1QTFRFU1NTU1NTUFBQAAAAUVFRUVFRU1NTT09PU1NTR0dHUlJSTk5OUlJSUVFRUlJSTk5OU1NTT09PS0tLU1NTUVFRUVFRU1NTUVFRUlJSUVFRS0tLUFBQUVFRUVFRUVFRUVFRQEBAUVFRU1NTU1NTU1NTU1NTU1NTU1NTSUlJUFBQU1NTUlJSUVFRTk5OT09PUVFRSkpKUVFRU1NTU1NTTk5OT09PUlJSTU1NUVFRU1NTSEhIU1NTUVFRUVFRUVFROzs7U1NTU1NTUlJSKysrU1NTUlJSRkZGU1NTTU1NU1NTUlJSUVFRUVFRU1NTSUlJap2IRgAAAE90Uk5T/+EzAOw57TfnK9cXvptwO86KPcVl43LiZMk6kuY/hcYIPGmRs+TzJQ6QzIzTSISuLcdNz1xar0nliCepUvtfDdiUTgbRmSFvVqO4ytnwFVkGdGQAAAKuSURBVHic7d3XVhRBGEXhAoExoZjGBKKCcVTMWcxK9P0fxwvvq6u7z79OlezvCeqsvYABOqSkMDd/DO2QNE9pYdE9BOVE0dPSxL0ExVTR0/ET7ikoJYueTp5yb0EhXfR02r0FhYTR07J7DMooo6cz7jUoIo2ezrrnoIQ2+op7Dkpoo6dz7j0oII6ezrsHoZs6+gX3IHRTR08X3YvQSR79knsROsmjp6l7Erroo192T0IXffR0xb0JHQKiX3VvQoeA6OmaexTyIqJfd49CXkT0Vfco5EVET2vuVcgKiX7DvQpZIdHX3auQFRI93XTPQk5M9FvuWciJiX7bPQs5MdE33LOQExN90z0LOTHRuUCyajHR77hnIScm+l33LOTERE/uWcgh+hFE9CMopjk/06sWE51P71WLic7v6VWLic5f5KoWE33DPQs5MdH5L1vVYqLz//SqxUTnypmqhTTnGrm6hUTnati6hUTnuve6RTTnDpfKRUTnXrbKRUTnrtXKBTTn/vTaBUTnSRS10zfnmTPV00fn6VLVkzfnOXL1k0fniZH1Uzfn2bANUEfnKdANEDfnee8t0DbngsgmaKPzDpcmSJvztqY2KJvzXrZGCJvzBsZW6JrzrtVmyJrzVuV2qJrz/vSGiJovLLqHoJym+dy8ewd6kDRfueeegT4UzTfvu1egF0HzB+4N6Gl8c66aaM7Y5A/5CNeekc1n7vNjgFHJHz12Hx9DjGn+xH14DDM8+dZT99kx0NDkz567T47BhiV/8dJ9boww6Kv8lfvUGKV/8tdv3GfGSD2Lv3333n1ijNYr+YeP7uNCoTj4p63tz+7DQqOs+Jev3767TwqZ7uA/fm7/cp8SUrncS+vLv9f4nv7/SZOd6Wx3b/9g9fBf6cPVg/293dl0Z/LHfTYE+Qucis5DBf5HsAAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAABZCAMAAAD//SY8AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAO1QTFRF/Ors/Ojs+ubrAAAA/Ojs++np/Ojs9ujo/Onq8+Hh+urr9Onp++rr/Orq+Obr++Xl+urq+enr++bm+uns+ubr/Ors++nr/Ors+ubr+ujs++Xl/Ofs/Orq++fr+ers+ujsv7+/++rq+Ofs+urs++rq/Ors/Onq8d3j7dvb+urs+urr+ufr+ujs+Orq+ers++js9OPj+ujs/Ojo+unq9+ns9+bo++jr/Ofn/Orr+enp8uXl/Orq/Obm/Ors+urq2NjY+urr/Onp/OXo1dXV+ujq/Ojr8Ojo+Obo9uTn/Ojr++ns+urr+urq/Ors8+fnTQPn1wAAAE90Uk5T/+EzAOw57TfnK9cXvptwO86KPcVl43LiZMk6kuY/hcYIPGmRs+TzJQ6QzIzTSISuLcdNz1xar0nliCepUvtfDdiUTgbRmSFvVqO4ytnwFVkGdGQAAAKuSURBVHic7d3XVhRBGEXhAoExoZjGBKKCcVTMWcxK9P0fxwvvq6u7z79OlezvCeqsvYABOqSkMDd/DO2QNE9pYdE9BOVE0dPSxL0ExVTR0/ET7ikoJYueTp5yb0EhXfR02r0FhYTR07J7DMooo6cz7jUoIo2ezrrnoIQ2+op7Dkpoo6dz7j0oII6ezrsHoZs6+gX3IHRTR08X3YvQSR79knsROsmjp6l7Erroo192T0IXffR0xb0JHQKiX3VvQoeA6OmaexTyIqJfd49CXkT0Vfco5EVET2vuVcgKiX7DvQpZIdHX3auQFRI93XTPQk5M9FvuWciJiX7bPQs5MdE33LOQExN90z0LOTHRuUCyajHR77hnIScm+l33LOTERE/uWcgh+hFE9CMopjk/06sWE51P71WLic7v6VWLic5f5KoWE33DPQs5MdH5L1vVYqLz//SqxUTnypmqhTTnGrm6hUTnati6hUTnuve6RTTnDpfKRUTnXrbKRUTnrtXKBTTn/vTaBUTnSRS10zfnmTPV00fn6VLVkzfnOXL1k0fniZH1Uzfn2bANUEfnKdANEDfnee8t0DbngsgmaKPzDpcmSJvztqY2KJvzXrZGCJvzBsZW6JrzrtVmyJrzVuV2qJrz/vSGiJovLLqHoJym+dy8ewd6kDRfueeegT4UzTfvu1egF0HzB+4N6Gl8c66aaM7Y5A/5CNeekc1n7vNjgFHJHz12Hx9DjGn+xH14DDM8+dZT99kx0NDkz567T47BhiV/8dJ9boww6Kv8lfvUGKV/8tdv3GfGSD2Lv3333n1ijNYr+YeP7uNCoTj4p63tz+7DQqOs+Jev3767TwqZ7uA/fm7/cp8SUrncS+vLv9f4nv7/SZOd6Wx3b/9g9fBf6cPVg/293dl0Z/LHfTYE+Qucis5DBf5HsAAAAABJRU5ErkJggg==\"","import * as React from 'react';\nimport { FC } from 'react';\nimport DollarIcon from '@material-ui/icons/AttachMoney';\nimport { useTranslate } from 'react-admin';\n\nimport CardWithIcon from './CardWithIcon';\n\ninterface Props {\n    value?: string;\n}\n\nconst MonthlyRevenue: FC<Props> = ({ value }) => {\n    const translate = useTranslate();\n    return (\n        <CardWithIcon\n            to=\"/commands\"\n            icon={DollarIcon}\n            title={translate('pos.dashboard.monthly_revenue')}\n            subtitle={value}\n        />\n    );\n};\n\nexport default MonthlyRevenue;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\nimport { useTranslate } from 'react-admin';\n\nimport CardWithIcon from './CardWithIcon';\n\ninterface Props {\n    value?: number;\n}\n\nconst NbNewOrders: FC<Props> = ({ value }) => {\n    const translate = useTranslate();\n    return (\n        <CardWithIcon\n            to=\"/commands\"\n            icon={ShoppingCartIcon}\n            title={translate('pos.dashboard.new_orders')}\n            subtitle={value}\n        />\n    );\n};\n\nexport default NbNewOrders;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Avatar from '@material-ui/core/Avatar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { useTranslate } from 'react-admin';\nimport { Customer, Order } from '../types';\n\ninterface Props {\n    orders?: Order[];\n    customers?: { [key: string]: Customer };\n}\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        flex: 1,\n    },\n    cost: {\n        marginRight: '1em',\n        color: theme.palette.text.primary,\n    },\n}));\n\nconst PendingOrders: FC<Props> = ({ orders = [], customers = {} }) => {\n    const classes = useStyles();\n    const translate = useTranslate();\n    return (\n        <Card className={classes.root}>\n            <CardHeader title={translate('pos.dashboard.pending_orders')} />\n            <List dense={true}>\n                {orders.map(record => (\n                    <ListItem\n                        key={record.id}\n                        button\n                        component={Link}\n                        to={`/commands/${record.id}`}\n                    >\n                        <ListItemAvatar>\n                            {customers[record.customer_id] ? (\n                                <Avatar\n                                    src={`${\n                                        customers[record.customer_id].avatar\n                                    }?size=32x32`}\n                                />\n                            ) : (\n                                <Avatar />\n                            )}\n                        </ListItemAvatar>\n                        <ListItemText\n                            primary={new Date(record.date).toLocaleString(\n                                'en-GB'\n                            )}\n                            secondary={translate('pos.dashboard.order.items', {\n                                smart_count: record.basket.length,\n                                nb_items: record.basket.length,\n                                customer_name: customers[record.customer_id]\n                                    ? `${\n                                          customers[record.customer_id]\n                                              .first_name\n                                      } ${\n                                          customers[record.customer_id]\n                                              .last_name\n                                      }`\n                                    : '',\n                            })}\n                        />\n                        <ListItemSecondaryAction>\n                            <span className={classes.cost}>\n                                {record.total}$\n                            </span>\n                        </ListItemSecondaryAction>\n                    </ListItem>\n                ))}\n            </List>\n        </Card>\n    );\n};\n\nexport default PendingOrders;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    List,\n    ListItem,\n    ListItemAvatar,\n    ListItemText,\n    Avatar,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CommentIcon from '@material-ui/icons/Comment';\nimport { Link } from 'react-router-dom';\nimport { useTranslate } from 'react-admin';\n\nimport CardWithIcon from './CardWithIcon';\nimport StarRatingField from '../reviews/StarRatingField';\nimport { Customer, Review } from '../types';\n\ninterface Props {\n    reviews?: Review[];\n    customers?: { [key: string]: Customer };\n    nb?: number;\n}\n\nconst useStyles = makeStyles(theme => ({\n    avatar: {\n        background: theme.palette.background.paper,\n    },\n    listItemText: {\n        overflowY: 'hidden',\n        height: '4em',\n        display: '-webkit-box',\n        WebkitLineClamp: 2,\n        WebkitBoxOrient: 'vertical',\n    },\n}));\n\nconst PendingReviews: FC<Props> = ({ reviews = [], customers = {}, nb }) => {\n    const classes = useStyles();\n    const translate = useTranslate();\n    return (\n        <CardWithIcon\n            to=\"/reviews\"\n            icon={CommentIcon}\n            title={translate('pos.dashboard.pending_reviews')}\n            subtitle={nb}\n        >\n            <List>\n                {reviews.map((record: Review) => (\n                    <ListItem\n                        key={record.id}\n                        button\n                        component={Link}\n                        to={`/reviews/${record.id}`}\n                        alignItems=\"flex-start\"\n                    >\n                        <ListItemAvatar>\n                            {customers[record.customer_id] ? (\n                                <Avatar\n                                    src={`${\n                                        customers[record.customer_id].avatar\n                                    }?size=32x32`}\n                                    className={classes.avatar}\n                                />\n                            ) : (\n                                <Avatar />\n                            )}\n                        </ListItemAvatar>\n\n                        <ListItemText\n                            primary={<StarRatingField record={record} />}\n                            secondary={record.comment}\n                            className={classes.listItemText}\n                            style={{ paddingRight: 0 }}\n                        />\n                    </ListItem>\n                ))}\n            </List>\n        </CardWithIcon>\n    );\n};\n\nexport default PendingReviews;\n","import * as React from 'react';\nimport { useMemo, ReactElement } from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Avatar from '@material-ui/core/Avatar';\nimport CustomerIcon from '@material-ui/icons/PersonAdd';\nimport { Link } from 'react-router-dom';\nimport { useTranslate, useQueryWithStore } from 'react-admin';\n\nimport CardWithIcon from './CardWithIcon';\nimport { Customer } from '../types';\n\nconst NewCustomers = (): ReactElement | null => {\n    const translate = useTranslate();\n    const aMonthAgo = useMemo(() => {\n        const date = new Date();\n        date.setDate(date.getDate() - 30);\n        date.setHours(0);\n        date.setMinutes(0);\n        date.setSeconds(0);\n        date.setMilliseconds(0);\n        return date;\n    }, []);\n\n    const { loaded, data: visitors } = useQueryWithStore({\n        type: 'getList',\n        resource: 'customers',\n        payload: {\n            filter: {\n                has_ordered: true,\n                first_seen_gte: aMonthAgo.toISOString(),\n            },\n            sort: { field: 'first_seen', order: 'DESC' },\n            pagination: { page: 1, perPage: 100 },\n        },\n    });\n\n    if (!loaded) return null;\n\n    const nb = visitors ? visitors.reduce((nb: number) => ++nb, 0) : 0;\n    return (\n        <CardWithIcon\n            to=\"/customers\"\n            icon={CustomerIcon}\n            title={translate('pos.dashboard.new_customers')}\n            subtitle={nb}\n        >\n            <List>\n                {visitors\n                    ? visitors.map((record: Customer) => (\n                          <ListItem\n                              button\n                              to={`/customers/${record.id}`}\n                              component={Link}\n                              key={record.id}\n                          >\n                              <ListItemAvatar>\n                                  <Avatar src={`${record.avatar}?size=32x32`} />\n                              </ListItemAvatar>\n                              <ListItemText\n                                  primary={`${record.first_name} ${record.last_name}`}\n                              />\n                          </ListItem>\n                      ))\n                    : null}\n            </List>\n        </CardWithIcon>\n    );\n};\n\nexport default NewCustomers;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { Card, CardHeader, CardContent } from '@material-ui/core';\nimport {\n    ResponsiveContainer,\n    AreaChart,\n    Area,\n    XAxis,\n    YAxis,\n    CartesianGrid,\n    Tooltip,\n} from 'recharts';\nimport { useTranslate } from 'react-admin';\nimport { format, subDays, addDays } from 'date-fns';\n\nimport { Order } from '../types';\n\nconst lastDay = new Date();\nconst lastMonthDays = Array.from({ length: 30 }, (_, i) => subDays(lastDay, i));\nconst aMonthAgo = subDays(new Date(), 30);\n\nconst dateFormatter = (date: number): string =>\n    new Date(date).toLocaleDateString();\n\nconst aggregateOrdersByDay = (orders: Order[]): { [key: string]: number } =>\n    orders\n        .filter((order: Order) => order.status !== 'cancelled')\n        .reduce((acc, curr) => {\n            const day = format(curr.date, 'YYYY-MM-DD');\n            if (!acc[day]) {\n                acc[day] = 0;\n            }\n            acc[day] += curr.total;\n            return acc;\n        }, {} as { [key: string]: number });\n\nconst getRevenuePerDay = (orders: Order[]): TotalByDay[] => {\n    const daysWithRevenue = aggregateOrdersByDay(orders);\n    return lastMonthDays.map(date => ({\n        date: date.getTime(),\n        total: daysWithRevenue[format(date, 'YYYY-MM-DD')] || 0,\n    }));\n};\n\nconst OrderChart: FC<{ orders?: Order[] }> = ({ orders }) => {\n    const translate = useTranslate();\n    if (!orders) return null;\n\n    return (\n        <Card>\n            <CardHeader title={translate('pos.dashboard.month_history')} />\n            <CardContent>\n                <div style={{ width: '100%', height: 300 }}>\n                    <ResponsiveContainer>\n                        <AreaChart data={getRevenuePerDay(orders)}>\n                            <defs>\n                                <linearGradient\n                                    id=\"colorUv\"\n                                    x1=\"0\"\n                                    y1=\"0\"\n                                    x2=\"0\"\n                                    y2=\"1\"\n                                >\n                                    <stop\n                                        offset=\"5%\"\n                                        stopColor=\"#8884d8\"\n                                        stopOpacity={0.8}\n                                    />\n                                    <stop\n                                        offset=\"95%\"\n                                        stopColor=\"#8884d8\"\n                                        stopOpacity={0}\n                                    />\n                                </linearGradient>\n                            </defs>\n                            <XAxis\n                                dataKey=\"date\"\n                                name=\"Date\"\n                                type=\"number\"\n                                scale=\"time\"\n                                domain={[\n                                    addDays(aMonthAgo, 1).getTime(),\n                                    new Date().getTime(),\n                                ]}\n                                tickFormatter={dateFormatter}\n                            />\n                            <YAxis dataKey=\"total\" name=\"Revenue\" unit=\"€\" />\n                            <CartesianGrid strokeDasharray=\"3 3\" />\n                            <Tooltip\n                                cursor={{ strokeDasharray: '3 3' }}\n                                formatter={(value): string =>\n                                    new Intl.NumberFormat(undefined, {\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    }).format(value as any)\n                                }\n                                labelFormatter={(label: any): string =>\n                                    dateFormatter(label)\n                                }\n                            />\n                            <Area\n                                type=\"monotone\"\n                                dataKey=\"total\"\n                                stroke=\"#8884d8\"\n                                strokeWidth={2}\n                                fill=\"url(#colorUv)\"\n                            />\n                        </AreaChart>\n                    </ResponsiveContainer>\n                </div>\n            </CardContent>\n        </Card>\n    );\n};\n\ninterface TotalByDay {\n    date: number;\n    total: number;\n}\n\nexport default OrderChart;\n","import React, {\n    useState,\n    useEffect,\n    useCallback,\n    CSSProperties,\n    ReactElement,\n} from 'react';\nimport { useVersion, useDataProvider } from 'react-admin';\nimport { useMediaQuery, Theme } from '@material-ui/core';\n\nimport Welcome from './Welcome';\nimport MonthlyRevenue from './MonthlyRevenue';\nimport NbNewOrders from './NbNewOrders';\nimport PendingOrders from './PendingOrders';\nimport PendingReviews from './PendingReviews';\nimport NewCustomers from './NewCustomers';\nimport OrderChart from './OrderChart';\n\nimport { Customer, Order, Review } from '../types';\n\ninterface OrderStats {\n    revenue: number;\n    nbNewOrders: number;\n    pendingOrders: Order[];\n}\n\ninterface CustomerData {\n    [key: string]: Customer;\n}\n\ninterface State {\n    nbNewOrders?: number;\n    nbPendingReviews?: number;\n    pendingOrders?: Order[];\n    pendingOrdersCustomers?: CustomerData;\n    pendingReviews?: Review[];\n    pendingReviewsCustomers?: CustomerData;\n    recentOrders?: Order[];\n    revenue?: string;\n}\n\nconst styles = {\n    flex: { display: 'flex' },\n    flexColumn: { display: 'flex', flexDirection: 'column' },\n    leftCol: { flex: 1, marginRight: '0.5em' },\n    rightCol: { flex: 1, marginLeft: '0.5em' },\n    singleCol: { marginTop: '1em', marginBottom: '1em' },\n};\n\nconst Spacer = (): ReactElement => <span style={{ width: '1em' }} />;\nconst VerticalSpacer = (): ReactElement => <span style={{ height: '1em' }} />;\n\nconst Dashboard = (): ReactElement => {\n    const [state, setState] = useState<State>({});\n    const version = useVersion();\n    const dataProvider = useDataProvider();\n    const isXSmall = useMediaQuery((theme: Theme) =>\n        theme.breakpoints.down('xs')\n    );\n    const isSmall = useMediaQuery((theme: Theme) =>\n        theme.breakpoints.down('md')\n    );\n\n    const fetchOrders = useCallback(async () => {\n        const aMonthAgo = new Date();\n        aMonthAgo.setDate(aMonthAgo.getDate() - 30);\n        const { data: recentOrders } = await dataProvider.getList<Order>(\n            'commands',\n            {\n                filter: { date_gte: aMonthAgo.toISOString() },\n                sort: { field: 'date', order: 'DESC' },\n                pagination: { page: 1, perPage: 50 },\n            }\n        );\n        const aggregations = recentOrders\n            .filter(order => order.status !== 'cancelled')\n            .reduce(\n                (stats: OrderStats, order) => {\n                    if (order.status !== 'cancelled') {\n                        stats.revenue += order.total;\n                        stats.nbNewOrders++;\n                    }\n                    if (order.status === 'ordered') {\n                        stats.pendingOrders.push(order);\n                    }\n                    return stats;\n                },\n                {\n                    revenue: 0,\n                    nbNewOrders: 0,\n                    pendingOrders: [],\n                }\n            );\n        setState(state => ({\n            ...state,\n            recentOrders,\n            revenue: aggregations.revenue.toLocaleString(undefined, {\n                style: 'currency',\n                currency: 'USD',\n                minimumFractionDigits: 0,\n                maximumFractionDigits: 0,\n            }),\n            nbNewOrders: aggregations.nbNewOrders,\n            pendingOrders: aggregations.pendingOrders,\n        }));\n        const { data: customers } = await dataProvider.getMany<Customer>(\n            'customers',\n            {\n                ids: aggregations.pendingOrders.map(\n                    (order: Order) => order.customer_id\n                ),\n            }\n        );\n        setState(state => ({\n            ...state,\n            pendingOrdersCustomers: customers.reduce(\n                (prev: CustomerData, customer) => {\n                    prev[customer.id] = customer; // eslint-disable-line no-param-reassign\n                    return prev;\n                },\n                {}\n            ),\n        }));\n    }, [dataProvider]);\n\n    const fetchReviews = useCallback(async () => {\n        const { data: reviews } = await dataProvider.getList<Review>(\n            'reviews',\n            {\n                filter: { status: 'pending' },\n                sort: { field: 'date', order: 'DESC' },\n                pagination: { page: 1, perPage: 100 },\n            }\n        );\n        const nbPendingReviews = reviews.reduce((nb: number) => ++nb, 0);\n        const pendingReviews = reviews.slice(0, Math.min(10, reviews.length));\n        setState(state => ({ ...state, pendingReviews, nbPendingReviews }));\n        const { data: customers } = await dataProvider.getMany<Customer>(\n            'customers',\n            {\n                ids: pendingReviews.map((review: Review) => review.customer_id),\n            }\n        );\n        setState(state => ({\n            ...state,\n            pendingReviewsCustomers: customers.reduce(\n                (prev: CustomerData, customer) => {\n                    prev[customer.id] = customer; // eslint-disable-line no-param-reassign\n                    return prev;\n                },\n                {}\n            ),\n        }));\n    }, [dataProvider]);\n\n    useEffect(() => {\n        fetchOrders();\n        fetchReviews();\n    }, [version]); // eslint-disable-line react-hooks/exhaustive-deps\n\n    const {\n        nbNewOrders,\n        nbPendingReviews,\n        pendingOrders,\n        pendingOrdersCustomers,\n        pendingReviews,\n        pendingReviewsCustomers,\n        revenue,\n        recentOrders,\n    } = state;\n    return isXSmall ? (\n        <div>\n            <div style={styles.flexColumn as CSSProperties}>\n                <Welcome />\n                <MonthlyRevenue value={revenue} />\n                <VerticalSpacer />\n                <NbNewOrders value={nbNewOrders} />\n                <VerticalSpacer />\n                <PendingOrders\n                    orders={pendingOrders}\n                    customers={pendingOrdersCustomers}\n                />\n            </div>\n        </div>\n    ) : isSmall ? (\n        <div style={styles.flexColumn as CSSProperties}>\n            <div style={styles.singleCol}>\n                <Welcome />\n            </div>\n            <div style={styles.flex}>\n                <MonthlyRevenue value={revenue} />\n                <Spacer />\n                <NbNewOrders value={nbNewOrders} />\n            </div>\n            <div style={styles.singleCol}>\n                <OrderChart orders={recentOrders} />\n            </div>\n            <div style={styles.singleCol}>\n                <PendingOrders\n                    orders={pendingOrders}\n                    customers={pendingOrdersCustomers}\n                />\n            </div>\n        </div>\n    ) : (\n        <>\n            <Welcome />\n            <div style={styles.flex}>\n                <div style={styles.leftCol}>\n                    <div style={styles.flex}>\n                        <MonthlyRevenue value={revenue} />\n                        <Spacer />\n                        <NbNewOrders value={nbNewOrders} />\n                    </div>\n                    <div style={styles.singleCol}>\n                        <OrderChart orders={recentOrders} />\n                    </div>\n                    <div style={styles.singleCol}>\n                        <PendingOrders\n                            orders={pendingOrders}\n                            customers={pendingOrdersCustomers}\n                        />\n                    </div>\n                </div>\n                <div style={styles.rightCol}>\n                    <div style={styles.flex}>\n                        <PendingReviews\n                            nb={nbPendingReviews}\n                            reviews={pendingReviews}\n                            customers={pendingReviewsCustomers}\n                        />\n                        <Spacer />\n                        <NewCustomers />\n                    </div>\n                </div>\n            </div>\n        </>\n    );\n};\n\nexport default Dashboard;\n","import DashboardComponent from './Dashboard';\n\nexport const Dashboard = DashboardComponent;\n","import React, { FC } from 'react';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { Identifier, useTranslate } from 'react-admin';\nimport { stringify } from 'query-string';\n\nimport visitors from '../visitors';\n\nconst useStyles = makeStyles({\n    icon: { paddingRight: '0.5em' },\n    link: {\n        display: 'inline-flex',\n        alignItems: 'center',\n    },\n});\n\nconst LinkToRelatedCustomers: FC<{ segment: Identifier }> = ({ segment }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <Button\n            size=\"small\"\n            color=\"primary\"\n            component={Link}\n            to={{\n                pathname: '/customers',\n                search: stringify({\n                    page: 1,\n                    perPage: 25,\n                    filter: JSON.stringify({ groups: segment }),\n                }),\n            }}\n            className={classes.link}\n        >\n            <visitors.icon className={classes.icon} />\n            {translate('resources.segments.fields.customers')}\n        </Button>\n    );\n};\n\nexport default LinkToRelatedCustomers;\n","import React, { FC } from 'react';\nimport Card from '@material-ui/core/Card';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate, Title } from 'react-admin';\n\nimport LinkToRelatedCustomers from './LinkToRelatedCustomers';\nimport { useDefineAppLocation } from '@react-admin/ra-navigation';\nimport segments from './data';\n\nconst useStyles = makeStyles({\n    root: {\n        marginTop: 16,\n    },\n});\n\nconst Segments: FC = () => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    useDefineAppLocation('customers.segments');\n    return (\n        <Card className={classes.root}>\n            <Title title={translate('resources.segments.name')} />\n            <Table size=\"small\">\n                <TableHead>\n                    <TableRow>\n                        <TableCell>\n                            {translate('resources.segments.fields.name')}\n                        </TableCell>\n                        <TableCell />\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {segments.map(segment => (\n                        <TableRow key={segment.id}>\n                            <TableCell>{translate(segment.name)}</TableCell>\n                            <TableCell>\n                                <LinkToRelatedCustomers segment={segment.id} />\n                            </TableCell>\n                        </TableRow>\n                    ))}\n                </TableBody>\n            </Table>\n        </Card>\n    );\n};\n\nexport default Segments;\n","import React, { FC, useEffect } from 'react';\nimport { Redirect, useParams } from 'react-router';\nimport { useTour } from '@react-admin/ra-tour';\n\nconst TourLauncher: FC = () => {\n    const { tour } = useParams<{ tour: string }>();\n    const [{ running }, { start }] = useTour();\n\n    useEffect(() => {\n        if (start && !running) {\n            start(tour);\n            return;\n        }\n    });\n\n    return running ? <Redirect to=\"/\" /> : null;\n};\n\nexport default TourLauncher;\n","import React from 'react';\nimport { Route } from 'react-router-dom';\nimport Segments from './segments/Segments';\nimport TourLauncher from './tours/TourLauncher';\n\nexport default [\n    <Route key=\"segments\" exact path=\"/segments\" render={() => <Segments />} />,\n    <Route\n        key=\"tour-launcher\"\n        path=\"/tours/:tour\"\n        render={() => <TourLauncher />}\n    />,\n];\n","import {\n    mergeTranslations,\n    TranslationMessages as BaseTranslationMessages,\n} from 'react-admin';\nimport englishMessages from 'ra-language-english';\nimport { RaTreeTranslationMessages } from '@react-admin/ra-tree';\n\nexport interface TranslationMessages\n    extends RaTreeTranslationMessages,\n        BaseTranslationMessages {}\n\nconst customEnglishMessages: TranslationMessages = mergeTranslations(\n    englishMessages,\n    {\n        'ra-tree': {\n            action: {\n                add_root: 'Add a category of products',\n            },\n        },\n        'ra-search': {\n            result: `1 result |||| %{smart_count} results`,\n        },\n        pos: {\n            search: 'Search',\n            configuration: 'Configuration',\n            language: 'Language',\n            theme: {\n                name: 'Theme',\n                light: 'Light',\n                dark: 'Dark',\n            },\n            filter: 'Filtered by',\n            dashboard: {\n                monthly_revenue: 'Monthly Revenue',\n                month_history: '30 Day Revenue History',\n                new_orders: 'New Orders',\n                pending_reviews: 'Pending Reviews',\n                new_customers: 'New Customers',\n                pending_orders: 'Pending Orders',\n                order: {\n                    items:\n                        'by %{customer_name}, one item |||| by %{customer_name}, %{nb_items} items',\n                },\n                welcome: {\n                    title: 'Welcome to the react-admin enterprise edition demo',\n                    subtitle:\n                        \"This is the admin of an imaginary poster shop showcasing enterprise edition private modules usage. Feel free to explore and modify the data - it's local to your computer, and will reset each time you reload.\",\n                    ra_button: 'react-admin enterprise edition site',\n                    demo_button: 'See the showcase',\n                    github_button: 'See the source code',\n                },\n            },\n            menu: {\n                sales: 'Sales',\n                catalog: 'Catalog',\n                my_queries: 'My queries',\n                customers: 'Customers',\n                new_customers: 'New Customers',\n                all_customers: 'All Customers',\n                visitors: 'Visitors',\n                all_reviews: 'All reviews',\n                pending_reviews: 'Pending reviews',\n                bad_reviews: 'Bad reviews',\n            },\n            reviews: {\n                accepted: 'Accepted',\n                rejected: 'Rejected',\n                pending: 'Pending',\n            },\n        },\n        resources: {\n            customers: {\n                name: 'Customer |||| Customers',\n                fields: {\n                    commands: 'Orders',\n                    first_seen: 'First seen',\n                    groups: 'Segments',\n                    last_seen: 'Last seen',\n                    last_seen_gte: 'Visited Since',\n                    name: 'Name',\n                    total_spent: 'Total spent',\n                    password: 'Password',\n                    confirm_password: 'Confirm password',\n                    address: 'Address',\n                    birthday: 'Birthday',\n                    city: 'City',\n                    first_name: 'First name',\n                    has_newsletter: 'Has Newsletter',\n                    has_ordered: 'Has ordered',\n                    last_name: 'Last name',\n                    latest_purchase: 'Latest purchase',\n                    zipcode: 'Postal code',\n                    nb_commands: 'Orders',\n                },\n                filters: {\n                    last_visited: 'Last visited',\n                    today: 'Today',\n                    this_week: 'This week',\n                    last_week: 'Last week',\n                    this_month: 'This month',\n                    last_month: 'Last month',\n                    earlier: 'Earlier',\n                    has_ordered: 'Has ordered',\n                    has_newsletter: 'Has newsletter',\n                    group: 'Segment',\n                },\n                fieldGroups: {\n                    identity: 'Identity',\n                    address: 'Address',\n                    stats: 'Stats',\n                    history: 'History',\n                    password: 'Password',\n                    change_password: 'Change Password',\n                },\n                page: {\n                    delete: 'Delete Customer',\n                },\n                errors: {\n                    password_mismatch:\n                        'The password confirmation is not the same as the password.',\n                },\n            },\n            commands: {\n                name: 'Order |||| Orders',\n                amount: '1 order |||| %{smart_count} orders',\n                title: 'Order %{reference}',\n                fields: {\n                    basket: {\n                        delivery: 'Delivery',\n                        reference: 'Reference',\n                        quantity: 'Quantity',\n                        sum: 'Sum',\n                        tax_rate: 'Tax Rate',\n                        total: 'Total',\n                        unit_price: 'Unit Price',\n                    },\n                    address: 'Address',\n                    customer_id: 'Customer',\n                    date_gte: 'Passed Since',\n                    date_lte: 'Passed Before',\n                    nb_items: 'Nb articles',\n                    reference: 'Référence',\n                    returned: 'Returned',\n                    status: 'Status',\n                    total_gte: 'Min amount',\n                },\n            },\n            invoices: {\n                name: 'Invoice |||| Invoices',\n                fields: {\n                    date: 'Invoice date',\n                    customer_id: 'Customer',\n                    command_id: 'Order',\n                    date_gte: 'Passed Since',\n                    date_lte: 'Passed Before',\n                    total_gte: 'Min amount',\n                    address: 'Address',\n                },\n            },\n            products: {\n                name: 'Poster |||| Posters',\n                fields: {\n                    id: 'Identifier',\n                    category_id: 'Category',\n                    height_gte: 'Min height',\n                    height_lte: 'Max height',\n                    height: 'Height',\n                    image: 'Image',\n                    price: 'Price',\n                    reference: 'Reference',\n                    sales: 'Sales',\n                    stock_lte: 'Low Stock',\n                    stock: 'Stock',\n                    thumbnail: 'Thumbnail',\n                    width_gte: 'Min width',\n                    width_lte: 'Max width',\n                    width: 'Width',\n                },\n                tabs: {\n                    image: 'Image',\n                    details: 'Details',\n                    description: 'Description',\n                    reviews: 'Reviews',\n                },\n                filters: {\n                    categories: 'Categories',\n                    stock: 'Stock',\n                    no_stock: 'Out of stock',\n                    low_stock: '1 - 9 items',\n                    average_stock: '10 - 49 items',\n                    enough_stock: '50 items & more',\n                    sales: 'Sales',\n                    best_sellers: 'Best sellers',\n                    average_sellers: 'Average',\n                    low_sellers: 'Low',\n                    never_sold: 'Never sold',\n                },\n            },\n            categories: {\n                name: 'Category |||| Categories',\n                fields: {\n                    products: 'Products',\n                },\n                actions: {\n                    create_product: 'Create Poster',\n                },\n            },\n            reviews: {\n                name: 'Review |||| Reviews',\n                amount: '1 review |||| %{smart_count} reviews',\n                relative_to_poster: 'Review on poster',\n                detail: 'Review detail',\n                fields: {\n                    customer_id: 'Customer',\n                    command_id: 'Order',\n                    product_id: 'Product',\n                    date_gte: 'Posted since',\n                    date_lte: 'Posted before',\n                    date: 'Date',\n                    comment: 'Comment',\n                    rating: 'Rating',\n                },\n                action: {\n                    accept: 'Accept',\n                    reject: 'Reject',\n                },\n                notification: {\n                    approved_success: 'Review approved',\n                    approved_error: 'Error: Review not approved',\n                    rejected_success: 'Review rejected',\n                    rejected_error: 'Error: Review not rejected',\n                },\n            },\n            segments: {\n                name: 'Segments',\n                fields: {\n                    customers: 'Customers',\n                    name: 'Name',\n                },\n                data: {\n                    compulsive: 'Compulsive',\n                    collector: 'Collector',\n                    ordered_once: 'Ordered once',\n                    regular: 'Regular',\n                    returns: 'Returns',\n                    reviewer: 'Reviewer',\n                },\n            },\n            stores: {\n                name: 'Stores',\n                fields: {\n                    city: 'City',\n                    country: 'Country',\n                    address: 'Address',\n                    created_at: 'Created at',\n                },\n            },\n            locks: {\n                overlay: 'Currently Edited by %{name}',\n            },\n        },\n    }\n);\n\nexport default customEnglishMessages;\n","import {\n    mergeTranslations,\n    TranslationMessages as BaseTranslationMessages,\n} from 'react-admin';\nimport frenchMessages from 'ra-language-french';\nimport { RaTreeTranslationMessages } from '@react-admin/ra-tree';\n\nexport interface TranslationMessages\n    extends RaTreeTranslationMessages,\n        BaseTranslationMessages {}\n\nconst customFrenchMessages: TranslationMessages = mergeTranslations(\n    frenchMessages,\n    {\n        'ra-tree': {\n            action: {\n                add_root: 'Ajouter une catégorie de produits',\n            },\n        },\n        'ra-search': {\n            result: `1 résultat |||| %{smart_count} résultats`,\n        },\n        pos: {\n            search: 'Rechercher',\n            configuration: 'Configuration',\n            language: 'Langue',\n            theme: {\n                name: 'Theme',\n                light: 'Clair',\n                dark: 'Obscur',\n            },\n            filter: 'Filtré par',\n            dashboard: {\n                monthly_revenue: 'CA à 30 jours',\n                month_history: \"Chiffre d'affaire sur 30 jours\",\n                new_orders: 'Nouvelles commandes',\n                pending_reviews: 'Commentaires à modérer',\n                new_customers: 'Nouveaux clients',\n                pending_orders: 'Commandes à traiter',\n                order: {\n                    items:\n                        'par %{customer_name}, un poster |||| par %{customer_name}, %{nb_items} posters',\n                },\n                welcome: {\n                    title:\n                        'Bienvenue sur la démo de react-admin enterprise edition',\n                    subtitle:\n                        \"Ceci est le back-office d'un magasin de posters imaginaire mettant en oeuvre les modules de l'édition entreprise. N'hésitez pas à explorer et à modifier les données. La démo s'exécute en local dans votre navigateur, et se remet à zéro chaque fois que vous rechargez la page.\",\n                    ra_button: 'Site web de react-admin entreprise',\n                    demo_button: 'Voir tous les modules',\n                    github_button: 'Voir le code source',\n                },\n            },\n            menu: {\n                sales: 'Ventes',\n                catalog: 'Catalogue',\n                my_queries: 'Mes recherches',\n                customers: 'Clients',\n                new_customers: 'Nouveaux clients',\n                all_customers: 'Tous les clients',\n                visitors: 'Visiteurs',\n                all_reviews: 'Tous les avis',\n                pending_reviews: 'Avis en attende de validation',\n                bad_reviews: 'Mauvais avis',\n            },\n            reviews: {\n                accepted: 'Acceptés',\n                rejected: 'Rejetés',\n                pending: 'En attente',\n            },\n        },\n        resources: {\n            customers: {\n                name: 'Client |||| Clients',\n                fields: {\n                    address: 'Rue',\n                    birthday: 'Anniversaire',\n                    city: 'Ville',\n                    commands: 'Commandes',\n                    first_name: 'Prénom',\n                    first_seen: 'Première visite',\n                    groups: 'Segments',\n                    has_newsletter: 'Abonné à la newsletter',\n                    has_ordered: 'A commandé',\n                    last_name: 'Nom',\n                    last_seen: 'Vu le',\n                    last_seen_gte: 'Vu depuis',\n                    latest_purchase: 'Dernier achat',\n                    name: 'Nom',\n                    total_spent: 'Dépenses',\n                    zipcode: 'Code postal',\n                    password: 'Mot de passe',\n                    confirm_password: 'Confirmez le mot de passe',\n                    nb_commands: 'Commandes',\n                },\n                filters: {\n                    last_visited: 'Dernière visite',\n                    today: \"Aujourd'hui\",\n                    this_week: 'Cette semaine',\n                    last_week: 'La semaine dernière',\n                    this_month: 'Ce mois-ci',\n                    last_month: 'Le mois dernier',\n                    earlier: 'Plus tôt',\n                    has_ordered: 'A déjà commandé',\n                    has_newsletter: 'Abonné newsletter',\n                    group: 'Segment',\n                },\n                fieldGroups: {\n                    identity: 'Identité',\n                    address: 'Adresse',\n                    stats: 'Statistiques',\n                    history: 'Historique',\n                    password: 'Mot de passe',\n                    change_password: 'Changer le mot de passe',\n                },\n                page: {\n                    delete: 'Supprimer le client',\n                },\n                errors: {\n                    password_mismatch:\n                        'La confirmation du mot de passe est différent du mot de passe.',\n                },\n            },\n            commands: {\n                name: 'Commande |||| Commandes',\n                amount: '1 commande |||| %{smart_count} commandes',\n                title: 'Commande n°%{reference}',\n                fields: {\n                    basket: {\n                        delivery: 'Frais de livraison',\n                        reference: 'Référence',\n                        quantity: 'Quantité',\n                        sum: 'Sous-total',\n                        tax_rate: 'TVA',\n                        total: 'Total',\n                        unit_price: 'P.U.',\n                    },\n                    address: 'Adresse',\n                    customer_id: 'Client',\n                    date_gte: 'Emises depuis',\n                    date_lte: 'Emises avant',\n                    nb_items: 'Nb articles',\n                    reference: 'Référence',\n                    returned: 'Annulée',\n                    status: 'Etat',\n                    total_gte: 'Montant minimum',\n                },\n            },\n            invoices: {\n                name: 'Facture |||| Factures',\n                fields: {\n                    id: 'Numéro',\n                    date: 'Date de facture',\n                    customer_id: 'Client',\n                    command_id: 'Commande',\n                    date_gte: 'Emises depuis',\n                    date_lte: 'Emises avant',\n                    address: 'Adresse',\n                    total_ex_taxes: 'Montant HT',\n                    delivery_fees: 'Frais de livraison',\n                    taxes: 'TVA',\n                },\n            },\n            products: {\n                name: 'Poster |||| Posters',\n                fields: {\n                    id: 'Identifiant',\n                    category_id: 'Catégorie',\n                    height_gte: 'Hauteur mini',\n                    height_lte: 'Hauteur maxi',\n                    height: 'Hauteur',\n                    image: 'Photo',\n                    price: 'Prix',\n                    reference: 'Référence',\n                    sales: 'Ventes',\n                    stock_lte: 'Stock faible',\n                    stock: 'Stock',\n                    thumbnail: 'Aperçu',\n                    width_gte: 'Largeur mini',\n                    width_lte: 'Margeur maxi',\n                    width: 'Largeur',\n                },\n                tabs: {\n                    image: 'Image',\n                    details: 'Détails',\n                    description: 'Description',\n                    reviews: 'Commentaires',\n                },\n                filters: {\n                    categories: 'Catégories',\n                    stock: 'Stock',\n                    no_stock: 'En rupture',\n                    low_stock: '1 - 9 unités',\n                    average_stock: '10 - 49 unités',\n                    enough_stock: '50 unités et plus',\n                    sales: 'Ventes',\n                    best_sellers: 'Meilleures ventes',\n                    average_sellers: 'Moyennes',\n                    low_sellers: 'Peu vendu',\n                    never_sold: 'Jamais vendu',\n                },\n            },\n            categories: {\n                name: 'Catégorie |||| Catégories',\n                fields: {\n                    name: 'Nom',\n                    products: 'Produits',\n                },\n                actions: {\n                    create_product: 'Créer un Poster',\n                },\n            },\n            reviews: {\n                name: 'Commentaire |||| Commentaires',\n                amount: '1 commentaire |||| %{smart_count} commentaires',\n                relative_to_poster: 'Commentaire sur',\n                detail: 'Détail du commentaire',\n                fields: {\n                    customer_id: 'Client',\n                    command_id: 'Commande',\n                    product_id: 'Produit',\n                    date_gte: 'Publié depuis',\n                    date_lte: 'Publié avant',\n                    date: 'Date',\n                    comment: 'Texte',\n                    status: 'Statut',\n                    rating: 'Classement',\n                },\n                action: {\n                    accept: 'Accepter',\n                    reject: 'Rejeter',\n                },\n                notification: {\n                    approved_success: 'Commentaire approuvé',\n                    approved_error: 'Erreur: Commentaire non approuvé',\n                    rejected_success: 'Commentaire rejeté',\n                    rejected_error: 'Erreur: Commentaire non rejeté',\n                },\n            },\n            segments: {\n                name: 'Segments',\n                fields: {\n                    customers: 'Clients',\n                    name: 'Nom',\n                },\n                data: {\n                    compulsive: 'Compulsif',\n                    collector: 'Collectionneur',\n                    ordered_once: 'A commandé',\n                    regular: 'Régulier',\n                    returns: 'A renvoyé',\n                    reviewer: 'Commentateur',\n                },\n            },\n            stores: {\n                name: 'Magasins',\n                fields: {\n                    city: 'Ville',\n                    country: 'Pays',\n                    address: 'Adresse',\n                    created_at: 'Ouvert le',\n                },\n            },\n            locks: {\n                overlay: \"En cours d'édition par %{name}\",\n            },\n        },\n    }\n);\n\nexport default customFrenchMessages;\n","import React, { FC } from 'react';\nimport { Record, useMutation, useRefresh } from 'react-admin';\nimport { useTour } from '@react-admin/ra-tour';\nimport classnames from 'classnames';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport PlayIcon from '@material-ui/icons/PlayArrow';\nimport NewReleasesIcon from '@material-ui/icons/NewReleases';\n\nconst useStyles = makeStyles({\n    root: {\n        maxWidth: 345,\n        cursor: 'pointer',\n        margin: 20,\n        opacity: 0.9,\n        transition: 'opacity 0.3s ease-in-out',\n        '&:hover,&:focus-within': {\n            opacity: 1,\n        },\n    },\n    visited: {\n        opacity: 0.6,\n    },\n    media: {\n        height: 140,\n    },\n    rightButton: {\n        marginLeft: 'auto',\n    },\n    content: {\n        position: 'relative',\n        minHeight: 125,\n    },\n    newIcon: {\n        position: 'absolute',\n        top: 10,\n        right: 10,\n    },\n    actions: {\n        paddingBottom: 0,\n    },\n    buyIcon: {\n        marginLeft: 'auto !important',\n    },\n    playedOnIndicator: {\n        paddingLeft: 16,\n        paddingTop: 0,\n        paddingBottom: 16,\n    },\n});\n\nconst Tour: FC<{ record: Record }> = ({ record }) => {\n    const classes = useStyles();\n    const refresh = useRefresh();\n    // eslint-disable-next-line no-unused-vars\n    const [_, { start }] = useTour();\n\n    const [setPlayed] = useMutation(\n        {\n            type: 'update',\n            resource: 'tours',\n            payload: { id: record.id, data: { playedOn: new Date() } },\n        },\n        {\n            onSuccess: refresh,\n        }\n    );\n\n    const handlePlayClicked = (): void => {\n        if (start) {\n            start(record.tour);\n        }\n        setPlayed();\n    };\n\n    return (\n        <Card\n            className={classnames(classes.root, {\n                [classes.visited]: record.playedOn,\n            })}\n            onClick={handlePlayClicked}\n        >\n            <CardMedia\n                className={classes.media}\n                image={`${process.env.PUBLIC_URL}/${record.image}`}\n                title={record.title}\n            />\n            <CardContent className={classes.content}>\n                {!record.playedOn && (\n                    <NewReleasesIcon\n                        color=\"error\"\n                        fontSize=\"large\"\n                        className={classes.newIcon}\n                    />\n                )}\n                <Typography variant=\"h5\" component=\"h2\" gutterBottom>\n                    {record.title}\n                </Typography>\n                <Typography variant=\"body2\" gutterBottom>\n                    {record.comment}\n                </Typography>\n            </CardContent>\n            <CardActions className={classes.actions}>\n                <Button size=\"small\" startIcon={<PlayIcon />} color=\"primary\">\n                    Play\n                </Button>\n            </CardActions>\n            <div className={classes.playedOnIndicator}>\n                <Typography\n                    variant=\"caption\"\n                    display=\"block\"\n                    color=\"textSecondary\"\n                >\n                    {record.playedOn\n                        ? `Last played on ${new Date(\n                              record.playedOn\n                          ).toLocaleString()}`\n                        : `Never played before`}\n                </Typography>\n            </div>\n        </Card>\n    );\n};\n\nexport default Tour;\n","import React, { cloneElement, FC } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PlaylistAddCheckIcon from '@material-ui/icons/PlaylistAddCheck';\nimport RotateLeftIcon from '@material-ui/icons/RotateLeft';\nimport {\n    TopToolbar,\n    Button,\n    sanitizeListRestProps,\n    List,\n    Pagination,\n    useMutation,\n    useRefresh,\n    ListActionsProps,\n    useListContext,\n    ListProps,\n} from 'react-admin';\n\nimport Tour from './Tour';\n\nconst useStyles = makeStyles({\n    content: {\n        border: 'none',\n        background: 'none',\n        boxShadow: 'none',\n    },\n});\n\nconst useListStyles = makeStyles({\n    gridContainer: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        marginLeft: '-20px',\n        marginRight: '-20px',\n    },\n});\n\nconst ListActions: FC<ListActionsProps> = ({ className, filters, ...rest }) => {\n    const refresh = useRefresh();\n    const {\n        ids,\n        filterValues,\n        resource,\n        displayedFilters,\n        showFilter,\n    } = useListContext(rest);\n\n    const [reset, { loading: resetLoading }] = useMutation(\n        {\n            type: 'updateMany',\n            resource: 'tours',\n            payload: { ids: ids, data: { playedOn: null } },\n        },\n        {\n            onSuccess: () => {\n                refresh();\n            },\n        }\n    );\n\n    const [markAsPlayed, { loading: markAsPlayedLoading }] = useMutation(\n        {\n            type: 'updateMany',\n            resource: 'tours',\n            payload: { ids: ids, data: { playedOn: new Date() } },\n        },\n        {\n            onSuccess: () => {\n                refresh();\n            },\n        }\n    );\n\n    return (\n        <TopToolbar className={className} {...sanitizeListRestProps(rest)}>\n            {filters &&\n                cloneElement(filters, {\n                    resource,\n                    showFilter,\n                    displayedFilters,\n                    filterValues,\n                    context: 'button',\n                })}\n            {/* Add your custom actions */}\n            <Button\n                onClick={markAsPlayed}\n                label=\"Mark all as played\"\n                disabled={markAsPlayedLoading}\n            >\n                <PlaylistAddCheckIcon />\n            </Button>\n            <Button onClick={reset} label=\"Reset\" disabled={resetLoading}>\n                <RotateLeftIcon />\n            </Button>\n        </TopToolbar>\n    );\n};\n\nconst GridList: FC = () => {\n    const classes = useListStyles();\n    const { ids, data } = useListContext();\n    return (\n        <div className={classes.gridContainer}>\n            {ids.map(id => (\n                <Tour key={id} record={data[id]} />\n            ))}\n        </div>\n    );\n};\n\nconst TourList: FC<ListProps> = props => {\n    const classes = useStyles();\n\n    return (\n        <List\n            {...props}\n            perPage={20}\n            pagination={<Pagination rowsPerPageOptions={[10, 20, 40]} />}\n            sort={{ field: 'id', order: 'ASC' }}\n            classes={classes}\n            actions={<ListActions />}\n        >\n            <GridList />\n        </List>\n    );\n};\n\nexport default TourList;\n","import DirectionsBusIcon from '@material-ui/icons/DirectionsBus';\n\nimport TourList from './TourList';\n\nexport default {\n    list: TourList,\n    icon: DirectionsBusIcon,\n};\n","import { DataProvider } from 'react-admin';\nimport { RealTimeDataProvider, Subscriptions } from '@react-admin/ra-realtime';\n\nlet subscriptions: Subscriptions = [];\n\nconst addRealtimeMethodsWithFakeTransport = (\n    dataProvider: DataProvider\n): DataProvider & RealTimeDataProvider => {\n    return {\n        ...dataProvider,\n        subscribe: async (topic, subscriptionCallback) => {\n            subscriptions.push({ topic, subscriptionCallback });\n            return Promise.resolve({ data: null });\n        },\n\n        unsubscribe: async (topic, subscriptionCallback) => {\n            subscriptions = subscriptions.filter(\n                subscription =>\n                    subscription.topic !== topic ||\n                    subscription.subscriptionCallback !== subscriptionCallback\n            );\n            return Promise.resolve({ data: null });\n        },\n\n        publish: (topic, event) => {\n            if (!topic) {\n                return Promise.reject(new Error('ra.realTime.error.topic'));\n            }\n            if (!event.type) {\n                return Promise.reject(new Error('ra.realTime.error.type'));\n            }\n            subscriptions.map(\n                subscription =>\n                    topic === subscription.topic &&\n                    subscription.subscriptionCallback(event)\n            );\n            return Promise.resolve({ data: null });\n        },\n    };\n};\n\nexport default addRealtimeMethodsWithFakeTransport;\n","import { SearchResult, SearchResultDataItem } from '@react-admin/ra-search';\n\nconst addSearchMethod = dataProvider => {\n    return {\n        ...dataProvider,\n        search: async query => {\n            const resultsByResource = await Promise.all<SearchResult>(\n                ['customers', 'products', 'commands', 'reviews'].map(resource =>\n                    searchInResource(dataProvider, resource, query)\n                )\n            );\n\n            return {\n                data: resultsByResource.reduce(\n                    (acc, resultForResource) => [\n                        ...acc,\n                        ...resultForResource.data,\n                    ],\n                    [] as SearchResultDataItem[]\n                ),\n                total: resultsByResource.reduce(\n                    (acc, resultForResource) => acc + resultForResource.total,\n                    0\n                ),\n            };\n        },\n    };\n};\n\nexport default addSearchMethod;\n\nconst searchInResource = async (dataProvider, resource, query) => {\n    const { data, total } = await dataProvider.getList(resource, {\n        filter: { q: query },\n        pagination: { page: 1, perPage: 5 },\n        sort: { field: 'id', order: 'ASC' },\n    });\n\n    return {\n        data: await Promise.all(\n            data.map(async record => ({\n                id: `${resource}/${record.id}`,\n                type: resource,\n                url: `/${resource}/${record.id}`,\n                content: await ResultBuilders[resource](record, dataProvider),\n            })) as SearchResultDataItem[]\n        ),\n        total,\n    };\n};\n\nconst ResultBuilders = {\n    customers: async (record, dataProvider) => {\n        const orders = await dataProvider.getList('commands', {\n            filter: { customer_id: record.id },\n            pagination: { page: 1, perPage: 1 },\n            sort: { field: 'id', order: 'ASC' },\n        });\n        const reviews = await dataProvider.getList('reviews', {\n            filter: { customer_id: record.id },\n            pagination: { page: 1, perPage: 1 },\n            sort: { field: 'id', order: 'ASC' },\n        });\n\n        return {\n            ...record,\n            pending_orders: orders.total,\n            reviews: reviews.total,\n        };\n    },\n    products: async (record, dataProvider) => {\n        const reviews = await dataProvider.getList('reviews', {\n            filter: { product_id: record.id },\n            pagination: { page: 1, perPage: 1 },\n            sort: { field: 'id', order: 'ASC' },\n        });\n\n        return {\n            ...record,\n            reviews: reviews.total,\n        };\n    },\n    commands: async (record, dataProvider) => {\n        const customer = await dataProvider.getOne('customers', {\n            id: record.customer_id,\n        });\n\n        return {\n            ...record,\n            customer: customer.data,\n        };\n    },\n    reviews: async record => {\n        return record;\n    },\n};\n","import { DataProvider } from 'react-admin';\n\nconst VALID_UNTIL = new Date(new Date().valueOf() + 3600 * 24 * 365);\n\nconst mergeById = (a, b) => {\n    const notInB = a.filter(aItem => !b.find(bItem => aItem.id === bItem.id));\n    const inBoth = a.filter(aItem => b.find(bItem => aItem.id === bItem.id));\n    const notInA = b.filter(bItem => !a.find(aItem => bItem.id === aItem.id));\n    return [\n        ...notInB,\n        ...inBoth.map(aItem => {\n            const bItem = b.find(bItem => aItem.id === bItem.id);\n            return { ...aItem, playedOn: bItem.playedOn };\n        }),\n        ...notInA,\n    ].sort((c, d) => c.id - d.id);\n};\nexport default (defaultState = {}): DataProvider => {\n    const get = (name: string) => {\n        const item = localStorage.getItem(name);\n        const collection = item ? JSON.parse(item) : [];\n        return mergeById(defaultState[name], collection);\n    };\n\n    const set = (name: string, item: any) => {\n        return localStorage.setItem(name, JSON.stringify(item));\n    };\n\n    const update = (resource, { id, data }) => {\n        const collection = get(resource);\n\n        const item = collection.find(item => item.id === id);\n\n        if (!item) {\n            return { data: null };\n        }\n\n        const newItem = { ...item, ...data, id };\n\n        set(resource, [\n            ...collection.filter(otherItem => otherItem.id !== id),\n            newItem,\n        ]);\n\n        return { data: newItem };\n    };\n\n    const remove = (resource, { id }) => {\n        let collection = get(resource);\n\n        const item = collection.find(item => item.id === id);\n\n        if (!item) {\n            return { data: null };\n        }\n\n        collection = collection.filter(item => item.id !== id);\n\n        set(resource, collection);\n\n        return { data: item };\n    };\n\n    return {\n        getList: (resource, { filter, sort, pagination }) => {\n            let collection = get(resource);\n\n            if (filter) {\n                collection = Object.keys(filter).reduce(\n                    (acc, key) => {\n                        const value = filter[key];\n                        return acc.filter(o => o[key] === value);\n                    },\n                    [...collection]\n                );\n            }\n            const total = collection.length;\n            if (sort) {\n                const { field, order } = sort;\n                collection = collection.sort((a, b) =>\n                    order === 'ASC' ? a[field] - b[field] : b[field] - a[field]\n                );\n            }\n            if (pagination) {\n                const { page, perPage } = pagination;\n                collection = collection.slice(\n                    (page - 1) * perPage,\n                    page * perPage - 1\n                );\n            }\n\n            return Promise.resolve({\n                data: collection,\n                total,\n            });\n        },\n\n        getOne: (resource, { id }) => {\n            const collection = get(resource);\n\n            const item = collection.find(item => item.id === id);\n\n            return Promise.resolve({\n                data: item,\n                validUntil: VALID_UNTIL,\n            });\n        },\n\n        getMany: (resource, { ids }) => {\n            const collection = get(resource);\n\n            const items = collection.filter(item => ids.includes(item.id));\n\n            return Promise.resolve({\n                data: items,\n                validUntil: VALID_UNTIL,\n            });\n        },\n\n        getManyReference: (resource, { filter, sort, pagination }) => {\n            let collection = get(resource);\n\n            if (filter) {\n                collection = Object.keys(filter).reduce(\n                    (acc, key) => {\n                        const value = filter[key];\n                        return acc.filter(o => o[key] === value);\n                    },\n                    [...collection]\n                );\n            }\n            const total = collection.length;\n            if (sort) {\n                const { field, order } = sort;\n                collection = collection.sort((a, b) =>\n                    order === 'ASC' ? a[field] - b[field] : b[field] - a[field]\n                );\n            }\n            if (pagination) {\n                const { page, perPage } = pagination;\n                collection = collection.slice(\n                    (page - 1) * perPage,\n                    page * perPage - 1\n                );\n            }\n\n            return Promise.resolve({\n                data: collection,\n                total,\n            });\n        },\n\n        update: (resource, params) => {\n            return Promise.resolve(update(resource, params));\n        },\n        updateMany: (resource, { ids, data }) => {\n            const updateResults = ids.map(id => update(resource, { id, data }));\n\n            return Promise.resolve({\n                data: updateResults\n                    .filter(res => res.data && res.data.id)\n                    .map(res => res.data.id),\n            });\n        },\n\n        create: (resource, { data }) => {\n            const collection = get(resource);\n\n            const id = collection.length + 1;\n            const item = collection.find(item => item.id === id);\n\n            if (item) {\n                return Promise.resolve({ data: item });\n            }\n\n            const newItem = { ...data, id: id };\n            collection.push(newItem);\n\n            set(resource, collection);\n\n            return Promise.resolve({ data: newItem });\n        },\n\n        delete: (resource, params) => Promise.resolve(remove(resource, params)),\n\n        deleteMany: (resource, { ids }) => {\n            const deleteResults = ids.map(id => remove(resource, { id }));\n\n            return Promise.resolve({\n                data: deleteResults\n                    .filter(res => res.data && res.data.id)\n                    .map(res => res.data.id),\n            });\n        },\n    };\n};\n","import simpleRestProvider from 'ra-data-simple-rest';\nimport compose from 'recompose/compose';\nimport { addLocksMethodsBasedOnALockResource } from '@react-admin/ra-realtime';\nimport { addTreeMethodsBasedOnChildren } from '@react-admin/ra-tree';\n\nimport addRealtimeMethodsWithFakeTransport from './addRealtimeMethodsWithFakeTransport';\nimport addSearchMethod from './addSearchMethod';\nimport localStorageProvider from './localStorageProvider';\n\nimport defaultState from '../tours/data';\n\nconst restProvider = compose(\n    addLocksMethodsBasedOnALockResource,\n    addRealtimeMethodsWithFakeTransport,\n    addTreeMethodsBasedOnChildren,\n    addSearchMethod\n)(simpleRestProvider('http://localhost:4000'));\n\nconst customProviders = {\n    tours: localStorageProvider(defaultState),\n};\n\nconst customMethods = {};\nconst delayedDataProvider = new Proxy(restProvider, {\n    get: (target, name, self) => {\n        if (name === 'then') {\n            return self;\n        }\n\n        return (resource, params) => {\n            let provider = restProvider;\n            if (customProviders[resource]) {\n                provider = customProviders[resource];\n            }\n\n            if (customMethods[resource]) {\n                provider = {\n                    ...provider,\n                    ...customMethods[resource](provider),\n                };\n            }\n\n            return new Promise(resolve =>\n                setTimeout(() => resolve(provider[name](resource, params)), 200)\n            );\n        };\n    },\n});\n\nexport default delayedDataProvider;\n","export default {\n    tours: [\n        {\n            id: 2,\n            image: 'images/tours/ra-preferences.jpg',\n            title: 'ra-preferences',\n            tour: 'ra-preferences',\n            comment: `Persist user preferences (language, ui, filters, displayed columns, etc) in local storage`,\n            href: 'http://marmelab.com/react-admin',\n            playedOn: null,\n        },\n        {\n            id: 7,\n            image: 'images/tours/ra-search.png',\n            title: 'ra-search',\n            tour: 'ra-search',\n            comment: `Plug your search engine and let users search across all resources via a smart Omnisearch box`,\n            href: 'http://marmelab.com/react-admin',\n            playedOn: null,\n        },\n        {\n            id: 6,\n            image: 'images/tours/ra-navigation-breadcrumb.jpg',\n            title: 'ra-navigation: Breadcrumb',\n            tour: 'ra-navigation-breadcrumb',\n            comment: `Keep a track of your location in the site and navigate easily.`,\n            href: 'http://marmelab.com/react-admin',\n            playedOn: null,\n        },\n        {\n            id: 4,\n            image: 'images/tours/ra-realtime.jpg',\n            title: 'ra-realtime',\n            tour: 'ra-realtime',\n            comment: `Enable realtime on menu, list, show and edit views - or anywhere you want.`,\n            href: 'http://marmelab.com/react-admin',\n            playedOn: null,\n        },\n        {\n            id: 5,\n            image: 'images/tours/ra-editable-datagrid.jpg',\n            title: 'ra-editable-datagrid',\n            tour: 'ra-editable-datagrid',\n            comment: `Quickly edit your data without leaving your datagrid.`,\n            href: 'http://marmelab.com/react-admin',\n            playedOn: null,\n        },\n        {\n            id: 3,\n            image: 'images/tours/ra-tree.jpg',\n            title: 'ra-tree',\n            tour: 'ra-tree',\n            comment: `Edit and visualize tree structures. Reorganize by drag and drop. Adapts to any data structure on the backend (parent_id, children, nested sets, etc)..`,\n            href: 'http://marmelab.com/react-admin',\n            playedOn: null,\n        },\n        {\n            id: 1,\n            image: 'images/tours/ra-markdown.jpg',\n            title: 'ra-markdown',\n            tour: 'ra-markdown',\n            comment: `Read Markdown data, and edit it using a WYSIWYG editor in your admin`,\n            href: 'http://marmelab.com/react-admin',\n            playedOn: null,\n        },\n    ],\n};\n","export default {\n    categories: [\n        {\n            id: 5,\n            name: 'categories',\n            isRoot: true,\n            children: [0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100, 110, 120],\n        },\n\n        { id: 0, name: 'animals', isRoot: false, children: [1, 2, 3] },\n        { id: 1, name: 'cute', isRoot: false, children: [] },\n        { id: 2, name: 'scary', isRoot: false, children: [] },\n        { id: 3, name: 'weird', isRoot: false, children: [] },\n\n        { id: 10, name: 'beard', isRoot: false, children: [11, 12] },\n        { id: 11, name: 'curly', isRoot: false, children: [] },\n        { id: 12, name: 'straight', isRoot: false, children: [] },\n\n        { id: 20, name: 'business', isRoot: false, children: [] },\n\n        { id: 30, name: 'cars', isRoot: false, children: [31, 32] },\n        { id: 31, name: 'fast', isRoot: false, children: [] },\n        { id: 32, name: 'slow', isRoot: false, children: [] },\n\n        { id: 40, name: 'city', isRoot: false, children: [] },\n        { id: 50, name: 'flowers', isRoot: false, children: [] },\n\n        { id: 60, name: 'food', isRoot: false, children: [61, 62] },\n        { id: 61, name: 'liquid', isRoot: false, children: [] },\n        { id: 62, name: 'solid', isRoot: false, children: [] },\n\n        { id: 70, name: 'nature', isRoot: false, children: [] },\n\n        { id: 80, name: 'people', isRoot: false, children: [81, 82, 83] },\n        { id: 81, name: 'one', isRoot: false, children: [] },\n        { id: 82, name: 'couple', isRoot: false, children: [] },\n        { id: 83, name: 'many', isRoot: false, children: [] },\n\n        { id: 90, name: 'sports', isRoot: false, children: [] },\n        { id: 100, name: 'tech', isRoot: false, children: [] },\n        { id: 110, name: 'travel', isRoot: false, children: [] },\n        { id: 120, name: 'water', isRoot: false, children: [] },\n    ],\n    stores: [\n        {\n            id: 0,\n            city: 'Paris',\n            country: 'France',\n            address: '8 rue de Rivoli',\n            created_at: new Date(1988, 4, 20),\n        },\n        {\n            id: 1,\n            city: 'Lyon',\n            country: 'France',\n            address: '14 rue de la République',\n            created_at: new Date(1992, 3, 11),\n        },\n        {\n            id: 2,\n            city: 'Nice',\n            country: 'France',\n            address: '5 cours Saleya',\n            created_at: new Date(1993, 6, 27),\n        },\n        {\n            id: 3,\n            city: 'Toulouse',\n            country: 'France',\n            address: '43 rue de la Pomme',\n            created_at: new Date(1994, 1, 2),\n        },\n        {\n            id: 4,\n            city: 'Dijon',\n            country: 'France',\n            address: '89 rue de la liberté',\n            created_at: new Date(2001, 11, 5),\n        },\n        {\n            id: 5,\n            city: 'Nancy',\n            country: 'France',\n            address: '27 rue Ordener',\n            created_at: new Date(2008, 7, 15),\n        },\n    ],\n    locks: [],\n};\n","import FakeRest from 'fakerest';\nimport fetchMock from 'fetch-mock';\nimport generateData from 'data-generator-retail';\nimport { random } from 'faker/locale/en';\nimport { Identifier } from 'react-admin';\n\nimport demoData from './demo-data';\nimport { Category, Product } from '../types';\n\nconst getAllChildrenCategories = (\n    categories: Category[],\n    parentId: Identifier\n) => {\n    const parentCategory = categories.find(({ id }) => id === parentId);\n    if (!parentCategory) {\n        return [];\n    }\n    const children = parentCategory.children.map(childId =>\n        getAllChildrenCategories(categories, childId)\n    );\n\n    return [parentId, ...children];\n};\n\nconst rebindProductToCategories = (\n    originalCategories: Category[],\n    newCategories: Category[]\n) => (product: Product) => {\n    const originalCategory = originalCategories.find(\n        c => c.id === product.category_id\n    );\n\n    if (!originalCategory) {\n        return product;\n    }\n\n    const matchingNewCategory = newCategories.find(\n        c => c.name === originalCategory.name\n    );\n\n    if (!matchingNewCategory) {\n        return product;\n    }\n\n    // If the new category does not have sub categories, just ensure we have the correct id\n    if (matchingNewCategory.children.length === 0) {\n        return {\n            ...product,\n            category_id: matchingNewCategory.id,\n        };\n    }\n\n    const newCategoryId = random.arrayElement(\n        matchingNewCategory.children || []\n    );\n\n    return {\n        ...product,\n        category_id: newCategoryId,\n    };\n};\n\nexport default (): (() => void) => {\n    const data = generateData({ serializeDate: true });\n    const products = data.products.map(\n        rebindProductToCategories(data.categories, demoData.categories)\n    );\n\n    const mergedData = { ...data, ...demoData, products };\n\n    const restServer = new FakeRest.FetchServer('http://localhost:4000');\n    if (window) {\n        window.restServer = restServer; // give way to update data in the console\n    }\n    restServer.addRequestInterceptor(request => {\n        // intercepts list of products with a category filter\n        if (\n            request.method === 'GET' &&\n            request.url.includes('/products') &&\n            request.params.filter &&\n            request.params.filter.category_id !== undefined\n        ) {\n            // to include all sub categories of the selected category in the filter\n            request.params.filter.category_id = getAllChildrenCategories(\n                mergedData.categories,\n                parseInt(request.params.filter.category_id)\n            );\n        }\n        return request;\n    });\n    restServer.init(mergedData);\n    restServer.toggleLogging(); // logging is off by default, enable it\n    fetchMock.mock('begin:http://localhost:4000', restServer.getHandler());\n    return () => fetchMock.restore();\n};\n","import React, { ReactElement, useEffect } from 'react';\nimport { Resource } from 'react-admin';\n\nimport { Admin, buildI18nProvider } from '@react-admin/ra-enterprise';\n\nimport './App.css';\n\nimport { darkTheme, lightTheme } from './layout/themes';\nimport authProvider from './authProvider';\nimport { Login, Layout } from './layout';\nimport { Dashboard } from './dashboard';\nimport customRoutes from './routes';\n\nimport englishMessages from './i18n/en';\nimport frenchMessages from './i18n/fr';\n\nimport visitors from './visitors';\nimport orders from './orders';\nimport products from './products';\nimport invoices from './invoices';\nimport categories from './categories';\nimport reviews from './reviews';\nimport stores from './stores';\nimport tours from './tours';\n\nimport dataProvider from './dataProvider';\nimport fakeServer from './fakeServer';\n\nconst messages = {\n    en: englishMessages,\n    fr: frenchMessages,\n};\n\nconst i18nProvider = buildI18nProvider(messages, 'en');\n\nconst App = (): ReactElement => {\n    useEffect(() => {\n        const restoreFetch = fakeServer();\n        return (): void => {\n            restoreFetch();\n        };\n    }, []);\n\n    return (\n        <Admin\n            title=\"\"\n            dataProvider={dataProvider}\n            customRoutes={customRoutes}\n            authProvider={authProvider}\n            dashboard={Dashboard}\n            loginPage={Login}\n            layout={Layout}\n            i18nProvider={i18nProvider}\n            // Ra-enterprise confirguration\n            lightTheme={lightTheme}\n            darkTheme={darkTheme}\n        >\n            <Resource name=\"customers\" {...visitors} />\n            <Resource name=\"commands\" {...orders} />\n            <Resource name=\"invoices\" {...invoices} />\n            <Resource name=\"products\" {...products} />\n            <Resource name=\"categories\" {...categories} />\n            <Resource name=\"reviews\" {...reviews} />\n            <Resource name=\"stores\" {...stores} />\n            <Resource name=\"tours\" {...tours} />\n            <Resource name=\"locks\" />\n        </Admin>\n    );\n};\n\nexport default App;\n","import 'react-app-polyfill/ie11';\nimport 'react-app-polyfill/stable';\nimport 'proxy-polyfill';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","import { Order } from '../types';\nimport { Record } from 'react-admin';\n\n/**\n * Generate random commands\n *\n * This generator assumes that:\n * - Customer ids exist until 50\n * - Product ids exist until 20\n */\nconst randomCommandBuilder = (\n    batchLevel: number,\n    customers: Record[]\n): Omit<Order, 'id'> => {\n    const basket = new Array(Math.round(Math.random() * 2) + 1).map(() => ({\n        product_id: Math.round(Math.random() * 20),\n        quantity: Math.round(Math.random() * 2) + 1,\n    }));\n\n    return {\n        date: new Date(),\n        total: (Math.round(Math.random() * 10000) / 100) * basket.length,\n        status: 'ordered',\n        reference: Math.random()\n            .toString(36)\n            .replace(/[^a-z]+/g, '')\n            .substr(0, 6)\n            .toUpperCase(),\n        customer_id: customers[Math.round(Math.random() * customers.length)].id,\n        basket,\n        batch: batchLevel,\n    };\n};\n\nexport default randomCommandBuilder;\n","import { TourType } from '@react-admin/ra-tour';\nimport { fireEvent } from '@testing-library/react';\nimport { endOfYesterday } from 'date-fns';\nimport randomCommandBuilder from './randomCommandBuilder';\nimport { generateIdentity } from './randomLockBuilder';\n\nconst getRandomInt = (min, max) => {\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min)) + min;\n};\n\nconst timeout = ms => new Promise(resolve => setTimeout(resolve, ms));\nconst interval = (callback, intervalMs, expirationMs) =>\n    new Promise(resolve => {\n        const intervalRef = setInterval(callback, intervalMs);\n        setTimeout(() => {\n            clearInterval(intervalRef);\n            resolve(undefined);\n        }, expirationMs);\n    });\n\nlet newCommandsIds: number[] = [];\n\nconst tours: { [id: string]: TourType } = {\n    'ra-markdown': {\n        before: async ({ redirect }) => {\n            redirect('/products');\n            await timeout(1000); // would be so awesome if redirect was awaitable!\n        },\n        steps: [\n            {\n                target: `[data-tour-id='grid-line'] > a:nth-child(${getRandomInt(\n                    1,\n                    5\n                )})`,\n                disableBeacon: true,\n                content:\n                    \"This is a poster, one of the products our shop is selling, let's go to its details\",\n                joyrideProps: {\n                    styles: {\n                        beacon: {\n                            marginTop: -100,\n                        },\n                    },\n                },\n                after: ({ target, redirect }) => {\n                    const productUrl = target.getAttribute('href').slice(1);\n                    redirect(productUrl);\n                },\n            },\n            {\n                target: \"[data-tour-id='description-tab']\",\n                content: 'The markdown editor is in the description tab',\n                after: ({ target }) => {\n                    target.click();\n                },\n            },\n            {\n                target: '.tui-editor-defaultUI',\n                content:\n                    'Right here. Try playing with its markdown, make it bold, add headlines!',\n            },\n            {\n                target: '.te-switch-button.wysiwyg',\n                content: 'By default, you are in WYSIWYG mode.',\n            },\n            {\n                target: '.te-switch-button.markdown',\n                content:\n                    'But you can switch to raw markdown edition with this button.',\n            },\n            {\n                target: '[data-testid=product-edit-preview]',\n                content:\n                    'Parsed markdown can then be displayed in a preview or wherever you want.',\n            },\n        ],\n    },\n    'ra-preferences': {\n        steps: [\n            {\n                target: \"button[aria-label='Toggle Theme']\",\n                disableBeacon: true,\n                content:\n                    'ra-preferences comes with a lot of built-in modules, like this theme switcher. Try it: it works!',\n            },\n            {\n                target: \"button[aria-label='Toggle Theme'] + button\",\n                content: 'Or this language switcher...',\n                after: ({ redirect }) => {\n                    const params = JSON.stringify({\n                        last_seen_gte: endOfYesterday().toISOString(),\n                        nb_commands_gte: 1,\n                    });\n\n                    redirect(\n                        `/customers?filter=${encodeURIComponent(\n                            params\n                        )}&order=DESC&page=1&perPage=25&sort=last_seen`\n                    );\n                },\n            },\n            {\n                target: \"button[aria-label='Save current query...']\",\n                content:\n                    \"It features persisted queries too. For example, let's persist the filters for today visitors who actually ordered something.\",\n                after: async ({ target }) => {\n                    target.click();\n                    await new Promise(resolve => setTimeout(resolve, 500));\n                    const nameInput = document.querySelector(\n                        'body > .MuiDialog-root #name'\n                    );\n\n                    if (!nameInput) {\n                        return;\n                    }\n\n                    fireEvent.change(nameInput, {\n                        target: { value: 'Today customers' },\n                    });\n                    await new Promise(resolve => setTimeout(resolve, 500));\n\n                    const saveButton: HTMLButtonElement | null = document.querySelector(\n                        'body > .MuiDialog-root button:nth-child(2)'\n                    );\n                    if (!saveButton) {\n                        return;\n                    }\n                    fireEvent.click(saveButton);\n                },\n            },\n            {\n                target: '#persisted-queries ul',\n                content: \"It's persisted locally in the browser now!\",\n                after: ({ redirect }) => {\n                    redirect('/customers');\n                },\n            },\n            {\n                target: 'button[aria-controls=user-preference-menu]',\n                content:\n                    'It even has more advanced components like this list customization tool.',\n                disableBeacon: false,\n                after: ({ target }) => {\n                    target.click();\n                },\n            },\n            {\n                target: '#user-preference-menu .MuiPaper-root',\n                content:\n                    'Where you can select how you want the list to be displayed, or the information you want to see.',\n                joyrideProps: {\n                    styles: {\n                        options: {\n                            zIndex: 10000,\n                        },\n                    },\n                },\n                after: () => {\n                    const menuOverlay: HTMLElement | null = document.querySelector(\n                        'body > .MuiPopover-root div[aria-hidden=true]'\n                    );\n                    if (!menuOverlay) {\n                        return;\n                    }\n                    menuOverlay.click();\n                },\n            },\n            {\n                before: ({ setTourPreferences, state }) => {\n                    setTourPreferences(state);\n                },\n                target: 'body',\n                content:\n                    'It exposes simple hooks so that you can actually save whatever you want, too. For instance, the state of this particular step. Try to reload the page!',\n                joyrideProps: {\n                    styles: {\n                        options: {\n                            arrowColor: 'transparent',\n                        },\n                    },\n                },\n                after: ({ setTourPreferences }) => {\n                    setTourPreferences({});\n                },\n            },\n        ],\n    },\n    'ra-tree': {\n        before: async ({ redirect }) => {\n            redirect('/categories/5');\n            await timeout(1000); // would be so awesome if redirect was awaitable!\n        },\n        steps: [\n            {\n                target: '.rc-tree',\n                content:\n                    'ra-tree helps handling trees with ease, no matter the data structure you use on the backend',\n                disableBeacon: true,\n            },\n            {\n                before: ({ target }) => {\n                    interval(\n                        () => {\n                            const switcher = target.querySelector(\n                                '.rc-tree-switcher.rc-tree-switcher_close'\n                            );\n\n                            if (switcher) {\n                                switcher.click();\n                            }\n                        },\n                        500,\n                        4000\n                    );\n                },\n                target: '.rc-tree',\n                content:\n                    'It supports expanding or collapsing nodes for an infinite amount of levels',\n                after: async ({ target }) => {\n                    await interval(\n                        () => {\n                            const switcher = target\n                                // not the first line or it collapses all the tree\n                                .querySelector(\n                                    '.rc-tree-treenode:not(:nth-child(1)) .rc-tree-switcher.rc-tree-switcher_open'\n                                );\n\n                            if (switcher) {\n                                switcher.click();\n                            }\n                        },\n                        500,\n                        2000\n                    );\n                },\n            },\n            {\n                before: ({ redirect }) => {\n                    setTimeout(() => {\n                        redirect('/categories/create');\n                    }, 4000);\n                },\n                target: '[aria-label=\"Add a category of products\"]',\n                content:\n                    'You can even add a new category, or reorder them, try it!',\n            },\n        ],\n    },\n    'ra-realtime': {\n        before: async () => {\n            localStorage.setItem('batchLevel', '0');\n        },\n        steps: [\n            {\n                before: async ({ dataProvider }) => {\n                    localStorage.setItem('batchLevel', '0');\n\n                    [[1], [2], [3], [4]].reduce(\n                        acc =>\n                            acc.then(async () => {\n                                const {\n                                    data: customers,\n                                } = await dataProvider.getList('customers', {\n                                    filter: { has_ordered: true },\n                                    pagination: { page: 1, perPage: 100 },\n                                    sort: { field: 'id', order: 'ASC' },\n                                });\n                                // Add a new Order\n                                const {\n                                    data: newCommand,\n                                } = await dataProvider.create('commands', {\n                                    data: randomCommandBuilder(1, customers),\n                                });\n\n                                newCommandsIds.push(newCommand.id);\n                                // Then notify the Real-time dataProvider\n                                const topic = 'resource/commands';\n                                dataProvider.publish(topic, {\n                                    type: 'created',\n                                    topic: topic,\n                                    payload: { ids: [newCommand.id] },\n                                    date: new Date(),\n                                });\n                            }),\n                        timeout(1)\n                    );\n                    await timeout(1500); // would be so awesome if redirect was awaitable!\n                },\n                target: '[data-testid=\"commands-menu\"]',\n                content: \"Seems like you just had new orders, let's check...\",\n                disableBeacon: true,\n                joyrideProps: {\n                    hideBackButton: true,\n                },\n                after: async ({ redirect }) => {\n                    localStorage.setItem('batchLevel', '1');\n                    await timeout(500);\n                    redirect('/commands');\n                },\n            },\n            {\n                target: '[data-testid=order-ordered-datagrid]',\n                content: 'Your new orders can stand-out from others',\n                joyrideProps: {\n                    hideBackButton: true,\n                },\n            },\n            {\n                before: async ({ dataProvider }) => {\n                    localStorage.setItem('batchLevel', '2');\n                    const { data: customers } = await dataProvider.getList(\n                        'customers',\n                        {\n                            filter: { has_ordered: true },\n                            pagination: { page: 1, perPage: 100 },\n                            sort: { field: 'id', order: 'ASC' },\n                        }\n                    );\n                    // Add a new Order\n                    const { data: newCommand1 } = await dataProvider.create(\n                        'commands',\n                        {\n                            data: randomCommandBuilder(2, customers),\n                        }\n                    );\n                    newCommandsIds.push(newCommand1.id);\n                    const { data: newCommand2 } = await dataProvider.create(\n                        'commands',\n                        {\n                            data: randomCommandBuilder(2, customers),\n                        }\n                    );\n                    newCommandsIds.push(newCommand2.id);\n                    // Then notify the Real-time dataProvider\n                    const topic = 'resource/commands';\n                    dataProvider.publish(topic, {\n                        type: 'created',\n                        topic,\n                        payload: { ids: [newCommand1.id, newCommand2.id] },\n                        date: new Date(),\n                    });\n                    await timeout(1000);\n                },\n                target: '[data-testid=order-ordered-datagrid]',\n                content:\n                    \"And newest orders even appear while you're on the page\",\n                joyrideProps: {\n                    hideBackButton: true,\n                },\n                after: async ({ dataProvider, dispatch, redirect }) => {\n                    // Generate a lock on Products #1, #2 and #5\n                    await Promise.all(\n                        [1, 2, 5].map(recordId => {\n                            return dataProvider\n                                .lock('products', {\n                                    recordId,\n                                    identity: generateIdentity(),\n                                })\n                                .then(({ data: lock }) => {\n                                    dispatch({\n                                        type: 'RA/LOCK_SUCCESS',\n                                        payload: {\n                                            data: lock,\n                                        },\n                                        meta: {\n                                            fetchResponse: 'RA/LOCK',\n                                            resource: 'products',\n                                            recordId,\n                                        },\n                                    });\n                                });\n                        })\n                    );\n\n                    // Sort by id because the locked product has the id #0\n                    redirect('/products?order=ASC&page=1&perPage=20&sort=id');\n                },\n            },\n            {\n                before: async ({ dataProvider, dispatch }) => {\n                    await timeout(100);\n\n                    // Unlock the Products #1 after a few seconds\n\n                    const lockTile = global.document.querySelector(\n                        '[data-productid=\"1\"]'\n                    );\n\n                    if (lockTile instanceof HTMLElement) {\n                        const recordId = parseInt(\n                            lockTile.dataset.productid + '',\n                            10\n                        );\n\n                        const identity = lockTile.dataset.lockidentity;\n\n                        setTimeout(() => {\n                            dataProvider\n                                .unlock('products', {\n                                    recordId,\n                                    identity,\n                                })\n                                .then(({ data: lock }) => {\n                                    dispatch({\n                                        type: 'RA/UNLOCK_SUCCESS',\n                                        payload: {\n                                            data: lock,\n                                        },\n                                        meta: {\n                                            fetchResponse: 'RA/UNLOCK',\n                                            resource: 'products',\n                                            recordId,\n                                        },\n                                    });\n                                });\n                        }, 4000);\n                    }\n                },\n                target: '[data-testid=productlocktile]',\n                content:\n                    'You can lock resources in realtime (this one will be unlocked in a few seconds)',\n                joyrideProps: {\n                    hideBackButton: true,\n                },\n                after: async ({ dataProvider, dispatch, refresh }) => {\n                    // Reset the locks on Products #2 and #5\n                    // The lock on Procuct #1 has been deleted during the scenario\n                    await Promise.all(\n                        [2, 5].map(recordId => {\n                            const lockTile = global.document.querySelector(\n                                `[data-productid=\"${recordId}\"]`\n                            );\n                            if (lockTile instanceof HTMLElement) {\n                                const identity = lockTile.dataset.lockidentity;\n\n                                return dataProvider\n                                    .unlock('products', {\n                                        recordId,\n                                        identity,\n                                    })\n                                    .then(({ data: lock }) => {\n                                        dispatch({\n                                            type: 'RA/UNLOCK_SUCCESS',\n                                            payload: {\n                                                data: lock,\n                                            },\n                                            meta: {\n                                                fetchResponse: 'RA/UNLOCK',\n                                                resource: 'products',\n                                                recordId,\n                                            },\n                                        });\n                                    });\n                            }\n                            return Promise.resolve();\n                        })\n                    ).then(() => {\n                        refresh();\n                    });\n                },\n            },\n        ],\n        after: async ({ dataProvider, refresh }) => {\n            localStorage.setItem('batchLevel', '0');\n            // Reset new Orders\n            // We have to delete them to avoid having them reappear if the tour is restarted\n            await dataProvider.deleteMany('commands', {\n                ids: newCommandsIds,\n            });\n\n            refresh();\n            newCommandsIds = [];\n        },\n    },\n    'ra-editable-datagrid': {\n        before: async ({ redirect }) => {\n            redirect('/stores');\n            await timeout(1000); // would be so awesome if redirect was awaitable!\n        },\n        steps: [\n            {\n                target:\n                    '[data-testid=\"store-datagrid\"] > tbody > tr:first-child',\n                content:\n                    \"Hovering on a row shows a toolbar allowing to either edit or delete the record. Let's see what happens when editing a row by clicking on the Edit button (or by directly clicking inside the row)\",\n            },\n            {\n                before: ({ target }) => {\n                    target.querySelector('td:nth-child(2)').click();\n                },\n                target:\n                    '[data-testid=\"store-datagrid\"] > tbody > tr:first-child',\n                content:\n                    \"You can edit a record without leaving the Datagrid! Let's change the address.\",\n                after: ({ target }) => {\n                    fireEvent.change(target.querySelector('#address'), {\n                        target: { value: '10 rue de Rivoli' },\n                    });\n                },\n            },\n            {\n                target:\n                    '[data-testid=\"store-datagrid\"] > tbody > tr:first-child button:first-child',\n                content:\n                    'After edition, just click on the Save button in the row',\n                after: ({ target }) => {\n                    target.click();\n                },\n            },\n            {\n                target: '[aria-label=\"Create\"]',\n                content: 'The Editable Datagrid also supports inline creation',\n                after: ({ target }) => {\n                    target.click();\n                },\n            },\n            {\n                after: ({ target }) => {\n                    fireEvent.change(target.querySelector('#city'), {\n                        target: { value: 'Nantes' },\n                    });\n                    fireEvent.change(target.querySelector('#country'), {\n                        target: { value: 'France' },\n                    });\n                    fireEvent.change(target.querySelector('#address'), {\n                        target: { value: '5 rue du château' },\n                    });\n                    fireEvent.change(target.querySelector('#created_at'), {\n                        target: { value: '2020-08-04' },\n                    });\n                },\n                target:\n                    '[data-testid=\"store-datagrid\"] > tbody > tr:first-child',\n                content:\n                    'A row edition / creation form can contain Inputs of any type (text, date, number, etc.).',\n            },\n            {\n                target:\n                    '[data-testid=\"store-datagrid\"] > tbody > tr:first-child button:first-child',\n                content:\n                    'Click on the Save button to submit the form and create a new record.',\n                after: ({ target }) => {\n                    target.click();\n                },\n            },\n        ],\n    },\n    'ra-navigation-breadcrumb': {\n        before: async ({ redirect }) => {\n            redirect('/products');\n            await timeout(1000); // would be so awesome if redirect was awaitable!\n        },\n        steps: [\n            {\n                target: \"[aria-label='Breadcrumb'] li:nth-child(2)\",\n                content:\n                    'The breadcrumb indicates that we are on the posters page',\n                disableBeacon: true,\n                joyrideProps: {\n                    disableScrolling: true,\n                },\n            },\n            {\n                target: `[data-tour-id='grid-line'] > a:nth-child(${getRandomInt(\n                    1,\n                    5\n                )})`,\n                disableBeacon: true,\n                content: \"Let's edit one of these posters\",\n                after: ({ target, redirect }) => {\n                    const productUrl = target.getAttribute('href').slice(1);\n                    redirect(productUrl);\n                },\n            },\n            {\n                target: \"[aria-label='Breadcrumb'] li:nth-child(3)\",\n                content:\n                    'The breadcrumb has changed to follow us to this Edit page',\n                disableBeacon: true,\n                joyrideProps: {\n                    scrollOffset: 50,\n                },\n            },\n            {\n                target: '[data-testid=\"commands-menu\"]',\n                content: \"Let's try to navigate away using the Menu entry\",\n                disableBeacon: true,\n                joyrideProps: {\n                    disableScrolling: true,\n                },\n                after: ({ redirect }) => {\n                    redirect('/commands');\n                },\n            },\n            {\n                target: \"[aria-label='Breadcrumb'] li:nth-child(2)\",\n                content: 'The breadcrumb keeps showing our exact location.',\n                disableBeacon: true,\n                joyrideProps: {\n                    disableScrolling: true,\n                },\n            },\n            {\n                target: \"[aria-label='Breadcrumb'] li:nth-child(1)\",\n                content:\n                    \"Users can click on the breadcrumb items directly to navigate.\\nLet's go to the home page\",\n                disableBeacon: true,\n                joyrideProps: {\n                    disableScrolling: true,\n                },\n                after: ({ redirect }) => {\n                    redirect('/');\n                },\n            },\n            {\n                target: \"[aria-label='Breadcrumb']\",\n                content:\n                    \"By default, there is no breacrumb displayed on the home page.\\n Now it's your turn to use the Breadcrumb component to build you own breadcrumb path!\",\n                disableBeacon: true,\n                joyrideProps: {\n                    disableScrolling: true,\n                },\n            },\n        ],\n    },\n    'ra-search': {\n        before: async () => {\n            window.scrollTo(0, 0);\n        },\n        steps: [\n            {\n                disableBeacon: true,\n                target: '[data-testid=\"search\"]',\n                content:\n                    'This is the smart Omnisearch box. It allows users to search across all resources. ',\n                after: ({ target }) => {\n                    fireEvent.change(target.querySelector('input'), {\n                        target: { value: 'B' },\n                    });\n                    return new Promise(resolve => setTimeout(resolve, 1000));\n                },\n            },\n            {\n                target: '[data-testid=\"search-panel\"]',\n                content:\n                    \"You can customize the search results at will and redirect to any resource. For example, let's click on the first customer\",\n                after: ({ target }) => {\n                    fireEvent.click(\n                        target.querySelector('[data-testid=\"customer\"]')\n                    );\n                },\n            },\n            {\n                target: '[data-testid=\"search\"]',\n                content:\n                    'The search query and results are preserved after navigation',\n                before: ({ target }) => {\n                    setTimeout(\n                        () => target.querySelector('input').focus(),\n                        1000\n                    );\n                },\n            },\n        ],\n    },\n};\n\nexport default tours;\n","import { Lock } from '@react-admin/ra-realtime';\nimport { Identifier } from 'react-admin';\n\nconst defaultIdentities = [\n    'Stacey Warner',\n    'Jasmine Morgan',\n    'Gildas Bullock',\n    'Adrien King',\n    'Julien Andrews',\n    'Laila Robinson',\n    'Abigail Bryan',\n    'Felix Mccoy',\n    'Charlie Bradshaw',\n    'Yasmine Hoffman',\n];\n\nexport function generateIdentity(identities = defaultIdentities): string {\n    return identities[Math.floor(Math.random() * identities.length)];\n}\n\nexport function generateLock({\n    id = 0,\n    resource = 'products',\n    recordId = 0,\n}: {\n    id: Identifier;\n    resource: string;\n    recordId?: Identifier;\n}): Lock {\n    const identity = generateIdentity();\n    const createdAt = new Date();\n\n    return {\n        id,\n        resource,\n        recordId,\n        identity,\n        createdAt,\n    };\n}\n\nexport function generateLocks(resource = 'products'): Lock[] {\n    return Array(20)\n        .fill(0)\n        .filter((_, i) => i % (1 + Math.floor(Math.random() * 6)) === 0)\n        .map((_, i) =>\n            generateLock({\n                id: i,\n                resource,\n            })\n        );\n}\n\n/**\n * Generate random locks\n *\n * This generator assumes that:\n * - Product ids exist up to 20\n */\nconst randomLockBuilder = (): { data: Lock[]; total: number } => {\n    const locks = generateLocks();\n\n    return {\n        data: locks,\n        total: (Math.round(Math.random() * 10000) / 100) * locks.length,\n    };\n};\n\nexport default randomLockBuilder;\n"],"sourceRoot":""}