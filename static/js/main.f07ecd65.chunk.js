(this.webpackJsonpdemo=this.webpackJsonpdemo||[]).push([[0],{1185:function(e,t,a){},1660:function(e,t,a){},1661:function(e,t,a){"use strict";a.r(t);a(887),a(896),a(1080);var r=a(0),n=a.n(r),c=a(22),o=a.n(c),l=a(64),s=a(683),i=a(1791),u=a(1790),d=a(380),m=a(123),f=a(1787),p=a(1788),b=a(1789),g=a(194),E=(a(1185),{palette:{primary:{main:"#90caf9"},type:"dark"},overrides:{RaAppBar:{menuButton:{display:"none"}},RaSidebar:{drawerPaper:{paddingRight:16,width:"auto"}},MuiAppBar:{zIndex:9999},RaMenuItemCategory:{popoverPaper:{backgroundColor:"white",color:"#303030"}},RaMenuItem:{link:{color:"#303030"},icon:{color:"#303030"},active:{color:"black"}},RaFilterFormInput:{body:{"& > div":{marginTop:8}}}}}),h={palette:{primary:{main:"#4f3cc9"},secondary:{light:"#5f5fc4",main:"#283593",dark:"#001064",contrastText:"#fff"},background:{default:"#fcfcfe"}},shape:{borderRadius:10},overrides:{RaAppBar:{menuButton:{display:"none"}},RaMenuItemLink:{root:{borderLeft:"3px solid #fff"},active:{borderLeft:"3px solid #808080"}},RaMenuItemCategory:{root:{color:"#808080"}},RaMultiLevelMenu:{navWithCategories:{backgroundColor:"#fff"}},MuiPaper:{elevation1:{boxShadow:"none"},root:{border:"1px solid #e0e0e3",backgroundClip:"padding-box"}},MuiButton:{contained:{backgroundColor:"#fff",color:"#4f3cc9",boxShadow:"none"}},MuiAppBar:{root:{zIndex:9999},colorSecondary:{color:"#808080",backgroundColor:"#fff"}},MuiLinearProgress:{colorPrimary:{backgroundColor:"#f5f5f5"},barColorPrimary:{backgroundColor:"#d7d7d7"}},MuiFilledInput:{root:{backgroundColor:"rgba(0, 0, 0, 0.04)","&$disabled":{backgroundColor:"rgba(0, 0, 0, 0.04)"}}},RaSidebar:{drawerPaper:{paddingRight:16,width:"auto"}},RaFilterFormInput:{body:{"& > div":{marginTop:8}}}}},v={login:function(e){var t=e.username;return localStorage.setItem("username",t),Promise.resolve()},logout:function(){return localStorage.removeItem("username"),Promise.resolve()},checkError:function(){return Promise.resolve()},checkAuth:function(){return localStorage.getItem("username")?Promise.resolve():Promise.reject()},getPermissions:function(){return Promise.reject("Unknown method")}},w=a(36),y=a(173),O=a(612),j=a(808),_=a(54),k=a(86),x=a(180),C=a(1746),S=a(20),N=a(355),P=a.n(N),q=function(e){return r.createElement("svg",Object.assign({width:234.532,height:20.475,viewBox:"0 0 62.053 5.417"},e),r.createElement("g",{"aria-label":"~Posters Galore~",style:{lineHeight:1.25},fontWeight:400,fontSize:7.056,fontFamily:"Permanent Marker",letterSpacing:0,wordSpacing:0,strokeWidth:.265,fill:"#4f3cc9"},r.createElement("path",{d:"M.227 3.659Q.124 3.652.062 3.61 0 3.562 0 3.486q0-.068.062-.124.041-.103.083-.165L.24 3.06q.07-.096.138-.193.069-.096.152-.193.04-.034.068-.048.076-.055.152-.103.076-.055.172-.09.173-.062.338-.062.165-.007.282 0 .097.007.18.02.09.008.151.022.103.048.165.09.07.04.131.096.076.04.118.09.048.04.082.089.02.027.083.09.062.061.151.061.083 0 .138-.075.062-.076.124-.131.055-.145.18-.22.055-.028.089-.035l.076-.014q.02-.007.041-.007l.035-.014.075-.007h.09q.117-.034.207-.034.103.007.165.055.062.041.062.117 0 .076-.062.124-.041.11-.09.172-.04.062-.09.131l-.137.193q-.069.097-.158.193-.028.035-.07.048-.068.056-.144.11-.076.049-.172.083-.18.062-.345.07-.158 0-.275-.008l-.186-.013q-.083-.014-.152-.028-.096-.048-.165-.09-.07-.04-.131-.09-.076-.047-.117-.089-.042-.048-.076-.096-.02-.028-.09-.09-.069-.069-.144-.062-.076.007-.145.083-.062.069-.124.124-.041.138-.172.22-.056.028-.097.035l-.069.014-.041.013q-.02 0-.035.007l-.075.007h-.09q-.117.035-.207.035zM4.417 3.225q.007-.028.027-.021.028 0 .048-.007-.055-.055-.068-.145-.014-.096-.07-.158.014-.035.021-.069.014-.034.062-.028-.02-.151.007-.282.028-.131.083-.248.062-.117.138-.228.082-.117.158-.234.062-.014.076.014.014.02.048-.014.11-.076.152-.165.041-.097.041-.207.062-.179.138-.351.083-.18.186-.331.103-.152.22-.262.118-.117.255-.179.097-.083.242-.152.151-.068.316-.103.173-.041.352-.041.179-.007.33.034.035.014.042-.014Q7.228 0 7.255 0q.345.041.614.138.275.096.468.269.131.206.248.447.117.235.18.496.068.255.061.531-.007.276-.117.551-.241.303-.585.49-.345.179-.745.303-.392.117-.82.193-.42.075-.82.165.007.186 0 .4-.006.206-.048.42-.034.207-.11.406-.069.2-.193.372-.138-.006-.29.028-.144.034-.261.069l-.11-.069q-.049-.028-.124-.034.02-.083-.042-.173-.055-.09-.117-.172-.055-.09-.076-.172-.013-.09.083-.159-.055-.048-.055-.151.028.027.069.027-.014-.124.027-.296.049-.172.076-.338.035-.172.014-.31-.02-.144-.165-.206zm1.791-1.613l-.048.138q-.014.055-.035.103-.02.049-.048.097l-.048.11q.014.042.055.062.041.02.055.062.097-.048.193-.069.097-.027.193-.041.096-.014.193-.035.096-.02.2-.068.103-.049.213-.076l.228-.07q.11-.034.213-.075.104-.048.18-.124-.097-.09-.29-.158-.193-.07-.42-.083-.22-.02-.448.028-.22.048-.386.2zM12.506 3.1q-.007.083.013.16.021.075.049.15.034.07.062.145.027.076.041.152.014.096 0 .214-.014.11-.048.22-.035.103-.09.193-.055.083-.13.124-.097.124-.235.193-.138.069-.255.165-.076.048-.172.07l-.186.04q-.076.042-.18.09l-.213.083q-.11.034-.22.055-.11.014-.193.007-.207.076-.407.096-.193.028-.455-.027-.248.034-.461-.021-.207-.055-.372-.172-.159-.124-.283-.29-.117-.172-.193-.358-.055-.393.028-.71.083-.323.234-.592.159-.276.358-.503.2-.234.386-.455.042.014.062 0 .028-.02.048-.048.021-.035.042-.062.027-.028.062-.035.048-.103.138-.151.096-.055.151-.152.062-.014.104-.041.04-.028.075-.062.042-.035.083-.062.041-.035.097-.048v-.076q.124-.055.179-.124l.144-.18q.062-.006.097-.006.041 0 .117-.014.055-.096.096-.145.049-.048.138-.103.083.041.18.055.103.014.178.09.007.069.042.11.034.034.076.069.041.027.075.062.042.034.056.096.027.007.034-.007.014-.013.041-.007.021.097.049.131.027.028.055.117-.035.07-.055.145-.014.07-.083.104-.007.048.027.055.035 0 .042.034.007.062-.02.09.164.268.295.572.131.296.297.565zm-.862.655q.028-.076.07-.124.048-.048.054-.145-.034-.055-.04-.082-.008-.035-.008-.104-.151-.213-.262-.454-.11-.248-.248-.462-.013.028-.048.055-.034.028-.076-.014-.013.055-.048.083-.034.02-.076.02-.041-.006-.09-.02-.04-.02-.075-.048-.2.158-.4.31-.2.151-.358.351-.028.014-.034.014-.007-.007-.042.007-.055.13-.138.241-.075.103-.151.214-.076.11-.131.234-.055.124-.062.29.117.096.276.116.158.021.323.007.173-.013.331-.041.165-.034.303-.034.29-.07.496-.18.207-.117.434-.234zM12.898 2.067q.049-.145.152-.248.11-.103.234-.172.131-.076.269-.124t.262-.083q.275-.117.585-.22.317-.11.641-.193.331-.083.676-.104.344-.027.723.083.02.069.062.13l.083.125q.048.062.082.124.035.055.042.117.069.062.11.138.041.069.014.186-.07.055-.138.103-.062.042-.138.076-.255-.062-.517-.041-.261.02-.468.034-.062-.062-.152-.062-.082 0-.179.028l-.186.055q-.09.027-.172.014-.07.055-.172.075-.097.014-.214.028-.007.034.014.048.02.007.007.042.041.048.103.068l.138.042q.076.02.13.055.056.027.076.096.104 0 .18.049.075.048.124.117.048.069.069.151.027.076.027.138.02.055.048.048.028-.007.062.028.021.09.104.186.082.09.13.2.014.172.021.31.007.13-.048.269-.103.254-.29.454-.178.2-.413.359-.227.151-.489.261-.262.11-.51.186-.027-.006-.055 0-.027.007-.014-.034-.055.048-.124.062-.062.014-.138.007-.075 0-.158-.007-.076-.007-.145.007-.048-.048-.09-.097-.034-.04-.054-.11-.035 0-.035-.034.007-.035-.02-.035.04-.069.034-.076 0-.013-.02-.02l-.028-.014q-.014-.014-.007-.034.027-.056.02-.124l-.013-.152q-.007-.076.007-.145.02-.069.103-.11.234.028.44-.014.215-.048.4-.13.187-.083.352-.18.172-.096.338-.172.02-.062.055-.103.041-.042.082-.076.042-.035.076-.076.035-.041.048-.103.007-.049-.027-.055-.028-.014-.028-.056l-.076-.02q-.13-.076-.296-.124-.165-.055-.282-.117-.076.04-.145.02-.062-.02-.165-.041-.235-.014-.455-.048-.214-.035-.414-.124-.013-.035-.034-.062-.02-.028-.076-.014-.041-.055-.082-.103-.042-.056-.076-.118.014-.082.02-.137.007-.062-.04-.118.027-.09.04-.144.014-.055 0-.145z"}),r.createElement("path",{d:"M19.988 1.853q-.172 0-.372.028-.2.02-.392.048-.138.02-.27.035-.123.013-.226.02-.049.152-.097.27-.048.116-.103.226-.055.118-.104.242-.041.117-.082.255-.07.11-.117.206-.042.09-.07.207-.082.103-.123.22-.042.11-.062.193l-.028.083q-.041.041-.048.069-.007.02-.035.041-.007.076-.048.152-.014.034-.02.069-.007.027-.007.041 0 .069-.035.09.007.034 0 .075l-.014.07q-.02.082-.013.13l.034.049q.02.02.028.055.04.027.062.034.027.02.082.048l.062.07q.035.199-.062.316-.103.131-.351.131h-.083q-.034-.034-.041-.055l-.09-.034q-.034-.014-.062-.056-.09-.04-.144-.068l-.062-.035v-.083q-.049-.062-.076-.137-.02-.076-.035-.152-.013-.062-.034-.117-.014-.055-.041-.097-.014-.4.075-.675.09-.275.186-.53l.11-.276q.056-.145.097-.296l.062-.07.076-.178.069-.152q.02-.048.034-.09l.035-.082q-.042 0-.076.007-.035 0-.069.007l-.076.013h-.069q-.048 0-.069-.006-.075.034-.165.034H17.019q-.014-.007-.028-.007-.069 0-.11.02h-.228q-.013 0-.034.008h-.034q-.049 0-.104-.007-.055-.014-.117-.048-.082-.11-.11-.118l-.062-.082q-.007-.042-.02-.076-.014-.041-.028-.09-.028-.069-.055-.144-.021-.083-.021-.193.007-.055.028-.083l.034-.048.02-.104.09.007h.193q.22 0 .448-.013l.469-.042.275-.027.296-.028q.028-.062.056-.117l.068-.034q.124-.007.173.034.055.034.09.069l.302-.028q.159-.02.317-.048.235-.034.469-.062.241-.027.462-.027.096 0 .186.006.09.007.165.021l.069.048q.02.042.055.076l.083.069q.082.076.165.18.083.103.062.302-.055.083-.083.097l-.062.082-.069-.006q-.04 0-.075.013-.035.007-.07.021l-.054.028-.062.013h-.104q-.034-.007-.076-.007z"}),r.createElement("path",{d:"M23.303 1.288q.007.049 0 .076 0 .02-.007.042v.048q0 .02.014.069-.145.234-.338.324-.186.082-.407.124-.22.034-.454.075-.228.042-.455.18-.09-.035-.166 0-.068.034-.206.02-.042.042-.104.062-.062.014-.124.035.028.062.021.13 0 .063.02.104.242.02.531-.007.297-.028.58-.034.006.034-.008.048-.014.007-.007.034.049.035.097.09l.096.096q.048.049.097.083.055.028.124.02.027.056.034.125.014.062-.014.13-.11.076-.22.159-.11.076-.234.138-.118.062-.255.103-.131.035-.297.028h-.055q-.014 0-.041-.02-.055.034-.159.02-.096-.014-.151.02-.076-.034-.186-.027-.104 0-.186-.028-.11.145-.2.31-.09.166-.159.352.235.034.386.027.159-.007.297-.02.137-.021.282-.035.145-.02.365-.014.138-.075.324-.096.193-.028.352-.083.055.021.096.076.041.048.076.097.041.04.082.075.042.035.104.028.027.027.034.069.014.034.02.069.008.034.022.062.02.02.062.013-.104.228-.242.352-.13.117-.303.179-.172.062-.386.096-.206.035-.461.083-.062.014-.104-.007-.04-.014-.096-.014-.158.035-.379.062-.22.028-.448.021-.227-.007-.434-.062-.207-.048-.338-.179-.055-.048-.075-.11-.014-.07-.09-.104-.007-.09-.027-.2l-.042-.227q-.02-.124-.034-.24-.007-.118.014-.215.02-.103.082-.186.07-.082.048-.179.035-.007.042-.034.007-.035.055-.028.041-.124.09-.234.048-.11.096-.214.055-.103.103-.206.055-.11.104-.241-.097-.09-.145-.193-.041-.11-.062-.214-.02-.11-.035-.22-.013-.118-.048-.235.07-.103.166-.165.103-.069.22-.11.117-.042.255-.07.138-.027.29-.061.275-.09.489-.138.22-.048.427-.076.213-.034.44-.062.228-.027.518-.083.062.062.117.062.027-.062.062-.034.041.02.034-.041.07.117.172.2.11.075.242.13zM24.185 4.451q-.076.276-.138.42-.055.138-.172.29-.09-.014-.125.02-.034.035-.075.062-.062.014-.09 0-.027-.013-.048-.034-.02-.014-.055-.034-.028-.014-.09-.014-.014-.055-.034-.104-.014-.048-.09-.034.014-.055.007-.09-.007-.041-.02-.069l-.014-.062q-.007-.034.007-.082-.035 0-.056-.048-.02-.049-.048-.097.02-.124.042-.234.02-.11.048-.207.034-.096.055-.193.02-.096-.02-.2.027.021.04-.007.014-.034.021-.082.007-.055.007-.104 0-.055-.007-.09.07-.178.11-.364.049-.193.083-.38.041-.185.083-.364.041-.18.11-.331.076-.014.165.02.097.028.118.076.179-.138.317-.33.137-.2.282-.386.145-.186.317-.331.18-.145.448-.172.138.103.303.213.172.104.282.276.056.027.09.062.041.028.097.062v.083q.082.075.13.179.056.096.097.213l.083.228q.04.11.096.213-.014.035-.014.062 0 .021.007.049.014.027.02.055.008.027 0 .076-.02.303-.199.489-.172.186-.42.31-.248.117-.53.2-.283.082-.51.179 0 .027.02.027.028 0 .02.035.166.103.262.165.097.062.18.103.09.042.186.076.103.028.282.07.18.04.276.068.103.02.186.041l.165.028.248.02q.062.063.104.152.048.083.062.172.013.083.006.166-.006.076-.048.124.007.02.028.02.027-.006.055 0-.041.028-.069.07l-.055.082q-.028.041-.062.069-.035.034-.097.041-.213.083-.537.007-.324-.069-.82-.262-.248-.096-.406-.165-.152-.076-.27-.145-.11-.075-.206-.158l-.22-.2zm.985-2.363q-.076.11-.172.2-.09.09-.18.186-.082.09-.151.206-.069.11-.097.262.242-.027.503-.13.262-.111.496-.208-.027-.213-.151-.344-.117-.13-.248-.172zM27.01 2.067q.048-.145.151-.248.11-.103.234-.172.131-.076.27-.124.137-.048.26-.083.277-.117.587-.22.317-.11.64-.193.331-.083.676-.104.344-.027.723.083.02.069.062.13l.083.125q.048.062.082.124.035.055.042.117.069.062.11.138.041.069.014.186-.07.055-.138.103-.062.042-.138.076-.255-.062-.517-.041-.261.02-.468.034-.062-.062-.152-.062-.082 0-.179.028l-.186.055q-.09.027-.172.014-.069.055-.172.075-.097.014-.214.028-.007.034.014.048.02.007.007.042.041.048.103.068l.138.042q.076.02.13.055.056.027.077.096.103 0 .179.049.076.048.124.117t.069.151q.027.076.027.138.02.055.048.048.028-.007.062.028.021.09.104.186.083.09.13.2.015.172.021.31.007.13-.048.269-.103.254-.29.454-.178.2-.413.359-.227.151-.489.261-.262.11-.51.186-.027-.006-.055 0-.027.007-.014-.034-.055.048-.124.062-.062.014-.137.007-.076 0-.159-.007-.076-.007-.145.007-.048-.048-.09-.097-.034-.04-.054-.11-.035 0-.035-.034.007-.035-.02-.035.04-.069.034-.076 0-.013-.02-.02l-.028-.014q-.014-.014-.007-.034.027-.056.02-.124l-.013-.152q-.007-.076.007-.145.02-.069.103-.11.234.028.441-.014.214-.048.4-.13.186-.083.351-.18.172-.096.338-.172.02-.062.055-.103.041-.042.082-.076.042-.035.076-.076.035-.041.048-.103.007-.049-.027-.055-.028-.014-.028-.056l-.075-.02q-.131-.076-.297-.124-.165-.055-.282-.117-.076.04-.145.02-.062-.02-.165-.041-.235-.014-.455-.048-.214-.035-.413-.124-.014-.035-.035-.062-.02-.028-.076-.014-.041-.055-.082-.103-.042-.056-.076-.118.014-.082.02-.137.007-.062-.04-.118.027-.09.04-.144.014-.055 0-.145zM32.797 3.535q0-.076.021-.138.02-.062.007-.159.213-.454.482-.84.276-.393.655-.69.062-.047.096-.096.042-.055.076-.103.041-.048.09-.083.048-.041.124-.055.172-.2.413-.365.241-.165.503-.317t.524-.31q.268-.159.482-.345.076.049.117.035.048-.02.097-.007.062.13.158.186.103.048.207.103.11.049.2.124.096.07.144.193-.048 0-.048.035.007.034.02.076.014.04.014.075 0 .035-.062.035 0 .048.049.048.048 0 .048.048 0 .042-.02.07-.015.02 0 .075-.166.11-.373.214l-.427.206q-.22.11-.455.241-.227.124-.455.29-.227.165-.461.365-.228.2-.441.427-.214.22-.4.462-.186.234-.317.461.014.035.035.062.027.028.041.063.262.013.49 0 .227-.021.454.027.028-.02.034-.055.007-.035.042-.048.468-.049.875-.152.406-.11.827-.22-.124-.049-.22-.076-.042-.041 0-.069.047-.034.075-.069-.11-.062-.186-.165-.069-.104-.083-.269.049-.041.049-.096 0-.056-.049-.09-.034-.014-.041 0l-.014.027q0 .014-.014.028-.007.014-.034 0 .007-.076.034-.124.028-.048.042-.117l.572-.38q.09.07.22.146.131.075.276.151.144.076.296.159.152.075.282.151.125.055.214.138.09.076.172.165l.166.166q.082.082.2.138-.014.11.013.179.028.069.014.165-.13.234-.317.4-.186.158-.42.275-.228.117-.49.2-.261.076-.537.152-.275.069-.558.151-.276.076-.544.18-.117 0-.2.006-.083.007-.159.021l-.151.028q-.076.013-.165.02-.035-.007-.049.014-.007.02-.027.035-.138.02-.248.02h-.186q-.097 0-.2.028-.104.027-.193.02-.62-.027-.972-.44-.351-.414-.385-1.137.006-.035-.014-.042-.02-.014-.035-.027z"}),r.createElement("path",{d:"M42.01 4.589q-.042.117-.125.241-.075.117-.186.214-.103.09-.234.151-.13.062-.275.07-.09-.022-.124-.05-.028-.02-.062-.04-.021-.014-.042-.021-.014-.014-.027-.02l-.083-.035.028-.09q.013-.055-.007-.083-.021-.034-.083-.09l-.041-.04q-.021-.021-.035-.042l-.117-.13.186-.049q.172-.048.227-.124.062-.076.049-.255-.138-.027-.235-.007-.09.02-.186.048-.124.035-.255.062-.124.021-.275.021h-.104l-.103-.014-.069-.013q-.014-.076-.027-.083l-.028-.028q-.034-.034-.076-.09-.034-.061-.013-.15-.035-.063-.042-.125-.041.083-.062.172l-.027.07-.07.013q-.013.007-.02.035-.007.02-.007.034l-.034.117-.028.028q-.014.007-.027.02-.014.062-.035.124-.02.062-.041.118-.035.09-.062.179-.02.082-.014.165l-.028.076q-.034.041-.075.069l-.083.041q-.014.014-.041.028l-.035.013-.02.076-.083.014-.11.02q-.028.008-.07.008l-.068-.007-.117-.097q-.042-.041-.097-.076-.062-.082-.069-.124l-.014-.075q-.013-.042-.013-.07-.007-.027-.021-.04l-.09-.083.076-.062.007-.117q.138-.352.29-.676l.323-.661q.056-.11.104-.22l.11-.221q-.007-.02-.007-.048t.014-.062q.076-.118.124-.207l.096-.193q.055-.117.11-.227.063-.11.152-.228l.11-.048.049-.014q.027-.014.062-.014l.103.014q.193-.09.338-.248.144-.165.296-.393l.069-.096.09.055q.034.02.096.041.062.014.13.035.125.027.235.062.11.034.18.103.04.11.047.166.007.055.021.11.02.117.035.234.02.117.027.262.035.117.055.234.028.11.048.228l.07.323q.034.152.089.29.055 0 .069.007.034-.014.069-.021l.09-.014.075-.007.028.07q.007.034.069.068.09.007.13.042.042.027.076.062.028.027.055.04l.104.042-.055.104q-.07.124-.2.24-.124.111-.283.187.007.041.007.082.007.035.02.076.022.117.035.241.014.124 0 .255zm-1.992-1.192q.207-.014.372-.028.173-.02.38-.062-.049-.206-.104-.427-.055-.227-.117-.448l-.042.07q-.137.144-.268.323-.124.18-.214.338l-.083.124q-.04.062-.075.124.041-.007.075-.007.042 0 .076-.007zM44.29 5.092q-.193.062-.42.124-.228.062-.455.062-.344 0-.544-.172-.035-.076-.062-.104l-.042-.055q-.013-.034-.02-.09-.083-.096-.131-.22-.048-.13-.07-.262-.013-.138-.006-.275.014-.138.048-.262.014-.028.014-.055l.014-.062q.027-.11.055-.214.034-.103.09-.179-.028-.062 0-.138.027-.076.061-.138.097-.261.159-.44.069-.187.138-.366.117-.31.22-.613.104-.303.186-.655.055-.034.083-.048.041-.014.069-.02.124.062.29.124.165.055.275.055.055.034.069.055l.027.027q.076.09.131.186.055.09.035.242-.042.062-.062.062-.035.137-.076.234-.035.096-.076.193-.048.103-.09.206-.04.104-.068.255-.028.035-.042.062-.007.028-.02.062-.014.035-.035.076-.014.035-.048.062-.02.18-.069.29-.041.11-.09.22-.082.2-.151.4-.062.2-.076.454.035-.013.062-.013h.062q.062 0 .145.02.207-.11.448-.13.248-.021.489-.028H45q.096 0 .179-.014.062.035.076.041h.055q.048 0 .083.007.082.076.158.11.076.035.159.063.075.027.144.062.076.027.145.082l.048.297q.048.062.041.082 0 .055-.027.083l.014.076q-.104.02-.145.048-.034.027-.069.062-.055.007-.083.007h-.04q-.097 0-.235.034-.186-.062-.386-.062-.076 0-.159.007l-.165.014q-.083.014-.172.02-.083.008-.172.008zM50.25 3.1q-.007.083.014.16.02.075.048.15.035.07.062.145.028.076.041.152.014.096 0 .214-.013.11-.048.22-.034.103-.09.193-.054.083-.13.124-.097.124-.235.193-.137.069-.254.165-.076.048-.173.07l-.186.04q-.076.042-.179.09l-.213.083q-.11.034-.221.055-.11.014-.193.007-.207.076-.406.096-.193.028-.455-.027-.248.034-.462-.021-.207-.055-.372-.172-.158-.124-.282-.29-.118-.172-.193-.358-.055-.393.027-.71.083-.323.235-.592.158-.276.358-.503.2-.234.386-.455.041.014.062 0 .027-.02.048-.048.02-.035.041-.062.028-.028.062-.035.048-.103.138-.151.097-.055.152-.152.062-.014.103-.041.041-.028.076-.062.041-.035.082-.062.042-.035.097-.048v-.076q.124-.055.18-.124l.144-.18q.062-.006.096-.006.042 0 .117-.014.056-.096.097-.145.048-.048.138-.103.082.041.179.055.103.014.179.09.007.069.041.11.035.034.076.069.041.027.076.062.041.034.055.096.028.007.034-.007.014-.013.042-.007.02.097.048.131.028.028.055.117-.034.07-.055.145-.014.07-.083.104-.007.048.028.055.034 0 .041.034.007.062-.02.09.165.268.296.572.13.296.296.565zm-.861.655q.027-.076.069-.124.048-.048.055-.145-.035-.055-.041-.082-.007-.035-.007-.104-.152-.213-.262-.454-.11-.248-.248-.462-.014.028-.048.055-.035.028-.076-.014-.014.055-.048.083-.035.02-.076.02-.042-.006-.09-.02-.041-.02-.076-.048-.2.158-.4.31-.2.151-.358.351-.027.014-.034.014-.007-.007-.041.007-.055.13-.138.241-.076.103-.152.214-.076.11-.13.234-.056.124-.063.29.118.096.276.116.158.021.324.007.172-.013.33-.041.166-.034.304-.034.29-.07.496-.18.207-.117.434-.234zM51.78 4.451q-.076.276-.138.42-.055.138-.172.29-.09-.014-.124.02-.035.035-.076.062-.062.014-.09 0-.027-.013-.048-.034-.02-.014-.055-.034-.028-.014-.09-.014-.013-.055-.034-.104-.014-.048-.09-.034.014-.055.007-.09-.007-.041-.02-.069l-.014-.062q-.007-.034.007-.082-.034 0-.055-.048-.02-.049-.048-.097.02-.124.04-.234.022-.11.05-.207.034-.096.054-.193.02-.096-.02-.2.027.021.04-.007.015-.034.022-.082.007-.055.007-.104 0-.055-.007-.09.068-.178.11-.364.048-.193.082-.38l.083-.364q.041-.18.11-.331.076-.014.166.02.096.028.117.076.179-.138.317-.33.138-.2.282-.386.145-.186.317-.331.18-.145.448-.172.138.103.303.213.173.104.283.276.055.027.09.062.04.028.096.062v.083q.083.075.13.179.056.096.097.213.042.11.083.228.041.11.097.213-.014.035-.014.062 0 .021.007.049.014.027.02.055.007.027 0 .076-.02.303-.2.489-.172.186-.42.31-.248.117-.53.2-.283.082-.51.179 0 .027.02.027.028 0 .021.035.166.103.262.165.097.062.18.103.089.042.185.076.104.028.283.07.179.04.275.068.104.02.186.041l.166.028.248.02q.062.063.103.152.048.083.062.172.014.083.007.166-.007.076-.048.124.007.02.028.02.027-.006.055 0-.042.028-.07.07l-.054.082q-.028.041-.062.069-.035.034-.097.041-.213.083-.537.007-.324-.069-.82-.262-.248-.096-.407-.165-.151-.076-.268-.145-.11-.075-.207-.158l-.22-.2zm.985-2.363q-.076.11-.172.2-.09.09-.18.186-.082.09-.15.206-.07.11-.097.262.24-.027.503-.13.261-.111.496-.208-.028-.213-.152-.344-.117-.13-.248-.172zM58.332 1.288q.007.049 0 .076 0 .02-.007.042v.048q0 .02.014.069-.145.234-.337.324-.186.082-.407.124-.22.034-.455.075-.227.042-.454.18-.09-.035-.166 0-.069.034-.207.02-.04.042-.103.062-.062.014-.124.035.028.062.02.13 0 .063.021.104.242.02.531-.007.296-.028.579-.034.007.034-.007.048-.014.007-.007.034.048.035.096.09l.097.096q.048.049.096.083.055.028.124.02.028.056.035.125.014.062-.014.13-.11.076-.22.159-.11.076-.235.138-.117.062-.255.103-.13.035-.296.028h-.055q-.014 0-.041-.02-.056.034-.159.02-.096-.014-.152.02-.075-.034-.186-.027-.103 0-.186-.028-.11.145-.2.31-.089.166-.158.352.234.034.386.027.158-.007.296-.02.138-.021.283-.035.144-.02.365-.014.138-.075.324-.096.193-.028.351-.083.055.021.097.076.041.048.075.097.042.04.083.075.041.035.104.028.027.027.034.069.014.034.02.069.008.034.021.062.021.02.062.013-.103.228-.24.352-.132.117-.304.179-.172.062-.386.096-.206.035-.461.083-.062.014-.104-.007-.041-.014-.096-.014-.159.035-.38.062-.22.028-.447.021-.227-.007-.434-.062-.207-.048-.338-.179-.055-.048-.076-.11-.013-.07-.09-.104-.006-.09-.027-.2l-.041-.227q-.02-.124-.035-.24-.007-.118.014-.215.02-.103.083-.186.069-.082.048-.179.035-.007.041-.034.007-.035.056-.028.04-.124.09-.234.047-.11.096-.214.055-.103.103-.206.055-.11.103-.241-.096-.09-.144-.193-.042-.11-.062-.214-.021-.11-.035-.22-.014-.118-.048-.235.069-.103.165-.165.104-.069.22-.11.118-.042.256-.07.138-.027.29-.061.275-.09.488-.138.22-.048.427-.076.214-.034.441-.062.228-.027.517-.083.062.062.117.062.028-.062.062-.034.042.02.035-.041.069.117.172.2.11.075.241.13zM58.394 3.659q-.103-.007-.165-.049-.062-.048-.062-.124 0-.068.062-.124.041-.103.083-.165l.096-.138q.07-.096.138-.193.069-.096.152-.193.04-.034.068-.048.076-.055.152-.103.076-.055.172-.09.173-.062.338-.062.165-.007.282 0 .097.007.18.02.09.008.151.022.104.048.166.09.068.04.13.096.076.04.118.09.048.04.082.089.021.027.083.09.062.061.152.061.082 0 .137-.075.062-.076.124-.131.056-.145.18-.22.055-.028.09-.035l.075-.014q.02-.007.041-.007.021-.007.035-.014l.076-.007h.09q.116-.034.206-.034.103.007.165.055.062.041.062.117 0 .076-.062.124-.041.11-.09.172-.04.062-.089.131l-.138.193q-.069.097-.158.193-.028.035-.07.048-.068.056-.144.11-.076.049-.172.083-.18.062-.345.07-.158 0-.275-.008l-.186-.013q-.083-.014-.152-.028-.096-.048-.165-.09-.07-.04-.131-.09-.076-.047-.117-.089-.042-.048-.076-.096-.02-.028-.09-.09-.069-.069-.144-.062-.076.007-.145.083-.062.069-.124.124-.041.138-.172.22-.055.028-.097.035l-.069.014-.041.013q-.02 0-.035.007l-.075.007h-.09q-.117.035-.207.035z"})))},T=Object(k.a)((function(e){return{root:{position:"relative"},title:{flex:1,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",paddingLeft:e.spacing(1)},logo:Object(w.a)({},e.breakpoints.up("md"),{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"})}})),R=function(e){var t=T(),a=Object(y.a)(),r=Object(O.a)({type:"getList",resource:"tours",payload:{filter:{playedOn:null}}},{version:a}).data,c=0;return r&&(c=r.length),n.a.createElement(j.a,Object.assign({},e,{elevation:1}),n.a.createElement(_.a,{variant:"h6",color:"inherit",className:t.title,id:"react-admin-title"}),n.a.createElement(q,{className:t.logo}),n.a.createElement(x.a,{to:"/tours",component:S.a,color:"inherit"},n.a.createElement(C.a,{badgeContent:c,color:"error",variant:"dot"},n.a.createElement(P.a,null))),n.a.createElement(m.e,null),n.a.createElement(m.a,{languages:[{locale:"en",name:"English"},{locale:"fr",name:"Fran\xe7ais"}],defaultLanguage:"English"}))},A=a(34),D=a(775),L=a(195),z=a(822),F=a(115),I=a(1798),U=a(19),V=a(8),B=a(48),M=a(353),W=a.n(M),H=a(765),J=a.n(H),G=a(767),K=a.n(G),Q=a(766),X=a.n(Q),Y=a(6),Z=a(388),$=a(1670),ee=a(277),te=a(741),ae=a.n(te),re=a(812),ne=a(1762),ce=a(49),oe=a(175),le=a(1806),se=a(1683),ie=a(1808),ue=a(1802),de=a(1807),me=a(217),fe=a(1684),pe=a(1799),be=a(1758),ge=a(1793),Ee=a(1759),he=a(1760),ve=a(1761),we=a(1739),ye=a(108),Oe=a(809),je=a(1750),_e=a(1751),ke=a(1752),xe=a(1677),Ce=a(272),Se=a(1753),Ne=Object(k.a)((function(e){return{gridList:{margin:0},tileBar:{background:"linear-gradient(to top, rgba(0,0,0,0.8) 0%,rgba(0,0,0,0.4) 70%,rgba(0,0,0,0) 100%)"},placeholder:{backgroundColor:e.palette.grey[300],height:"100%"},price:{display:"inline",fontSize:"1em"},link:{color:"#fff"}}})),Pe=function(e){return"xs"===e?2:"sm"===e?3:"md"===e?4:"lg"===e?5:6},qe=function(e){var t,a,n=e.width,c=e.nbItems,o=void 0===c?20:c,l=Ne();return r.createElement(je.a,{cellHeight:180,cols:Pe(n),className:l.gridList},(t=o,a=function(e){return r.createElement(_e.a,{key:e},r.createElement("div",{className:l.placeholder}))},Array.from({length:t},(function(e,t){return a(t)}))))},Te=function(e){var t=e.width,a=Object(we.a)(),n=a.ids,c=a.data,o=a.basePath,l=Ne();return n&&c?r.createElement(je.a,{cellHeight:180,cols:Pe(t),className:l.gridList,"data-tour-id":"grid-line"},n.map((function(e){return r.createElement(_e.a,{component:S.a,key:e,to:Object(Ce.a)(o,c[e].id)},r.createElement("img",{src:c[e].thumbnail,alt:""}),r.createElement(ke.a,{className:l.tileBar,title:c[e].reference,subtitle:r.createElement("span",null,c[e].width,"x",c[e].height,","," ",r.createElement(Se.a,{className:l.price,source:"price",record:c[e],color:"inherit",options:{style:"currency",currency:"USD"}}))}))}))):null},Re=Object(xe.a)()((function(e){var t=e.width;return Object(we.a)().loaded?r.createElement(Te,{width:t}):r.createElement(qe,{width:t})})),Ae=a(16),De=a(1667),Le=a(359),ze=a.n(Le),Fe=a(725),Ie=a.n(Fe),Ue=a(218),Ve=a.n(Ue),Be=a(1755),Me=a(1756),We=a(1757),He=a(825),Je=a(1754),Ge=a(1804),Ke=a(806),Qe=Object(k.a)((function(e){var t;return{root:(t={},Object(w.a)(t,e.breakpoints.up("sm"),{width:"15em",marginRight:"1em",overflow:"initial"}),Object(w.a)(t,e.breakpoints.down("sm"),{display:"none"}),t)}})),Xe=function(e){var t=Object(He.a)(e),a=t.setFilters,n=t.filterValues,c=t.displayedFilters,o=Object(Je.a)("categories").data,l=o?Object(Ge.a)(o,"name"):void 0,s=n.category_id?[n.category_id.toString()]:l?[l[0].key]:void 0,i=void 0!==n.category_id?[n.category_id.toString()]:[],u=Qe();return r.createElement(De.a,{className:u.root},r.createElement($.a,null,r.createElement(Be.a,null),r.createElement(Me.a,{label:"resources.products.filters.sales",icon:r.createElement(Ve.a,null)},r.createElement(We.a,{label:"resources.products.filters.best_sellers",value:{sales_lte:void 0,sales_gt:25,sales:void 0}}),r.createElement(We.a,{label:"resources.products.filters.average_sellers",value:{sales_lte:25,sales_gt:10,sales:void 0}}),r.createElement(We.a,{label:"resources.products.filters.low_sellers",value:{sales_lte:10,sales_gt:0,sales:void 0}}),r.createElement(We.a,{label:"resources.products.filters.never_sold",value:{sales_lte:void 0,sales_gt:void 0,sales:0}})),r.createElement(Me.a,{label:"resources.products.filters.stock",icon:r.createElement(Ie.a,null)},r.createElement(We.a,{label:"resources.products.filters.no_stock",value:{stock_lt:void 0,stock_gt:void 0,stock:0}}),r.createElement(We.a,{label:"resources.products.filters.low_stock",value:{stock_lt:10,stock_gt:0,stock:void 0}}),r.createElement(We.a,{label:"resources.products.filters.average_stock",value:{stock_lt:50,stock_gt:9,stock:void 0}}),r.createElement(We.a,{label:"resources.products.filters.enough_stock",value:{stock_lt:void 0,stock_gt:49,stock:void 0}})),r.createElement(Me.a,{label:"resources.products.filters.categories",icon:r.createElement(ze.a,null)},r.createElement(Ke.a,{key:Math.random(),treeData:l?l[0].children:[],onSelect:function(e,t){var r=t.selectedNodes,o=Object(A.a)(r,1)[0].id;a(Object(Ae.a)(Object(Ae.a)({},n),{},{category_id:o}),c)},defaultSelectedKeys:i,defaultExpandedKeys:s,autoExpandParent:!0}))))},Ye=Object(k.a)((function(e){return{root:{marginBottom:e.spacing(3)}}})),Ze=function(e){var t=e.label,a=Object(B.a)(),n=Ye();return r.createElement(fe.a,{className:n.root,label:a(t)})},$e=function(e){return r.createElement(pe.a,e,r.createElement(be.a,{source:"q",alwaysOn:!0}),r.createElement(ge.a,{source:"category_id",reference:"categories",sort:{field:"id",order:"ASC"}},r.createElement(Ee.a,{source:"name"})),r.createElement(he.a,{source:"width_gte"}),r.createElement(he.a,{source:"width_lte"}),r.createElement(he.a,{source:"height_gte"}),r.createElement(he.a,{source:"height_lte"}),r.createElement(Ze,{label:"resources.products.fields.stock_lte",source:"stock_lte",defaultValue:10}))},et=function(e){var t=e.isSmall;return r.createElement(oe.a,null,t&&r.createElement($e,{context:"button"}),r.createElement(le.a,{fields:["reference","sales","stock"]}),r.createElement(se.a,{basePath:"/products"}),r.createElement(ie.a,null))},tt=function(e){var t=e.isSmall,a=e.actions,n=void 0===a?r.createElement(et,{isSmall:t}):a,c=e.aside,o=e.title,l=Object(we.a)().defaultTitle;return r.createElement(r.Fragment,null,r.createElement(ye.b,{defaultTitle:o||l}),n,(t||!1===c)&&r.createElement(ee.a,{m:1},r.createElement($e,{context:"form"})),r.createElement(ee.a,{display:"flex"},!1!==c?r.createElement(Xe,null):null,r.createElement(ee.a,{width:t||!1===c?"auto":"calc(100% - 16em)"},r.createElement(Re,null),r.createElement(Oe.a,{rowsPerPageOptions:[10,20,40]}))))},at=function(e){var t=e.actions,a=Object(ce.a)(e,["actions"]);Object(U.k)("catalog.products");var n=Object(Z.a)((function(e){return e.breakpoints.down("sm")}));return r.createElement(ve.a,Object.assign({filters:n?r.createElement($e,null):null,perPage:20,sort:{field:"reference",order:"ASC"}},a),r.createElement(tt,{actions:t,isSmall:n,aside:a.aside,title:a.title}))},rt=function(e){var t=e.id,a=Object(ce.a)(e,["id"]);return n.a.createElement(at,Object.assign({},a,{title:" ",basePath:"/products",resource:"products",hasCreate:!0,hasEdit:!0,hasList:!1,hasShow:!1,filter:{category_id:t},exporter:null,aside:!1,actions:n.a.createElement(nt,null)}))},nt=function(){return n.a.createElement(oe.a,null,n.a.createElement(le.a,{fields:["reference","sales","stock"]}),n.a.createElement(se.a,{label:"resources.categories.actions.create_product",basePath:"/products"}),n.a.createElement(ie.a,null))},ct=function(e){var t=Object(B.a)(),a=ot();return n.a.createElement(n.a.Fragment,null,n.a.createElement(ue.a,e,n.a.createElement(de.a,null,n.a.createElement(me.a,{source:"name"}))),n.a.createElement(_.a,{className:a.subtitle,variant:"h5"},t("resources.products.name",{smart_count:2})),n.a.createElement(rt,e))},ot=Object(k.a)((function(e){return{subtitle:{marginTop:e.spacing(6)}}})),lt=a(494),st=a(1809),it=function(e){var t=e.save,a=void 0===t?function(){}:t,n=e.record,c=void 0===n?{}:n;return Object(r.useEffect)((function(){var e=window.prompt("Category",c.name);a(Object(Ae.a)(Object(Ae.a)({},c),{},{name:e,children:[],isRoot:!0}))}),[]),null},ut=function(e){var t=Object(lt.a)(),a=Object(z.a)();return n.a.createElement(st.a,Object.assign({},e,{onSuccess:function(){a(e.basePath),t()}}),n.a.createElement(it,{label:"Category name"}))},dt={list:function(e){Object(U.k)("catalog.categories");var t=Object(re.a)({resource:e.resource,titleField:"name"}).handleExpand;return Object(r.useEffect)((function(){t(["5"])}),[]),n.a.createElement(ne.a,Object.assign({create:ut,edit:ct,titleField:"name",draggable:!0,allowMultipleRoots:!0,defaultSelectedKeys:["5"]},e))},icon:ae.a},mt=a(760),ft=a.n(mt),pt=a(1766),bt=a(1767),gt=a(1765),Et=a(1768),ht=a(1792),vt=a(56),wt=a(810),yt=a(1796),Ot=a(1763),jt=a(343),_t=a.n(jt),kt=a(742),xt=a.n(kt),Ct=a(816),St=a(743),Nt=a.n(St),Pt=Object(k.a)({menuPaper:{padding:"1rem 0"},menuList:{"&> * > *":{padding:"0 2rem"}},toolContainer:{margin:"20px 0","&:first-child":{marginTop:0},"&:last-child":{marginBottom:0}},columnsList:{maxHeight:"250px",overflowY:"auto",margin:0,background:"#eee"}}),qt=Object(r.forwardRef)((function(e,t){var a=e.children,r=Pt();return n.a.createElement("div",{ref:t,className:r.toolContainer},a)}));qt.displayName="ToolContainer";var Tt=function(e){var t=e.preferenceKey,a=e.defaultColumns,r=Pt();return n.a.createElement(n.a.Fragment,null,n.a.createElement(_.a,{variant:"overline",gutterBottom:!0,key:"columns-selector-tool-title",component:"div"},"Columns to display"),n.a.createElement(m.c,{key:"columns-selector-tool-menu",preference:t,columns:a,label:"",className:r.columnsList}))},Rt=function(e){var t=e.view,a=e.setView;return n.a.createElement(n.a.Fragment,null,n.a.createElement(_.a,{variant:"overline",gutterBottom:!0,key:"view-selector-tool-title",component:"div"},"Layout"),n.a.createElement(Ot.a,{key:"view-selector-tool-menu"},n.a.createElement(vt.a,{color:"table"===t?"primary":"default",onClick:function(){return a("table")},label:"table"},n.a.createElement(_t.a,null)),n.a.createElement(vt.a,{color:"grid"===t?"primary":"default",onClick:function(){return a("grid")},label:"grid"},n.a.createElement(xt.a,null))))},At=function(e){var t=e.preferenceKey,a=e.currentSort,c=e.className,o=e.resource,l=e.filters,s=e.displayedFilters,i=e.exporter,u=e.filterValues,d=e.permanentFilter,m=(e.hasList,e.hasShow,e.hasCreate,e.basePath),f=(e.selectedIds,e.onUnselectItems,e.showFilter),p=e.maxResults,b=e.total,g=e.hasColumnsSelector,E=e.defaultColumns,h=e.hasViewSelector,v=e.view,w=e.setView,y=Object(ce.a)(e,["preferenceKey","currentSort","className","resource","filters","displayedFilters","exporter","filterValues","permanentFilter","hasList","hasShow","hasCreate","basePath","selectedIds","onUnselectItems","showFilter","maxResults","total","hasColumnsSelector","defaultColumns","hasViewSelector","view","setView"]),O=n.a.useState(null),j=Object(A.a)(O,2),_=j[0],k=j[1],C=Pt(),S=Boolean(_),N=g||h;return n.a.createElement(oe.a,Object.assign({className:c},Object(wt.c)(y)),l&&Object(r.cloneElement)(l,{resource:o,showFilter:f,displayedFilters:s,filterValues:u,context:"button"}),n.a.createElement(se.a,{basePath:m}),i&&n.a.createElement(ie.a,{disabled:0===b,resource:o,sort:a,filter:Object(Ae.a)(Object(Ae.a)({},u),d),exporter:i,maxResults:p}),N&&n.a.createElement(n.a.Fragment,null,n.a.createElement(x.a,{"aria-label":"more","aria-controls":"user-preference-menu","aria-haspopup":"true",onClick:function(e){k(e.currentTarget)},size:"small"},n.a.createElement(Nt.a,null)),n.a.createElement(Ct.a,{id:"user-preference-menu",anchorEl:_,keepMounted:!0,open:S,onClose:function(){k(null)},classes:{paper:C.menuPaper,list:C.menuList}},h&&n.a.createElement(qt,null,n.a.createElement(Rt,{preferenceKey:t,view:v,setView:w})),g&&n.a.createElement(qt,null,n.a.createElement(Tt,{preferenceKey:t,defaultColumns:E})))))},Dt=function(e){var t=e.preferenceKey,a=e.hasColumnsSelector,c=void 0===a||a,o=e.defaultColumns,l=void 0===o?[]:o,s=e.defaultOmittedColumns,i=void 0===s?[]:s,u=e.hasViewSelector,d=void 0===u||u,f=e.defaultView,p=void 0===f?"small":f,b=e.children,g=Object(ce.a)(e,["preferenceKey","hasColumnsSelector","defaultColumns","defaultOmittedColumns","hasViewSelector","defaultView","children"]),E=Object(m.g)({preferences:"".concat(t,".columns"),columns:l,omit:i}),h=Object(m.f)("".concat(t,".view"),p),v=Object(A.a)(h,2),w=v[0],y=v[1],O=Object(r.useMemo)((function(){return b(Object(Ae.a)(Object(Ae.a)({},g),{},{columns:E,view:w}))}),[E,w,b,g]);return n.a.createElement(yt.a,Object.assign({},g,{actions:n.a.createElement(At,{preferenceKey:"".concat(t,".columns"),hasColumnsSelector:c,defaultColumns:l,hasViewSelector:d,view:w,setView:y})}),O)},Lt=[{id:"compulsive",name:"resources.segments.data.compulsive"},{id:"collector",name:"resources.segments.data.collector"},{id:"ordered_once",name:"resources.segments.data.ordered_once"},{id:"regular",name:"resources.segments.data.regular"},{id:"returns",name:"resources.segments.data.returns"},{id:"reviewer",name:"resources.segments.data.reviewer"}],zt=Object(k.a)({main:{display:"flex",flexWrap:"wrap",marginTop:-8,marginBottom:-8},chip:{margin:4}}),Ft=function(e){var t=e.record,a=Object(B.a)(),r=zt();return t?n.a.createElement("span",{className:r.main},t.groups&&t.groups.map((function(e){var t=Lt.find((function(t){return t.id===e}));return t?n.a.createElement(fe.a,{key:t.id,className:r.chip,label:a(t.name)}):null}))):null};Ft.defaultProps={addLabel:!0,source:"groups"};var It=Ft,Ut=Object(k.a)({input:{width:150}}),Vt=function(e){var t=Object(B.a)(),a=Ut();return n.a.createElement(Ee.a,Object.assign({},e,{choices:Lt.map((function(e){return{id:e.id,name:t(e.name)}})),className:a.input}))};Vt.defaultProps={source:"groups"};var Bt=Vt,Mt=a(745),Wt=a(744),Ht=a.n(Wt),Jt=a(1810),Gt=function(e){var t=e.record,a=e.size,r=void 0===a?"25":a,c=e.className;return t?n.a.createElement(Jt.a,{src:"".concat(t.avatar,"?size=").concat(r,"x").concat(r),style:{width:parseInt(r,10),height:parseInt(r,10)},className:c}):null},Kt=Object(k.a)((function(e){return{root:{display:"flex",flexWrap:"nowrap",alignItems:"center"},avatar:{marginRight:e.spacing(1)}}})),Qt=Ht()((function(e){var t=e.record,a=e.size,r=Kt();return t?n.a.createElement("div",{className:r.root},n.a.createElement(Gt,{className:r.avatar,record:t,size:a}),t.first_name," ",t.last_name):null}));Qt.defaultProps={source:"last_name",label:"resources.customers.fields.name"};var Xt=Qt,Yt=function(e){return e.record?n.a.createElement(Mt.a,{to:"/customers/".concat(e.record.id)},n.a.createElement(Xt,e)):null};Yt.defaultProps={source:"customer_id",addLabel:!0};var Zt=Yt,$t=function(e){var t=function(t){return t.record&&t.source?t.record[t.source]>500?n.a.createElement("span",{style:{color:"red"}},n.a.createElement(e,t)):n.a.createElement(e,t):null};return t.displayName="Colored(".concat(e.displayName,")"),t}(Se.a);$t.defaultProps=Se.a.defaultProps;var ea=$t,ta=a(1764),aa=a(1744),ra=Object(k.a)((function(e){return{root:{margin:"1em"},card:{height:"100%",display:"flex",flexDirection:"column",margin:"0.5rem 0"},cardTitleContent:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},cardContent:Object(Ae.a)(Object(Ae.a)({},e.typography.body1),{},{display:"flex",flexDirection:"column"})}})),na=function(e){var t=e.ids,a=e.data,r=e.basePath,c=Object(B.a)(),o=ra();return t&&a?n.a.createElement("div",{className:o.root},t.map((function(e){return n.a.createElement(De.a,{key:e,className:o.card},n.a.createElement(ta.a,{title:n.a.createElement("div",{className:o.cardTitleContent},n.a.createElement("h2",null,"".concat(a[e].first_name," ").concat(a[e].last_name)),n.a.createElement(aa.a,{resource:"visitors",basePath:r,record:a[e]})),avatar:n.a.createElement(Gt,{record:a[e],size:"45"})}),n.a.createElement($.a,{className:o.cardContent},n.a.createElement("div",null,c("resources.customers.fields.last_seen_gte"),"\xa0",n.a.createElement(gt.a,{record:a[e],source:"last_seen",type:"date"})),n.a.createElement("div",null,c("resources.commands.name",a[e].nb_commands||1),"\xa0:\xa0",n.a.createElement(Se.a,{record:a[e],source:"nb_commands",label:"resources.customers.fields.commands"})),n.a.createElement("div",null,c("resources.customers.fields.total_spent"),"\xa0 :"," ",n.a.createElement(ea,{record:a[e],source:"total_spent",options:{style:"currency",currency:"USD"}}))),a[e].groups&&a[e].groups.length>0&&n.a.createElement($.a,{className:o.cardContent},n.a.createElement(It,{record:a[e]})))}))):null};na.defaultProps={data:{},ids:[]};var ca=na,oa=a(746),la=a.n(oa),sa=Object(k.a)((function(e){return{root:{margin:"1em",display:"flex",flexWrap:"wrap",alignItems:"stretch",justifyContent:"space-between"},card:{width:265,display:"flex",flexDirection:"column",margin:"0.5rem 0"},cardTitleContent:{display:"flex",flexDirection:"column",alignItems:"center",position:"relative"},editButton:{position:"absolute",top:0,right:0},cardContent:Object(Ae.a)(Object(Ae.a)({},e.typography.body1),{},{display:"flex",flexDirection:"column"})}})),ia=function(e){var t=e.ids,a=e.data,c=e.basePath,o=e.fields,l=Object(B.a)(),s=sa();return t&&a?n.a.createElement("div",{className:s.root},t.map((function(e){return n.a.createElement(De.a,{key:e,className:s.card},n.a.createElement($.a,{className:s.cardContent},n.a.createElement("div",{className:s.cardTitleContent},n.a.createElement(Gt,{record:a[e],size:"120"}),n.a.createElement("h2",null,"".concat(a[e].first_name," ").concat(a[e].last_name)),n.a.createElement(x.a,{color:"secondary","aria-label":"Edit",component:S.a,className:s.editButton,to:Object(Ce.a)(c,e)},n.a.createElement(la.a,null))),o.filter((function(e){return"customer_id"!==e.props.source})).filter((function(t){return!!a[e][t.props.source]})).map((function(t){var c=t.props.source;return n.a.createElement("div",{key:c,style:{display:"flex",flexWrap:"wrap"}},n.a.createElement("div",{style:{marginRight:"1em",marginBottom:"0.5em",marginTop:"1em"}},l("resources.customers.fields.".concat(c))),n.a.createElement("div",{style:{whiteSpace:"nowrap",marginBottom:"0.5em",marginTop:"1em"}},Object(r.cloneElement)(t,{record:a[e]})))}))))}))):null};ia.defaultProps={data:{},ids:[]};var ua=ia,da=a(268),ma=a.n(da),fa=a(747),pa=a.n(fa),ba=a(748),ga=a.n(ba),Ea=a(125),ha=Object(Y.a)((function(e){var t;return{root:(t={flexShrink:0},Object(w.a)(t,e.breakpoints.up("sm"),{order:-1,width:"15em",marginRight:"1em"}),Object(w.a)(t,e.breakpoints.down("sm"),{display:"none"}),t)}}))(De.a),va=function(){return r.createElement(ha,null,r.createElement($.a,null,r.createElement(Be.a,null),r.createElement(Me.a,{label:"resources.customers.filters.last_visited",icon:r.createElement(ma.a,null)},r.createElement(We.a,{label:"resources.customers.filters.today",value:{last_seen_gte:Object(Ea.endOfYesterday)().toISOString(),last_seen_lte:void 0}}),r.createElement(We.a,{label:"resources.customers.filters.this_week",value:{last_seen_gte:Object(Ea.startOfWeek)(new Date).toISOString(),last_seen_lte:void 0}}),r.createElement(We.a,{label:"resources.customers.filters.last_week",value:{last_seen_gte:Object(Ea.subWeeks)(Object(Ea.startOfWeek)(new Date),1).toISOString(),last_seen_lte:Object(Ea.startOfWeek)(new Date).toISOString()}}),r.createElement(We.a,{label:"resources.customers.filters.this_month",value:{last_seen_gte:Object(Ea.startOfMonth)(new Date).toISOString(),last_seen_lte:void 0}}),r.createElement(We.a,{label:"resources.customers.filters.last_month",value:{last_seen_gte:Object(Ea.subMonths)(Object(Ea.startOfMonth)(new Date),1).toISOString(),last_seen_lte:Object(Ea.startOfMonth)(new Date).toISOString()}}),r.createElement(We.a,{label:"resources.customers.filters.earlier",value:{last_seen_gte:void 0,last_seen_lte:Object(Ea.subMonths)(Object(Ea.startOfMonth)(new Date),1).toISOString()}})),r.createElement(Me.a,{label:"resources.customers.filters.has_ordered",icon:r.createElement(pa.a,null)},r.createElement(We.a,{label:"ra.boolean.true",value:{nb_commands_gte:1,nb_commands_lte:void 0}}),r.createElement(We.a,{label:"ra.boolean.false",value:{nb_commands_gte:void 0,nb_commands_lte:0}})),r.createElement(Me.a,{label:"resources.customers.filters.has_newsletter",icon:r.createElement(ga.a,null)},r.createElement(We.a,{label:"ra.boolean.true",value:{has_newsletter:!0}}),r.createElement(We.a,{label:"ra.boolean.false",value:{has_newsletter:!1}})),r.createElement(Me.a,{label:"resources.customers.filters.group",icon:r.createElement(ze.a,null)},Lt.map((function(e){return r.createElement(We.a,{label:e.name,key:e.id,value:{groups:e.id}})})))))},wa=function(e){return n.a.createElement(pe.a,e,n.a.createElement(be.a,{source:"q",alwaysOn:!0}),n.a.createElement(pt.a,{source:"last_seen_gte"}),n.a.createElement(bt.a,{source:"has_ordered"}),n.a.createElement(bt.a,{source:"has_newsletter",defaultValue:!0}),n.a.createElement(Bt,null))},ya={customer:n.a.createElement(Zt,null),last_seen:n.a.createElement(gt.a,{source:"last_seen"}),nb_commands:n.a.createElement(Se.a,{source:"nb_commands",label:"Commands"}),total_spent:n.a.createElement(ea,{source:"total_spent",options:{style:"currency",currency:"USD"}}),latest_purchase:n.a.createElement(gt.a,{source:"latest_purchase",showTime:!0}),has_newsletter:n.a.createElement(Et.a,{source:"has_newsletter",label:"News."}),segments:n.a.createElement(It,null)},Oa=function(e){var t=Object(Z.a)((function(e){return e.breakpoints.down("xs")}));Object(U.k)("audience.customers");var a=Object(Z.a)((function(e){return e.breakpoints.down("sm")}));return n.a.createElement(Dt,Object.assign({},e,{preferenceKey:"visitors.list",hasColumnsSelector:!0,defaultColumns:ya,defaultOmittedColumns:["last_seen"],hasViewSelector:!0,defaultView:!0,filters:a?n.a.createElement(wa,null):null,aside:n.a.createElement(va,null),sort:{field:"last_seen",order:"DESC"},perPage:25}),(function(e){var a=e.columns,r=e.view,c=(e.hasShow,e.hasList,e.hasEdit,e.hasCreate,Object(ce.a)(e,["columns","view","hasShow","hasList","hasEdit","hasCreate"]));return t?n.a.createElement(ca,null):"grid"===r?n.a.createElement(ua,{fields:a}):n.a.createElement(ht.a,Object.assign({rowClick:"edit"},c),a)}))},ja=a(1773),_a=a(723),ka=Object(k.a)({first_name:{display:"inline-block"},last_name:{display:"inline-block",marginLeft:32},email:{width:544},address:{maxWidth:544},zipcode:{display:"inline-block"},city:{display:"inline-block",marginLeft:32},comment:{maxWidth:"20em",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},password:{display:"inline-block"},confirm_password:{display:"inline-block",marginLeft:32}}),xa=function(e){var t=e.password,a=e.confirm_password,r={};return t&&a&&t!==a&&(r.confirm_password=["resources.customers.errors.password_mismatch"]),r},Ca=[Object(_a.b)()],Sa=function(e){var t=e.label,a=Object(B.a)();return n.a.createElement(_.a,{variant:"h6",gutterBottom:!0},a(t))},Na=function(){return n.a.createElement(ee.a,{pt:"1em"})},Pa=function(e){var t=ka();return Object(U.k)("audience.customers.create"),n.a.createElement(st.a,e,n.a.createElement(de.a,{validate:xa},n.a.createElement(Sa,{label:"resources.customers.fieldGroups.identity"}),n.a.createElement(me.a,{source:"first_name",formClassName:t.first_name,validate:Ca}),n.a.createElement(me.a,{source:"last_name",formClassName:t.last_name,validate:Ca}),n.a.createElement(me.a,{type:"email",source:"email",validation:{email:!0},fullWidth:!0,formClassName:t.email,validate:Ca}),n.a.createElement(pt.a,{source:"birthday"}),n.a.createElement(Na,null),n.a.createElement(Sa,{label:"resources.customers.fieldGroups.address"}),n.a.createElement(me.a,{source:"address",formClassName:t.address,multiline:!0,fullWidth:!0}),n.a.createElement(me.a,{source:"zipcode",formClassName:t.zipcode}),n.a.createElement(me.a,{source:"city",formClassName:t.city}),n.a.createElement(Na,null),n.a.createElement(Sa,{label:"resources.customers.fieldGroups.password"}),n.a.createElement(ja.a,{source:"password",formClassName:t.password}),n.a.createElement(ja.a,{source:"confirm_password",formClassName:t.confirm_password})))},qa=a(1797),Ta=a(364),Ra=a(325),Aa=a(1775),Da=a(491),La=a(215),za=a.n(La),Fa=a(1795),Ia=a(24),Ua=a(52),Va=a(1794),Ba=a(1679),Ma=a(1776),Wa=a(1774),Ha=function(e){return e.basket.length},Ja=function(e){return n.a.createElement(Wa.a,Object.assign({},e,{render:Ha}))};Ja.defaultProps={label:"Nb Items",textAlign:"right"};var Ga=Ja,Ka=a(1811),Qa=function(e){return n.a.createElement(Ka.a,Object.assign({source:"customer_id",reference:"customers"},e),n.a.createElement(Xt,null))};Qa.defaultProps={source:"customer_id",addLabel:!0};var Xa=Qa,Ya=Object(k.a)((function(e){return{card:{height:"100%",display:"flex",flexDirection:"column",margin:"0.5rem 0"},cardTitleContent:{display:"flex",flexDirection:"rows",alignItems:"center",justifyContent:"space-between"},cardContent:e.typography.body1,cardContentRow:{display:"flex",flexDirection:"rows",alignItems:"center",margin:"0.5rem 0"}}})),Za=function(e){var t=e.ids,a=e.data,r=e.basePath,c=Object(B.a)(),o=Ya();return n.a.createElement("div",{style:{margin:"1em"}},t.map((function(e){return n.a.createElement(De.a,{key:e,className:o.card},n.a.createElement(ta.a,{title:n.a.createElement("div",{className:o.cardTitleContent},n.a.createElement("span",null,c("resources.commands.name",1),":\xa0",n.a.createElement(Aa.a,{record:a[e],source:"reference"})),n.a.createElement(aa.a,{resource:"commands",basePath:r,record:a[e]}))}),n.a.createElement($.a,{className:o.cardContent},n.a.createElement("span",{className:o.cardContentRow},c("resources.customers.name",1),":\xa0",n.a.createElement(Xa,{record:a[e],basePath:r})),n.a.createElement("span",{className:o.cardContentRow},c("resources.reviews.fields.date"),":\xa0",n.a.createElement(gt.a,{record:a[e],source:"date",showTime:!0})),n.a.createElement("span",{className:o.cardContentRow},c("resources.commands.fields.basket.total"),":\xa0",n.a.createElement(Se.a,{record:a[e],source:"total",options:{style:"currency",currency:"USD"},className:o.total})),n.a.createElement("span",{className:o.cardContentRow},c("resources.commands.fields.status"),":\xa0",n.a.createElement(Aa.a,{source:"status",record:a[e]})),n.a.createElement("span",{className:o.cardContentRow},c("resources.commands.fields.returned"),":\xa0",n.a.createElement(Et.a,{record:a[e],source:"returned"}))))})))};Za.defaultProps={data:{},ids:[]};var $a=Za,er=function(e){return n.a.createElement(pe.a,e,n.a.createElement(be.a,{source:"q",alwaysOn:!0}),n.a.createElement(ge.a,{source:"customer_id",reference:"customers"},n.a.createElement(Fa.a,{optionText:function(e){return e.first_name&&e.last_name?"".concat(e.first_name," ").concat(e.last_name):""}})),n.a.createElement(pt.a,{source:"date_gte"}),n.a.createElement(pt.a,{source:"date_lte"}),n.a.createElement(me.a,{source:"total_gte"}),n.a.createElement(bt.a,{source:"returned"}))},tr=Object(k.a)({total:{fontWeight:"bold"}}),ar=[{id:"ordered",name:"ordered"},{id:"delivered",name:"delivered"},{id:"cancelled",name:"cancelled"}],rr=function(e){var t=Object(r.useState)({ordered:[],delivered:[],cancelled:[]}),a=Object(A.a)(t,2),c=a[0],o=a[1];Object(r.useEffect)((function(){e.ids!==c[e.filterValues.status]&&o((function(t){return Object(Ae.a)(Object(Ae.a)({},t),{},Object(w.a)({},e.filterValues.status,e.ids))}))}),[e.filterValues.status,e.ids,c]);var l=Object(Ua.a)(),s=e.isXSmall,i=e.classes,u=e.filterValues,d=e.batchLevel,m=Object(ce.a)(e,["isXSmall","classes","filterValues","batchLevel"]),f=function(e,t){return function(a){var r;switch(a.batch){case e:r="light"===t.palette.type?Object(Ia.e)(Object(Ia.c)(t.palette.info.light,1),.68):Object(Ia.a)(Object(Ia.c)(t.palette.info.dark,1),.88);break;case 1:e>0&&(r="light"===t.palette.type?Object(Ia.e)(Object(Ia.c)(t.palette.info.light,1),.78):Object(Ia.a)(Object(Ia.c)(t.palette.info.dark,1),.78));break;default:r=t.palette.background.paper}return{backgroundColor:r}}}(d,l);return n.a.createElement(r.Fragment,null,n.a.createElement(Va.a,{variant:"fullWidth",centered:!0,value:u.status,indicatorColor:"primary",onChange:function(t,a){var r=e.filterValues;(0,e.setFilters)(Object(Ae.a)(Object(Ae.a)({},r),{},{status:a}))}},ar.map((function(e){return n.a.createElement(Ba.a,{key:e.id,label:e.name,value:e.id})}))),n.a.createElement(Ma.a,null),s?n.a.createElement($a,Object.assign({},m,{ids:c[u.status]})):n.a.createElement("div",null,"ordered"===u.status&&n.a.createElement(ht.a,Object.assign({},m,{ids:c.ordered,optimized:!0,rowClick:"edit",rowStyle:f,"data-testid":"order-ordered-datagrid"}),n.a.createElement(Aa.a,{source:"id"}),n.a.createElement(gt.a,{source:"date",showTime:!0}),n.a.createElement(Aa.a,{source:"reference"}),n.a.createElement(Xa,null),n.a.createElement(Ga,null),n.a.createElement(Se.a,{source:"total",options:{style:"currency",currency:"USD"},className:i.total})),"delivered"===u.status&&n.a.createElement(ht.a,Object.assign({},m,{ids:c.delivered}),n.a.createElement(gt.a,{source:"date",showTime:!0}),n.a.createElement(Aa.a,{source:"reference"}),n.a.createElement(Xa,null),n.a.createElement(Ga,null),n.a.createElement(Se.a,{source:"total",options:{style:"currency",currency:"USD"},className:i.total}),n.a.createElement(Et.a,{source:"returned"}),n.a.createElement(aa.a,null)),"cancelled"===u.status&&n.a.createElement(ht.a,Object.assign({},m,{ids:c.cancelled}),n.a.createElement(gt.a,{source:"date",showTime:!0}),n.a.createElement(Aa.a,{source:"reference"}),n.a.createElement(Xa,null),n.a.createElement(Ga,null),n.a.createElement(Se.a,{source:"total",options:{style:"currency",currency:"USD"},className:i.total}),n.a.createElement(Et.a,{source:"returned"}),n.a.createElement(aa.a,null))))},nr=function(e){var t=tr(),a=Object(Z.a)((function(e){return e.breakpoints.down("xs")})),r=parseInt(localStorage.getItem("batchLevel"),0)||0;return n.a.createElement(rr,Object.assign({classes:t,isXSmall:a,batchLevel:r},e))},cr=function(e){e.classes;var t=Object(ce.a)(e,["classes"]);return n.a.createElement(g.a,Object.assign({},t,{filterDefaultValues:{status:"ordered"},sort:{field:"date",order:"DESC"},perPage:25,filters:n.a.createElement(er,null)}),n.a.createElement(nr,null))},or=a(1800),lr=a(4),sr=a.n(lr),ir=a(1771),ur=a(1769),dr=a(1741),mr=a(1772),fr=a(1770),pr=a(493),br=a(156),gr=Object(k.a)({container:{minWidth:"35em",marginLeft:"1em"},rightAlignedCell:{textAlign:"right"},boldCell:{fontWeight:"bold"}}),Er=function(e){var t=e.record,a=gr(),r=Object(B.a)(),c=Object(br.a)({type:"getMany",resource:"products",payload:{ids:t?t.basket.map((function(e){return e.product_id})):[]}},{},(function(e){return(t?t.basket.map((function(e){return e.product_id})):[]).map((function(t){return e.admin.resources.products.data[t]})).filter((function(e){return"undefined"!==typeof e})).reduce((function(e,t){return e[t.id]=t,e}),{})})),o=c.loaded,l=c.data;return o&&t?n.a.createElement(pr.a,{className:a.container,elevation:2},n.a.createElement(ir.a,null,n.a.createElement(mr.a,null,n.a.createElement(fr.a,null,n.a.createElement(dr.a,null,r("resources.commands.fields.basket.reference")),n.a.createElement(dr.a,{className:a.rightAlignedCell},r("resources.commands.fields.basket.unit_price")),n.a.createElement(dr.a,{className:a.rightAlignedCell},r("resources.commands.fields.basket.quantity")),n.a.createElement(dr.a,{className:a.rightAlignedCell},r("resources.commands.fields.basket.total")))),n.a.createElement(ur.a,null,t.basket.map((function(e){return l[e.product_id]&&n.a.createElement(fr.a,{key:e.product_id},n.a.createElement(dr.a,null,n.a.createElement(Mt.a,{to:"/products/".concat(e.product_id)},l[e.product_id].reference)),n.a.createElement(dr.a,{className:a.rightAlignedCell},l[e.product_id].price.toLocaleString(void 0,{style:"currency",currency:"USD"})),n.a.createElement(dr.a,{className:a.rightAlignedCell},e.quantity),n.a.createElement(dr.a,{className:a.rightAlignedCell},(l[e.product_id].price*e.quantity).toLocaleString(void 0,{style:"currency",currency:"USD"})))})),n.a.createElement(fr.a,null,n.a.createElement(dr.a,{colSpan:2}),n.a.createElement(dr.a,null,r("resources.commands.fields.basket.sum")),n.a.createElement(dr.a,{className:a.rightAlignedCell},t.total_ex_taxes.toLocaleString(void 0,{style:"currency",currency:"USD"}))),n.a.createElement(fr.a,null,n.a.createElement(dr.a,{colSpan:2}),n.a.createElement(dr.a,null,r("resources.commands.fields.basket.delivery")),n.a.createElement(dr.a,{className:a.rightAlignedCell},t.delivery_fees.toLocaleString(void 0,{style:"currency",currency:"USD"}))),n.a.createElement(fr.a,null,n.a.createElement(dr.a,{colSpan:2}),n.a.createElement(dr.a,null,r("resources.commands.fields.basket.tax_rate")),n.a.createElement(dr.a,{className:a.rightAlignedCell},t.tax_rate.toLocaleString(void 0,{style:"percent"}))),n.a.createElement(fr.a,null,n.a.createElement(dr.a,{colSpan:2}),n.a.createElement(dr.a,{className:a.boldCell},r("resources.commands.fields.basket.total")),n.a.createElement(dr.a,{className:sr()(a.boldCell,a.rightAlignedCell)},t.total.toLocaleString(void 0,{style:"currency",currency:"USD"})))))):null},hr=function(e){var t=e.record,a=Object(B.a)();return n.a.createElement("span",null,a("resources.commands.title",{reference:t.reference}))},vr=Object(k.a)({root:{alignItems:"flex-start"}}),wr={list:cr,edit:function(e){var t=vr();return n.a.createElement(ue.a,Object.assign({title:n.a.createElement(hr,null),aside:n.a.createElement(Er,null),classes:t},e),n.a.createElement(de.a,null,n.a.createElement(pt.a,{source:"date"}),n.a.createElement(ge.a,{source:"customer_id",reference:"customers"},n.a.createElement(Fa.a,{optionText:function(e){return"".concat(e.first_name," ").concat(e.last_name)}})),n.a.createElement(Ee.a,{source:"status",choices:[{id:"delivered",name:"delivered"},{id:"ordered",name:"ordered"},{id:"cancelled",name:"cancelled"},{id:"unknown",name:"unknown",disabled:!0}]}),n.a.createElement(or.a,{source:"returned"})))},icon:Ve.a},yr=a(369),Or=a.n(yr),jr=a(811),_r=a(29),kr=a(496),xr=a(367),Cr=a.n(xr),Sr=a(1740),Nr=a(653),Pr=a(1777),qr=function(e){var t=e.selectedIds,a=Object(L.a)(),r=Object(z.a)(),c=Object(Sr.a)("reviews"),o=Object(Nr.a)("reviews",t,{status:"accepted"},{action:Pr.a,undoable:!0,onSuccess:function(){a("resources.reviews.notification.approved_success","info",{},!0),r("/reviews"),c()},onFailure:function(){a("resources.reviews.notification.approved_error","warning")}}),l=Object(A.a)(o,2),s=l[0],i=l[1].loading;return n.a.createElement(vt.a,{label:"resources.reviews.action.accept",onClick:s,disabled:i},n.a.createElement(Cr.a,null))},Tr=a(368),Rr=a.n(Tr),Ar=function(e){var t=e.selectedIds,a=Object(L.a)(),r=Object(z.a)(),c=Object(Sr.a)("reviews"),o=Object(Nr.a)("reviews",t,{status:"rejected"},{action:Pr.a,undoable:!0,onSuccess:function(){a("resources.reviews.notification.approved_success","info",{},!0),r("/reviews"),c()},onFailure:function(){a("resources.reviews.notification.approved_error","warning")}}),l=Object(A.a)(o,2),s=l[0],i=l[1].loading;return n.a.createElement(vt.a,{label:"resources.reviews.action.reject",onClick:s,disabled:i},n.a.createElement(Rr.a,null))},Dr=a(1664),Lr=a(819),zr=a(1778),Fr=a(1675),Ir=Object(k.a)({root:{width:"100vw"},link:{textDecoration:"none",color:"inherit"},inline:{display:"inline"}}),Ur=function(e){var t=e.basePath,a=e.data,c=e.ids,o=e.loading,l=e.total,s=Object(ce.a)(e,["basePath","data","ids","loading","total"]),i=Ir(),u=Object(U.j)(),d=Object(A.a)(u,2)[1],m=Object(U.l)();return Object(r.useEffect)((function(){var e=s.filterValues.status;"undefined"!==typeof e?d("reviews.status_filter",{status:e}):d("reviews")}),[d,s.filterValues,JSON.stringify({resourceLocation:m,filter:s.filterValues})]),(o||l>0)&&n.a.createElement(Dr.a,{className:i.root},c.map((function(e){return n.a.createElement(S.a,{to:Object(Ce.a)(t,e),className:i.link,key:e},n.a.createElement(Lr.a,{button:!0},n.a.createElement(zr.a,null,n.a.createElement(Ka.a,{record:a[e],source:"customer_id",reference:"customers",basePath:t,linkType:!1},n.a.createElement(Gt,{size:40}))),n.a.createElement(Fr.a,{primary:n.a.createElement(n.a.Fragment,null,n.a.createElement(Ka.a,{record:a[e],source:"customer_id",reference:"customers",basePath:t,linkType:!1},n.a.createElement(Wa.a,{render:function(e){return"".concat(e.first_name," ").concat(e.last_name)},variant:"subtitle1",className:i.inline}))," ","on"," ",n.a.createElement(Ka.a,{record:a[e],source:"product_id",reference:"products",basePath:t,linkType:!1},n.a.createElement(Aa.a,{source:"reference",variant:"subtitle1",className:i.inline}))),secondary:a[e].comment,secondaryTypographyProps:{noWrap:!0}})))})))};Ur.defaultProps={linkType:"edit",hasBulkActions:!1,selectedIds:[]};var Vr=Ur,Br=function(e){return n.a.createElement(Ka.a,Object.assign({label:"Product",source:"product_id",reference:"products"},e),n.a.createElement(Aa.a,{source:"reference"}))};Br.defaultProps={source:"product_id",addLabel:!0};var Mr=Br,Wr=a(756),Hr=a.n(Wr),Jr=Object(k.a)({root:{opacity:.87,whiteSpace:"nowrap"},large:{width:20,height:20},small:{width:15,height:15}}),Gr=function(e){var t=e.record,a=e.size,r=void 0===a?"large":a,c=Jr();return t?n.a.createElement("span",null,Array(t.rating).fill(!0).map((function(e,t){return n.a.createElement(Hr.a,{key:t,className:"large"===r?c.large:c.small})}))):null};Gr.defaultProps={label:"resources.reviews.fields.rating",source:"rating",addLabel:!0};var Kr=Gr,Qr=a(757),Xr=a.n(Qr),Yr=a(758),Zr=a.n(Yr),$r=a(759),en=a.n($r),tn=function(e,t){return function(a,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=n;return e===a.id&&(c=Object(Ae.a)(Object(Ae.a)({},c),{},{backgroundColor:t.palette.action.selected})),"accepted"===a.status?Object(Ae.a)(Object(Ae.a)({},c),{},{borderLeftColor:Xr.a[500],borderLeftWidth:5,borderLeftStyle:"solid"}):"pending"===a.status?Object(Ae.a)(Object(Ae.a)({},c),{},{borderLeftColor:Zr.a[500],borderLeftWidth:5,borderLeftStyle:"solid"}):"rejected"===a.status?Object(Ae.a)(Object(Ae.a)({},c),{},{borderLeftColor:en.a[500],borderLeftWidth:5,borderLeftStyle:"solid"}):c}},an=Object(k.a)({headerRow:{borderLeftColor:"white",borderLeftWidth:5,borderLeftStyle:"solid"},headerCell:{padding:"6px 8px 6px 8px"},rowCell:{padding:"6px 8px 6px 8px"},comment:{maxWidth:"18em",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}),rn=function(e){var t=e.selectedRow,a=Object(ce.a)(e,["selectedRow"]),c=an(),o=Object(Ua.a)(),l=Object(U.j)(),s=Object(A.a)(l,2)[1],i=Object(U.l)();return Object(r.useEffect)((function(){var e=a.filterValues.status;"undefined"!==typeof e?s("reviews.status_filter",{status:e}):s("reviews")}),[s,a.filterValues,JSON.stringify({resourceLocation:i,filter:a.filterValues})]),n.a.createElement(ht.a,Object.assign({rowClick:"edit",rowStyle:tn(t,o),classes:{headerRow:c.headerRow,headerCell:c.headerCell,rowCell:c.rowCell},optimized:!0},a),n.a.createElement(gt.a,{source:"date"}),n.a.createElement(Xa,{link:!1}),n.a.createElement(Mr,{link:!1}),n.a.createElement(Kr,{size:"small"}),n.a.createElement(Aa.a,{source:"comment",cellClassName:c.comment}),n.a.createElement(Aa.a,{source:"status"}))},nn=Object(k.a)({status:{width:150}}),cn=function(e){var t=nn();return n.a.createElement(pe.a,e,n.a.createElement(be.a,{source:"q",alwaysOn:!0}),n.a.createElement(Ee.a,{source:"status",choices:[{id:"accepted",name:"pos.reviews.accepted"},{id:"pending",name:"pos.reviews.pending"},{id:"rejected",name:"pos.reviews.rejected"}],className:t.status}),n.a.createElement(ge.a,{source:"customer_id",reference:"customers"},n.a.createElement(Fa.a,{optionText:function(e){return"".concat(e.first_name," ").concat(e.last_name)}})),n.a.createElement(ge.a,{source:"product_id",reference:"products"},n.a.createElement(Fa.a,{optionText:"reference"})),n.a.createElement(pt.a,{source:"date_gte"}),n.a.createElement(pt.a,{source:"date_lte"}))},on=a(1745),ln=a(174),sn=a.n(ln),un=a(820),dn=a(1678),mn=a(1681),fn=a(492),pn=a(469),bn=function(e){var t=e.record,a=Object(B.a)(),r=Object(L.a)(),c=Object(z.a)(),o=Object(pn.a)("reviews",t.id,{status:"accepted"},t,{undoable:!0,onSuccess:function(){r("resources.reviews.notification.approved_success","info",{},!0),c("/reviews")},onFailure:function(){r("resources.reviews.notification.approved_error","warning")}}),l=Object(A.a)(o,2),s=l[0],i=l[1].loading;return t&&"pending"===t.status?n.a.createElement(fn.a,{variant:"outlined",color:"primary",size:"small",onClick:s,disabled:i},n.a.createElement(Cr.a,{color:"primary",style:{paddingRight:"0.5em",color:"green"}}),a("resources.reviews.action.accept")):n.a.createElement("span",null)},gn=function(e){var t=e.record,a=Object(B.a)(),r=Object(L.a)(),c=Object(z.a)(),o=Object(pn.a)("reviews",t.id,{status:"rejected"},t,{undoable:!0,onSuccess:function(){r("resources.reviews.notification.rejected_success","info",{},!0),c("/reviews")},onFailure:function(){r("resources.reviews.notification.rejected_error","warning")}}),l=Object(A.a)(o,2),s=l[0],i=l[1].loading;return t&&"pending"===t.status?n.a.createElement(fn.a,{variant:"outlined",color:"primary",size:"small",onClick:s,disabled:i},n.a.createElement(Rr.a,{color:"primary",style:{paddingRight:"0.5em",color:"red"}}),a("resources.reviews.action.reject")):n.a.createElement("span",null)},En=Object(k.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,display:"flex",justifyContent:"space-between"}}})),hn=function(e){var t=e.basePath,a=e.handleSubmitWithRedirect,c=e.invalid,o=e.record,l=e.resource,s=e.saving,i=En();return n.a.createElement(un.a,{className:i.root},"pending"===o.status?n.a.createElement(r.Fragment,null,n.a.createElement(bn,{record:o}),n.a.createElement(gn,{record:o})):n.a.createElement(r.Fragment,null,n.a.createElement(dn.a,{handleSubmitWithRedirect:a,invalid:c,saving:s,redirect:"list",submitOnEnter:!0}),n.a.createElement(mn.a,{basePath:t,record:o,resource:l})))},vn=Object(k.a)((function(e){var t;return{root:{paddingTop:40},title:{display:"flex",alignItems:"center",justifyContent:"space-between",margin:"1em"},form:(t={},Object(w.a)(t,e.breakpoints.up("xs"),{width:400}),Object(w.a)(t,e.breakpoints.down("xs"),{width:"100vw",marginTop:-30}),t),inlineField:{display:"inline-block",width:"50%"}}})),wn=function(e){var t=e.onCancel,a=Object(ce.a)(e,["onCancel"]),r=vn(),c=Object(on.a)(a),o=Object(B.a)();return c.record?n.a.createElement("div",{className:r.root},n.a.createElement("div",{className:r.title},n.a.createElement(_.a,{variant:"h6"},o("resources.reviews.detail")),n.a.createElement(x.a,{onClick:t},n.a.createElement(sn.a,null))),n.a.createElement(de.a,{className:r.form,basePath:c.basePath,record:c.record,save:c.save,version:c.version,redirect:"list",resource:"reviews",toolbar:n.a.createElement(hn,null)},n.a.createElement(Xa,{formClassName:r.inlineField}),n.a.createElement(Mr,{formClassName:r.inlineField}),n.a.createElement(gt.a,{source:"date",formClassName:r.inlineField}),n.a.createElement(Kr,{formClassName:r.inlineField}),n.a.createElement(me.a,{source:"comment",rowsMax:15,multiline:!0,fullWidth:!0}))):null},yn=function(e){return n.a.createElement(r.Fragment,null,n.a.createElement(qr,e),n.a.createElement(Ar,e),n.a.createElement(jr.a,e))},On=Object(k.a)((function(e){return{root:{display:"flex"},list:{flexGrow:1,transition:e.transitions.create(["all"],{duration:e.transitions.duration.enteringScreen}),marginRight:0},listWithDrawer:{marginRight:400},drawerPaper:{zIndex:100}}})),jn=function(e){var t=On(),a=Object(Z.a)((function(e){return e.breakpoints.down("xs")})),c=Object(_r.g)(),o=Object(r.useCallback)((function(){c.push("/reviews")}),[c]);return n.a.createElement("div",{className:t.root},n.a.createElement(_r.b,{path:"/reviews/:id"},(function(c){var l=c.match,s=!(!l||!l.params||"create"===l.params.id);return n.a.createElement(r.Fragment,null,n.a.createElement(yt.a,Object.assign({},e,{className:sr()(t.list,Object(w.a)({},t.listWithDrawer,s)),bulkActionButtons:n.a.createElement(yn,null),filters:n.a.createElement(cn,null),perPage:25,sort:{field:"date",order:"DESC"}}),a?n.a.createElement(Vr,null):n.a.createElement(rn,{selectedRow:s&&parseInt(l.params.id,10)})),n.a.createElement(kr.a,{variant:"persistent",open:s,anchor:"right",onClose:o,classes:{paper:t.drawerPaper}},s?n.a.createElement(wn,Object.assign({id:l.params.id,onCancel:o},e)):null))})))},_n={icon:Or.a,list:jn},kn=Object(k.a)((function(e){return{root:Object(w.a)({width:400},e.breakpoints.down("md"),{display:"none"})}})),xn=function(e){var t=e.record,a=e.basePath,r=Object(B.a)(),c=Object(Ra.a)("commands",{page:1,perPage:100},{field:"date",order:"DESC"},{customer_id:t&&t.id}),o=c.data,l=c.ids,s=Object(Ra.a)("reviews",{page:1,perPage:100},{field:"date",order:"DESC"},{customer_id:t&&t.id}),i=s.data,u=s.ids,d=Cn(o,l,i,u);return n.a.createElement(n.a.Fragment,null,n.a.createElement(ee.a,{m:"0 0 1em 1em"},n.a.createElement(De.a,null,n.a.createElement($.a,null,n.a.createElement(_.a,{variant:"h6",gutterBottom:!0},r("resources.customers.fieldGroups.history")),n.a.createElement(ee.a,{display:"flex"},n.a.createElement(ee.a,{flexGrow:1},n.a.createElement(ee.a,{display:"flex",mb:"1em"},n.a.createElement(ee.a,{mr:"1em"},n.a.createElement(ma.a,{fontSize:"small",color:"disabled"})),n.a.createElement(ee.a,{flexGrow:1},n.a.createElement(_.a,null,r("resources.customers.fields.first_seen")),n.a.createElement(gt.a,{record:t,source:"first_seen"}))),l.length>0&&n.a.createElement(ee.a,{display:"flex"},n.a.createElement(ee.a,{mr:"1em"},n.a.createElement(wr.icon,{fontSize:"small",color:"disabled"})),n.a.createElement(ee.a,{flexGrow:1},n.a.createElement(_.a,null,r("resources.commands.amount",{smart_count:l.length}))))),n.a.createElement(ee.a,{flexGrow:1},n.a.createElement(ee.a,{display:"flex",mb:"1em"},n.a.createElement(ee.a,{mr:"1em"},n.a.createElement(ma.a,{fontSize:"small",color:"disabled"})),n.a.createElement(ee.a,{flexGrow:1},n.a.createElement(_.a,null,r("resources.customers.fields.last_seen")),n.a.createElement(gt.a,{record:t,source:"last_seen"}))),u.length>0&&n.a.createElement(ee.a,{display:"flex"},n.a.createElement(ee.a,{mr:"1em"},n.a.createElement(_n.icon,{fontSize:"small",color:"disabled"})),n.a.createElement(ee.a,{flexGrow:1},n.a.createElement(_.a,null,r("resources.reviews.amount",{smart_count:u.length}))))))))),d.map((function(e){return"order"===e.type?n.a.createElement(Nn,{record:e.data,key:"event_".concat(e.data.id),basePath:a}):n.a.createElement(Pn,{record:e.data,key:"review_".concat(e.data.id),basePath:a})})))},Cn=function(e,t,a,r){var n=t.map((function(t){return{type:"order",date:e[t].date,data:e[t]}})),c=r.map((function(e){return{type:"review",date:a[e].date,data:a[e]}})),o=n.concat(c);return o.sort((function(e,t){return new Date(e.date)-new Date(t.date)})),o},Sn=Object(k.a)({card:{margin:"0 0 1em 1em"},cardHeader:{alignItems:"flex-start"},clamp:{display:"-webkit-box","-webkit-line-clamp":3,"-webkit-box-orient":"vertical",overflow:"hidden"}}),Nn=function(e){var t=e.record,a=e.basePath,r=Object(B.a)(),c=Sn();return n.a.createElement(De.a,{className:c.card},n.a.createElement(ta.a,{className:c.cardHeader,avatar:n.a.createElement(Jt.a,{"aria-label":r("resources.commands.name",{smart_count:1}),className:c.avatar},n.a.createElement(wr.icon,null)),action:n.a.createElement(qn,{record:t,basePath:"/commands"}),title:"".concat(r("resources.commands.name",{smart_count:1})," #").concat(t.reference),subheader:n.a.createElement(n.a.Fragment,null,n.a.createElement(_.a,{variant:"body2"},t.date),n.a.createElement(_.a,{variant:"body2",color:"textSecondary"},r("resources.commands.nb_items",{smart_count:t.basket.length,_:"1 item |||| %{smart_count} items"}),"\xa0-\xa0",n.a.createElement(Se.a,{source:"total",options:{style:"currency",currency:"USD"},record:t,basePath:a}),"\xa0-\xa0",n.a.createElement(Aa.a,{source:"status",record:t,basePath:a})))}))},Pn=function(e){var t=e.record,a=e.basePath,r=Object(B.a)(),c=Sn();return n.a.createElement(De.a,{className:c.card},n.a.createElement(ta.a,{className:c.cardHeader,avatar:n.a.createElement(Jt.a,{"aria-label":r("resources.reviews.name",{smart_count:1}),className:c.avatar},n.a.createElement(_n.icon,null)),action:n.a.createElement(qn,{record:t,basePath:"/reviews"}),title:n.a.createElement("span",null,r("resources.reviews.relative_to_poster")," ",n.a.createElement(Mr,{resource:"reviews",record:t,basePath:a})),subheader:n.a.createElement(n.a.Fragment,null,n.a.createElement(_.a,{variant:"body2"},t.date),n.a.createElement(Kr,{record:t}),n.a.createElement(_.a,{variant:"inherit",className:c.clamp},t.comment))}))},qn=function(e){var t=e.record,a=e.basePath,r=Object(B.a)();return n.a.createElement(Da.a,{title:r("ra.action.edit")},n.a.createElement(x.a,{"aria-label":r("ra.action.edit"),component:S.a,to:Object(Ce.a)(a,t&&t.id)},n.a.createElement(za.a,null)))},Tn=function(e){var t=e.record,a=e.basePath,r=kn();return n.a.createElement("div",{className:r.root},t&&n.a.createElement(xn,{record:t,basePath:a}))},Rn=a(1779),An=function(e){e.addField;var t=Object(ce.a)(e,["addField"]),a=Object(B.a)();return n.a.createElement(Rn.a,Object.assign({},t,{choices:Lt.map((function(e){return{id:e.id,name:a(e.name)}}))}))};An.defaultProps={addField:!0,source:"groups",resource:"customers"};var Dn=An,Ln=function(e){var t=e.record;return t?n.a.createElement(Xt,{record:t,size:"32"}):null},zn=function(e){var t=Object(B.a)();return Object(U.k)("audience.customers.edit",e),n.a.createElement(qa.a,Object.assign({},e,{validate:xa,render:function(e){return n.a.createElement(De.a,null,n.a.createElement("form",null,n.a.createElement($.a,null,n.a.createElement(ee.a,{display:{md:"block",lg:"flex"}},n.a.createElement(ee.a,{flex:2,mr:{md:0,lg:"1em"}},n.a.createElement(_.a,{variant:"h6",gutterBottom:!0},t("resources.customers.fieldGroups.identity")),n.a.createElement(ee.a,{display:{xs:"block",sm:"flex"}},n.a.createElement(ee.a,{flex:1,mr:{xs:0,sm:"0.5em"}},n.a.createElement(me.a,{source:"first_name",resource:"customers",fullWidth:!0})),n.a.createElement(ee.a,{flex:1,ml:{xs:0,sm:"0.5em"}},n.a.createElement(me.a,{source:"last_name",resource:"customers",fullWidth:!0}))),n.a.createElement(me.a,{type:"email",source:"email",resource:"customers",validation:{email:!0},fullWidth:!0}),n.a.createElement(ee.a,{display:{xs:"block",sm:"flex"}},n.a.createElement(ee.a,{flex:1,mr:{xs:0,sm:"0.5em"}},n.a.createElement(pt.a,{source:"birthday",resource:"customers",fullWidth:!0})),n.a.createElement(ee.a,{flex:2,ml:{xs:0,sm:"0.5em"}})),n.a.createElement(ee.a,{mt:"1em"}),n.a.createElement(_.a,{variant:"h6",gutterBottom:!0},t("resources.customers.fieldGroups.address")),n.a.createElement(me.a,{source:"address",resource:"customers",multiline:!0,fullWidth:!0}),n.a.createElement(ee.a,{display:{xs:"block",sm:"flex"}},n.a.createElement(ee.a,{flex:1,mr:{xs:0,sm:"0.5em"}},n.a.createElement(me.a,{source:"zipcode",resource:"customers",fullWidth:!0})),n.a.createElement(ee.a,{flex:2,ml:{xs:0,sm:"0.5em"}},n.a.createElement(me.a,{source:"city",resource:"customers",fullWidth:!0}))),n.a.createElement(ee.a,{mt:"1em"}),n.a.createElement(_.a,{variant:"h6",gutterBottom:!0},t("resources.customers.fieldGroups.change_password")),n.a.createElement(ee.a,{display:{xs:"block",sm:"flex"}},n.a.createElement(ee.a,{flex:1,mr:{xs:0,sm:"0.5em"}},n.a.createElement(ja.a,{source:"password",resource:"customers",fullWidth:!0})),n.a.createElement(ee.a,{flex:1,ml:{xs:0,sm:"0.5em"}},n.a.createElement(ja.a,{source:"confirm_password",resource:"customers",fullWidth:!0})))),n.a.createElement(ee.a,{flex:1,ml:{xs:0,lg:"1em"},mt:{xs:"1em",lg:0}},n.a.createElement(_.a,{variant:"h6",gutterBottom:!0},t("resources.customers.fieldGroups.stats")),n.a.createElement("div",null,n.a.createElement(Dn,{fullWidth:!0})),n.a.createElement("div",null,n.a.createElement(bt.a,{source:"has_newsletter",resource:"customers"}))))),n.a.createElement(Ta.a,{record:e.record,basePath:e.basePath,undoable:!0,invalid:e.invalid,handleSubmit:e.handleSubmit,saving:e.saving,resource:"customers"})))}}))},Fn={list:Oa,create:Pa,edit:function(e){return n.a.createElement(ue.a,Object.assign({title:n.a.createElement(Ln,null),aside:n.a.createElement(Tn,null),component:"div"},e),n.a.createElement(zn,null))},icon:ft.a},In=a(761),Un=a.n(In),Vn=function(e){var t=e.record;return t?n.a.createElement("span",null,t.address,", ",t.city," ",t.zipcode):null},Bn=a(1780),Mn=a(1743),Wn=function(e){var t=e.record;return t?n.a.createElement(_.a,null,t.first_name," ",t.last_name,n.a.createElement("br",null),t.address,n.a.createElement("br",null),t.city,", ",t.zipcode):null},Hn=function(e){var t=Object(Mn.a)(e).record,a=Jn();return t?n.a.createElement(De.a,{className:a.root},n.a.createElement($.a,null,n.a.createElement(Bn.a,{container:!0,spacing:2},n.a.createElement(Bn.a,{item:!0,xs:6},n.a.createElement(_.a,{variant:"h6",gutterBottom:!0},"Posters Galore")),n.a.createElement(Bn.a,{item:!0,xs:6},n.a.createElement(_.a,{variant:"h6",gutterBottom:!0,align:"right"},"Invoice ",t.id))),n.a.createElement(Bn.a,{container:!0,spacing:2},n.a.createElement(Bn.a,{item:!0,xs:12,container:!0,alignContent:"flex-end"},n.a.createElement(Ka.a,{resource:"invoices",reference:"customers",source:"customer_id",basePath:"/invoices",record:t,link:!1},n.a.createElement(Wn,null)))),n.a.createElement("div",{className:a.spacer},"\xa0"),n.a.createElement(Bn.a,{container:!0,spacing:2},n.a.createElement(Bn.a,{item:!0,xs:6},n.a.createElement(_.a,{variant:"h6",gutterBottom:!0,align:"center"},"Date"," "),n.a.createElement(_.a,{gutterBottom:!0,align:"center"},new Date(t.date).toLocaleDateString())),n.a.createElement(Bn.a,{item:!0,xs:5},n.a.createElement(_.a,{variant:"h6",gutterBottom:!0,align:"center"},"Order"),n.a.createElement(Ka.a,{resource:"invoices",reference:"commands",source:"command_id",basePath:"/invoices",record:t,link:!1},n.a.createElement(Aa.a,{source:"reference",align:"center",component:"p",gutterBottom:!0})))),n.a.createElement("div",{className:a.invoices},n.a.createElement(Ka.a,{resource:"invoices",reference:"commands",source:"command_id",basePath:"/invoices",record:t,link:!1},n.a.createElement(Er,null))))):null},Jn=Object(k.a)((function(e){return{root:{width:600,margin:"auto",borderStyle:"solid",borderWidth:1,borderColor:"light"===e.palette.type?Object(Ia.e)(Object(Ia.c)(e.palette.divider,1),.88):Object(Ia.a)(Object(Ia.c)(e.palette.divider,1),.68)},spacer:{height:20},invoices:{margin:"10px 0"}}})),Gn=function(e){return n.a.createElement(pe.a,e,n.a.createElement(pt.a,{source:"date_gte",alwaysOn:!0}),n.a.createElement(pt.a,{source:"date_lte",alwaysOn:!0}))},Kn={list:function(e){return n.a.createElement(yt.a,Object.assign({},e,{filters:n.a.createElement(Gn,null),perPage:25}),n.a.createElement(ht.a,{rowClick:"expand",expand:n.a.createElement(Hn,null)},n.a.createElement(Aa.a,{source:"id"}),n.a.createElement(gt.a,{source:"date"}),n.a.createElement(Ka.a,{source:"customer_id",reference:"customers"},n.a.createElement(Xt,null)),n.a.createElement(Ka.a,{source:"customer_id",reference:"customers",link:!1,label:"resources.invoices.fields.address"},n.a.createElement(Vn,null)),n.a.createElement(Ka.a,{source:"command_id",reference:"commands"},n.a.createElement(Aa.a,{source:"reference"})),n.a.createElement(Se.a,{source:"total_ex_taxes"}),n.a.createElement(Se.a,{source:"delivery_fees"}),n.a.createElement(Se.a,{source:"taxes"}),n.a.createElement(Se.a,{source:"total"})))},icon:Un.a},Qn=a(762),Xn=a.n(Qn),Yn=a(1805),Zn=a(1782),$n=a(1781),ec=a(1803),tc=a(177),ac=a(227),rc=Object(k.a)({root:{display:"inline-block",marginTop:"1em",zIndex:2},content:{padding:0,"&:last-child":{padding:0}},img:{width:"initial",minWidth:"initial",maxWidth:"42em",maxHeight:"15em"}}),nc=function(e){var t=e.record,a=rc();return t?r.createElement(De.a,{className:a.root},r.createElement($.a,{className:a.content},r.createElement("img",{src:t.image,alt:"",className:a.img}))):null},cc={price:{width:"7em"},width:{width:"7em"},height:{width:"7em"},stock:{width:"7em"},widthFormGroup:{display:"inline-block"},heightFormGroup:{display:"inline-block",marginLeft:32}},oc=Object(k.a)(cc),lc=function(e){Object(U.k)("catalog.products.create");var t=oc();return n.a.createElement(st.a,e,n.a.createElement(Yn.a,null,n.a.createElement($n.a,{label:"resources.products.tabs.image"},n.a.createElement(me.a,{source:"image",fullWidth:!0,validate:Object(_a.b)()}),n.a.createElement(me.a,{source:"thumbnail",fullWidth:!0,validate:Object(_a.b)()})),n.a.createElement($n.a,{label:"resources.products.tabs.details",path:"details"},n.a.createElement(me.a,{source:"reference",validate:Object(_a.b)()}),n.a.createElement(he.a,{source:"price",validate:Object(_a.b)(),className:t.price,InputProps:{startAdornment:n.a.createElement(ac.a,{position:"start"},"\u20ac")}}),n.a.createElement(he.a,{source:"width",validate:Object(_a.b)(),className:t.width,formClassName:t.widthFormGroup,InputProps:{endAdornment:n.a.createElement(ac.a,{position:"start"},"cm")}}),n.a.createElement(he.a,{source:"height",validate:Object(_a.b)(),className:t.height,formClassName:t.heightFormGroup,InputProps:{endAdornment:n.a.createElement(ac.a,{position:"start"},"cm")}}),n.a.createElement(ge.a,{source:"category_id",reference:"categories",allowEmpty:!0},n.a.createElement(Ee.a,{source:"name"})),n.a.createElement(he.a,{source:"stock",validate:Object(_a.b)(),className:t.stock})),n.a.createElement($n.a,{label:"resources.products.tabs.description",path:"description"},n.a.createElement(tc.b,{source:"description",label:""}))))},sc=Object(k.a)((function(e){return{container:{display:"flex",flexDirection:"column",padding:"0 20px",width:350,"& > p":{fontSize:12,color:e.palette.text.primary,textAlign:"right"},"& .tui-editor-contents p":{color:"light"===e.palette.type?Object(Ia.e)(e.palette.text.primary,.38):Object(Ia.a)(e.palette.text.primary,.38)}},description:{padding:"0 20px","& h1":{fontSize:18,color:e.palette.text.primary,fontWeight:"normal"},"& h2":{fontSize:14,color:"light"===e.palette.type?Object(Ia.e)(e.palette.text.primary,.38):Object(Ia.a)(e.palette.text.primary,.38),fontWeight:"normal"}},preview:{padding:"0 40px"},frame:{position:"relative",width:"100%",paddingBottom:"82.5%",background:e.palette.background.paper,boxShadow:"0 10px 7px -5px rgba(0, 0, 0, 0.3)"},mat:{position:"absolute",background:e.palette.background.paper,top:"3.0303%",bottom:"3.0303%",left:"2.5%",right:"2.5%",boxShadow:"0px 0px 20px 0px rgba(0,0,0,0.5) inset"},art:{position:"absolute",top:"16.129%",bottom:"16.129%",left:"13.158%",right:"13.158%","& img":{width:"100%"}}}})),ic=function(e){var t=e.record,a=t.image,r=t.height,c=t.width,o=t.price,l=t.reference,s=sc();return n.a.createElement("div",{className:s.container},n.a.createElement("p",null,"Preview"),n.a.createElement("div",{className:s.preview},n.a.createElement("div",{className:s.frame},n.a.createElement("div",{className:s.mat},n.a.createElement("div",{className:s.art},n.a.createElement("img",{src:a,alt:""}))))),n.a.createElement("div",{className:s.description},n.a.createElement("h1",null,l),n.a.createElement("h2",null,c,"x",r),n.a.createElement("h2",null,o," \u20ac"),n.a.createElement(tc.a,{record:t,source:"description"})))},uc=function(e){var t=e.record;return t?n.a.createElement("span",null,"Poster #",t.reference):null},dc=Object(k.a)(Object(Ae.a)(Object(Ae.a)({},cc),{},{comment:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:256},container:{display:"flex","& > :first-child":{flex:1,minWidth:"60%",maxWidth:"70%"},"& > :last-child":{width:"25%",flexShrink:0}},root:{padding:"0 !important",height:"100%",display:"flex",flexDirection:"column","& .tabbed-form":{display:"flex",flexDirection:"column",flex:1},"& .toolbar":{marginTop:"auto"}}})),mc=function(e){var t=dc();return Object(U.k)("catalog.products.edit",e),n.a.createElement(qa.a,Object.assign({},e,{render:function(e){return n.a.createElement("div",{className:t.container},n.a.createElement(De.a,null,n.a.createElement($.a,{className:t.root},n.a.createElement(Yn.a,e))),n.a.createElement("div",{"data-testid":"product-edit-preview"},n.a.createElement(Zn.a,null,(function(e){var t=e.formData;return n.a.createElement(ic,{record:t})}))))}}))},fc=function(e){var t=dc();return n.a.createElement(ue.a,Object.assign({},e,{title:n.a.createElement(uc,null),component:"div"}),n.a.createElement(mc,null,n.a.createElement($n.a,{label:"resources.products.tabs.image"},n.a.createElement(nc,null),n.a.createElement(me.a,{source:"image",fullWidth:!0}),n.a.createElement(me.a,{source:"thumbnail",fullWidth:!0})),n.a.createElement($n.a,{label:"resources.products.tabs.details",path:"details"},n.a.createElement(me.a,{source:"reference"}),n.a.createElement(he.a,{source:"price",className:t.price,InputProps:{startAdornment:n.a.createElement(ac.a,{position:"start"},"\u20ac")}}),n.a.createElement(he.a,{source:"width",className:t.width,formClassName:t.widthFormGroup,InputProps:{endAdornment:n.a.createElement(ac.a,{position:"start"},"cm")}}),n.a.createElement(he.a,{source:"height",className:t.height,formClassName:t.heightFormGroup,InputProps:{endAdornment:n.a.createElement(ac.a,{position:"start"},"cm")}}),n.a.createElement(ge.a,{source:"category_id",reference:"categories"},n.a.createElement(Ee.a,{source:"name"})),n.a.createElement(he.a,{source:"stock",className:t.stock})),n.a.createElement($n.a,{label:"resources.products.tabs.description",path:"description","data-tour-id":"description-tab"},n.a.createElement(tc.b,{source:"description",label:""})),n.a.createElement($n.a,{label:"resources.products.tabs.reviews",path:"reviews"},n.a.createElement(ec.a,{reference:"reviews",target:"product_id",pagination:n.a.createElement(pc,null),fullWidth:!0},n.a.createElement(ht.a,null,n.a.createElement(gt.a,{source:"date"}),n.a.createElement(Xa,null),n.a.createElement(Kr,null),n.a.createElement(Aa.a,{source:"comment",cellClassName:t.comment}),n.a.createElement(Aa.a,{source:"status"}),n.a.createElement(aa.a,null))))))},pc=function(e){e.addLabel,e.fullWidth;var t=Object(ce.a)(e,["addLabel","fullWidth"]);return n.a.createElement(Oe.a,t)},bc={list:at,create:lc,edit:fc,icon:Xn.a},gc=a(489),Ec=function(e){return n.a.createElement(gc.b,e,n.a.createElement(Aa.a,{source:"id"}),n.a.createElement(me.a,{source:"city",autoFocus:!0}),n.a.createElement(me.a,{source:"country"}),n.a.createElement(me.a,{source:"address"}),n.a.createElement(pt.a,{source:"created_at"}))},hc=a(764),vc={icon:a.n(hc).a,list:function(e){return n.a.createElement(yt.a,Object.assign({},e,{hasCreate:!0,perPage:25}),n.a.createElement(gc.a,{"data-testid":"store-datagrid",rowClick:"edit",createForm:n.a.createElement(Ec,null),editForm:n.a.createElement(Ec,null)},n.a.createElement(Aa.a,{source:"id"}),n.a.createElement(Aa.a,{source:"city"}),n.a.createElement(Aa.a,{source:"country"}),n.a.createElement(Aa.a,{source:"address"}),n.a.createElement(gt.a,{source:"created_at"})))}},wc=["compulsive","collector","ordered_once","regular","returns","reviewer"];wc.map((function(e){return{id:e,name:(t=e,t.charAt(0).toUpperCase()+t.slice(1))};var t}));var yc={last_seen_gte:"2020-07-31T22:00:00.000Z"},Oc={last_seen_lte:"2020-06-30T22:00:00.000Z"},jc=Object(Y.a)((function(e){return{badge:{top:13,right:13,border:"1px solid ".concat(e.palette.background.paper),padding:"0 4px"}}}))(C.a),_c=function(e){var t=e.onMenuClick,a=e.logout,c=Object(B.a)(),o=function(e){var t=Object(U.i)(),a=Object(U.l)(),n=Object(r.useState)(0),c=Object(A.a)(n,2),o=c[0],l=c[1];return Object(g.d)(e,(function(r){var n=r.payload.ids,c=n.length;if(a&&t(e)){var o=(a&&(a.values||{})).record;if(!o||null==o.id)return;c=n.filter((function(e){return e!==o.id})).length}c&&l((function(e){return e+c}))})),Object(r.useEffect)((function(){t(e)&&l(0)}),[t,e]),o}("commands"),l=Object(Z.a)((function(e){return e.breakpoints.down("xs")}));return Object(V.f)((function(e){return e.theme})),n.a.createElement(U.g,{variant:"categories"},n.a.createElement(U.f,{name:"dashboard",to:"/",exact:!0,icon:n.a.createElement(W.a,null),onClick:t,label:"Dashboard"}),n.a.createElement(U.f,{to:"/products",name:"catalog",icon:n.a.createElement(bc.icon,null),onClick:t,label:c("pos.menu.catalog",{smart_count:1})},n.a.createElement($.a,null,n.a.createElement(_.a,{variant:"h6",gutterBottom:!0},c("pos.menu.catalog",{smart_count:1})),n.a.createElement(U.d,null,n.a.createElement(U.e,{name:"products",to:"/products",icon:n.a.createElement(bc.icon,null),onClick:t,label:c("resources.products.name",{smart_count:2})}),n.a.createElement(U.e,{name:"categories",to:"/categories/5",icon:n.a.createElement(dt.icon,null),onClick:t,label:c("resources.categories.name",{smart_count:2})})))),n.a.createElement(jc,{badgeContent:o,color:"primary"},n.a.createElement(U.f,{name:"commands",to:"/commands",icon:n.a.createElement(wr.icon,null),onClick:t,label:c("resources.commands.name",{smart_count:2}),"data-testid":"commands-menu"})),n.a.createElement(U.f,{name:"invoices",to:"/invoices?filter={}",icon:n.a.createElement(Kn.icon,null),onClick:t,label:c("resources.invoices.name",{smart_count:2})}),n.a.createElement(U.f,{to:"/customers",name:"audience",icon:n.a.createElement(Fn.icon,null),onClick:t,label:c("pos.menu.audience",{smart_count:2})},n.a.createElement(kc,{onMenuClick:t})),n.a.createElement(U.f,{name:"reviews",to:"/reviews?filter={}",icon:n.a.createElement(_n.icon,null),onClick:t,label:c("resources.reviews.name",{smart_count:2})},n.a.createElement($.a,null,n.a.createElement(_.a,{variant:"h6",gutterBottom:!0},c("resources.reviews.name",{smart_count:2}))," ",n.a.createElement(U.d,null,n.a.createElement(U.e,{name:"reviews.accepted",to:'/reviews?filter={"status": "accepted"}',icon:n.a.createElement(J.a,null),onClick:t,label:"pos.reviews.accepted"}),n.a.createElement(U.e,{name:"reviews.rejected",to:'/reviews?filter={"status": "rejected"}',icon:n.a.createElement(X.a,null),onClick:t,label:"pos.reviews.rejected"}),n.a.createElement(U.e,{name:"reviews.pending",to:'/reviews?filter={"status": "pending"}',icon:n.a.createElement(K.a,null),onClick:t,label:"pos.reviews.pending"})))),n.a.createElement(U.f,{name:"stores",to:"/stores",icon:n.a.createElement(vc.icon,null),onClick:t,label:c("resources.stores.name",{smart_count:2})}),l&&a)},kc=function(e){var t=e.onMenuClick,a=Object(B.a)();return n.a.createElement($.a,null,n.a.createElement(ee.a,{display:"flex",justifyContent:"space-between"},n.a.createElement(ee.a,{marginRight:2},n.a.createElement(_.a,{variant:"h6",gutterBottom:!0},a("resources.customers.name",{smart_count:2})),n.a.createElement(U.d,null,n.a.createElement(U.e,{name:"customers.newcomers",to:"/customers?filter=".concat(JSON.stringify(yc)),onClick:t,label:a("pos.menu.new_customers",{smart_count:2})}),n.a.createElement(U.e,{name:"customers.former_customers",to:"/customers?filter=".concat(JSON.stringify(Oc)),onClick:t,label:a("pos.menu.former_customers",{smart_count:2})}))),n.a.createElement(ee.a,null,n.a.createElement(_.a,{variant:"h6",gutterBottom:!0},a("resources.segments.name",{smart_count:2})),n.a.createElement(U.d,null,wc.map((function(e){return n.a.createElement(U.e,{key:e,name:"segments.".concat(e),to:'/customers?filter={"groups": "'.concat(e,'"}'),onClick:t,label:a("resources.segments.data.".concat(e),{smart_count:2})})}))))))},xc=Object(k.a)((function(e){return{root:{paddingTop:e.spacing(1),fontSize:"small","& a":{pointerEvents:"visible"}}}})),Cc=function(e){var t=xc(),a=Object(B.a)(),r=a("ra.action.edit"),c=a("ra.action.create");return n.a.createElement(U.b,Object.assign({className:t.root},e),n.a.createElement(U.h,{resources:["invoices","stores","tours"]}),n.a.createElement(U.c,{name:"catalog",label:a("pos.menu.catalog",1)},n.a.createElement(U.c,{name:"products",label:a("resources.products.name",2),to:"/products"},n.a.createElement(U.c,{name:"edit",label:function(e){var t=e.record;return"".concat(r," ").concat(t?'"'.concat(t.reference,'"'):"...")},to:function(e){var t=e.record;return t&&"".concat(Object(Ce.a)("/products",t.id),"/edit")}}),n.a.createElement(U.c,{name:"create",label:c,to:"/products/create"})),n.a.createElement(U.c,{name:"categories",label:a("resources.categories.name",2)})),n.a.createElement(U.c,{name:"reviews",label:a("resources.reviews.name",2),to:"/reviews"},n.a.createElement(U.c,{name:"status_filter",label:function(e){var t=e.status;return"".concat(a("pos.filter"),' status "').concat(a("pos.reviews.".concat(t)),'"')}})),n.a.createElement(U.c,{name:"commands",label:a("resources.commands.name",2),to:"/commands"},n.a.createElement(U.c,{name:"edit",label:function(e){var t=e.record;return"".concat(r," ").concat(t?'"'.concat(t.reference,'"'):"...")},to:function(e){var t=e.record;return t&&"".concat(Object(Ce.a)("/products",t.id),"/edit")}})),n.a.createElement(U.c,{name:"audience",label:a("pos.menu.audience",1)},n.a.createElement(U.c,{name:"customers",label:a("resources.customers.name",2),to:"/customers"},n.a.createElement(U.c,{name:"edit",label:function(e){var t=e.record;return"".concat(r," ").concat(t?'"'.concat(t.first_name," ").concat(t.last_name,'"'):"...")},to:function(e){var t=e.record;return t&&"".concat(Object(Ce.a)("/customers",t.id),"/edit")}}),n.a.createElement(U.c,{name:"create",label:c,to:"/customers/create"})),n.a.createElement(U.c,{name:"segments",label:a("resources.segments.name",2)})))},Sc=a(222),Nc=a(23),Pc=a.n(Nc),qc=a(40),Tc=a(226),Rc=function(e){var t=new Array(Math.round(2*Math.random())+1).map((function(){return{product_id:Math.round(20*Math.random()),quantity:Math.round(2*Math.random())+1}}));return{date:new Date,total:Math.round(1e4*Math.random())/100*t.length,status:"ordered",reference:Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,6).toUpperCase(),customer_id:Math.round(50*Math.random()),basket:t,batch:e}},Ac=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e},Dc=function(e){return new Promise((function(t){return setTimeout(t,e)}))},Lc=function(e,t,a){return new Promise((function(r){var n=setInterval(e,t);setTimeout((function(){clearInterval(n),r()}),a)}))},zc=[],Fc={"ra-markdown":{before:function(){var e=Object(qc.a)(Pc.a.mark((function e(t){return Pc.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,t.redirect)("/products"),e.next=4,Dc(1e3);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),steps:[{target:"[data-tour-id='grid-line'] > a:nth-child(".concat(Ac(1,5),")"),disableBeacon:!0,content:"This is a poster, one of the products our shop is selling, let's go to its details",joyrideProps:{styles:{beacon:{marginTop:-100}}},after:function(e){var t=e.target;(0,e.redirect)(t.getAttribute("href").slice(1))}},{target:"[data-tour-id='description-tab']",content:"The markdown editor is in the description tab",after:function(e){e.target.click()}},{target:".tui-editor-defaultUI",content:"Right here. Try playing with its markdown, make it bold, add headlines!"},{target:"[data-testid=product-edit-preview]",content:"Parsed markdown can then be displayed in a preview or wherever you want."}]},"ra-preferences":{steps:[{target:"button[aria-label='Toggle Theme']",disableBeacon:!0,content:"ra-preferences comes with a lot of built-in modules, like this theme switcher. Try it: it works!"},{target:"button[aria-label='Toggle Theme'] + button",content:"Or this language switcher...",after:function(e){(0,e.redirect)("/customers")}},{target:"button[aria-controls=user-preference-menu]",content:"Even more advanced ones like this list customization tool.",disableBeacon:!1,after:function(e){e.target.click()}},{target:"#user-preference-menu .MuiPaper-root",content:"Where you can select how you want the list to be displayed, or the information you want to see.",joyrideProps:{styles:{options:{zIndex:1e4}}},after:function(){var e=document.querySelector("body > .MuiPopover-root div[aria-hidden=true]");e&&e.click()}},{before:function(e){(0,e.setTourPreferences)(e.state)},target:"body",content:"It exposes simple hooks so that you can actually save whatever you want, too. For instance, the state of this particular step. Try to reload the page!",joyrideProps:{styles:{options:{arrowColor:"transparent"}}},after:function(e){(0,e.setTourPreferences)({})}}]},"ra-tree":{before:function(){var e=Object(qc.a)(Pc.a.mark((function e(t){return Pc.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,t.redirect)("/categories/5"),e.next=4,Dc(1e3);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),steps:[{target:".rc-tree",content:"ra-tree helps handling trees with ease, no matter the data structure you use on the backend",disableBeacon:!0},{before:function(e){var t=e.target;Lc((function(){var e=t.querySelector(".rc-tree-switcher.rc-tree-switcher_close");e&&e.click()}),500,4e3)},target:".rc-tree",content:"It supports expanding or collapsing nodes for an infinite amount of levels",after:function(){var e=Object(qc.a)(Pc.a.mark((function e(t){var a;return Pc.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target,e.next=3,Lc((function(){var e=a.querySelector(".rc-tree-treenode:not(:nth-child(1)) .rc-tree-switcher.rc-tree-switcher_open");e&&e.click()}),500,2e3);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{before:function(e){var t=e.redirect;setTimeout((function(){t("/categories/create")}),4e3)},target:'[aria-label="Add a category of products"]',content:"You can even add a new category, or reorder them, try it!"}]},"ra-realtime":{before:function(){var e=Object(qc.a)(Pc.a.mark((function e(){return Pc.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.setItem("batchLevel","0");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),steps:[{before:function(){var e=Object(qc.a)(Pc.a.mark((function e(t){var a;return Pc.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.dataProvider,localStorage.setItem("batchLevel","0"),[[1],[2],[3],[4]].reduce((function(e){return e.then(Object(qc.a)(Pc.a.mark((function e(){var t,r,n;return Pc.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.create("commands",{data:Rc(1)});case 2:t=e.sent,r=t.data,zc.push(r.id),n="resource/commands",a.publish(n,{type:"created",topic:n,payload:{ids:[r.id]},date:new Date});case 7:case"end":return e.stop()}}),e)}))))}),Dc(1)),e.next=5,Dc(1500);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),disableBeacon:!0,target:'[data-testid="commands-menu"]',content:"Seems like you just had new orders, let's check...",after:function(e){(0,e.redirect)("/commands")}},{before:function(){var e=Object(qc.a)(Pc.a.mark((function e(){return Pc.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.setItem("batchLevel","1"),e.next=3,Dc(500);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),target:"[data-testid=order-ordered-datagrid]",content:"Your new orders can stand-out from others"},{before:function(){var e=Object(qc.a)(Pc.a.mark((function e(t){var a,r,n,c,o,l;return Pc.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.dataProvider,localStorage.setItem("batchLevel","2"),e.next=4,a.create("commands",{data:Rc(2)});case 4:return r=e.sent,n=r.data,zc.push(n.id),e.next=9,a.create("commands",{data:Rc(2)});case 9:return c=e.sent,o=c.data,zc.push(o.id),l="resource/commands",a.publish(l,{type:"created",topic:l,payload:{ids:[n.id,o.id]},date:new Date}),e.next=16,Dc(1e3);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),target:"[data-testid=order-ordered-datagrid]",content:"And newest orders even appear while you're on the page"}],after:function(){var e=Object(qc.a)(Pc.a.mark((function e(t){var a;return Pc.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.dataProvider,localStorage.setItem("batchLevel","0"),e.next=4,a.updateMany("commands",{ids:zc,data:{batch:0}});case 4:zc=[];case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},"ra-editable-datagrid":{before:function(){var e=Object(qc.a)(Pc.a.mark((function e(t){return Pc.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,t.redirect)("/stores"),e.next=4,Dc(1e3);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),steps:[{target:'[data-testid="store-datagrid"] > tbody > tr:first-child',content:"Hovering on a row shows a toolbar allowing to either edit or delete the record. Let's see what happens when editing a row by clicking on the Edit button (or by directly clicking inside the row)"},{before:function(e){e.target.querySelector("td:nth-child(2)").click()},target:'[data-testid="store-datagrid"] > tbody > tr:first-child',content:"You can edit a record without leaving the Datagrid! Let's change the address.",after:function(e){var t=e.target;Tc.a.change(t.querySelector("#address"),{target:{value:"10 rue de Rivoli"}})}},{target:'[data-testid="store-datagrid"] > tbody > tr:first-child button:first-child',content:"After edition, just click on the Save button in the row",after:function(e){e.target.click()}},{target:'[aria-label="Create"]',content:"The Editable Datagrid also supports inline creation",after:function(e){e.target.click()}},{after:function(e){var t=e.target;Tc.a.change(t.querySelector("#city"),{target:{value:"Nantes"}}),Tc.a.change(t.querySelector("#country"),{target:{value:"France"}}),Tc.a.change(t.querySelector("#address"),{target:{value:"5 rue du ch\xe2teau"}}),Tc.a.change(t.querySelector("#created_at"),{target:{value:"2020-08-04"}})},target:'[data-testid="store-datagrid"] > tbody > tr:first-child',content:"A row edition / creation form can contain Inputs of any type (text, date, number, etc.)."},{target:'[data-testid="store-datagrid"] > tbody > tr:first-child button:first-child',content:"Click on the Save button to submit the form and create a new record.",after:function(e){e.target.click()}}]},"ra-navigation-breadcrumb":{before:function(){var e=Object(qc.a)(Pc.a.mark((function e(t){return Pc.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,t.redirect)("/products"),e.next=4,Dc(1e3);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),steps:[{target:"[aria-label='Breadcrumb'] li:nth-child(2)",content:"The breadcrumb indicates that we are on the posters page",disableBeacon:!0,joyrideProps:{disableScrolling:!0}},{target:"[data-tour-id='grid-line'] > a:nth-child(".concat(Ac(1,5),")"),disableBeacon:!0,content:"Let's edit one of these posters",after:function(e){var t=e.target;(0,e.redirect)(t.getAttribute("href").slice(1))}},{target:"[aria-label='Breadcrumb'] li:nth-child(3)",content:"The breadcrumb has changed to follow us to this Edit page",disableBeacon:!0,joyrideProps:{scrollOffset:50}},{target:'[data-testid="commands-menu"]',content:"Let's try to navigate away using the Menu entry",disableBeacon:!0,joyrideProps:{disableScrolling:!0},after:function(e){(0,e.redirect)("/commands")}},{target:"[aria-label='Breadcrumb'] li:nth-child(2)",content:"The breadcrumb keeps showing our exact location.",disableBeacon:!0,joyrideProps:{disableScrolling:!0}},{target:"[aria-label='Breadcrumb'] li:nth-child(1)",content:"Users can click on the breadcrumb items directly to navigate.\nLet's go to the home page",disableBeacon:!0,joyrideProps:{disableScrolling:!0},after:function(e){(0,e.redirect)("/")}},{target:"[aria-label='Breadcrumb']",content:"By default, there is no breacrumb displayed on the home page.\n Now it's your turn to use the Breadcrumb component to build you own breadcrumb path!",disableBeacon:!0,joyrideProps:{disableScrolling:!0}}]}},Ic=function(e){return n.a.createElement(D.a,Object.assign({},e,{size:200}))},Uc=function(e){var t=Object(L.a)(),a=Object(z.a)(),r=Object(m.f)("tour"),c=Object(A.a)(r,2),o=c[0],l=c[1],s=Object(F.a)();return n.a.createElement(U.a,null,n.a.createElement(Sc.a,{tours:Fc,tools:{notify:t,redirect:a,setTourPreferences:l,dataProvider:s},initialState:o},n.a.createElement(n.a.Fragment,null,n.a.createElement(m.d,null),n.a.createElement(I.a,Object.assign({},e,{appBar:R,sidebar:Ic,menu:_c}),n.a.createElement(Cc,e),e.children))))},Vc=a(50),Bc=a(1785),Mc=a(1674),Wc=a(389),Hc=a(807),Jc=a(1783),Gc=a(373),Kc=a.n(Gc),Qc=a(382),Xc=a(1784),Yc=Object(k.a)((function(e){return{main:{display:"flex",flexDirection:"column",minHeight:"100vh",alignItems:"center",justifyContent:"flex-start",background:"url(https://source.unsplash.com/random/1600x900)",backgroundRepeat:"no-repeat",backgroundSize:"cover"},card:{minWidth:300,marginTop:"6em"},avatar:{margin:"1em",display:"flex",justifyContent:"center"},icon:{backgroundColor:e.palette.secondary.main},hint:{marginTop:"1em",display:"flex",justifyContent:"center",color:e.palette.grey[500]},form:{padding:"0 1em 1em 1em"},input:{marginTop:"1em"},actions:{padding:"0 1em 1em 1em"}}})),Zc=function(e){var t=e.meta,a=(t=void 0===t?{touched:!1,error:void 0}:t).touched,r=t.error,c=Object.assign({},e.input),o=Object(ce.a)(e,["meta","input"]);return n.a.createElement(Wc.a,Object.assign({error:!(!a||!r),helperText:a&&r},c,o,{fullWidth:!0}))},$c=Object(Vc.g)().Form,eo=function(){var e=Object(r.useState)(!1),t=Object(A.a)(e,2),a=t[0],c=t[1],o=Object(B.a)(),l=Yc(),s=Object(L.a)(),i=Object(Xc.a)(),u=Object(_r.h)();return n.a.createElement($c,{onSubmit:function(e){c(!0),i(e,u.state?u.state.nextPathname:"/").catch((function(e){c(!1),s("string"===typeof e?e:"undefined"!==typeof e&&e.message?e.message:"ra.auth.sign_in_error","warning")}))},validate:function(e){var t={};return e.username||(t.username=o("ra.validation.required")),e.password||(t.password=o("ra.validation.required")),t},render:function(e){var t=e.handleSubmit;return n.a.createElement("form",{onSubmit:t,noValidate:!0},n.a.createElement("div",{className:l.main},n.a.createElement(De.a,{className:l.card},n.a.createElement("div",{className:l.avatar},n.a.createElement(Jt.a,{className:l.icon},n.a.createElement(Kc.a,null))),n.a.createElement("div",{className:l.hint},"Hint: demo / demo"),n.a.createElement("div",{className:l.form},n.a.createElement("div",{className:l.input},n.a.createElement(Vc.a,{name:"username",component:Zc,label:o("ra.auth.username"),disabled:a})),n.a.createElement("div",{className:l.input},n.a.createElement(Vc.a,{name:"password",component:Zc,label:o("ra.auth.password"),type:"password",disabled:a}))),n.a.createElement(Bc.a,{className:l.actions},n.a.createElement(fn.a,{variant:"contained",type:"submit",color:"primary",disabled:a,fullWidth:!0},a&&n.a.createElement(Mc.a,{size:25,thickness:2}),o("ra.auth.sign_in")))),n.a.createElement(Qc.a,null)))}})},to=function(e){return n.a.createElement(Jc.a,{theme:Object(Hc.a)(h)},n.a.createElement(eo,e))},ao=a(779),ro=a.n(ao),no=a(778),co=a.n(no),oo=Object(k.a)((function(e){return{root:{background:"dark"===e.palette.type?"#535353":"linear-gradient(to right, #8975fb 0%, #746be7 35%), linear-gradient(to bottom, #8975fb 0%, #6f4ceb 50%), #6f4ceb",color:"#fff",padding:20,marginTop:e.spacing(2),marginBottom:"1em"},media:{background:"url(".concat(co.a,") top right / cover"),marginLeft:"auto"},actions:Object(w.a)({},e.breakpoints.down("md"),{padding:0,flexWrap:"wrap","& a":{marginTop:"1em",marginLeft:"0!important",marginRight:"1em"}})}})),lo=function(){var e=Object(B.a)(),t=oo();return r.createElement(De.a,{className:t.root},r.createElement(ee.a,{display:"flex"},r.createElement(ee.a,{flex:"1"},r.createElement(_.a,{variant:"h5",component:"h2",gutterBottom:!0},e("pos.dashboard.welcome.title")),r.createElement(ee.a,{maxWidth:"40em"},r.createElement(_.a,{variant:"body1",component:"p",gutterBottom:!0},e("pos.dashboard.welcome.subtitle"))),r.createElement(Bc.a,{className:t.actions},r.createElement(fn.a,{variant:"contained",href:"#/tours",startIcon:r.createElement(P.a,null)},e("pos.dashboard.welcome.demo_button")),r.createElement(fn.a,{variant:"contained",href:"https://marmelab.com/ra-enterprise/",startIcon:r.createElement(ro.a,null)},e("pos.dashboard.welcome.ra_button")))),r.createElement(ee.a,{display:{xs:"none",sm:"none",md:"block"},className:t.media,width:"16em",height:"9em",overflow:"hidden"})))},so=a(780),io=a.n(so),uo=a(781),mo=a.n(uo),fo=Object(k.a)((function(e){return{card:{minHeight:52,flex:"1","& a":{textDecoration:"none",color:"inherit"}},main:{overflow:"inherit",padding:16,background:"url(".concat("dark"===e.palette.type?mo.a:io.a,") no-repeat"),display:"flex",justifyContent:"space-between",alignItems:"center","& .icon":{color:"dark"===e.palette.type?"inherit":"#dc2440"}},title:{}}})),po=function(e){var t=e.icon,a=e.title,n=e.subtitle,c=e.to,o=e.children,l=fo(e);return r.createElement(De.a,{className:l.card},r.createElement(S.a,{to:c},r.createElement("div",{className:l.main},r.createElement(ee.a,{width:"3em",className:"icon"},Object(r.createElement)(t,{fontSize:"large"})),r.createElement(ee.a,{textAlign:"right"},r.createElement(_.a,{className:l.title,color:"textSecondary"},a),r.createElement(_.a,{variant:"h5",component:"h2"},n||"\u2000")))),o&&r.createElement(Ma.a,null),o)},bo=function(e){var t=e.value,a=Object(B.a)();return r.createElement(po,{to:"/commands",icon:Ve.a,title:a("pos.dashboard.monthly_revenue"),subtitle:t})},go=a(374),Eo=a.n(go),ho=function(e){var t=e.value,a=Object(B.a)();return r.createElement(po,{to:"/commands",icon:Eo.a,title:a("pos.dashboard.new_orders"),subtitle:t})},vo=a(1676),wo=Object(k.a)((function(e){return{root:{flex:1},cost:{marginRight:"1em",color:e.palette.text.primary}}})),yo=function(e){var t=e.orders,a=void 0===t?[]:t,n=e.customers,c=void 0===n?{}:n,o=wo(),l=Object(B.a)();return r.createElement(De.a,{className:o.root},r.createElement(ta.a,{title:l("pos.dashboard.pending_orders")}),r.createElement(Dr.a,{dense:!0},a.map((function(e){return r.createElement(Lr.a,{key:e.id,button:!0,component:S.a,to:"/commands/".concat(e.id)},r.createElement(zr.a,null,c[e.customer_id]?r.createElement(Jt.a,{src:"".concat(c[e.customer_id].avatar,"?size=32x32")}):r.createElement(Jt.a,null)),r.createElement(Fr.a,{primary:new Date(e.date).toLocaleString("en-GB"),secondary:l("pos.dashboard.order.items",{smart_count:e.basket.length,nb_items:e.basket.length,customer_name:c[e.customer_id]?"".concat(c[e.customer_id].first_name," ").concat(c[e.customer_id].last_name):""})}),r.createElement(vo.a,null,r.createElement("span",{className:o.cost},e.total,"$")))}))))},Oo=Object(k.a)((function(e){return{avatar:{background:e.palette.background.paper},listItemText:{overflowY:"hidden",height:"4em",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"}}})),jo=function(e){var t=e.reviews,a=void 0===t?[]:t,n=e.customers,c=void 0===n?{}:n,o=e.nb,l=Oo(),s=Object(B.a)();return r.createElement(po,{to:"/reviews",icon:Or.a,title:s("pos.dashboard.pending_reviews"),subtitle:o},r.createElement(Dr.a,null,a.map((function(e){return r.createElement(Lr.a,{key:e.id,button:!0,component:S.a,to:"/reviews/".concat(e.id),alignItems:"flex-start"},r.createElement(zr.a,null,c[e.customer_id]?r.createElement(Jt.a,{src:"".concat(c[e.customer_id].avatar,"?size=32x32"),className:l.avatar}):r.createElement(Jt.a,null)),r.createElement(Fr.a,{primary:r.createElement(Kr,{record:e}),secondary:e.comment,className:l.listItemText,style:{paddingRight:0}}))}))))},_o=a(782),ko=a.n(_o),xo=function(){var e=Object(B.a)(),t=Object(r.useMemo)((function(){var e=new Date;return e.setDate(e.getDate()-30),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e}),[]),a=Object(br.a)({type:"getList",resource:"customers",payload:{filter:{has_ordered:!0,first_seen_gte:t.toISOString()},sort:{field:"first_seen",order:"DESC"},pagination:{page:1,perPage:100}}}),n=a.loaded,c=a.data;if(!n)return null;var o=c?c.reduce((function(e){return++e}),0):0;return r.createElement(po,{to:"/customers",icon:ko.a,title:e("pos.dashboard.new_customers"),subtitle:o},r.createElement(Dr.a,null,c?c.map((function(e){return r.createElement(Lr.a,{button:!0,to:"/customers/".concat(e.id),component:S.a,key:e.id},r.createElement(zr.a,null,r.createElement(Jt.a,{src:"".concat(e.avatar,"?size=32x32")})),r.createElement(Fr.a,{primary:"".concat(e.first_name," ").concat(e.last_name)}))})):null))},Co=a(179),So=new Date((new Date).toDateString()).getTime(),No=Array.from({length:30},(function(e,t){return So-864e5*t})).reverse(),Po=new Date;Po.setDate(Po.getDate()-30);var qo=function(e){return new Date(e).toLocaleDateString()},To=function(e){var t=function(e){return e.filter((function(e){return"cancelled"!==e.status})).reduce((function(e,t){var a=new Date(new Date(t.date).toDateString()).getTime();return e[a]||(e[a]=0),e[a]+=t.total,e}),{})}(e);return No.map((function(e){return{date:e,total:t[e]||0}}))},Ro=function(e){var t=e.orders,a=Object(B.a)();return t?r.createElement(De.a,null,r.createElement(ta.a,{title:a("pos.dashboard.month_history")}),r.createElement($.a,null,r.createElement(Co.d,{width:"100%",height:300},r.createElement(Co.b,{data:To(t)},r.createElement(Co.f,{dataKey:"date",name:"Date",type:"number",scale:"time",domain:[Po.getTime(),(new Date).getTime()],tickFormatter:qo,reversed:!0}),r.createElement(Co.g,{dataKey:"total",name:"Revenue",unit:"\u20ac"}),r.createElement(Co.c,{strokeDasharray:"3 3"}),r.createElement(Co.e,{cursor:{strokeDasharray:"3 3"},formatter:function(e){return new Intl.NumberFormat(void 0,{style:"currency",currency:"USD"}).format(e)},labelFormatter:function(e){return qo(e)}}),r.createElement(Co.a,{dataKey:"total",fill:"#31708f"}))))):null},Ao={flex:{display:"flex"},flexColumn:{display:"flex",flexDirection:"column"},leftCol:{flex:1,marginRight:"0.5em"},rightCol:{flex:1,marginLeft:"0.5em"},singleCol:{marginTop:"1em",marginBottom:"1em"}},Do=function(){return n.a.createElement("span",{style:{width:"1em"}})},Lo=function(){return n.a.createElement("span",{style:{height:"1em"}})},zo=function(){var e=Object(r.useState)({}),t=Object(A.a)(e,2),a=t[0],c=t[1],o=Object(y.a)(),l=Object(F.a)(),s=Object(Z.a)((function(e){return e.breakpoints.down("xs")})),i=Object(Z.a)((function(e){return e.breakpoints.down("md")})),u=Object(r.useCallback)(Object(qc.a)(Pc.a.mark((function e(){var t,a,r,n,o,s;return Pc.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new Date).setDate(t.getDate()-30),e.next=4,l.getList("commands",{filter:{date_gte:t.toISOString()},sort:{field:"date",order:"DESC"},pagination:{page:1,perPage:50}});case 4:return a=e.sent,r=a.data,n=r.filter((function(e){return"cancelled"!==e.status})).reduce((function(e,t){return"cancelled"!==t.status&&(e.revenue+=t.total,e.nbNewOrders++),"ordered"===t.status&&e.pendingOrders.push(t),e}),{revenue:0,nbNewOrders:0,pendingOrders:[]}),c((function(e){return Object(Ae.a)(Object(Ae.a)({},e),{},{recentOrders:r,revenue:n.revenue.toLocaleString(void 0,{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}),nbNewOrders:n.nbNewOrders,pendingOrders:n.pendingOrders})})),e.next=10,l.getMany("customers",{ids:n.pendingOrders.map((function(e){return e.customer_id}))});case 10:o=e.sent,s=o.data,c((function(e){return Object(Ae.a)(Object(Ae.a)({},e),{},{pendingOrdersCustomers:s.reduce((function(e,t){return e[t.id]=t,e}),{})})}));case 13:case"end":return e.stop()}}),e)}))),[l]),d=Object(r.useCallback)(Object(qc.a)(Pc.a.mark((function e(){var t,a,r,n,o,s;return Pc.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.getList("reviews",{filter:{status:"pending"},sort:{field:"date",order:"DESC"},pagination:{page:1,perPage:100}});case 2:return t=e.sent,a=t.data,r=a.reduce((function(e){return++e}),0),n=a.slice(0,Math.min(10,a.length)),c((function(e){return Object(Ae.a)(Object(Ae.a)({},e),{},{pendingReviews:n,nbPendingReviews:r})})),e.next=9,l.getMany("customers",{ids:n.map((function(e){return e.customer_id}))});case 9:o=e.sent,s=o.data,c((function(e){return Object(Ae.a)(Object(Ae.a)({},e),{},{pendingReviewsCustomers:s.reduce((function(e,t){return e[t.id]=t,e}),{})})}));case 12:case"end":return e.stop()}}),e)}))),[l]);Object(r.useEffect)((function(){u(),d()}),[o]);var m=a.nbNewOrders,f=a.nbPendingReviews,p=a.pendingOrders,b=a.pendingOrdersCustomers,g=a.pendingReviews,E=a.pendingReviewsCustomers,h=a.revenue,v=a.recentOrders;return s?n.a.createElement("div",null,n.a.createElement("div",{style:Ao.flexColumn},n.a.createElement(lo,null),n.a.createElement(bo,{value:h}),n.a.createElement(Lo,null),n.a.createElement(ho,{value:m}),n.a.createElement(Lo,null),n.a.createElement(yo,{orders:p,customers:b}))):i?n.a.createElement("div",{style:Ao.flexColumn},n.a.createElement("div",{style:Ao.singleCol},n.a.createElement(lo,null)),n.a.createElement("div",{style:Ao.flex},n.a.createElement(bo,{value:h}),n.a.createElement(Do,null),n.a.createElement(ho,{value:m})),n.a.createElement("div",{style:Ao.singleCol},n.a.createElement(Ro,{orders:v})),n.a.createElement("div",{style:Ao.singleCol},n.a.createElement(yo,{orders:p,customers:b}))):n.a.createElement(n.a.Fragment,null,n.a.createElement(lo,null),n.a.createElement("div",{style:Ao.flex},n.a.createElement("div",{style:Ao.leftCol},n.a.createElement("div",{style:Ao.flex},n.a.createElement(bo,{value:h}),n.a.createElement(Do,null),n.a.createElement(ho,{value:m})),n.a.createElement("div",{style:Ao.singleCol},n.a.createElement(Ro,{orders:v})),n.a.createElement("div",{style:Ao.singleCol},n.a.createElement(yo,{orders:p,customers:b}))),n.a.createElement("div",{style:Ao.rightCol},n.a.createElement("div",{style:Ao.flex},n.a.createElement(jo,{nb:f,reviews:g,customers:E}),n.a.createElement(Do,null),n.a.createElement(xo,null)))))},Fo=a(107),Io=Object(k.a)({icon:{paddingRight:"0.5em"},link:{display:"inline-flex",alignItems:"center"}}),Uo=function(e){var t=e.segment,a=Object(B.a)(),r=Io();return n.a.createElement(fn.a,{size:"small",color:"primary",component:S.a,to:{pathname:"/customers",search:Object(Fo.stringify)({page:1,perPage:25,filter:JSON.stringify({groups:t})})},className:r.link},n.a.createElement(Fn.icon,{className:r.icon}),a("resources.segments.fields.customers"))},Vo=Object(k.a)({root:{marginTop:16}}),Bo=function(){var e=Object(B.a)(),t=Vo();return Object(U.k)("audience.segments"),n.a.createElement(De.a,{className:t.root},n.a.createElement(ye.b,{title:e("resources.segments.name")}),n.a.createElement(ir.a,{size:"small"},n.a.createElement(mr.a,null,n.a.createElement(fr.a,null,n.a.createElement(dr.a,null,e("resources.segments.fields.name")),n.a.createElement(dr.a,null))),n.a.createElement(ur.a,null,Lt.map((function(t){return n.a.createElement(fr.a,{key:t.id},n.a.createElement(dr.a,null,e(t.name)),n.a.createElement(dr.a,null,n.a.createElement(Uo,{segment:t.id})))})))))},Mo=function(){var e=Object(_r.i)().tour,t=Object(Sc.b)(),a=Object(A.a)(t,2)[1].start;return Object(r.useEffect)((function(){a&&a(e)}),[a,e]),null},Wo=[n.a.createElement(_r.b,{key:"segments",exact:!0,path:"/segments",render:function(){return n.a.createElement(Bo,null)}}),n.a.createElement(_r.b,{key:"tour-launcher",path:"/tours/:tour",render:function(){return n.a.createElement(Mo,null)}})],Ho=a(377),Jo=Object(s.a)(Ho.a,{"ra-tree":{action:{add_root:"Add a category of products"}},pos:{search:"Search",configuration:"Configuration",language:"Language",theme:{name:"Theme",light:"Light",dark:"Dark"},filter:"Filtered by",dashboard:{monthly_revenue:"Monthly Revenue",month_history:"30 Day Revenue History",new_orders:"New Orders",pending_reviews:"Pending Reviews",new_customers:"New Customers",pending_orders:"Pending Orders",order:{items:"by %{customer_name}, one item |||| by %{customer_name}, %{nb_items} items"},welcome:{title:"Welcome to the react-admin enterprise edition demo",subtitle:"This is the admin of an imaginary poster shop showcasing enterprise edition private modules usage. Feel free to explore and modify the data - it's local to your computer, and will reset each time you reload.",ra_button:"react-admin enterprise edition site",demo_button:"See the showcase"}},menu:{sales:"Sales",catalog:"Catalog",audience:"Audience",new_customers:"New Customers",former_customers:"Former Customers"},reviews:{accepted:"Accepted",rejected:"Rejected",pending:"Pending"}},resources:{customers:{name:"Customer |||| Customers",fields:{commands:"Orders",first_seen:"First seen",groups:"Segments",last_seen:"Last seen",last_seen_gte:"Visited Since",name:"Name",total_spent:"Total spent",password:"Password",confirm_password:"Confirm password",address:"Address",birthday:"Birthday",city:"City",first_name:"First name",has_newsletter:"Has Newsletter",has_ordered:"Has ordered",last_name:"Last name",latest_purchase:"Latest purchase",zipcode:"Postal code",nb_commands:"Orders"},filters:{last_visited:"Last visited",today:"Today",this_week:"This week",last_week:"Last week",this_month:"This month",last_month:"Last month",earlier:"Earlier",has_ordered:"Has ordered",has_newsletter:"Has newsletter",group:"Segment"},fieldGroups:{identity:"Identity",address:"Address",stats:"Stats",history:"History",password:"Password",change_password:"Change Password"},page:{delete:"Delete Customer"},errors:{password_mismatch:"The password confirmation is not the same as the password."}},commands:{name:"Order |||| Orders",amount:"1 order |||| %{smart_count} orders",title:"Order %{reference}",fields:{basket:{delivery:"Delivery",reference:"Reference",quantity:"Quantity",sum:"Sum",tax_rate:"Tax Rate",total:"Total",unit_price:"Unit Price"},customer_id:"Customer",date_gte:"Passed Since",date_lte:"Passed Before",nb_items:"Nb articles",reference:"R\xe9f\xe9rence",returned:"Returned",status:"Status",total_gte:"Min amount"}},invoices:{name:"Invoice |||| Invoices",fields:{date:"Invoice date",customer_id:"Customer",command_id:"Order",date_gte:"Passed Since",date_lte:"Passed Before",total_gte:"Min amount",address:"Address"}},products:{name:"Poster |||| Posters",fields:{category_id:"Category",height_gte:"Min height",height_lte:"Max height",height:"Height",image:"Image",price:"Price",reference:"Reference",sales:"Sales",stock_lte:"Low Stock",stock:"Stock",thumbnail:"Thumbnail",width_gte:"Min width",width_lte:"Max width",width:"Width"},tabs:{image:"Image",details:"Details",description:"Description",reviews:"Reviews"},filters:{categories:"Categories",stock:"Stock",no_stock:"Out of stock",low_stock:"1 - 9 items",average_stock:"10 - 49 items",enough_stock:"50 items & more",sales:"Sales",best_sellers:"Best sellers",average_sellers:"Average",low_sellers:"Low",never_sold:"Never sold"}},categories:{name:"Category |||| Categories",fields:{products:"Products"},actions:{create_product:"Create Poster"}},reviews:{name:"Review |||| Reviews",amount:"1 review |||| %{smart_count} reviews",relative_to_poster:"Review on poster",detail:"Review detail",fields:{customer_id:"Customer",command_id:"Order",product_id:"Product",date_gte:"Posted since",date_lte:"Posted before",date:"Date",comment:"Comment",rating:"Rating"},action:{accept:"Accept",reject:"Reject"},notification:{approved_success:"Review approved",approved_error:"Error: Review not approved",rejected_success:"Review rejected",rejected_error:"Error: Review not rejected"}},segments:{name:"Segments",fields:{customers:"Customers",name:"Name"},data:{compulsive:"Compulsive",collector:"Collector",ordered_once:"Ordered once",regular:"Regular",returns:"Returns",reviewer:"Reviewer"}},stores:{name:"Stores",fields:{city:"City",country:"Country",address:"Address",created_at:"Created at"}}}}),Go=a(792),Ko=Object(s.a)(Go.a,{"ra-tree":{action:{add_root:"Ajouter une cat\xe9gorie de produits"}},pos:{search:"Rechercher",configuration:"Configuration",language:"Langue",theme:{name:"Theme",light:"Clair",dark:"Obscur"},filter:"Filtr\xe9 par",dashboard:{monthly_revenue:"CA \xe0 30 jours",month_history:"Chiffre d'affaire sur 30 jours",new_orders:"Nouvelles commandes",pending_reviews:"Commentaires \xe0 mod\xe9rer",new_customers:"Nouveaux clients",pending_orders:"Commandes \xe0 traiter",order:{items:"par %{customer_name}, un poster |||| par %{customer_name}, %{nb_items} posters"},welcome:{title:"Bienvenue sur la d\xe9mo de react-admin enterprise edition",subtitle:"Ceci est le back-office d'un magasin de posters imaginaire mettant en oeuvre les modules de l'\xe9dition entreprise. N'h\xe9sitez pas \xe0 explorer et \xe0 modifier les donn\xe9es. La d\xe9mo s'ex\xe9cute en local dans votre navigateur, et se remet \xe0 z\xe9ro chaque fois que vous rechargez la page.",ra_button:"Site web de react-admin entreprise",demo_button:"Voir tous les modules"}},menu:{sales:"Ventes",catalog:"Catalogue",audience:"Audience",new_customers:"Nouveaux clients",former_customers:"Anciens Clients"},reviews:{accepted:"Accept\xe9s",rejected:"Rejet\xe9s",pending:"En attente"}},resources:{customers:{name:"Client |||| Clients",fields:{address:"Rue",birthday:"Anniversaire",city:"Ville",commands:"Commandes",first_name:"Pr\xe9nom",first_seen:"Premi\xe8re visite",groups:"Segments",has_newsletter:"Abonn\xe9 \xe0 la newsletter",has_ordered:"A command\xe9",last_name:"Nom",last_seen:"Vu le",last_seen_gte:"Vu depuis",latest_purchase:"Dernier achat",name:"Nom",total_spent:"D\xe9penses",zipcode:"Code postal",password:"Mot de passe",confirm_password:"Confirmez le mot de passe",nb_commands:"Commandes"},filters:{last_visited:"Derni\xe8re visite",today:"Aujourd'hui",this_week:"Cette semaine",last_week:"La semaine derni\xe8re",this_month:"Ce mois-ci",last_month:"Le mois dernier",earlier:"Plus t\xf4t",has_ordered:"A d\xe9j\xe0 command\xe9",has_newsletter:"Abonn\xe9 newsletter",group:"Segment"},fieldGroups:{identity:"Identit\xe9",address:"Adresse",stats:"Statistiques",history:"Historique",password:"Mot de passe",change_password:"Changer le mot de passe"},page:{delete:"Supprimer le client"},errors:{password_mismatch:"La confirmation du mot de passe est diff\xe9rent du mot de passe."}},commands:{name:"Commande |||| Commandes",amount:"1 commande |||| %{smart_count} commandes",title:"Commande n\xb0%{reference}",fields:{basket:{delivery:"Frais de livraison",reference:"R\xe9f\xe9rence",quantity:"Quantit\xe9",sum:"Sous-total",tax_rate:"TVA",total:"Total",unit_price:"P.U."},customer_id:"Client",date_gte:"Emises depuis",date_lte:"Emises avant",nb_items:"Nb articles",reference:"R\xe9f\xe9rence",returned:"Annul\xe9e",status:"Etat",total_gte:"Montant minimum"}},invoices:{name:"Facture |||| Factures",fields:{id:"Num\xe9ro",date:"Date de facture",customer_id:"Client",command_id:"Commande",date_gte:"Emises depuis",date_lte:"Emises avant",address:"Adresse",total_ex_taxes:"Montant HT",delivery_fees:"Frais de livraison",taxes:"TVA"}},products:{name:"Poster |||| Posters",fields:{category_id:"Cat\xe9gorie",height_gte:"Hauteur mini",height_lte:"Hauteur maxi",height:"Hauteur",image:"Photo",price:"Prix",reference:"R\xe9f\xe9rence",sales:"Ventes",stock_lte:"Stock faible",stock:"Stock",thumbnail:"Aper\xe7u",width_gte:"Largeur mini",width_lte:"Margeur maxi",width:"Largeur"},tabs:{image:"Image",details:"D\xe9tails",description:"Description",reviews:"Commentaires"},filters:{categories:"Cat\xe9gories",stock:"Stock",no_stock:"En rupture",low_stock:"1 - 9 unit\xe9s",average_stock:"10 - 49 unit\xe9s",enough_stock:"50 unit\xe9s et plus",sales:"Ventes",best_sellers:"Meilleures ventes",average_sellers:"Moyennes",low_sellers:"Peu vendu",never_sold:"Jamais vendu"}},categories:{name:"Cat\xe9gorie |||| Cat\xe9gories",fields:{name:"Nom",products:"Produits"},actions:{create_product:"Cr\xe9er un Poster"}},reviews:{name:"Commentaire |||| Commentaires",amount:"1 commentaire |||| %{smart_count} commentaires",relative_to_poster:"Commentaire sur",detail:"D\xe9tail du commentaire",fields:{customer_id:"Client",command_id:"Commande",product_id:"Produit",date_gte:"Publi\xe9 depuis",date_lte:"Publi\xe9 avant",date:"Date",comment:"Texte",status:"Statut",rating:"Classement"},action:{accept:"Accepter",reject:"Rejeter"},notification:{approved_success:"Commentaire approuv\xe9",approved_error:"Erreur: Commentaire non approuv\xe9",rejected_success:"Commentaire rejet\xe9",rejected_error:"Erreur: Commentaire non rejet\xe9"}},segments:{name:"Segments",fields:{customers:"Clients",name:"Nom"},data:{compulsive:"Compulsif",collector:"Collectionneur",ordered_once:"A command\xe9",regular:"R\xe9gulier",returns:"A renvoy\xe9",reviewer:"Commentateur"}},stores:{name:"Magasins",fields:{city:"Ville",country:"Pays",address:"Adresse",created_at:"Ouvert le"}}}}),Qo=a(797),Xo=a.n(Qo),Yo=a(795),Zo=a.n(Yo),$o=a(796),el=a.n($o),tl=a(114),al=a(1786),rl=a(794),nl=a.n(rl),cl=a(793),ol=a.n(cl),ll=Object(k.a)({root:{maxWidth:345,cursor:"pointer",margin:20,opacity:.9,transition:"opacity 0.3s ease-in-out","&:hover,&:focus-within":{opacity:1}},visited:{opacity:.6},media:{height:140},rightButton:{marginLeft:"auto"},content:{position:"relative"},newIcon:{position:"absolute",top:10,right:10},actions:{paddingBottom:0},buyIcon:{marginLeft:"auto !important"},playedOnIndicator:{paddingLeft:16,paddingTop:0,paddingBottom:16}}),sl=function(e){var t=e.record,a=ll(),r=Object(lt.a)(),c=Object(Sc.b)(),o=Object(A.a)(c,2),l=(o[0],o[1].start),s=Object(tl.a)({type:"update",resource:"tours",payload:{id:t.id,data:{playedOn:new Date}}},{onSuccess:r}),i=Object(A.a)(s,1)[0];return n.a.createElement(De.a,{className:sr()(a.root,Object(w.a)({},a.visited,t.playedOn)),onClick:function(){l(t.tour),i()}},n.a.createElement(al.a,{className:a.media,image:"".concat("/ra-enterprise-demo","/").concat(t.image),title:t.title}),n.a.createElement($.a,{className:a.content},!t.playedOn&&n.a.createElement(ol.a,{color:"error",fontSize:"large",className:a.newIcon}),n.a.createElement(_.a,{gutterBottom:!0,variant:"h5",component:"h2"},t.title),n.a.createElement(tc.a,{record:t,source:"comment"})),n.a.createElement(Bc.a,{className:a.actions},n.a.createElement(fn.a,{size:"small",startIcon:n.a.createElement(nl.a,null),color:"primary"},"Play"),n.a.createElement(fn.a,{size:"small",startIcon:n.a.createElement(Eo.a,null),color:"secondary",className:a.buyIcon,href:t.href},"Buy")),n.a.createElement("div",{className:a.playedOnIndicator},n.a.createElement(_.a,{variant:"caption",display:"block",color:"textSecondary"},t.playedOn?"Last played on ".concat(new Date(t.playedOn).toLocaleString()):"Never played before")))},il=Object(k.a)({content:{border:"none",background:"none",boxShadow:"none"}}),ul=Object(k.a)({gridContainer:{display:"flex",flexWrap:"wrap"}}),dl=function(e){e.currentSort;var t=e.className,a=e.resource,c=e.filters,o=e.displayedFilters,l=(e.exporter,e.filterValues),s=(e.permanentFilter,e.hasCreate,e.basePath,e.selectedIds,e.onUnselectItems,e.showFilter),i=(e.maxResults,e.total,e.ids),u=Object(ce.a)(e,["currentSort","className","resource","filters","displayedFilters","exporter","filterValues","permanentFilter","hasCreate","basePath","selectedIds","onUnselectItems","showFilter","maxResults","total","ids"]),d=Object(lt.a)(),m=Object(tl.a)({type:"updateMany",resource:"tours",payload:{ids:i,data:{playedOn:null}}},{onSuccess:function(){d()}}),f=Object(A.a)(m,2),p=f[0],b=f[1].loading,g=Object(tl.a)({type:"updateMany",resource:"tours",payload:{ids:i,data:{playedOn:new Date}}},{onSuccess:function(){d()}}),E=Object(A.a)(g,2),h=E[0],v=E[1].loading;return n.a.createElement(oe.a,Object.assign({className:t},Object(wt.c)(u)),c&&Object(r.cloneElement)(c,{resource:a,showFilter:s,displayedFilters:o,filterValues:l,context:"button"}),n.a.createElement(vt.a,{onClick:h,label:"Mark all as played",disabled:v},n.a.createElement(Zo.a,null)),n.a.createElement(vt.a,{onClick:p,label:"Reset",disabled:b},n.a.createElement(el.a,null)))},ml=function(e){var t=e.ids,a=e.data,r=ul();return n.a.createElement("div",{className:r.gridContainer},t.map((function(e){return n.a.createElement(sl,{key:e,record:a[e]})})))},fl={list:function(e){var t=il();return n.a.createElement(yt.a,Object.assign({},e,{perPage:20,pagination:n.a.createElement(Oe.a,{rowsPerPageOptions:[10,20,40]}),sort:{field:"id",order:"ASC"},classes:t,actions:n.a.createElement(dl,null)}),n.a.createElement(ml,null))},icon:Xo.a},pl=a(799),bl=a(798),gl=a.n(bl),El=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"children",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"isRoot";return Object(Ae.a)(Object(Ae.a)({},e),{},{getTree:function(){var t=Object(qc.a)(Pc.a.mark((function t(a){var r,n;return Pc.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getList(a,{filter:{},sort:{field:"id",order:"ASC"},pagination:{page:1,perPage:1e3}});case 2:return r=t.sent,n=r.data,t.abrupt("return",{data:n});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),getRootNodes:function(){var t=Object(qc.a)(Pc.a.mark((function t(r){var n,c;return Pc.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getList(r,{filter:Object(w.a)({},a,!0),sort:{field:"id",order:"ASC"},pagination:{page:1,perPage:1e3}});case 2:return n=t.sent,c=n.data,t.abrupt("return",{data:c});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),getChildNodes:function(){var a=Object(qc.a)(Pc.a.mark((function a(r,n){var c,o,l,s,i;return Pc.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=n.parentId,a.next=3,e.getOne(r,{id:c});case 3:return o=a.sent,l=o.data,a.next=7,e.getList(r,{filter:{id:l[t]},sort:{field:"id",order:"ASC"},pagination:{page:1,perPage:1e3}});case 7:return s=a.sent,i=s.data,a.abrupt("return",{data:i});case 10:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}(),moveAsNthChildOf:function(){var a=Object(qc.a)(Pc.a.mark((function a(r,n){var c,o,s,i,u,d,m;return Pc.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=n.source,o=n.destination,s=n.position,a.next=3,e.getList(r,{filter:{},sort:{field:"id",order:"ASC"},pagination:{page:1,perPage:1e3}});case 3:if(i=a.sent,u=i.data,!(d=u.filter((function(e){return e.children.includes(c.id)})).pop())){a.next=9;break}return a.next=9,e.update(r,{id:d.id,data:Object(w.a)({},t,d[t].filter((function(e){return e!==c.id}))),previousData:d});case 9:if(0!==s){a.next=14;break}return a.next=12,e.update(r,{id:o.id,data:Object(w.a)({},t,[c.id].concat(Object(l.a)(o[t]))),previousData:o});case 12:a.next=17;break;case 14:return m=[].concat(Object(l.a)(o[t].slice(0,s-1)),[c.id],Object(l.a)(o[t].slice(s))),a.next=17,e.update(r,{id:o.id,data:Object(w.a)({},t,m),previousData:o});case 17:return a.abrupt("return",{data:{}});case 18:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}(),moveAsNthSiblingOf:function(){var a=Object(qc.a)(Pc.a.mark((function a(r,n){var c,o,s,i,u,d,m,f;return Pc.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=n.source,o=n.destination,s=n.position,a.next=3,e.getList(r,{filter:{},sort:{field:"id",order:"ASC"},pagination:{page:1,perPage:1e3}});case 3:if(i=a.sent,u=i.data,d=u.filter((function(e){return e.children.includes(c.id)})).pop(),m=u.filter((function(e){return e.children.includes(o.id)})).pop(),d&&m){a.next=9;break}return a.abrupt("return",{data:{}});case 9:if(d.id!==m.id){a.next=16;break}return(f=Object(l.a)(m.children)).splice(s,0,f.splice(f.indexOf(c.id),1)[0]),a.next=14,e.update(r,{id:m.id,data:Object(w.a)({},t,f),previousData:m});case 14:a.next=20;break;case 16:return a.next=18,e.update(r,{id:d.id,data:Object(w.a)({},t,d[t].filter((function(e){return e!==c.id}))),previousData:d});case 18:return a.next=20,e.update(r,{id:m.id,data:Object(w.a)({},t,m[t].slice(0,s).concat(c.id,m[t].slice(s))),previousData:m});case 20:return a.abrupt("return",{data:{}});case 21:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}(),addRootNode:function(){var r=Object(qc.a)(Pc.a.mark((function r(n,c){var o,l;return Pc.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return l=c.data,r.abrupt("return",e.create(n,{data:Object(Ae.a)(Object(Ae.a)({},l),{},(o={},Object(w.a)(o,a,!0),Object(w.a)(o,t,[]),o))}));case 2:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}(),addChildNode:function(){var r=Object(qc.a)(Pc.a.mark((function r(n,c){var o,l,s,i,u,d;return Pc.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return l=c.parentId,s=c.data,r.next=3,e.getOne(n,{id:l});case 3:return i=r.sent,u=i.data,r.next=7,e.create(n,{data:Object(Ae.a)(Object(Ae.a)({},s),{},(o={},Object(w.a)(o,a,!1),Object(w.a)(o,t,[]),o))});case 7:return d=r.sent,r.next=10,e.update(n,{id:l,data:Object(Ae.a)(Object(Ae.a)({},u),{},{children:u.children.concat(d.data.id)}),previousData:u});case 10:return r.abrupt("return",d);case 11:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()})},hl=[],vl=function(e){return Object(Ae.a)(Object(Ae.a)({},e),{},{subscribe:function(){var e=Object(qc.a)(Pc.a.mark((function e(t,a){return Pc.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hl.push({topic:t,subscriptionCallback:a}),e.abrupt("return",Promise.resolve({data:null}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),unsubscribe:function(){var e=Object(qc.a)(Pc.a.mark((function e(t,a){return Pc.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hl=hl.filter((function(e){return e.topic!==t||e.subscriptionCallback!==a})),e.abrupt("return",Promise.resolve({data:null}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),publish:function(e,t){return e?t.type?(hl.map((function(a){return e===a.topic&&a.subscriptionCallback(t)})),Promise.resolve({data:null})):Promise.reject(new Error("ra.realTime.error.type")):Promise.reject(new Error("ra.realTime.error.topic"))}})},wl=new Date+31536e3,yl=function(e,t){var a=e.filter((function(e){return!t.find((function(t){return e.id===t.id}))})),r=e.filter((function(e){return t.find((function(t){return e.id===t.id}))})),n=t.filter((function(t){return!e.find((function(e){return t.id===e.id}))}));return[].concat(Object(l.a)(a),Object(l.a)(r.map((function(e){var a=t.find((function(t){return e.id===t.id}));return Object(Ae.a)(Object(Ae.a)({},e),{},{playedOn:a.playedOn})}))),Object(l.a)(n)).sort((function(e,t){return e.id-t.id}))},Ol=gl()(vl,El)(Object(pl.a)("http://localhost:4000")),jl={tours:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(t){var a=JSON.parse(localStorage.getItem(t))||[];return yl(e[t],a)},a=function(e,t){return localStorage.setItem(e,JSON.stringify(t))},r=function(e,r){var n=r.id,c=r.data,o=t(e),s=o.find((function(e){return e.id===n}));if(!s)return{data:null};var i=Object(Ae.a)(Object(Ae.a)(Object(Ae.a)({},s),c),{},{id:n});return a(e,[].concat(Object(l.a)(o.filter((function(e){return e.id!==n}))),[i])),{data:i}},n=function(e,r){var n=r.id,c=t(e),o=c.find((function(e){return e.id===n}));return o?(c=c.filter((function(e){return e.id!==n})),a(e,c),{data:o}):{data:null}};return{getList:function(e,a){var r=a.filter,n=a.sort,c=a.pagination,o=t(e);r&&(o=Object.keys(r).reduce((function(e,t){var a=r[t];return e.filter((function(e){return e[t]===a}))}),Object(l.a)(o)));var s=o.length;if(n){var i=n.field,u=n.order;o=o.sort((function(e,t){return"ASC"===u?e[i]-t[i]:t[i]-e[i]}))}if(c){var d=c.page,m=c.perPage;o=o.slice((d-1)*m,d*m-1)}return{data:o,total:s}},getOne:function(e,a){var r=a.id;return{data:t(e).find((function(e){return e.id===r})),validUntil:wl}},getMany:function(e,a){var r=a.ids;return{data:t(e).filter((function(e){return r.include(e.id)})),validUntil:wl}},getManyReference:function(e,a){var r=a.filter,n=a.sort,c=a.pagination,o=t(e);r&&(o=Object.keys(r).reduce((function(e,t){var a=r[t];return e.filter((function(e){return e[t]===a}))}),Object(l.a)(o)));var s=o.length;if(n){var i=n.field,u=n.order;o=o.sort((function(e,t){return"ASC"===u?e[i]-t[i]:t[i]-e[i]}))}if(c){var d=c.page,m=c.perPage;o=o.slice((d-1)*m,d*m-1)}return{data:o,total:s}},update:r,updateMany:function(e,t){var a=t.ids,n=t.data;return{data:a.map((function(t){return r(e,{id:t,data:n})})).filter((function(e){return e.data&&e.data.id})).map((function(e){return e.data.id}))}},create:function(e,r){var n=r.data,c=t(e),o=c.length+1;if(!c.find((function(e){return e.id===o}))){var l=Object(Ae.a)(Object(Ae.a)({},n),{},{id:o});return c.push(l),a(e,c),l}},delete:n,deleteMany:function(e,t){return{data:t.ids.map((function(t){return n(e,{id:t})})).filter((function(e){return e.data&&e.data.id})).map((function(e){return e.data.id}))}}}}({tours:[{id:1,image:"images/tours/ra-markdown.jpg",title:"ra-markdown",tour:"ra-markdown",comment:"Read Markdown data, and edit it using a WYSIWYG editor in your admin",href:"http://marmelab.com/react-admin",playedOn:null},{id:2,image:"images/tours/ra-preferences.jpg",title:"ra-preferences",tour:"ra-preferences",comment:"Persist user preferences (language, ui, filters, displayed columns, etc) in local storage",href:"http://marmelab.com/react-admin",playedOn:null},{id:3,image:"images/tours/ra-tree.jpg",title:"ra-tree",tour:"ra-tree",comment:"Edit and visualize tree structures. Reorganize by drag and drop. Adapts to any data structure on the backend (parent_id, children, nested sets, etc)..",href:"http://marmelab.com/react-admin",playedOn:null},{id:4,image:"images/tours/ra-realtime.jpg",title:"ra-realtime",tour:"ra-realtime",comment:"Enable realtime on menu, list, show and edit views - or anywhere you want.",href:"http://marmelab.com/react-admin",playedOn:null},{id:5,image:"images/tours/ra-editable-datagrid.jpg",title:"ra-editable-datagrid",tour:"ra-editable-datagrid",comment:"Quickly edit your data without leaving your datagrid.",href:"http://marmelab.com/react-admin",playedOn:null},{id:6,image:"images/tours/ra-navigation-breadcrumb.jpg",title:"ra-navigation: Breadcrumb",tour:"ra-navigation-breadcrumb",comment:"Keep a track of your location in the site and navigate easily.",href:"http://marmelab.com/react-admin",playedOn:null}]})},_l={},kl=new Proxy(Ol,{get:function(e,t,a){return"then"===t?a:function(e,a){var r=Ol;return jl[e]&&(r=jl[e]),_l[e]&&(r=Object(Ae.a)(Object(Ae.a)({},r),_l[e](r))),new Promise((function(n){return setTimeout((function(){return n(r[t](e,a))}),500)}))}}}),xl=a(800),Cl=a.n(xl),Sl=a(486),Nl=a(803),Pl=a.n(Nl),ql=a(191),Tl={categories:[{id:5,name:"categories",isRoot:!0,children:[0,10,20,30,40,50,60,70,80,90,100,110,120]},{id:0,name:"animals",isRoot:!1,children:[1,2,3]},{id:1,name:"cute",isRoot:!1,children:[]},{id:2,name:"scary",isRoot:!1,children:[]},{id:3,name:"weird",isRoot:!1,children:[]},{id:10,name:"beard",isRoot:!1,children:[11,12]},{id:11,name:"curly",isRoot:!1,children:[]},{id:12,name:"straight",isRoot:!1,children:[]},{id:20,name:"business",isRoot:!1,children:[]},{id:30,name:"cars",isRoot:!1,children:[31,32]},{id:31,name:"fast",isRoot:!1,children:[]},{id:32,name:"slow",isRoot:!1,children:[]},{id:40,name:"city",isRoot:!1,children:[]},{id:50,name:"flowers",isRoot:!1,children:[]},{id:60,name:"food",isRoot:!1,children:[61,62]},{id:61,name:"liquid",isRoot:!1,children:[]},{id:62,name:"solid",isRoot:!1,children:[]},{id:70,name:"nature",isRoot:!1,children:[]},{id:80,name:"people",isRoot:!1,children:[81,82,83]},{id:81,name:"one",isRoot:!1,children:[]},{id:82,name:"couple",isRoot:!1,children:[]},{id:83,name:"many",isRoot:!1,children:[]},{id:90,name:"sports",isRoot:!1,children:[]},{id:100,name:"tech",isRoot:!1,children:[]},{id:110,name:"travel",isRoot:!1,children:[]},{id:120,name:"water",isRoot:!1,children:[]}],stores:[{id:0,city:"Paris",country:"France",address:"8 rue de Rivoli",created_at:new Date(1988,4,20)},{id:1,city:"Lyon",country:"France",address:"14 rue de la R\xe9publique",created_at:new Date(1992,3,11)},{id:2,city:"Nice",country:"France",address:"5 cours Saleya",created_at:new Date(1993,6,27)},{id:3,city:"Toulouse",country:"France",address:"43 rue de la Pomme",created_at:new Date(1994,1,2)},{id:4,city:"Dijon",country:"France",address:"89 rue de la libert\xe9",created_at:new Date(2001,11,5)},{id:5,city:"Nancy",country:"France",address:"27 rue Ordener",created_at:new Date(2008,7,15)}]},Rl=function(){var e,t,a=Pl()({serializeDate:!0}),r=a.products.map((e=a.categories,t=Tl.categories,function(a){var r=e.find((function(e){return e.id===a.category_id})),n=t.find((function(e){return e.name===r.name}));if(0===n.children.length)return Object(Ae.a)(Object(Ae.a)({},a),{},{category_id:n.id});var c=ql.random.arrayElement(n.children||[]);return Object(Ae.a)(Object(Ae.a)({},a),{},{category_id:c})})),n=Object(Ae.a)(Object(Ae.a)(Object(Ae.a)({},a),Tl),{},{products:r}),c=new Cl.a.FetchServer("http://localhost:4000");return window&&(window.restServer=c),c.addRequestInterceptor((function(e){return"GET"===e.method&&e.url.includes("/products")&&e.params.filter&&void 0!==e.params.filter.category_id&&(e.params.filter.category_id=function e(t,a){var r=t.find((function(e){return e.id===a})).children.map((function(a){return e(t,a)}));return[a].concat(Object(l.a)(r))}(n.categories,parseInt(e.params.filter.category_id))),e})),c.init(n),c.toggleLogging(),Sl.a.mock("begin:http://localhost:4000",c.getHandler()),function(){return Sl.a.restore()}},Al={en:[f.a,g.b,Jo],fr:[p.a,g.c,Ko]},Dl=Object(d.a)((function(e){return s.a.apply(void 0,Object(l.a)(Al[e]))}),"en"),Ll=function(){return Object(r.useEffect)((function(){var e=Rl();return function(){e()}}),[]),n.a.createElement(m.b,{themeFromType:function(e){return"dark"===e?E:h}},n.a.createElement(i.a,{title:"",dataProvider:kl,customRoutes:Wo,customReducers:{tree:b.a},authProvider:v,dashboard:zo,loginPage:to,layout:Uc,i18nProvider:Dl},n.a.createElement(u.a,Object.assign({name:"customers"},Fn)),n.a.createElement(u.a,Object.assign({name:"commands"},wr,{options:{label:"Orders"}})),n.a.createElement(u.a,Object.assign({name:"invoices"},Kn)),n.a.createElement(u.a,Object.assign({name:"products"},bc)),n.a.createElement(u.a,Object.assign({name:"categories"},dt)),n.a.createElement(u.a,Object.assign({name:"reviews"},_n)),n.a.createElement(u.a,Object.assign({name:"stores"},vc)),n.a.createElement(u.a,Object.assign({name:"tours"},fl))))};a(1660);o.a.render(n.a.createElement(Ll,null),document.getElementById("root"))},778:function(e,t,a){e.exports=a.p+"static/media/welcome_illustration.87ada4be.svg"},780:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAABZCAMAAAD//SY8AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAO1QTFRF/Ors/Ojs+ubrAAAA/Ojs++np/Ojs9ujo/Onq8+Hh+urr9Onp++rr/Orq+Obr++Xl+urq+enr++bm+uns+ubr/Ors++nr/Ors+ubr+ujs++Xl/Ofs/Orq++fr+ers+ujsv7+/++rq+Ofs+urs++rq/Ors/Onq8d3j7dvb+urs+urr+ufr+ujs+Orq+ers++js9OPj+ujs/Ojo+unq9+ns9+bo++jr/Ofn/Orr+enp8uXl/Orq/Obm/Ors+urq2NjY+urr/Onp/OXo1dXV+ujq/Ojr8Ojo+Obo9uTn/Ojr++ns+urr+urq/Ors8+fnTQPn1wAAAE90Uk5T/+EzAOw57TfnK9cXvptwO86KPcVl43LiZMk6kuY/hcYIPGmRs+TzJQ6QzIzTSISuLcdNz1xar0nliCepUvtfDdiUTgbRmSFvVqO4ytnwFVkGdGQAAAKuSURBVHic7d3XVhRBGEXhAoExoZjGBKKCcVTMWcxK9P0fxwvvq6u7z79OlezvCeqsvYABOqSkMDd/DO2QNE9pYdE9BOVE0dPSxL0ExVTR0/ET7ikoJYueTp5yb0EhXfR02r0FhYTR07J7DMooo6cz7jUoIo2ezrrnoIQ2+op7Dkpoo6dz7j0oII6ezrsHoZs6+gX3IHRTR08X3YvQSR79knsROsmjp6l7Erroo192T0IXffR0xb0JHQKiX3VvQoeA6OmaexTyIqJfd49CXkT0Vfco5EVET2vuVcgKiX7DvQpZIdHX3auQFRI93XTPQk5M9FvuWciJiX7bPQs5MdE33LOQExN90z0LOTHRuUCyajHR77hnIScm+l33LOTERE/uWcgh+hFE9CMopjk/06sWE51P71WLic7v6VWLic5f5KoWE33DPQs5MdH5L1vVYqLz//SqxUTnypmqhTTnGrm6hUTnati6hUTnuve6RTTnDpfKRUTnXrbKRUTnrtXKBTTn/vTaBUTnSRS10zfnmTPV00fn6VLVkzfnOXL1k0fniZH1Uzfn2bANUEfnKdANEDfnee8t0DbngsgmaKPzDpcmSJvztqY2KJvzXrZGCJvzBsZW6JrzrtVmyJrzVuV2qJrz/vSGiJovLLqHoJym+dy8ewd6kDRfueeegT4UzTfvu1egF0HzB+4N6Gl8c66aaM7Y5A/5CNeekc1n7vNjgFHJHz12Hx9DjGn+xH14DDM8+dZT99kx0NDkz567T47BhiV/8dJ9boww6Kv8lfvUGKV/8tdv3GfGSD2Lv3333n1ijNYr+YeP7uNCoTj4p63tz+7DQqOs+Jev3767TwqZ7uA/fm7/cp8SUrncS+vLv9f4nv7/SZOd6Wx3b/9g9fBf6cPVg/293dl0Z/LHfTYE+Qucis5DBf5HsAAAAABJRU5ErkJggg=="},781:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAABZCAMAAAD//SY8AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAO1QTFRFU1NTU1NTUFBQAAAAUVFRUVFRU1NTT09PU1NTR0dHUlJSTk5OUlJSUVFRUlJSTk5OU1NTT09PS0tLU1NTUVFRUVFRU1NTUVFRUlJSUVFRS0tLUFBQUVFRUVFRUVFRUVFRQEBAUVFRU1NTU1NTU1NTU1NTU1NTU1NTSUlJUFBQU1NTUlJSUVFRTk5OT09PUVFRSkpKUVFRU1NTU1NTTk5OT09PUlJSTU1NUVFRU1NTSEhIU1NTUVFRUVFRUVFROzs7U1NTU1NTUlJSKysrU1NTUlJSRkZGU1NTTU1NU1NTUlJSUVFRUVFRU1NTSUlJap2IRgAAAE90Uk5T/+EzAOw57TfnK9cXvptwO86KPcVl43LiZMk6kuY/hcYIPGmRs+TzJQ6QzIzTSISuLcdNz1xar0nliCepUvtfDdiUTgbRmSFvVqO4ytnwFVkGdGQAAAKuSURBVHic7d3XVhRBGEXhAoExoZjGBKKCcVTMWcxK9P0fxwvvq6u7z79OlezvCeqsvYABOqSkMDd/DO2QNE9pYdE9BOVE0dPSxL0ExVTR0/ET7ikoJYueTp5yb0EhXfR02r0FhYTR07J7DMooo6cz7jUoIo2ezrrnoIQ2+op7Dkpoo6dz7j0oII6ezrsHoZs6+gX3IHRTR08X3YvQSR79knsROsmjp6l7Erroo192T0IXffR0xb0JHQKiX3VvQoeA6OmaexTyIqJfd49CXkT0Vfco5EVET2vuVcgKiX7DvQpZIdHX3auQFRI93XTPQk5M9FvuWciJiX7bPQs5MdE33LOQExN90z0LOTHRuUCyajHR77hnIScm+l33LOTERE/uWcgh+hFE9CMopjk/06sWE51P71WLic7v6VWLic5f5KoWE33DPQs5MdH5L1vVYqLz//SqxUTnypmqhTTnGrm6hUTnati6hUTnuve6RTTnDpfKRUTnXrbKRUTnrtXKBTTn/vTaBUTnSRS10zfnmTPV00fn6VLVkzfnOXL1k0fniZH1Uzfn2bANUEfnKdANEDfnee8t0DbngsgmaKPzDpcmSJvztqY2KJvzXrZGCJvzBsZW6JrzrtVmyJrzVuV2qJrz/vSGiJovLLqHoJym+dy8ewd6kDRfueeegT4UzTfvu1egF0HzB+4N6Gl8c66aaM7Y5A/5CNeekc1n7vNjgFHJHz12Hx9DjGn+xH14DDM8+dZT99kx0NDkz567T47BhiV/8dJ9boww6Kv8lfvUGKV/8tdv3GfGSD2Lv3333n1ijNYr+YeP7uNCoTj4p63tz+7DQqOs+Jev3767TwqZ7uA/fm7/cp8SUrncS+vLv9f4nv7/SZOd6Wx3b/9g9fBf6cPVg/293dl0Z/LHfTYE+Qucis5DBf5HsAAAAABJRU5ErkJggg=="},886:function(e,t,a){e.exports=a(1661)}},[[886,1,2]]]);