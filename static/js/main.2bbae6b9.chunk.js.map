{"version":3,"sources":["tours/tours.ts","tours/randomLockBuilder.js","dashboard/welcome_illustration.svg","dashboard/cartouche.png","dashboard/cartoucheDark.png","layout/themes.ts","authProvider.ts","layout/Logo.tsx","layout/AppBar.tsx","products/LockOverlay.tsx","products/GridList.tsx","products/Aside.tsx","products/ProductList.tsx","categories/CategoryEdit.tsx","categories/CategoryCreate.tsx","categories/index.ts","categories/CategoryList.tsx","ra-enterprise/List.js","segments/data.js","visitors/SegmentsField.tsx","visitors/SegmentInput.tsx","visitors/AvatarField.tsx","visitors/FullNameField.tsx","visitors/CustomerLinkField.tsx","visitors/ColoredNumberField.tsx","visitors/MobileGrid.tsx","visitors/DesktopGrid.tsx","visitors/VisitorListAside.tsx","visitors/VisitorList.tsx","visitors/VisitorCreate.tsx","orders/NbItemsField.js","visitors/CustomerReferenceField.tsx","orders/MobileGrid.js","orders/OrderList.js","orders/Basket.tsx","orders/OrderEdit.js","orders/index.js","reviews/BulkAcceptButton.js","reviews/BulkRejectButton.js","reviews/ReviewListMobile.js","products/ProductReferenceField.tsx","reviews/StarRatingField.tsx","reviews/rowStyle.js","reviews/ReviewListDesktop.js","reviews/ReviewFilter.js","reviews/AcceptButton.js","reviews/RejectButton.js","reviews/ReviewEditToolbar.js","reviews/ReviewEdit.js","reviews/ReviewList.js","reviews/index.js","visitors/Aside.js","visitors/SegmentsInput.tsx","visitors/VisitorEdit.tsx","visitors/index.ts","visitors/AddressField.tsx","invoices/InvoiceShow.tsx","invoices/InvoiceList.tsx","invoices/index.ts","products/Poster.tsx","products/ProductCreate.tsx","products/ProductPreview.tsx","products/ProductEdit.tsx","products/index.ts","stores/StoreList.tsx","stores/index.ts","visitors/segments.ts","layout/Menu.tsx","layout/Breadcrumb.tsx","layout/Layout.tsx","layout/Login.tsx","dashboard/Welcome.tsx","dashboard/CardWithIcon.tsx","dashboard/MonthlyRevenue.tsx","dashboard/NbNewOrders.tsx","dashboard/PendingOrders.tsx","dashboard/PendingReviews.tsx","dashboard/NewCustomers.tsx","dashboard/OrderChart.tsx","dashboard/Dashboard.tsx","dashboard/index.ts","segments/LinkToRelatedCustomers.js","segments/Segments.js","tours/TourLauncher.tsx","routes.js","i18n/en.ts","i18n/fr.ts","tours/Tour.js","tours/TourList.js","tours/index.js","dataProvider/addRealtimeMethodsWithFakeTransport.ts","dataProvider/localStorageProvider.js","dataProvider/index.js","tours/data.js","fakeServer/demo-data.js","fakeServer/index.js","App.tsx","index.tsx","tours/randomCommandBuilder.js"],"names":["getRandomInt","min","max","Math","ceil","floor","random","timeout","ms","Promise","resolve","setTimeout","interval","callback","intervalMs","expirationMs","intervalRef","setInterval","clearInterval","newCommandsIds","tours","before","a","redirect","steps","target","disableBeacon","content","joyrideProps","styles","beacon","marginTop","after","getAttribute","slice","click","options","zIndex","menuOverlay","document","querySelector","setTourPreferences","state","arrowColor","switcher","localStorage","setItem","dataProvider","reduce","acc","then","create","data","randomCommandBuilder","newCommand","push","id","topic","publish","type","payload","ids","date","Date","hideBackButton","newCommand1","newCommand2","dispatch","all","map","recordId","lock","identity","generateIdentity","meta","fetchResponse","resource","lockTile","global","HTMLElement","parseInt","dataset","productid","lockidentity","unlock","refresh","deleteMany","fireEvent","change","value","disableScrolling","scrollOffset","defaultIdentities","identities","length","module","exports","darkTheme","palette","primary","main","overrides","RaAppBar","menuButton","display","RaSidebar","drawerPaper","paddingRight","width","MuiAppBar","RaMenuItemCategory","closeButton","color","popoverPaper","backgroundColor","RaMenuItem","root","link","grey","RaFilterFormInput","body","lightTheme","secondary","light","dark","contrastText","background","default","shape","borderRadius","RaMenuItemLink","borderLeft","active","RaMultiLevelMenu","navWithCategories","MuiPaper","elevation1","boxShadow","border","backgroundClip","MuiButton","contained","colorSecondary","MuiLinearProgress","colorPrimary","barColorPrimary","MuiFilledInput","authProvider","login","username","logout","removeItem","checkError","checkAuth","getItem","reject","getPermissions","Logo","props","height","viewBox","aria-label","style","lineHeight","fontWeight","fontSize","fontFamily","letterSpacing","wordSpacing","strokeWidth","fill","d","useStyles","makeStyles","theme","position","title","flex","textOverflow","whiteSpace","overflow","paddingLeft","spacing","logo","breakpoints","up","left","top","transform","CustomAppBar","classes","version","useVersion","useQuery","filter","playedOn","numberOfTours","AppBar","elevation","Typography","variant","className","IconButton","to","component","Link","Badge","badgeContent","languages","locale","name","defaultLanguage","LockOverlay","rest","translate","useTranslate","Lock","textAlign","common","white","padding","paddingTop","gridList","margin","tile","tileBar","placeholder","price","getColsForWidth","LoadingGridList","nbChildren","fn","nbItems","cellHeight","cols","key","GridListTile","Array","from","_","ProductTile","record","src","thumbnail","alt","GridListTileBar","reference","subtitle","NumberField","source","currency","LoadedGridList","useListContext","basePath","locks","useHasLocks","firstLockRecordId","React","data-tour-id","find","l","current","isFirstLock","linkToRecord","data-productid","data-lockidentity","undefined","data-testid","withWidth","loaded","marginRight","down","Aside","useListFilterContext","setFilters","filterValues","displayedFilters","useGetTree","tree","getRCTree","defaultExpandedKeys","category_id","toString","defaultSelectedKeys","Card","CardContent","FilterLiveSearch","FilterList","label","icon","FilterListItem","sales_lte","sales_gt","sales","stock_lt","stock_gt","stock","Tree","treeData","children","onSelect","selectedKeys","selectedNodes","autoExpandParent","useQuickFilterStyles","marginBottom","QuickFilter","Chip","ProductFilter","Filter","SearchInput","alwaysOn","ReferenceInput","sort","field","order","SelectInput","NumberInput","defaultValue","ListActions","isSmall","useListActionsStyles","TopToolbar","context","SortButton","fields","CreateButton","ExportButton","paddingBottom","ProductListView","actions","aside","defaultTitle","Title","Box","m","Pagination","rowsPerPageOptions","ProductList","useDefineAppLocation","useMediaQuery","ListBase","filters","perPage","CategoryEditAside","hasCreate","hasEdit","hasList","hasShow","exporter","ProductListActions","CategoryEdit","Edit","SimpleForm","TextInput","smart_count","Prompt","save","useEffect","result","window","prompt","isRoot","CategoryCreate","useRefresh","useRedirect","Create","onSuccess","list","handleExpand","useTreeController","titleField","TreeWithDetails","edit","draggable","allowMultipleRoots","CategoryIcon","menuPaper","menuList","toolContainer","columnsList","maxHeight","overflowY","ToolContainer","forwardRef","ref","displayName","ColumnsTool","preferenceKey","defaultColumns","gutterBottom","preference","columns","GridOrListTool","view","setView","ButtonGroup","Button","onClick","Actions","currentSort","permanentFilter","showFilter","selectedIds","onUnselectItems","maxResults","total","hasColumnsSelector","hasViewSelector","useState","anchorEl","setAnchorEl","open","Boolean","hasTools","classnames","sanitizeListRestProps","cloneElement","disabled","aria-controls","aria-haspopup","event","currentTarget","size","keepMounted","onClose","paper","EnterpriseList","defaultOmittedColumns","defaultView","visibleColumns","useSelectedColumns","preferences","omit","usePreferences","childrenElements","useMemo","List","flexWrap","chip","SegmentsField","groups","segmentId","segment","segments","s","defaultProps","addLabel","input","SegmentInput","choices","AvatarField","Avatar","avatar","alignItems","PureFullNameField","pure","first_name","last_name","CustomerLinkField","ColoredNumberField","WrappedComponent","Colored","colored","card","flexDirection","cardTitleContent","justifyContent","cardContent","typography","body1","MobileGrid","CardHeader","DateField","nb_commands","editButton","right","DesktopGrid","RouterLink","fieldName","withStyles","flexShrink","MuiCard","last_seen_gte","endOfYesterday","toISOString","last_seen_lte","startOfWeek","subWeeks","startOfMonth","subMonths","nb_commands_gte","nb_commands_lte","has_newsletter","VisitorFilter","DateInput","NullableBooleanInput","visitorListColumn","customer","last_seen","total_spent","latest_purchase","showTime","BooleanField","VisitorList","isXsmall","VisitorListAside","Datagrid","rowClick","marginLeft","email","address","maxWidth","zipcode","city","comment","password","confirm_password","validatePasswords","errors","requiredValidate","required","SectionTitle","Separator","pt","VisitorCreate","validate","formClassName","validation","fullWidth","multiline","PasswordInput","render","basket","NbItemsField","FunctionField","CustomerReferenceField","ReferenceField","useListStyles","cardContentRow","TextField","OrderFilter","AutocompleteInput","optionText","choice","useDatagridStyles","tabs","TabbedDatagrid","ordered","delivered","cancelled","setState","status","prevState","useTheme","isXSmall","batchLevel","rowStyle","batch","lighten","fade","info","darken","orderRowStyle","Tabs","centered","indicatorColor","onChange","Tab","Divider","optimized","StyledTabbedDatagrid","OrderList","filterDefaultValues","container","minWidth","rightAlignedCell","boldCell","Basket","useQueryWithStore","item","product_id","productId","admin","resources","products","r","prev","next","Paper","Table","TableHead","TableRow","TableCell","TableBody","toLocaleString","quantity","colSpan","total_ex_taxes","delivery_fees","tax_rate","OrderTitle","useEditStyles","BooleanInput","OrderIcon","BulkAcceptButton","notify","useNotify","redirectTo","unselectAll","useUnselectAll","useUpdateMany","action","CRUD_UPDATE_MANY","undoable","onFailure","approve","loading","BulkRejectButton","textDecoration","inline","ReviewMobileList","useAppLocationState","setLocation","resourceLocation","useResourceAppLocation","JSON","stringify","ListItem","button","ListItemAvatar","linkType","ListItemText","secondaryTypographyProps","noWrap","hasBulkActions","ProductReferenceField","opacity","large","small","StarRatingField","rating","i","selectedRow","index","defaultStyle","selected","borderLeftColor","green","borderLeftWidth","borderLeftStyle","orange","red","headerRow","headerCell","rowCell","ReviewListDesktop","cellClassName","useFilterStyles","ReviewFilter","AcceptButton","useUpdate","RejectButton","ReviewEditToolbar","handleSubmitWithRedirect","invalid","saving","SaveButton","submitOnEnter","DeleteButton","form","inlineField","ReviewEdit","onCancel","controllerProps","useEditController","toolbar","rowsMax","ReviewsBulkActionButtons","BulkDeleteButton","flexGrow","transition","transitions","duration","enteringScreen","listWithDrawer","ReviewList","history","useHistory","handleClose","useCallback","path","match","isMatch","params","bulkActionButtons","ReviewListMobile","Drawer","anchor","ReviewIcon","useAsideStyles","EventList","useGetList","page","customer_id","orders","orderIds","reviews","reviewIds","events","mixOrdersAndReviews","mb","mr","eventsFromOrders","eventsFromReviews","concat","e1","e2","useEventStyles","cardHeader","clamp","Order","subheader","Review","EditButton","Tooltip","SegmentsInput","addField","SelectArrayInput","VisitorTitle","VisitorForm","FormWithRedirect","formProps","md","lg","xs","sm","ml","mt","Toolbar","handleSubmit","VisitorIcon","AddressField","CustomerField","InvoiceShow","useShowController","Grid","align","alignContent","spacer","toLocaleDateString","invoices","borderStyle","borderWidth","borderColor","divider","ListFilters","expand","InvoiceIcon","img","Poster","image","widthFormGroup","heightFormGroup","ProductCreate","TabbedForm","FormTab","InputProps","startAdornment","InputAdornment","endAdornment","allowEmpty","text","details","preview","frame","black","mat","bottom","art","Preview","ProductTitle","createStyles","useAccordionStyles","rounded","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","ProductEditFormWithPreview","FormDataConsumer","formData","ProductPreview","CustomToolbar","useHasLock","isMeLocker","useLockMessageStyles","LockMessage","ProductEdit","accordionClasses","useLock","onUnlockSuccess","CircularProgress","accordion","ReferenceManyField","pagination","ReferenceManyFieldPagination","ProductIcon","StoreForm","autoFocus","StoreListActions","StoreIcon","empty","createForm","editForm","string","charAt","toUpperCase","newCustomerFilter","formerCustomerFilter","StyledBadgeForText","badge","Menu","onMenuClick","commandsChangeCount","useAppLocationMatcher","location","countEvent","setCountEvent","useSubscribeToRecordList","count","values","previous","useResourceChangeCounter","useSelector","exact","stores","AudienceMenu","pointerEvents","CustomBreadcrumb","editLabel","createLabel","CustomLayout","appBar","menu","breadcrumb","Breadcrumb","minHeight","backgroundRepeat","backgroundSize","hint","renderInput","touched","error","inputProps","helperText","Form","withTypes","Login","setLoading","useLogin","useLocation","onSubmit","auth","nextPathname","catch","message","noValidate","CardActions","thickness","Notification","LoginWithTheme","ThemeProvider","createMuiTheme","media","publishArticleImage","Welcome","href","startIcon","cartoucheDark","cartouche","CardWithIcon","createElement","MonthlyRevenue","DollarIcon","NbNewOrders","ShoppingCartIcon","cost","PendingOrders","customers","dense","nb_items","customer_name","ListItemSecondaryAction","listItemText","WebkitLineClamp","WebkitBoxOrient","PendingReviews","nb","CommentIcon","NewCustomers","aMonthAgo","setDate","getDate","setHours","setMinutes","setSeconds","setMilliseconds","has_ordered","first_seen_gte","visitors","CustomerIcon","lastDay","toDateString","getTime","lastMonthDays","reverse","dateFormatter","getRevenuePerDay","daysWithRevenue","curr","day","aggregateOrdersByDay","OrderChart","dataKey","scale","domain","tickFormatter","reversed","unit","strokeDasharray","cursor","formatter","Intl","NumberFormat","format","labelFormatter","flexColumn","leftCol","rightCol","singleCol","Spacer","VerticalSpacer","Dashboard","useDataProvider","fetchOrders","getList","date_gte","recentOrders","aggregations","stats","revenue","nbNewOrders","pendingOrders","minimumFractionDigits","maximumFractionDigits","getMany","pendingOrdersCustomers","fetchReviews","nbPendingReviews","pendingReviews","review","pendingReviewsCustomers","LinkToRelatedCustomers","pathname","search","Segments","TourLauncher","tour","useParams","useTour","running","start","customEnglishMessages","mergeTranslations","englishMessages","add_root","pos","configuration","language","dashboard","monthly_revenue","month_history","new_orders","pending_reviews","new_customers","pending_orders","items","welcome","ra_button","demo_button","catalog","audience","former_customers","accepted","rejected","pending","commands","first_seen","birthday","last_visited","today","this_week","last_week","this_month","last_month","earlier","group","fieldGroups","change_password","delete","password_mismatch","amount","delivery","sum","unit_price","date_lte","returned","total_gte","command_id","height_gte","height_lte","stock_lte","width_gte","width_lte","description","categories","no_stock","low_stock","average_stock","enough_stock","best_sellers","average_sellers","low_sellers","never_sold","create_product","relative_to_poster","detail","accept","notification","approved_success","approved_error","rejected_success","rejected_error","compulsive","collector","ordered_once","regular","returns","reviewer","country","created_at","overlay","customFrenchMessages","frenchMessages","taxes","visited","rightButton","newIcon","buyIcon","playedOnIndicator","useMutation","setPlayed","CardMedia","process","gridContainer","reset","resetLoading","markAsPlayed","markAsPlayedLoading","GridList","Tour","DirectionsBusIcon","subscriptions","addRealtimeMethodsWithFakeTransport","subscribe","subscriptionCallback","unsubscribe","subscription","Error","VALID_UNTIL","mergeById","b","notInB","aItem","bItem","inBoth","notInA","c","restProvider","compose","addLocksMethodsBasedOnALockResource","addTreeMethodsBasedOnChildren","simpleRestProvider","customProviders","defaultState","get","collection","parse","set","update","newItem","otherItem","remove","Object","keys","o","getOne","validUntil","include","getManyReference","updateMany","res","localStorageProvider","customMethods","delayedDataProvider","Proxy","self","provider","originalCategories","newCategories","generateData","serializeDate","demoData","product","originalCategory","matchingNewCategory","newCategoryId","arrayElement","mergedData","restServer","FakeRest","FetchServer","addRequestInterceptor","request","method","url","includes","getAllChildrenCategories","parentId","childId","init","toggleLogging","fetchMock","mock","getHandler","restore","messages","en","fr","i18nProvider","buildI18nProvider","App","restoreFetch","fakeServer","customRoutes","loginPage","layout","Layout","Resource","ReactDOM","getElementById","round","replace","substr"],"mappings":"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","file":"static/js/main.2bbae6b9.chunk.js","sourcesContent":["import { TourType } from '@react-admin/ra-tour';\nimport { fireEvent } from '@testing-library/react';\nimport randomCommandBuilder from './randomCommandBuilder';\nimport { generateIdentity } from './randomLockBuilder';\n\nconst getRandomInt = (min, max) => {\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min)) + min;\n};\n\nconst timeout = ms => new Promise(resolve => setTimeout(resolve, ms));\nconst interval = (callback, intervalMs, expirationMs) =>\n    new Promise(resolve => {\n        const intervalRef = setInterval(callback, intervalMs);\n        setTimeout(() => {\n            clearInterval(intervalRef);\n            resolve();\n        }, expirationMs);\n    });\n\nlet newCommandsIds: number[] = [];\n\nconst tours: { [id: string]: TourType } = {\n    'ra-markdown': {\n        before: async ({ redirect }) => {\n            redirect('/products');\n            await timeout(1000); // would be so awesome if redirect was awaitable!\n        },\n        steps: [\n            {\n                target: `[data-tour-id='grid-line'] > a:nth-child(${getRandomInt(\n                    1,\n                    5\n                )})`,\n                disableBeacon: true,\n                content:\n                    \"This is a poster, one of the products our shop is selling, let's go to its details\",\n                joyrideProps: {\n                    styles: {\n                        beacon: {\n                            marginTop: -100,\n                        },\n                    },\n                },\n                after: ({ target, redirect }) => {\n                    const productUrl = target.getAttribute('href').slice(1);\n                    redirect(productUrl);\n                },\n            },\n            {\n                target: \"[data-tour-id='description-tab']\",\n                content: 'The markdown editor is in the description tab',\n                after: ({ target }) => {\n                    target.click();\n                },\n            },\n            {\n                target: '.tui-editor-defaultUI',\n                content:\n                    'Right here. Try playing with its markdown, make it bold, add headlines!',\n            },\n            {\n                target: '.te-switch-button.wysiwyg',\n                content: 'By default, you are in WYSIWYG mode.',\n            },\n            {\n                target: '.te-switch-button.markdown',\n                content:\n                    'But you can switch to raw markdown edition with this button.',\n            },\n            {\n                target: '[data-testid=product-edit-preview]',\n                content:\n                    'Parsed markdown can then be displayed in a preview or wherever you want.',\n            },\n        ],\n    },\n    'ra-preferences': {\n        steps: [\n            {\n                target: \"button[aria-label='Toggle Theme']\",\n                disableBeacon: true,\n                content:\n                    'ra-preferences comes with a lot of built-in modules, like this theme switcher. Try it: it works!',\n            },\n            {\n                target: \"button[aria-label='Toggle Theme'] + button\",\n                content: 'Or this language switcher...',\n                after: ({ redirect }) => {\n                    redirect('/customers');\n                },\n            },\n            {\n                target: 'button[aria-controls=user-preference-menu]',\n                content:\n                    'Even more advanced ones like this list customization tool.',\n                disableBeacon: false,\n                after: ({ target }) => {\n                    target.click();\n                },\n            },\n            {\n                target: '#user-preference-menu .MuiPaper-root',\n                content:\n                    'Where you can select how you want the list to be displayed, or the information you want to see.',\n                joyrideProps: {\n                    styles: {\n                        options: {\n                            zIndex: 10000,\n                        },\n                    },\n                },\n                after: () => {\n                    const menuOverlay: HTMLElement | null = document.querySelector(\n                        'body > .MuiPopover-root div[aria-hidden=true]'\n                    );\n                    if (!menuOverlay) {\n                        return;\n                    }\n                    menuOverlay.click();\n                },\n            },\n            {\n                before: ({ setTourPreferences, state }) => {\n                    setTourPreferences(state);\n                },\n                target: 'body',\n                content:\n                    'It exposes simple hooks so that you can actually save whatever you want, too. For instance, the state of this particular step. Try to reload the page!',\n                joyrideProps: {\n                    styles: {\n                        options: {\n                            arrowColor: 'transparent',\n                        },\n                    },\n                },\n                after: ({ setTourPreferences }) => {\n                    setTourPreferences({});\n                },\n            },\n        ],\n    },\n    'ra-tree': {\n        before: async ({ redirect }) => {\n            redirect('/categories/5');\n            await timeout(1000); // would be so awesome if redirect was awaitable!\n        },\n        steps: [\n            {\n                target: '.rc-tree',\n                content:\n                    'ra-tree helps handling trees with ease, no matter the data structure you use on the backend',\n                disableBeacon: true,\n            },\n            {\n                before: ({ target }) => {\n                    interval(\n                        () => {\n                            const switcher = target.querySelector(\n                                '.rc-tree-switcher.rc-tree-switcher_close'\n                            );\n\n                            if (switcher) {\n                                switcher.click();\n                            }\n                        },\n                        500,\n                        4000\n                    );\n                },\n                target: '.rc-tree',\n                content:\n                    'It supports expanding or collapsing nodes for an infinite amount of levels',\n                after: async ({ target }) => {\n                    await interval(\n                        () => {\n                            const switcher = target\n                                // not the first line or it collapses all the tree\n                                .querySelector(\n                                    '.rc-tree-treenode:not(:nth-child(1)) .rc-tree-switcher.rc-tree-switcher_open'\n                                );\n\n                            if (switcher) {\n                                switcher.click();\n                            }\n                        },\n                        500,\n                        2000\n                    );\n                },\n            },\n            {\n                before: ({ redirect }) => {\n                    setTimeout(() => {\n                        redirect('/categories/create');\n                    }, 4000);\n                },\n                target: '[aria-label=\"Add a category of products\"]',\n                content:\n                    'You can even add a new category, or reorder them, try it!',\n            },\n        ],\n    },\n    'ra-realtime': {\n        before: async () => {\n            localStorage.setItem('batchLevel', '0');\n        },\n        steps: [\n            {\n                before: async ({ dataProvider }) => {\n                    localStorage.setItem('batchLevel', '0');\n\n                    [[1], [2], [3], [4]].reduce(\n                        acc =>\n                            acc.then(async () => {\n                                // Add a new Order\n                                const {\n                                    data: newCommand,\n                                } = await dataProvider.create('commands', {\n                                    data: randomCommandBuilder(1),\n                                });\n\n                                newCommandsIds.push(newCommand.id);\n                                // Then notify the Real-time dataProvider\n                                const topic = 'resource/commands';\n                                dataProvider.publish(topic, {\n                                    type: 'created',\n                                    topic: topic,\n                                    payload: { ids: [newCommand.id] },\n                                    date: new Date(),\n                                });\n                            }),\n                        timeout(1)\n                    );\n                    await timeout(1500); // would be so awesome if redirect was awaitable!\n                },\n                target: '[data-testid=\"commands-menu\"]',\n                content: \"Seems like you just had new orders, let's check...\",\n                disableBeacon: true,\n                joyrideProps: {\n                    hideBackButton: true,\n                },\n                after: async ({ redirect }) => {\n                    localStorage.setItem('batchLevel', '1');\n                    await timeout(500);\n                    redirect('/commands');\n                },\n            },\n            {\n                target: '[data-testid=order-ordered-datagrid]',\n                content: 'Your new orders can stand-out from others',\n                joyrideProps: {\n                    hideBackButton: true,\n                },\n            },\n            {\n                before: async ({ dataProvider }) => {\n                    localStorage.setItem('batchLevel', '2');\n                    // Add a new Order\n                    const { data: newCommand1 } = await dataProvider.create(\n                        'commands',\n                        {\n                            data: randomCommandBuilder(2),\n                        }\n                    );\n                    newCommandsIds.push(newCommand1.id);\n                    const { data: newCommand2 } = await dataProvider.create(\n                        'commands',\n                        {\n                            data: randomCommandBuilder(2),\n                        }\n                    );\n                    newCommandsIds.push(newCommand2.id);\n                    // Then notify the Real-time dataProvider\n                    const topic = 'resource/commands';\n                    dataProvider.publish(topic, {\n                        type: 'created',\n                        topic,\n                        payload: { ids: [newCommand1.id, newCommand2.id] },\n                        date: new Date(),\n                    });\n                    await timeout(1000);\n                },\n                target: '[data-testid=order-ordered-datagrid]',\n                content:\n                    \"And newest orders even appear while you're on the page\",\n                joyrideProps: {\n                    hideBackButton: true,\n                },\n                after: async ({ dataProvider, dispatch, redirect }) => {\n                    // Generate a lock on Products #1, #2 and #5\n                    await Promise.all(\n                        [1, 2, 5].map(recordId => {\n                            return dataProvider\n                                .lock('products', {\n                                    recordId,\n                                    identity: generateIdentity(),\n                                })\n                                .then(({ data: lock }) => {\n                                    dispatch({\n                                        type: 'RA/LOCK_SUCCESS',\n                                        payload: {\n                                            data: lock,\n                                        },\n                                        meta: {\n                                            fetchResponse: 'RA/LOCK',\n                                            resource: 'products',\n                                            recordId,\n                                        },\n                                    });\n                                });\n                        })\n                    );\n\n                    // Sort by id because the locked product has the id #0\n                    redirect('/products?order=ASC&page=1&perPage=20&sort=id');\n                },\n            },\n            {\n                before: async ({ dataProvider, dispatch }) => {\n                    await timeout(100);\n\n                    // Unlock the Products #1 after a few seconds\n\n                    const lockTile = global.document.querySelector(\n                        '[data-productid=\"1\"]'\n                    );\n\n                    if (lockTile instanceof HTMLElement) {\n                        const recordId = parseInt(\n                            lockTile.dataset.productid + '',\n                            10\n                        );\n\n                        const identity = lockTile.dataset.lockidentity;\n\n                        setTimeout(() => {\n                            dataProvider\n                                .unlock('products', {\n                                    recordId,\n                                    identity,\n                                })\n                                .then(({ data: lock }) => {\n                                    dispatch({\n                                        type: 'RA/UNLOCK_SUCCESS',\n                                        payload: {\n                                            data: lock,\n                                        },\n                                        meta: {\n                                            fetchResponse: 'RA/UNLOCK',\n                                            resource: 'products',\n                                            recordId,\n                                        },\n                                    });\n                                });\n                        }, 4000);\n                    }\n                },\n                target: '[data-testid=productlocktile]',\n                content:\n                    'You can lock resources in realtime (this one will be unlocked in a few seconds)',\n                joyrideProps: {\n                    hideBackButton: true,\n                },\n                after: async ({ dataProvider, dispatch, refresh }) => {\n                    // Reset the locks on Products #2 and #5\n                    // The lock on Procuct #1 has been deleted during the scenario\n                    await Promise.all(\n                        [2, 5].map(recordId => {\n                            const lockTile = global.document.querySelector(\n                                `[data-productid=\"${recordId}\"]`\n                            );\n                            if (lockTile instanceof HTMLElement) {\n                                const identity = lockTile.dataset.lockidentity;\n\n                                return dataProvider\n                                    .unlock('products', {\n                                        recordId,\n                                        identity,\n                                    })\n                                    .then(({ data: lock }) => {\n                                        dispatch({\n                                            type: 'RA/UNLOCK_SUCCESS',\n                                            payload: {\n                                                data: lock,\n                                            },\n                                            meta: {\n                                                fetchResponse: 'RA/UNLOCK',\n                                                resource: 'products',\n                                                recordId,\n                                            },\n                                        });\n                                    });\n                            }\n                            return Promise.resolve();\n                        })\n                    ).then(() => {\n                        refresh();\n                    });\n                },\n            },\n        ],\n        after: async ({ dataProvider, refresh }) => {\n            localStorage.setItem('batchLevel', '0');\n            // Reset new Orders\n            // We have to delete them to avoid having them reappear if the tour is restarted\n            await dataProvider.deleteMany('commands', {\n                ids: newCommandsIds,\n            });\n\n            refresh();\n            newCommandsIds = [];\n        },\n    },\n    'ra-editable-datagrid': {\n        before: async ({ redirect }) => {\n            redirect('/stores');\n            await timeout(1000); // would be so awesome if redirect was awaitable!\n        },\n        steps: [\n            {\n                target:\n                    '[data-testid=\"store-datagrid\"] > tbody > tr:first-child',\n                content:\n                    \"Hovering on a row shows a toolbar allowing to either edit or delete the record. Let's see what happens when editing a row by clicking on the Edit button (or by directly clicking inside the row)\",\n            },\n            {\n                before: ({ target }) => {\n                    target.querySelector('td:nth-child(2)').click();\n                },\n                target:\n                    '[data-testid=\"store-datagrid\"] > tbody > tr:first-child',\n                content:\n                    \"You can edit a record without leaving the Datagrid! Let's change the address.\",\n                after: ({ target }) => {\n                    fireEvent.change(target.querySelector('#address'), {\n                        target: { value: '10 rue de Rivoli' },\n                    });\n                },\n            },\n            {\n                target:\n                    '[data-testid=\"store-datagrid\"] > tbody > tr:first-child button:first-child',\n                content:\n                    'After edition, just click on the Save button in the row',\n                after: ({ target }) => {\n                    target.click();\n                },\n            },\n            {\n                target: '[aria-label=\"Create\"]',\n                content: 'The Editable Datagrid also supports inline creation',\n                after: ({ target }) => {\n                    target.click();\n                },\n            },\n            {\n                after: ({ target }) => {\n                    fireEvent.change(target.querySelector('#city'), {\n                        target: { value: 'Nantes' },\n                    });\n                    fireEvent.change(target.querySelector('#country'), {\n                        target: { value: 'France' },\n                    });\n                    fireEvent.change(target.querySelector('#address'), {\n                        target: { value: '5 rue du chteau' },\n                    });\n                    fireEvent.change(target.querySelector('#created_at'), {\n                        target: { value: '2020-08-04' },\n                    });\n                },\n                target:\n                    '[data-testid=\"store-datagrid\"] > tbody > tr:first-child',\n                content:\n                    'A row edition / creation form can contain Inputs of any type (text, date, number, etc.).',\n            },\n            {\n                target:\n                    '[data-testid=\"store-datagrid\"] > tbody > tr:first-child button:first-child',\n                content:\n                    'Click on the Save button to submit the form and create a new record.',\n                after: ({ target }) => {\n                    target.click();\n                },\n            },\n        ],\n    },\n    'ra-navigation-breadcrumb': {\n        before: async ({ redirect }) => {\n            redirect('/products');\n            await timeout(1000); // would be so awesome if redirect was awaitable!\n        },\n        steps: [\n            {\n                target: \"[aria-label='Breadcrumb'] li:nth-child(2)\",\n                content:\n                    'The breadcrumb indicates that we are on the posters page',\n                disableBeacon: true,\n                joyrideProps: {\n                    disableScrolling: true,\n                },\n            },\n            {\n                target: `[data-tour-id='grid-line'] > a:nth-child(${getRandomInt(\n                    1,\n                    5\n                )})`,\n                disableBeacon: true,\n                content: \"Let's edit one of these posters\",\n                after: ({ target, redirect }) => {\n                    const productUrl = target.getAttribute('href').slice(1);\n                    redirect(productUrl);\n                },\n            },\n            {\n                target: \"[aria-label='Breadcrumb'] li:nth-child(3)\",\n                content:\n                    'The breadcrumb has changed to follow us to this Edit page',\n                disableBeacon: true,\n                joyrideProps: {\n                    scrollOffset: 50,\n                },\n            },\n            {\n                target: '[data-testid=\"commands-menu\"]',\n                content: \"Let's try to navigate away using the Menu entry\",\n                disableBeacon: true,\n                joyrideProps: {\n                    disableScrolling: true,\n                },\n                after: ({ redirect }) => {\n                    redirect('/commands');\n                },\n            },\n            {\n                target: \"[aria-label='Breadcrumb'] li:nth-child(2)\",\n                content: 'The breadcrumb keeps showing our exact location.',\n                disableBeacon: true,\n                joyrideProps: {\n                    disableScrolling: true,\n                },\n            },\n            {\n                target: \"[aria-label='Breadcrumb'] li:nth-child(1)\",\n                content:\n                    \"Users can click on the breadcrumb items directly to navigate.\\nLet's go to the home page\",\n                disableBeacon: true,\n                joyrideProps: {\n                    disableScrolling: true,\n                },\n                after: ({ redirect }) => {\n                    redirect('/');\n                },\n            },\n            {\n                target: \"[aria-label='Breadcrumb']\",\n                content:\n                    \"By default, there is no breacrumb displayed on the home page.\\n Now it's your turn to use the Breadcrumb component to build you own breadcrumb path!\",\n                disableBeacon: true,\n                joyrideProps: {\n                    disableScrolling: true,\n                },\n            },\n        ],\n    },\n};\n\nexport default tours;\n","const defaultIdentities = [\n    'Stacey Warner',\n    'Jasmine Morgan',\n    'Gildas Bullock',\n    'Adrien King',\n    'Julien Andrews',\n    'Laila Robinson',\n    'Abigail Bryan',\n    'Felix Mccoy',\n    'Charlie Bradshaw',\n    'Yasmine Hoffman',\n];\n\nexport function generateIdentity(identities = defaultIdentities) {\n    return identities[Math.floor(Math.random() * identities.length)];\n}\n\nexport function generateLock({ id = 0, resource = 'products', recordId = 0 }) {\n    const identity = generateIdentity();\n    const createdAt = new Date();\n\n    return {\n        id,\n        resource,\n        recordId,\n        identity,\n        createdAt,\n    };\n}\n\nexport function generateLocks({ resource = 'products' }) {\n    return Array(20)\n        .fill(0)\n        .filter((_, i) => i % (1 + Math.floor(Math.random() * 6)) === 0)\n        .map((_, i) =>\n            generateLock({\n                id: i,\n                resource,\n            })\n        );\n}\n\n/**\n * Generate random locks\n *\n * This generator assumes that:\n * - Product ids exist up to 20\n */\nconst randomLockBuilder = () => {\n    const locks = generateLocks();\n\n    return {\n        data: locks,\n        total: (Math.round(Math.random() * 10000) / 100) * locks.length,\n    };\n};\n\nexport default randomLockBuilder;\n","module.exports = __webpack_public_path__ + \"static/media/welcome_illustration.87ada4be.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAABZCAMAAAD//SY8AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAO1QTFRF/Ors/Ojs+ubrAAAA/Ojs++np/Ojs9ujo/Onq8+Hh+urr9Onp++rr/Orq+Obr++Xl+urq+enr++bm+uns+ubr/Ors++nr/Ors+ubr+ujs++Xl/Ofs/Orq++fr+ers+ujsv7+/++rq+Ofs+urs++rq/Ors/Onq8d3j7dvb+urs+urr+ufr+ujs+Orq+ers++js9OPj+ujs/Ojo+unq9+ns9+bo++jr/Ofn/Orr+enp8uXl/Orq/Obm/Ors+urq2NjY+urr/Onp/OXo1dXV+ujq/Ojr8Ojo+Obo9uTn/Ojr++ns+urr+urq/Ors8+fnTQPn1wAAAE90Uk5T/+EzAOw57TfnK9cXvptwO86KPcVl43LiZMk6kuY/hcYIPGmRs+TzJQ6QzIzTSISuLcdNz1xar0nliCepUvtfDdiUTgbRmSFvVqO4ytnwFVkGdGQAAAKuSURBVHic7d3XVhRBGEXhAoExoZjGBKKCcVTMWcxK9P0fxwvvq6u7z79OlezvCeqsvYABOqSkMDd/DO2QNE9pYdE9BOVE0dPSxL0ExVTR0/ET7ikoJYueTp5yb0EhXfR02r0FhYTR07J7DMooo6cz7jUoIo2ezrrnoIQ2+op7Dkpoo6dz7j0oII6ezrsHoZs6+gX3IHRTR08X3YvQSR79knsROsmjp6l7Erroo192T0IXffR0xb0JHQKiX3VvQoeA6OmaexTyIqJfd49CXkT0Vfco5EVET2vuVcgKiX7DvQpZIdHX3auQFRI93XTPQk5M9FvuWciJiX7bPQs5MdE33LOQExN90z0LOTHRuUCyajHR77hnIScm+l33LOTERE/uWcgh+hFE9CMopjk/06sWE51P71WLic7v6VWLic5f5KoWE33DPQs5MdH5L1vVYqLz//SqxUTnypmqhTTnGrm6hUTnati6hUTnuve6RTTnDpfKRUTnXrbKRUTnrtXKBTTn/vTaBUTnSRS10zfnmTPV00fn6VLVkzfnOXL1k0fniZH1Uzfn2bANUEfnKdANEDfnee8t0DbngsgmaKPzDpcmSJvztqY2KJvzXrZGCJvzBsZW6JrzrtVmyJrzVuV2qJrz/vSGiJovLLqHoJym+dy8ewd6kDRfueeegT4UzTfvu1egF0HzB+4N6Gl8c66aaM7Y5A/5CNeekc1n7vNjgFHJHz12Hx9DjGn+xH14DDM8+dZT99kx0NDkz567T47BhiV/8dJ9boww6Kv8lfvUGKV/8tdv3GfGSD2Lv3333n1ijNYr+YeP7uNCoTj4p63tz+7DQqOs+Jev3767TwqZ7uA/fm7/cp8SUrncS+vLv9f4nv7/SZOd6Wx3b/9g9fBf6cPVg/293dl0Z/LHfTYE+Qucis5DBf5HsAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAABZCAMAAAD//SY8AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAO1QTFRFU1NTU1NTUFBQAAAAUVFRUVFRU1NTT09PU1NTR0dHUlJSTk5OUlJSUVFRUlJSTk5OU1NTT09PS0tLU1NTUVFRUVFRU1NTUVFRUlJSUVFRS0tLUFBQUVFRUVFRUVFRUVFRQEBAUVFRU1NTU1NTU1NTU1NTU1NTU1NTSUlJUFBQU1NTUlJSUVFRTk5OT09PUVFRSkpKUVFRU1NTU1NTTk5OT09PUlJSTU1NUVFRU1NTSEhIU1NTUVFRUVFRUVFROzs7U1NTU1NTUlJSKysrU1NTUlJSRkZGU1NTTU1NU1NTUlJSUVFRUVFRU1NTSUlJap2IRgAAAE90Uk5T/+EzAOw57TfnK9cXvptwO86KPcVl43LiZMk6kuY/hcYIPGmRs+TzJQ6QzIzTSISuLcdNz1xar0nliCepUvtfDdiUTgbRmSFvVqO4ytnwFVkGdGQAAAKuSURBVHic7d3XVhRBGEXhAoExoZjGBKKCcVTMWcxK9P0fxwvvq6u7z79OlezvCeqsvYABOqSkMDd/DO2QNE9pYdE9BOVE0dPSxL0ExVTR0/ET7ikoJYueTp5yb0EhXfR02r0FhYTR07J7DMooo6cz7jUoIo2ezrrnoIQ2+op7Dkpoo6dz7j0oII6ezrsHoZs6+gX3IHRTR08X3YvQSR79knsROsmjp6l7Erroo192T0IXffR0xb0JHQKiX3VvQoeA6OmaexTyIqJfd49CXkT0Vfco5EVET2vuVcgKiX7DvQpZIdHX3auQFRI93XTPQk5M9FvuWciJiX7bPQs5MdE33LOQExN90z0LOTHRuUCyajHR77hnIScm+l33LOTERE/uWcgh+hFE9CMopjk/06sWE51P71WLic7v6VWLic5f5KoWE33DPQs5MdH5L1vVYqLz//SqxUTnypmqhTTnGrm6hUTnati6hUTnuve6RTTnDpfKRUTnXrbKRUTnrtXKBTTn/vTaBUTnSRS10zfnmTPV00fn6VLVkzfnOXL1k0fniZH1Uzfn2bANUEfnKdANEDfnee8t0DbngsgmaKPzDpcmSJvztqY2KJvzXrZGCJvzBsZW6JrzrtVmyJrzVuV2qJrz/vSGiJovLLqHoJym+dy8ewd6kDRfueeegT4UzTfvu1egF0HzB+4N6Gl8c66aaM7Y5A/5CNeekc1n7vNjgFHJHz12Hx9DjGn+xH14DDM8+dZT99kx0NDkz567T47BhiV/8dJ9boww6Kv8lfvUGKV/8tdv3GfGSD2Lv3333n1ijNYr+YeP7uNCoTj4p63tz+7DQqOs+Jev3767TwqZ7uA/fm7/cp8SUrncS+vLv9f4nv7/SZOd6Wx3b/9g9fBf6cPVg/293dl0Z/LHfTYE+Qucis5DBf5HsAAAAABJRU5ErkJggg==\"","import { ThemeOptions } from '@react-admin/ra-enterprise';\nimport { grey } from '@material-ui/core/colors';\n\nexport const darkTheme: ThemeOptions = {\n    palette: {\n        type: 'dark', // Switching the dark mode on is a single property value change.\n        primary: {\n            main: '#90caf9',\n        },\n    },\n    overrides: {\n        RaAppBar: {\n            menuButton: {\n                // Since sub-<Menu /> hide labels when sidebar is closed\n                // We need to disallow sidebar closing (hiding button is simpler)\n                display: 'none',\n            },\n        },\n        RaSidebar: {\n            drawerPaper: {\n                paddingRight: 16,\n                width: 'auto',\n            },\n        },\n        MuiAppBar: {\n            // Hide MenuItemCategory shadow behind the appbar\n            zIndex: 9999,\n        },\n        RaMenuItemCategory: {\n            closeButton: {\n                color: 'white',\n            },\n            popoverPaper: {\n                backgroundColor: '#424242',\n            },\n        },\n        RaMenuItem: {\n            root: {\n                color: 'white',\n            },\n            link: {\n                '&:hover': {\n                    color: 'black',\n                    backgroundColor: grey[200],\n                },\n            },\n        },\n        RaFilterFormInput: {\n            body: {\n                // Fixes search filter breadcrumb overlap\n                '& > div': { marginTop: 8 },\n            },\n        },\n    },\n};\n\nexport const lightTheme: ThemeOptions = {\n    palette: {\n        type: 'light',\n        primary: {\n            main: '#4f3cc9',\n        },\n        secondary: {\n            light: '#5f5fc4',\n            main: '#283593',\n            dark: '#001064',\n            contrastText: '#fff',\n        },\n        background: {\n            default: '#fcfcfe',\n        },\n    },\n    shape: {\n        borderRadius: 10,\n    },\n    overrides: {\n        RaAppBar: {\n            menuButton: {\n                // Since sub-<Menu /> hide labels when sidebar is closed\n                // We need to disallow sidebar closing (hiding button is simpler)\n                display: 'none',\n            },\n        },\n        RaMenuItemLink: {\n            root: {\n                borderLeft: '3px solid #fff',\n            },\n            active: {\n                borderLeft: '3px solid #808080',\n            },\n        },\n        RaMenuItemCategory: {\n            root: {\n                color: '#808080',\n                '&:hover': {\n                    color: 'black',\n                    backgroundColor: grey[200],\n                },\n            },\n        },\n        RaMenuItem: {\n            root: {\n                color: '#808080',\n            },\n        },\n        RaMultiLevelMenu: {\n            navWithCategories: {\n                backgroundColor: '#fff',\n            },\n        },\n        MuiPaper: {\n            elevation1: {\n                boxShadow: 'none',\n            },\n            root: {\n                border: '1px solid #e0e0e3',\n                backgroundClip: 'padding-box',\n            },\n        },\n        MuiButton: {\n            contained: {\n                backgroundColor: '#fff',\n                color: '#4f3cc9',\n                boxShadow: 'none',\n            },\n        },\n        MuiAppBar: {\n            // Hide MenuItemCategory shadow behind the appbar\n            root: { zIndex: 9999 },\n            colorSecondary: {\n                color: '#808080',\n                backgroundColor: '#fff',\n            },\n        },\n        MuiLinearProgress: {\n            colorPrimary: {\n                backgroundColor: '#f5f5f5',\n            },\n            barColorPrimary: {\n                backgroundColor: '#d7d7d7',\n            },\n        },\n        MuiFilledInput: {\n            root: {\n                backgroundColor: 'rgba(0, 0, 0, 0.04)',\n                '&$disabled': {\n                    backgroundColor: 'rgba(0, 0, 0, 0.04)',\n                },\n            },\n        },\n        RaSidebar: {\n            drawerPaper: {\n                paddingRight: 16,\n                width: 'auto',\n            },\n        },\n        RaFilterFormInput: {\n            body: {\n                // Fixes search filter breadcrumb overlap\n                '& > div': { marginTop: 8 },\n            },\n        },\n    },\n};\n","import { AuthProvider } from 'ra-core';\n\nconst authProvider: AuthProvider = {\n    login: ({ username }) => {\n        localStorage.setItem('username', username);\n        // accept all username/password combinations\n        return Promise.resolve();\n    },\n    logout: () => {\n        localStorage.removeItem('username');\n        return Promise.resolve();\n    },\n    checkError: () => Promise.resolve(),\n    checkAuth: () =>\n        localStorage.getItem('username') ? Promise.resolve() : Promise.reject(),\n    getPermissions: () => Promise.reject('Unknown method'),\n};\n\nexport default authProvider;\n","import * as React from 'react';\nimport { SVGProps } from 'react';\n\nconst Logo = (props: SVGProps<SVGSVGElement>) => (\n    <svg width={234.532} height={20.475} viewBox=\"0 0 62.053 5.417\" {...props}>\n        <g\n            aria-label=\"~Posters Galore~\"\n            style={{\n                lineHeight: 1.25,\n            }}\n            fontWeight={400}\n            fontSize={7.056}\n            fontFamily=\"Permanent Marker\"\n            letterSpacing={0}\n            wordSpacing={0}\n            strokeWidth={0.265}\n            fill=\"#4f3cc9\"\n        >\n            <path d=\"M.227 3.659Q.124 3.652.062 3.61 0 3.562 0 3.486q0-.068.062-.124.041-.103.083-.165L.24 3.06q.07-.096.138-.193.069-.096.152-.193.04-.034.068-.048.076-.055.152-.103.076-.055.172-.09.173-.062.338-.062.165-.007.282 0 .097.007.18.02.09.008.151.022.103.048.165.09.07.04.131.096.076.04.118.09.048.04.082.089.02.027.083.09.062.061.151.061.083 0 .138-.075.062-.076.124-.131.055-.145.18-.22.055-.028.089-.035l.076-.014q.02-.007.041-.007l.035-.014.075-.007h.09q.117-.034.207-.034.103.007.165.055.062.041.062.117 0 .076-.062.124-.041.11-.09.172-.04.062-.09.131l-.137.193q-.069.097-.158.193-.028.035-.07.048-.068.056-.144.11-.076.049-.172.083-.18.062-.345.07-.158 0-.275-.008l-.186-.013q-.083-.014-.152-.028-.096-.048-.165-.09-.07-.04-.131-.09-.076-.047-.117-.089-.042-.048-.076-.096-.02-.028-.09-.09-.069-.069-.144-.062-.076.007-.145.083-.062.069-.124.124-.041.138-.172.22-.056.028-.097.035l-.069.014-.041.013q-.02 0-.035.007l-.075.007h-.09q-.117.035-.207.035zM4.417 3.225q.007-.028.027-.021.028 0 .048-.007-.055-.055-.068-.145-.014-.096-.07-.158.014-.035.021-.069.014-.034.062-.028-.02-.151.007-.282.028-.131.083-.248.062-.117.138-.228.082-.117.158-.234.062-.014.076.014.014.02.048-.014.11-.076.152-.165.041-.097.041-.207.062-.179.138-.351.083-.18.186-.331.103-.152.22-.262.118-.117.255-.179.097-.083.242-.152.151-.068.316-.103.173-.041.352-.041.179-.007.33.034.035.014.042-.014Q7.228 0 7.255 0q.345.041.614.138.275.096.468.269.131.206.248.447.117.235.18.496.068.255.061.531-.007.276-.117.551-.241.303-.585.49-.345.179-.745.303-.392.117-.82.193-.42.075-.82.165.007.186 0 .4-.006.206-.048.42-.034.207-.11.406-.069.2-.193.372-.138-.006-.29.028-.144.034-.261.069l-.11-.069q-.049-.028-.124-.034.02-.083-.042-.173-.055-.09-.117-.172-.055-.09-.076-.172-.013-.09.083-.159-.055-.048-.055-.151.028.027.069.027-.014-.124.027-.296.049-.172.076-.338.035-.172.014-.31-.02-.144-.165-.206zm1.791-1.613l-.048.138q-.014.055-.035.103-.02.049-.048.097l-.048.11q.014.042.055.062.041.02.055.062.097-.048.193-.069.097-.027.193-.041.096-.014.193-.035.096-.02.2-.068.103-.049.213-.076l.228-.07q.11-.034.213-.075.104-.048.18-.124-.097-.09-.29-.158-.193-.07-.42-.083-.22-.02-.448.028-.22.048-.386.2zM12.506 3.1q-.007.083.013.16.021.075.049.15.034.07.062.145.027.076.041.152.014.096 0 .214-.014.11-.048.22-.035.103-.09.193-.055.083-.13.124-.097.124-.235.193-.138.069-.255.165-.076.048-.172.07l-.186.04q-.076.042-.18.09l-.213.083q-.11.034-.22.055-.11.014-.193.007-.207.076-.407.096-.193.028-.455-.027-.248.034-.461-.021-.207-.055-.372-.172-.159-.124-.283-.29-.117-.172-.193-.358-.055-.393.028-.71.083-.323.234-.592.159-.276.358-.503.2-.234.386-.455.042.014.062 0 .028-.02.048-.048.021-.035.042-.062.027-.028.062-.035.048-.103.138-.151.096-.055.151-.152.062-.014.104-.041.04-.028.075-.062.042-.035.083-.062.041-.035.097-.048v-.076q.124-.055.179-.124l.144-.18q.062-.006.097-.006.041 0 .117-.014.055-.096.096-.145.049-.048.138-.103.083.041.18.055.103.014.178.09.007.069.042.11.034.034.076.069.041.027.075.062.042.034.056.096.027.007.034-.007.014-.013.041-.007.021.097.049.131.027.028.055.117-.035.07-.055.145-.014.07-.083.104-.007.048.027.055.035 0 .042.034.007.062-.02.09.164.268.295.572.131.296.297.565zm-.862.655q.028-.076.07-.124.048-.048.054-.145-.034-.055-.04-.082-.008-.035-.008-.104-.151-.213-.262-.454-.11-.248-.248-.462-.013.028-.048.055-.034.028-.076-.014-.013.055-.048.083-.034.02-.076.02-.041-.006-.09-.02-.04-.02-.075-.048-.2.158-.4.31-.2.151-.358.351-.028.014-.034.014-.007-.007-.042.007-.055.13-.138.241-.075.103-.151.214-.076.11-.131.234-.055.124-.062.29.117.096.276.116.158.021.323.007.173-.013.331-.041.165-.034.303-.034.29-.07.496-.18.207-.117.434-.234zM12.898 2.067q.049-.145.152-.248.11-.103.234-.172.131-.076.269-.124t.262-.083q.275-.117.585-.22.317-.11.641-.193.331-.083.676-.104.344-.027.723.083.02.069.062.13l.083.125q.048.062.082.124.035.055.042.117.069.062.11.138.041.069.014.186-.07.055-.138.103-.062.042-.138.076-.255-.062-.517-.041-.261.02-.468.034-.062-.062-.152-.062-.082 0-.179.028l-.186.055q-.09.027-.172.014-.07.055-.172.075-.097.014-.214.028-.007.034.014.048.02.007.007.042.041.048.103.068l.138.042q.076.02.13.055.056.027.076.096.104 0 .18.049.075.048.124.117.048.069.069.151.027.076.027.138.02.055.048.048.028-.007.062.028.021.09.104.186.082.09.13.2.014.172.021.31.007.13-.048.269-.103.254-.29.454-.178.2-.413.359-.227.151-.489.261-.262.11-.51.186-.027-.006-.055 0-.027.007-.014-.034-.055.048-.124.062-.062.014-.138.007-.075 0-.158-.007-.076-.007-.145.007-.048-.048-.09-.097-.034-.04-.054-.11-.035 0-.035-.034.007-.035-.02-.035.04-.069.034-.076 0-.013-.02-.02l-.028-.014q-.014-.014-.007-.034.027-.056.02-.124l-.013-.152q-.007-.076.007-.145.02-.069.103-.11.234.028.44-.014.215-.048.4-.13.187-.083.352-.18.172-.096.338-.172.02-.062.055-.103.041-.042.082-.076.042-.035.076-.076.035-.041.048-.103.007-.049-.027-.055-.028-.014-.028-.056l-.076-.02q-.13-.076-.296-.124-.165-.055-.282-.117-.076.04-.145.02-.062-.02-.165-.041-.235-.014-.455-.048-.214-.035-.414-.124-.013-.035-.034-.062-.02-.028-.076-.014-.041-.055-.082-.103-.042-.056-.076-.118.014-.082.02-.137.007-.062-.04-.118.027-.09.04-.144.014-.055 0-.145z\" />\n            <path d=\"M19.988 1.853q-.172 0-.372.028-.2.02-.392.048-.138.02-.27.035-.123.013-.226.02-.049.152-.097.27-.048.116-.103.226-.055.118-.104.242-.041.117-.082.255-.07.11-.117.206-.042.09-.07.207-.082.103-.123.22-.042.11-.062.193l-.028.083q-.041.041-.048.069-.007.02-.035.041-.007.076-.048.152-.014.034-.02.069-.007.027-.007.041 0 .069-.035.09.007.034 0 .075l-.014.07q-.02.082-.013.13l.034.049q.02.02.028.055.04.027.062.034.027.02.082.048l.062.07q.035.199-.062.316-.103.131-.351.131h-.083q-.034-.034-.041-.055l-.09-.034q-.034-.014-.062-.056-.09-.04-.144-.068l-.062-.035v-.083q-.049-.062-.076-.137-.02-.076-.035-.152-.013-.062-.034-.117-.014-.055-.041-.097-.014-.4.075-.675.09-.275.186-.53l.11-.276q.056-.145.097-.296l.062-.07.076-.178.069-.152q.02-.048.034-.09l.035-.082q-.042 0-.076.007-.035 0-.069.007l-.076.013h-.069q-.048 0-.069-.006-.075.034-.165.034H17.019q-.014-.007-.028-.007-.069 0-.11.02h-.228q-.013 0-.034.008h-.034q-.049 0-.104-.007-.055-.014-.117-.048-.082-.11-.11-.118l-.062-.082q-.007-.042-.02-.076-.014-.041-.028-.09-.028-.069-.055-.144-.021-.083-.021-.193.007-.055.028-.083l.034-.048.02-.104.09.007h.193q.22 0 .448-.013l.469-.042.275-.027.296-.028q.028-.062.056-.117l.068-.034q.124-.007.173.034.055.034.09.069l.302-.028q.159-.02.317-.048.235-.034.469-.062.241-.027.462-.027.096 0 .186.006.09.007.165.021l.069.048q.02.042.055.076l.083.069q.082.076.165.18.083.103.062.302-.055.083-.083.097l-.062.082-.069-.006q-.04 0-.075.013-.035.007-.07.021l-.054.028-.062.013h-.104q-.034-.007-.076-.007z\" />\n            <path d=\"M23.303 1.288q.007.049 0 .076 0 .02-.007.042v.048q0 .02.014.069-.145.234-.338.324-.186.082-.407.124-.22.034-.454.075-.228.042-.455.18-.09-.035-.166 0-.068.034-.206.02-.042.042-.104.062-.062.014-.124.035.028.062.021.13 0 .063.02.104.242.02.531-.007.297-.028.58-.034.006.034-.008.048-.014.007-.007.034.049.035.097.09l.096.096q.048.049.097.083.055.028.124.02.027.056.034.125.014.062-.014.13-.11.076-.22.159-.11.076-.234.138-.118.062-.255.103-.131.035-.297.028h-.055q-.014 0-.041-.02-.055.034-.159.02-.096-.014-.151.02-.076-.034-.186-.027-.104 0-.186-.028-.11.145-.2.31-.09.166-.159.352.235.034.386.027.159-.007.297-.02.137-.021.282-.035.145-.02.365-.014.138-.075.324-.096.193-.028.352-.083.055.021.096.076.041.048.076.097.041.04.082.075.042.035.104.028.027.027.034.069.014.034.02.069.008.034.022.062.02.02.062.013-.104.228-.242.352-.13.117-.303.179-.172.062-.386.096-.206.035-.461.083-.062.014-.104-.007-.04-.014-.096-.014-.158.035-.379.062-.22.028-.448.021-.227-.007-.434-.062-.207-.048-.338-.179-.055-.048-.075-.11-.014-.07-.09-.104-.007-.09-.027-.2l-.042-.227q-.02-.124-.034-.24-.007-.118.014-.215.02-.103.082-.186.07-.082.048-.179.035-.007.042-.034.007-.035.055-.028.041-.124.09-.234.048-.11.096-.214.055-.103.103-.206.055-.11.104-.241-.097-.09-.145-.193-.041-.11-.062-.214-.02-.11-.035-.22-.013-.118-.048-.235.07-.103.166-.165.103-.069.22-.11.117-.042.255-.07.138-.027.29-.061.275-.09.489-.138.22-.048.427-.076.213-.034.44-.062.228-.027.518-.083.062.062.117.062.027-.062.062-.034.041.02.034-.041.07.117.172.2.11.075.242.13zM24.185 4.451q-.076.276-.138.42-.055.138-.172.29-.09-.014-.125.02-.034.035-.075.062-.062.014-.09 0-.027-.013-.048-.034-.02-.014-.055-.034-.028-.014-.09-.014-.014-.055-.034-.104-.014-.048-.09-.034.014-.055.007-.09-.007-.041-.02-.069l-.014-.062q-.007-.034.007-.082-.035 0-.056-.048-.02-.049-.048-.097.02-.124.042-.234.02-.11.048-.207.034-.096.055-.193.02-.096-.02-.2.027.021.04-.007.014-.034.021-.082.007-.055.007-.104 0-.055-.007-.09.07-.178.11-.364.049-.193.083-.38.041-.185.083-.364.041-.18.11-.331.076-.014.165.02.097.028.118.076.179-.138.317-.33.137-.2.282-.386.145-.186.317-.331.18-.145.448-.172.138.103.303.213.172.104.282.276.056.027.09.062.041.028.097.062v.083q.082.075.13.179.056.096.097.213l.083.228q.04.11.096.213-.014.035-.014.062 0 .021.007.049.014.027.02.055.008.027 0 .076-.02.303-.199.489-.172.186-.42.31-.248.117-.53.2-.283.082-.51.179 0 .027.02.027.028 0 .02.035.166.103.262.165.097.062.18.103.09.042.186.076.103.028.282.07.18.04.276.068.103.02.186.041l.165.028.248.02q.062.063.104.152.048.083.062.172.013.083.006.166-.006.076-.048.124.007.02.028.02.027-.006.055 0-.041.028-.069.07l-.055.082q-.028.041-.062.069-.035.034-.097.041-.213.083-.537.007-.324-.069-.82-.262-.248-.096-.406-.165-.152-.076-.27-.145-.11-.075-.206-.158l-.22-.2zm.985-2.363q-.076.11-.172.2-.09.09-.18.186-.082.09-.151.206-.069.11-.097.262.242-.027.503-.13.262-.111.496-.208-.027-.213-.151-.344-.117-.13-.248-.172zM27.01 2.067q.048-.145.151-.248.11-.103.234-.172.131-.076.27-.124.137-.048.26-.083.277-.117.587-.22.317-.11.64-.193.331-.083.676-.104.344-.027.723.083.02.069.062.13l.083.125q.048.062.082.124.035.055.042.117.069.062.11.138.041.069.014.186-.07.055-.138.103-.062.042-.138.076-.255-.062-.517-.041-.261.02-.468.034-.062-.062-.152-.062-.082 0-.179.028l-.186.055q-.09.027-.172.014-.069.055-.172.075-.097.014-.214.028-.007.034.014.048.02.007.007.042.041.048.103.068l.138.042q.076.02.13.055.056.027.077.096.103 0 .179.049.076.048.124.117t.069.151q.027.076.027.138.02.055.048.048.028-.007.062.028.021.09.104.186.083.09.13.2.015.172.021.31.007.13-.048.269-.103.254-.29.454-.178.2-.413.359-.227.151-.489.261-.262.11-.51.186-.027-.006-.055 0-.027.007-.014-.034-.055.048-.124.062-.062.014-.137.007-.076 0-.159-.007-.076-.007-.145.007-.048-.048-.09-.097-.034-.04-.054-.11-.035 0-.035-.034.007-.035-.02-.035.04-.069.034-.076 0-.013-.02-.02l-.028-.014q-.014-.014-.007-.034.027-.056.02-.124l-.013-.152q-.007-.076.007-.145.02-.069.103-.11.234.028.441-.014.214-.048.4-.13.186-.083.351-.18.172-.096.338-.172.02-.062.055-.103.041-.042.082-.076.042-.035.076-.076.035-.041.048-.103.007-.049-.027-.055-.028-.014-.028-.056l-.075-.02q-.131-.076-.297-.124-.165-.055-.282-.117-.076.04-.145.02-.062-.02-.165-.041-.235-.014-.455-.048-.214-.035-.413-.124-.014-.035-.035-.062-.02-.028-.076-.014-.041-.055-.082-.103-.042-.056-.076-.118.014-.082.02-.137.007-.062-.04-.118.027-.09.04-.144.014-.055 0-.145zM32.797 3.535q0-.076.021-.138.02-.062.007-.159.213-.454.482-.84.276-.393.655-.69.062-.047.096-.096.042-.055.076-.103.041-.048.09-.083.048-.041.124-.055.172-.2.413-.365.241-.165.503-.317t.524-.31q.268-.159.482-.345.076.049.117.035.048-.02.097-.007.062.13.158.186.103.048.207.103.11.049.2.124.096.07.144.193-.048 0-.048.035.007.034.02.076.014.04.014.075 0 .035-.062.035 0 .048.049.048.048 0 .048.048 0 .042-.02.07-.015.02 0 .075-.166.11-.373.214l-.427.206q-.22.11-.455.241-.227.124-.455.29-.227.165-.461.365-.228.2-.441.427-.214.22-.4.462-.186.234-.317.461.014.035.035.062.027.028.041.063.262.013.49 0 .227-.021.454.027.028-.02.034-.055.007-.035.042-.048.468-.049.875-.152.406-.11.827-.22-.124-.049-.22-.076-.042-.041 0-.069.047-.034.075-.069-.11-.062-.186-.165-.069-.104-.083-.269.049-.041.049-.096 0-.056-.049-.09-.034-.014-.041 0l-.014.027q0 .014-.014.028-.007.014-.034 0 .007-.076.034-.124.028-.048.042-.117l.572-.38q.09.07.22.146.131.075.276.151.144.076.296.159.152.075.282.151.125.055.214.138.09.076.172.165l.166.166q.082.082.2.138-.014.11.013.179.028.069.014.165-.13.234-.317.4-.186.158-.42.275-.228.117-.49.2-.261.076-.537.152-.275.069-.558.151-.276.076-.544.18-.117 0-.2.006-.083.007-.159.021l-.151.028q-.076.013-.165.02-.035-.007-.049.014-.007.02-.027.035-.138.02-.248.02h-.186q-.097 0-.2.028-.104.027-.193.02-.62-.027-.972-.44-.351-.414-.385-1.137.006-.035-.014-.042-.02-.014-.035-.027z\" />\n            <path d=\"M42.01 4.589q-.042.117-.125.241-.075.117-.186.214-.103.09-.234.151-.13.062-.275.07-.09-.022-.124-.05-.028-.02-.062-.04-.021-.014-.042-.021-.014-.014-.027-.02l-.083-.035.028-.09q.013-.055-.007-.083-.021-.034-.083-.09l-.041-.04q-.021-.021-.035-.042l-.117-.13.186-.049q.172-.048.227-.124.062-.076.049-.255-.138-.027-.235-.007-.09.02-.186.048-.124.035-.255.062-.124.021-.275.021h-.104l-.103-.014-.069-.013q-.014-.076-.027-.083l-.028-.028q-.034-.034-.076-.09-.034-.061-.013-.15-.035-.063-.042-.125-.041.083-.062.172l-.027.07-.07.013q-.013.007-.02.035-.007.02-.007.034l-.034.117-.028.028q-.014.007-.027.02-.014.062-.035.124-.02.062-.041.118-.035.09-.062.179-.02.082-.014.165l-.028.076q-.034.041-.075.069l-.083.041q-.014.014-.041.028l-.035.013-.02.076-.083.014-.11.02q-.028.008-.07.008l-.068-.007-.117-.097q-.042-.041-.097-.076-.062-.082-.069-.124l-.014-.075q-.013-.042-.013-.07-.007-.027-.021-.04l-.09-.083.076-.062.007-.117q.138-.352.29-.676l.323-.661q.056-.11.104-.22l.11-.221q-.007-.02-.007-.048t.014-.062q.076-.118.124-.207l.096-.193q.055-.117.11-.227.063-.11.152-.228l.11-.048.049-.014q.027-.014.062-.014l.103.014q.193-.09.338-.248.144-.165.296-.393l.069-.096.09.055q.034.02.096.041.062.014.13.035.125.027.235.062.11.034.18.103.04.11.047.166.007.055.021.11.02.117.035.234.02.117.027.262.035.117.055.234.028.11.048.228l.07.323q.034.152.089.29.055 0 .069.007.034-.014.069-.021l.09-.014.075-.007.028.07q.007.034.069.068.09.007.13.042.042.027.076.062.028.027.055.04l.104.042-.055.104q-.07.124-.2.24-.124.111-.283.187.007.041.007.082.007.035.02.076.022.117.035.241.014.124 0 .255zm-1.992-1.192q.207-.014.372-.028.173-.02.38-.062-.049-.206-.104-.427-.055-.227-.117-.448l-.042.07q-.137.144-.268.323-.124.18-.214.338l-.083.124q-.04.062-.075.124.041-.007.075-.007.042 0 .076-.007zM44.29 5.092q-.193.062-.42.124-.228.062-.455.062-.344 0-.544-.172-.035-.076-.062-.104l-.042-.055q-.013-.034-.02-.09-.083-.096-.131-.22-.048-.13-.07-.262-.013-.138-.006-.275.014-.138.048-.262.014-.028.014-.055l.014-.062q.027-.11.055-.214.034-.103.09-.179-.028-.062 0-.138.027-.076.061-.138.097-.261.159-.44.069-.187.138-.366.117-.31.22-.613.104-.303.186-.655.055-.034.083-.048.041-.014.069-.02.124.062.29.124.165.055.275.055.055.034.069.055l.027.027q.076.09.131.186.055.09.035.242-.042.062-.062.062-.035.137-.076.234-.035.096-.076.193-.048.103-.09.206-.04.104-.068.255-.028.035-.042.062-.007.028-.02.062-.014.035-.035.076-.014.035-.048.062-.02.18-.069.29-.041.11-.09.22-.082.2-.151.4-.062.2-.076.454.035-.013.062-.013h.062q.062 0 .145.02.207-.11.448-.13.248-.021.489-.028H45q.096 0 .179-.014.062.035.076.041h.055q.048 0 .083.007.082.076.158.11.076.035.159.063.075.027.144.062.076.027.145.082l.048.297q.048.062.041.082 0 .055-.027.083l.014.076q-.104.02-.145.048-.034.027-.069.062-.055.007-.083.007h-.04q-.097 0-.235.034-.186-.062-.386-.062-.076 0-.159.007l-.165.014q-.083.014-.172.02-.083.008-.172.008zM50.25 3.1q-.007.083.014.16.02.075.048.15.035.07.062.145.028.076.041.152.014.096 0 .214-.013.11-.048.22-.034.103-.09.193-.054.083-.13.124-.097.124-.235.193-.137.069-.254.165-.076.048-.173.07l-.186.04q-.076.042-.179.09l-.213.083q-.11.034-.221.055-.11.014-.193.007-.207.076-.406.096-.193.028-.455-.027-.248.034-.462-.021-.207-.055-.372-.172-.158-.124-.282-.29-.118-.172-.193-.358-.055-.393.027-.71.083-.323.235-.592.158-.276.358-.503.2-.234.386-.455.041.014.062 0 .027-.02.048-.048.02-.035.041-.062.028-.028.062-.035.048-.103.138-.151.097-.055.152-.152.062-.014.103-.041.041-.028.076-.062.041-.035.082-.062.042-.035.097-.048v-.076q.124-.055.18-.124l.144-.18q.062-.006.096-.006.042 0 .117-.014.056-.096.097-.145.048-.048.138-.103.082.041.179.055.103.014.179.09.007.069.041.11.035.034.076.069.041.027.076.062.041.034.055.096.028.007.034-.007.014-.013.042-.007.02.097.048.131.028.028.055.117-.034.07-.055.145-.014.07-.083.104-.007.048.028.055.034 0 .041.034.007.062-.02.09.165.268.296.572.13.296.296.565zm-.861.655q.027-.076.069-.124.048-.048.055-.145-.035-.055-.041-.082-.007-.035-.007-.104-.152-.213-.262-.454-.11-.248-.248-.462-.014.028-.048.055-.035.028-.076-.014-.014.055-.048.083-.035.02-.076.02-.042-.006-.09-.02-.041-.02-.076-.048-.2.158-.4.31-.2.151-.358.351-.027.014-.034.014-.007-.007-.041.007-.055.13-.138.241-.076.103-.152.214-.076.11-.13.234-.056.124-.063.29.118.096.276.116.158.021.324.007.172-.013.33-.041.166-.034.304-.034.29-.07.496-.18.207-.117.434-.234zM51.78 4.451q-.076.276-.138.42-.055.138-.172.29-.09-.014-.124.02-.035.035-.076.062-.062.014-.09 0-.027-.013-.048-.034-.02-.014-.055-.034-.028-.014-.09-.014-.013-.055-.034-.104-.014-.048-.09-.034.014-.055.007-.09-.007-.041-.02-.069l-.014-.062q-.007-.034.007-.082-.034 0-.055-.048-.02-.049-.048-.097.02-.124.04-.234.022-.11.05-.207.034-.096.054-.193.02-.096-.02-.2.027.021.04-.007.015-.034.022-.082.007-.055.007-.104 0-.055-.007-.09.068-.178.11-.364.048-.193.082-.38l.083-.364q.041-.18.11-.331.076-.014.166.02.096.028.117.076.179-.138.317-.33.138-.2.282-.386.145-.186.317-.331.18-.145.448-.172.138.103.303.213.173.104.283.276.055.027.09.062.04.028.096.062v.083q.083.075.13.179.056.096.097.213.042.11.083.228.041.11.097.213-.014.035-.014.062 0 .021.007.049.014.027.02.055.007.027 0 .076-.02.303-.2.489-.172.186-.42.31-.248.117-.53.2-.283.082-.51.179 0 .027.02.027.028 0 .021.035.166.103.262.165.097.062.18.103.089.042.185.076.104.028.283.07.179.04.275.068.104.02.186.041l.166.028.248.02q.062.063.103.152.048.083.062.172.014.083.007.166-.007.076-.048.124.007.02.028.02.027-.006.055 0-.042.028-.07.07l-.054.082q-.028.041-.062.069-.035.034-.097.041-.213.083-.537.007-.324-.069-.82-.262-.248-.096-.407-.165-.151-.076-.268-.145-.11-.075-.207-.158l-.22-.2zm.985-2.363q-.076.11-.172.2-.09.09-.18.186-.082.09-.15.206-.07.11-.097.262.24-.027.503-.13.261-.111.496-.208-.028-.213-.152-.344-.117-.13-.248-.172zM58.332 1.288q.007.049 0 .076 0 .02-.007.042v.048q0 .02.014.069-.145.234-.337.324-.186.082-.407.124-.22.034-.455.075-.227.042-.454.18-.09-.035-.166 0-.069.034-.207.02-.04.042-.103.062-.062.014-.124.035.028.062.02.13 0 .063.021.104.242.02.531-.007.296-.028.579-.034.007.034-.007.048-.014.007-.007.034.048.035.096.09l.097.096q.048.049.096.083.055.028.124.02.028.056.035.125.014.062-.014.13-.11.076-.22.159-.11.076-.235.138-.117.062-.255.103-.13.035-.296.028h-.055q-.014 0-.041-.02-.056.034-.159.02-.096-.014-.152.02-.075-.034-.186-.027-.103 0-.186-.028-.11.145-.2.31-.089.166-.158.352.234.034.386.027.158-.007.296-.02.138-.021.283-.035.144-.02.365-.014.138-.075.324-.096.193-.028.351-.083.055.021.097.076.041.048.075.097.042.04.083.075.041.035.104.028.027.027.034.069.014.034.02.069.008.034.021.062.021.02.062.013-.103.228-.24.352-.132.117-.304.179-.172.062-.386.096-.206.035-.461.083-.062.014-.104-.007-.041-.014-.096-.014-.159.035-.38.062-.22.028-.447.021-.227-.007-.434-.062-.207-.048-.338-.179-.055-.048-.076-.11-.013-.07-.09-.104-.006-.09-.027-.2l-.041-.227q-.02-.124-.035-.24-.007-.118.014-.215.02-.103.083-.186.069-.082.048-.179.035-.007.041-.034.007-.035.056-.028.04-.124.09-.234.047-.11.096-.214.055-.103.103-.206.055-.11.103-.241-.096-.09-.144-.193-.042-.11-.062-.214-.021-.11-.035-.22-.014-.118-.048-.235.069-.103.165-.165.104-.069.22-.11.118-.042.256-.07.138-.027.29-.061.275-.09.488-.138.22-.048.427-.076.214-.034.441-.062.228-.027.517-.083.062.062.117.062.028-.062.062-.034.042.02.035-.041.069.117.172.2.11.075.241.13zM58.394 3.659q-.103-.007-.165-.049-.062-.048-.062-.124 0-.068.062-.124.041-.103.083-.165l.096-.138q.07-.096.138-.193.069-.096.152-.193.04-.034.068-.048.076-.055.152-.103.076-.055.172-.09.173-.062.338-.062.165-.007.282 0 .097.007.18.02.09.008.151.022.104.048.166.09.068.04.13.096.076.04.118.09.048.04.082.089.021.027.083.09.062.061.152.061.082 0 .137-.075.062-.076.124-.131.056-.145.18-.22.055-.028.09-.035l.075-.014q.02-.007.041-.007.021-.007.035-.014l.076-.007h.09q.116-.034.206-.034.103.007.165.055.062.041.062.117 0 .076-.062.124-.041.11-.09.172-.04.062-.089.131l-.138.193q-.069.097-.158.193-.028.035-.07.048-.068.056-.144.11-.076.049-.172.083-.18.062-.345.07-.158 0-.275-.008l-.186-.013q-.083-.014-.152-.028-.096-.048-.165-.09-.07-.04-.131-.09-.076-.047-.117-.089-.042-.048-.076-.096-.02-.028-.09-.09-.069-.069-.144-.062-.076.007-.145.083-.062.069-.124.124-.041.138-.172.22-.055.028-.097.035l-.069.014-.041.013q-.02 0-.035.007l-.075.007h-.09q-.117.035-.207.035z\" />\n        </g>\n    </svg>\n);\n\nexport default Logo;\n","import React, { FC } from 'react';\nimport { AppBar, useQuery, useVersion } from 'react-admin';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport Badge from '@material-ui/core/Badge';\nimport { Link } from 'react-router-dom';\n\nimport {\n    ToggleThemeButton,\n    LanguageSwitcher,\n} from '@react-admin/ra-preferences';\n\nimport TourIcon from '@material-ui/icons/Flag';\n\nimport Logo from './Logo';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        position: 'relative',\n    },\n    title: {\n        flex: 1,\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n        paddingLeft: theme.spacing(1),\n    },\n    logo: {\n        [theme.breakpoints.up('md')]: {\n            position: 'absolute',\n            left: '50%',\n            top: '50%',\n            transform: 'translate(-50%, -50%)',\n        },\n    },\n}));\n\nconst CustomAppBar: FC = props => {\n    const classes = useStyles();\n\n    const version = useVersion();\n    const { data } = useQuery(\n        {\n            type: 'getList',\n            resource: 'tours',\n            payload: { filter: { playedOn: null } },\n        },\n        {\n            version,\n        }\n    );\n\n    let numberOfTours = 0;\n    if (data) {\n        numberOfTours = data.length;\n    }\n\n    return (\n        <AppBar {...props} elevation={1}>\n            <Typography\n                variant=\"h6\"\n                color=\"inherit\"\n                className={classes.title}\n                id=\"react-admin-title\"\n            />\n            <Logo className={classes.logo} />\n            <IconButton to=\"/tours\" component={Link} color=\"inherit\">\n                <Badge badgeContent={numberOfTours} color=\"error\" variant=\"dot\">\n                    <TourIcon />\n                </Badge>\n            </IconButton>\n            <ToggleThemeButton />\n            <LanguageSwitcher\n                languages={[\n                    { locale: 'en', name: 'English' },\n                    { locale: 'fr', name: 'Franais' },\n                ]}\n                defaultLanguage=\"English\"\n            />\n        </AppBar>\n    );\n};\n\nexport default CustomAppBar;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { useTranslate } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Lock as LockIcon } from '@material-ui/icons';\nimport { Typography } from '@material-ui/core';\n\nexport const LockOverlay: FC<any> = ({ lock, ...rest }) => {\n    const classes = useStyles();\n    const translate = useTranslate();\n\n    return (\n        <div className={classes.root} {...rest}>\n            <LockIcon />\n            <div className={classes.identity}>\n                <Typography variant=\"body1\" color=\"inherit\">\n                    {translate('resources.locks.overlay', {\n                        name: lock.identity,\n                    })}\n                </Typography>\n            </div>\n        </div>\n    );\n};\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        background: 'rgba(0, 0, 0, 0.9)',\n        position: 'absolute',\n        textAlign: 'center',\n        color: theme.palette.common.white,\n        padding: '25% 0',\n    },\n    identity: {\n        paddingTop: '1em',\n    },\n}));\n","import * as React from 'react';\nimport { FC } from 'react';\nimport MuiGridList from '@material-ui/core/GridList';\nimport GridListTile from '@material-ui/core/GridListTile';\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport withWidth, { WithWidth } from '@material-ui/core/withWidth';\nimport { linkToRecord, NumberField, useListContext } from 'react-admin';\nimport { Record } from 'ra-core';\nimport { Link } from 'react-router-dom';\nimport { Breakpoint } from '@material-ui/core/styles/createBreakpoints';\nimport { Lock, useHasLocks } from '@react-admin/ra-realtime';\n\nimport { LockOverlay } from './LockOverlay';\nimport { DatagridProps, Product } from '../types';\n\nconst useStyles = makeStyles(theme => ({\n    gridList: {\n        margin: 0,\n    },\n    tile: {\n        position: 'relative',\n    },\n    tileBar: {\n        background:\n            'linear-gradient(to top, rgba(0,0,0,0.8) 0%,rgba(0,0,0,0.4) 70%,rgba(0,0,0,0) 100%)',\n    },\n    placeholder: {\n        backgroundColor: theme.palette.grey[300],\n        height: '100%',\n    },\n    price: {\n        display: 'inline',\n        fontSize: '1em',\n    },\n    link: {\n        color: '#fff',\n    },\n}));\n\nconst getColsForWidth = (width: Breakpoint): number => {\n    if (width === 'xs') return 2;\n    if (width === 'sm') return 3;\n    if (width === 'md') return 4;\n    if (width === 'lg') return 5;\n    return 6;\n};\n\nconst times = (nbChildren: number, fn: (key: number) => any): Array<any> =>\n    Array.from({ length: nbChildren }, (_, key) => fn(key));\n\nconst LoadingGridList: FC<GridProps & { nbItems?: number }> = ({\n    width,\n    nbItems = 20,\n}) => {\n    const classes = useStyles();\n\n    return (\n        <MuiGridList\n            cellHeight={180}\n            cols={getColsForWidth(width)}\n            className={classes.gridList}\n        >\n            {times(nbItems, key => (\n                <GridListTile key={key}>\n                    <div className={classes.placeholder} />\n                </GridListTile>\n            ))}\n        </MuiGridList>\n    );\n};\n\ntype ProductTitleProps = {\n    record: Record;\n};\n\nconst ProductTile: FC<ProductTitleProps> = ({ record }) => {\n    const classes = useStyles();\n\n    return (\n        <>\n            <img src={record.thumbnail} alt=\"\" />\n            <GridListTileBar\n                className={classes.tileBar}\n                title={record.reference}\n                subtitle={\n                    <span>\n                        {record.width}x{record.height},{' '}\n                        <NumberField\n                            className={classes.price}\n                            source=\"price\"\n                            record={record}\n                            color=\"inherit\"\n                            options={{\n                                style: 'currency',\n                                currency: 'USD',\n                            }}\n                        />\n                    </span>\n                }\n            />\n        </>\n    );\n};\n\nconst LoadedGridList: FC<GridProps> = ({ width }) => {\n    const { ids, data, basePath, resource } = useListContext();\n    const { data: locks } = useHasLocks(resource);\n    const classes = useStyles();\n\n    const firstLockRecordId = React.useRef();\n\n    if (!ids || !data) return null;\n\n    return (\n        <MuiGridList\n            cellHeight={180}\n            cols={getColsForWidth(width)}\n            className={classes.gridList}\n            data-tour-id=\"grid-line\"\n        >\n            {ids.map((id: string) => {\n                const lock = locks.find((l: Lock) => l.recordId === id);\n                if (lock && !firstLockRecordId.current) {\n                    firstLockRecordId.current = lock.recordId;\n                }\n\n                const isFirstLock = firstLockRecordId.current === id;\n\n                return (\n                    <GridListTile\n                        key={id}\n                        component={lock ? 'span' : Link}\n                        to={linkToRecord(basePath, id)}\n                        className={classes.tile}\n                        data-productid={id}\n                        data-lockidentity={lock ? lock.identity : undefined}\n                        data-testid={\n                            isFirstLock ? 'productlocktile' : undefined\n                        }\n                    >\n                        <ProductTile record={data[id]} />\n                        {lock && <LockOverlay lock={lock} />}\n                    </GridListTile>\n                );\n            })}\n        </MuiGridList>\n    );\n};\n\ninterface GridProps extends DatagridProps<Product>, WithWidth {}\n\nconst GridList: FC<WithWidth> = ({ width }) => {\n    const { loaded } = useListContext();\n\n    return loaded ? (\n        <LoadedGridList width={width} />\n    ) : (\n        <LoadingGridList width={width} />\n    );\n};\n\nexport default withWidth()(GridList);\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { Card, CardContent } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport LocalOfferIcon from '@material-ui/icons/LocalOfferOutlined';\nimport BarChartIcon from '@material-ui/icons/BarChart';\nimport AttachMoneyIcon from '@material-ui/icons/AttachMoney';\nimport { FilterList, FilterListItem, FilterLiveSearch } from 'react-admin';\nimport { useListFilterContext } from 'ra-core';\nimport { useGetTree, Tree, getRCTree } from '@react-admin/ra-tree';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        [theme.breakpoints.up('sm')]: {\n            width: '15em',\n            marginRight: '1em',\n            overflow: 'initial',\n        },\n        [theme.breakpoints.down('sm')]: {\n            display: 'none',\n        },\n    },\n}));\n\nconst Aside: FC = props => {\n    const { setFilters, filterValues, displayedFilters } = useListFilterContext(\n        props\n    );\n\n    const { data } = useGetTree('categories');\n\n    const tree = data ? getRCTree(data, 'name') : undefined;\n\n    const defaultExpandedKeys = filterValues.category_id\n        ? [filterValues.category_id.toString()]\n        : !!tree\n        ? [tree[0].key]\n        : undefined;\n\n    const defaultSelectedKeys =\n        filterValues.category_id !== undefined\n            ? [filterValues.category_id.toString()]\n            : [];\n\n    const handleSelectCategory = (selectedKeys, { selectedNodes }) => {\n        const [{ id }] = selectedNodes;\n\n        setFilters(\n            {\n                ...filterValues,\n                category_id: id,\n            },\n            displayedFilters\n        );\n    };\n\n    const classes = useStyles();\n    return (\n        <Card className={classes.root}>\n            <CardContent>\n                <FilterLiveSearch />\n\n                <FilterList\n                    label=\"resources.products.filters.sales\"\n                    icon={<AttachMoneyIcon />}\n                >\n                    <FilterListItem\n                        label=\"resources.products.filters.best_sellers\"\n                        value={{\n                            sales_lte: undefined,\n                            sales_gt: 25,\n                            sales: undefined,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.average_sellers\"\n                        value={{\n                            sales_lte: 25,\n                            sales_gt: 10,\n                            sales: undefined,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.low_sellers\"\n                        value={{\n                            sales_lte: 10,\n                            sales_gt: 0,\n                            sales: undefined,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.never_sold\"\n                        value={{\n                            sales_lte: undefined,\n                            sales_gt: undefined,\n                            sales: 0,\n                        }}\n                    />\n                </FilterList>\n\n                <FilterList\n                    label=\"resources.products.filters.stock\"\n                    icon={<BarChartIcon />}\n                >\n                    <FilterListItem\n                        label=\"resources.products.filters.no_stock\"\n                        value={{\n                            stock_lt: undefined,\n                            stock_gt: undefined,\n                            stock: 0,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.low_stock\"\n                        value={{\n                            stock_lt: 10,\n                            stock_gt: 0,\n                            stock: undefined,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.average_stock\"\n                        value={{\n                            stock_lt: 50,\n                            stock_gt: 9,\n                            stock: undefined,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.enough_stock\"\n                        value={{\n                            stock_lt: undefined,\n                            stock_gt: 49,\n                            stock: undefined,\n                        }}\n                    />\n                </FilterList>\n\n                <FilterList\n                    label=\"resources.products.filters.categories\"\n                    icon={<LocalOfferIcon />}\n                >\n                    <Tree\n                        // HACK: ensure the tree is updated and expland nodes correctly\n                        // see https://github.com/react-component/tree/issues/234#issuecomment-599297897\n                        // I tried passing a JSON.stringify version of\n                        // defaultSelectedKeys and defaultExpandedKeys without success\n                        key={Math.random()}\n                        treeData={tree ? tree[0].children : []}\n                        onSelect={handleSelectCategory}\n                        defaultSelectedKeys={defaultSelectedKeys}\n                        defaultExpandedKeys={defaultExpandedKeys}\n                        autoExpandParent\n                    />\n                </FilterList>\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default Aside;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { Box, Chip, useMediaQuery, Theme } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { InputProps } from 'ra-core';\nimport {\n    ListBase,\n    NumberInput,\n    Pagination,\n    ReferenceInput,\n    SearchInput,\n    SelectInput,\n    TopToolbar,\n    CreateButton,\n    ExportButton,\n    SortButton,\n    Title,\n    useTranslate,\n    useListContext,\n    Filter,\n} from 'react-admin';\nimport { useDefineAppLocation } from '@react-admin/ra-navigation';\n\nimport { FilterProps, ListComponentProps } from '../types';\nimport GridList from './GridList';\nimport Aside from './Aside';\n\nconst useQuickFilterStyles = makeStyles(theme => ({\n    root: {\n        marginBottom: theme.spacing(3),\n    },\n}));\n\nconst QuickFilter: FC<InputProps> = ({ label }) => {\n    const translate = useTranslate();\n    const classes = useQuickFilterStyles();\n    return <Chip className={classes.root} label={translate(label)} />;\n};\n\ninterface FilterParams {\n    q?: string;\n    category_id?: string;\n    width_gte?: number;\n    width_lte?: number;\n    height_gte?: number;\n    height_lte?: number;\n    stock_lte?: number;\n}\n\nexport const ProductFilter: FC<FilterProps<FilterParams>> = props => (\n    <Filter {...props}>\n        <SearchInput source=\"q\" alwaysOn />\n        <ReferenceInput\n            source=\"category_id\"\n            reference=\"categories\"\n            sort={{ field: 'id', order: 'ASC' }}\n        >\n            <SelectInput source=\"name\" />\n        </ReferenceInput>\n        <NumberInput source=\"width_gte\" />\n        <NumberInput source=\"width_lte\" />\n        <NumberInput source=\"height_gte\" />\n        <NumberInput source=\"height_lte\" />\n        <QuickFilter\n            label=\"resources.products.fields.stock_lte\"\n            source=\"stock_lte\"\n            defaultValue={10}\n        />\n    </Filter>\n);\n\nconst ListActions: FC<any> = ({ isSmall }) => {\n    const classes = useListActionsStyles();\n\n    return (\n        <TopToolbar className={classes.root}>\n            {isSmall && <ProductFilter context=\"button\" />}\n            <SortButton fields={['reference', 'sales', 'stock']} />\n            <CreateButton basePath=\"/products\" />\n            <ExportButton />\n        </TopToolbar>\n    );\n};\n\nconst useListActionsStyles = makeStyles(theme => ({\n    root: {\n        paddingBottom: 0,\n        paddingTop: theme.spacing(4),\n    },\n}));\n\nconst ProductList: FC<ListComponentProps> = ({ actions, ...props }) => {\n    useDefineAppLocation('catalog.products');\n    const isSmall = useMediaQuery<Theme>(theme => theme.breakpoints.down('sm'));\n\n    return (\n        <ListBase\n            filters={isSmall ? <ProductFilter /> : null}\n            perPage={20}\n            sort={{ field: 'reference', order: 'ASC' }}\n            {...props}\n        >\n            <ProductListView\n                actions={actions}\n                isSmall={isSmall}\n                aside={props.aside}\n                title={props.title}\n            />\n        </ListBase>\n    );\n};\n\n// The aside prop is only used to disable the aside here if explicitly set to false\n// If undefined, we consider the aside is not explicitly disabled an display the filter\n// vertical bar\nconst ProductListView: FC<{\n    isSmall: boolean;\n    actions?: any;\n    aside?: boolean;\n    title?: string;\n}> = ({\n    isSmall,\n    actions = <ListActions isSmall={isSmall} />,\n    aside,\n    title,\n}) => {\n    const { defaultTitle } = useListContext();\n    const classes = useStyles();\n    return (\n        <div className={classes.root}>\n            <Title defaultTitle={title || defaultTitle} />\n            {actions}\n            {(isSmall || aside === false) && (\n                <Box m={1}>\n                    <ProductFilter context=\"form\" />\n                </Box>\n            )}\n            <Box display=\"flex\">\n                {aside !== false ? <Aside /> : null}\n                <Box\n                    width={\n                        isSmall || aside === false\n                            ? 'auto'\n                            : 'calc(100% - 16em)'\n                    }\n                >\n                    <GridList />\n                    <Pagination rowsPerPageOptions={[10, 20, 40]} />\n                </Box>\n            </Box>\n        </div>\n    );\n};\n\nexport default ProductList;\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        marginTop: -theme.spacing(7),\n    },\n}));\n","import React, { FC } from 'react';\nimport { Identifier, useTranslate } from 'ra-core';\nimport {\n    ListActionsProps,\n    TopToolbar,\n    CreateButton,\n    ExportButton,\n    SortButton,\n} from 'ra-ui-materialui';\nimport { Edit, TextInput } from 'react-admin';\nimport { SimpleForm } from '@react-admin/ra-tree';\n\nimport ProductList from '../products/ProductList';\nimport { Typography, makeStyles } from '@material-ui/core';\nimport { EditComponentProps, ListComponentProps } from '../types';\n\nconst CategoryEdit: FC<EditComponentProps> = props => {\n    const translate = useTranslate();\n    const classes = useStyles();\n\n    return (\n        <>\n            <Edit {...props}>\n                <SimpleForm>\n                    <TextInput source=\"name\" />\n                </SimpleForm>\n            </Edit>\n            <Typography className={classes.subtitle} variant=\"h5\">\n                {translate('resources.products.name', { smart_count: 2 })}\n            </Typography>\n            <CategoryEditAside {...props} />\n        </>\n    );\n};\n\nconst CategoryEditAside: FC<ListComponentProps & { id: Identifier }> = ({\n    id,\n    ...rest\n}) => (\n    <ProductList\n        {...rest}\n        title=\" \"\n        basePath=\"/products\"\n        resource=\"products\"\n        hasCreate\n        hasEdit\n        hasList={false}\n        hasShow={false}\n        filter={{ category_id: id }}\n        exporter={null}\n        aside={false}\n        actions={<ProductListActions />}\n    />\n);\n\nconst ProductListActions: FC<ListActionsProps> = () => (\n    <TopToolbar>\n        <SortButton fields={['reference', 'sales', 'stock']} />\n        <CreateButton\n            label=\"resources.categories.actions.create_product\"\n            basePath=\"/products\"\n        />\n        <ExportButton />\n    </TopToolbar>\n);\n\nexport default CategoryEdit;\n\nconst useStyles = makeStyles(theme => ({\n    subtitle: {\n        marginTop: theme.spacing(6),\n    },\n}));\n","import React, { FC, useEffect } from 'react';\nimport { Create, useRefresh, useRedirect } from 'react-admin';\n\ninterface PromptProps {\n    label: string;\n    record?: any;\n    save?: (data) => {};\n}\n\nconst Prompt: FC<PromptProps> = ({\n    save = (): any => undefined,\n    record = {},\n}) => {\n    useEffect(() => {\n        const result = window.prompt('Category', record.name);\n        save({ ...record, name: result, children: [], isRoot: true });\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    return null;\n};\n\nconst CategoryCreate: FC<any> = props => {\n    const refresh = useRefresh();\n    const redirect = useRedirect();\n\n    const onSuccess = (): void => {\n        redirect(props.basePath);\n        refresh();\n    };\n\n    return (\n        <Create {...props} onSuccess={onSuccess}>\n            <Prompt label=\"Category name\" />\n        </Create>\n    );\n};\n\nexport default CategoryCreate;\n","import CategoryIcon from '@material-ui/icons/Bookmark';\n\nimport CategoryList from './CategoryList';\n\nexport default {\n    list: CategoryList,\n    icon: CategoryIcon,\n};\n","import React, { useEffect } from 'react';\nimport { TreeWithDetails, useTreeController } from '@react-admin/ra-tree';\n\nimport CategoryEdit from './CategoryEdit';\nimport CategoryCreate from './CategoryCreate';\nimport { useDefineAppLocation } from '@react-admin/ra-navigation';\n\nconst CategoryList = (props: any) => {\n    // We need to override the \"category\" location to highlight menu item in the sidebar\n    useDefineAppLocation('catalog.categories');\n\n    const { handleExpand } = useTreeController({\n        resource: props.resource,\n        titleField: 'name',\n    });\n\n    useEffect(() => {\n        handleExpand(['5']);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return (\n        <TreeWithDetails\n            create={CategoryCreate}\n            edit={CategoryEdit}\n            titleField=\"name\"\n            draggable\n            allowMultipleRoots\n            defaultSelectedKeys={['5']}\n            {...props}\n        />\n    );\n};\n\nexport default CategoryList;\n","import React, { cloneElement, useMemo, forwardRef } from 'react';\n\nimport {\n    List,\n    Button,\n    TopToolbar,\n    CreateButton,\n    sanitizeListRestProps,\n    ExportButton,\n} from 'react-admin';\nimport classnames from 'classnames';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n    SelectColumnsMenu,\n    useSelectedColumns,\n    usePreferences,\n} from '@react-admin/ra-preferences';\n\nimport TableChartIcon from '@material-ui/icons/TableChart';\nimport AppsIcon from '@material-ui/icons/Apps';\n\nimport IconButton from '@material-ui/core/IconButton';\nimport Menu from '@material-ui/core/Menu';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        paddingBottom: 0,\n        paddingTop: theme.spacing(4),\n    },\n    menuPaper: {\n        padding: '1rem 0',\n    },\n    menuList: {\n        '&> * > *': {\n            padding: '0 2rem',\n        },\n    },\n    toolContainer: {\n        margin: '20px 0',\n        '&:first-child': {\n            marginTop: 0,\n        },\n        '&:last-child': {\n            marginBottom: 0,\n        },\n    },\n    columnsList: {\n        maxHeight: '250px',\n        overflowY: 'auto',\n        margin: 0,\n        background: '#eee',\n    },\n}));\n\nconst ToolContainer = forwardRef(({ children }, ref) => {\n    const classes = useStyles();\n\n    return (\n        <div ref={ref} className={classes.toolContainer}>\n            {children}\n        </div>\n    );\n});\nToolContainer.displayName = 'ToolContainer';\n\nconst ColumnsTool = ({ preferenceKey, defaultColumns }) => {\n    const classes = useStyles();\n\n    return (\n        <>\n            <Typography\n                variant=\"overline\"\n                gutterBottom\n                key=\"columns-selector-tool-title\"\n                component=\"div\"\n            >\n                Columns to display\n            </Typography>\n            <SelectColumnsMenu\n                key=\"columns-selector-tool-menu\"\n                preference={preferenceKey}\n                columns={defaultColumns}\n                label=\"\"\n                className={classes.columnsList}\n            />\n        </>\n    );\n};\n\nconst GridOrListTool = ({ view, setView }) => (\n    <>\n        <Typography\n            variant=\"overline\"\n            gutterBottom\n            key=\"view-selector-tool-title\"\n            component=\"div\"\n        >\n            Layout\n        </Typography>\n\n        <ButtonGroup key=\"view-selector-tool-menu\">\n            <Button\n                color={view === 'table' ? 'primary' : 'default'}\n                onClick={() => setView('table')}\n                label=\"table\"\n            >\n                <TableChartIcon />\n            </Button>\n            <Button\n                color={view === 'grid' ? 'primary' : 'default'}\n                onClick={() => setView('grid')}\n                label=\"grid\"\n            >\n                <AppsIcon />\n            </Button>\n        </ButtonGroup>\n    </>\n);\n\nconst Actions = ({\n    preferenceKey,\n    currentSort,\n    className,\n    resource,\n    filters,\n    displayedFilters,\n    exporter, // you can hide ExportButton if exporter = (null || false)\n    filterValues,\n    permanentFilter,\n    hasList,\n    hasShow,\n    hasCreate, // you can hide CreateButton if hasCreate = false\n    basePath,\n    selectedIds,\n    onUnselectItems,\n    showFilter,\n    maxResults,\n    total,\n    hasColumnsSelector,\n    defaultColumns,\n    hasViewSelector,\n    view,\n    setView,\n    ...rest\n}) => {\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const classes = useStyles();\n    const open = Boolean(anchorEl);\n\n    const handleClick = event => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n    const hasTools = hasColumnsSelector || hasViewSelector;\n\n    return (\n        <TopToolbar\n            className={classnames(className, classes.root)}\n            {...sanitizeListRestProps(rest)}\n        >\n            {filters &&\n                cloneElement(filters, {\n                    resource,\n                    showFilter,\n                    displayedFilters,\n                    filterValues,\n                    context: 'button',\n                })}\n            <CreateButton basePath={basePath} />\n            {exporter && (\n                <ExportButton\n                    disabled={total === 0}\n                    resource={resource}\n                    sort={currentSort}\n                    filter={{ ...filterValues, ...permanentFilter }}\n                    exporter={exporter}\n                    maxResults={maxResults}\n                />\n            )}\n\n            {hasTools && (\n                <>\n                    <IconButton\n                        aria-label=\"more\"\n                        aria-controls=\"user-preference-menu\"\n                        aria-haspopup=\"true\"\n                        onClick={handleClick}\n                        size=\"small\"\n                    >\n                        <MoreVertIcon />\n                    </IconButton>\n                    <Menu\n                        id=\"user-preference-menu\"\n                        anchorEl={anchorEl}\n                        keepMounted\n                        open={open}\n                        onClose={handleClose}\n                        classes={{\n                            paper: classes.menuPaper,\n                            list: classes.menuList,\n                        }}\n                    >\n                        {hasViewSelector && (\n                            <ToolContainer>\n                                <GridOrListTool\n                                    preferenceKey={preferenceKey}\n                                    view={view}\n                                    setView={setView}\n                                />\n                            </ToolContainer>\n                        )}\n                        {hasColumnsSelector && (\n                            <ToolContainer>\n                                <ColumnsTool\n                                    preferenceKey={preferenceKey}\n                                    defaultColumns={defaultColumns}\n                                />\n                            </ToolContainer>\n                        )}\n                    </Menu>\n                </>\n            )}\n        </TopToolbar>\n    );\n};\nconst elementHasProp = (element, name, value) =>\n    element.props[name] && element.props[name] === value;\n\nconst hasChildren = (element, type, props) => {\n    if (!React.isValidElement(element)) return false;\n\n    let hasChildrenOfType = false;\n\n    React.Children.map(element, child => {\n        if (hasChildrenOfType) return;\n        if (!React.isValidElement(child)) return;\n\n        if (\n            child.type.name === type &&\n            Object.keys(props).every(propName =>\n                elementHasProp(child, propName, props[propName])\n            )\n        ) {\n            hasChildrenOfType = true;\n            return;\n        }\n\n        hasChildrenOfType = hasChildren(child.props.children, type, props);\n    });\n\n    return hasChildrenOfType;\n};\n\nconst EnterpriseList = props => {\n    const {\n        className,\n        preferenceKey,\n\n        hasColumnsSelector = true,\n        defaultColumns = [],\n        defaultOmittedColumns = [],\n\n        hasViewSelector = true,\n        defaultView = 'small',\n\n        children,\n        ...rest\n    } = props;\n    const visibleColumns = useSelectedColumns({\n        preferences: `${preferenceKey}.columns`,\n        columns: defaultColumns,\n        omit: defaultOmittedColumns,\n    });\n\n    const [view, setView] = usePreferences(\n        `${preferenceKey}.view`,\n        defaultView\n    );\n\n    const childrenElements = useMemo(\n        () => children({ ...rest, columns: visibleColumns, view }),\n        [visibleColumns, view, children, rest]\n    );\n\n    if (process.env.NODE_ENV === 'development') {\n        if (\n            hasColumnsSelector &&\n            hasChildren(childrenElements, 'Datagrid', { optimized: true })\n        ) {\n            throw new Error(\n                'Columns selector is not compatible with optimized Datagrids, please remove the optimized prop'\n            );\n        }\n    }\n\n    return (\n        <List\n            {...rest}\n            className={className}\n            actions={\n                <Actions\n                    preferenceKey={`${preferenceKey}.columns`}\n                    hasColumnsSelector={hasColumnsSelector}\n                    defaultColumns={defaultColumns}\n                    hasViewSelector={hasViewSelector}\n                    view={view}\n                    setView={setView}\n                />\n            }\n        >\n            {childrenElements}\n        </List>\n    );\n};\n\nexport default EnterpriseList;\n","export default [\n    { id: 'compulsive', name: 'resources.segments.data.compulsive' },\n    { id: 'collector', name: 'resources.segments.data.collector' },\n    { id: 'ordered_once', name: 'resources.segments.data.ordered_once' },\n    { id: 'regular', name: 'resources.segments.data.regular' },\n    { id: 'returns', name: 'resources.segments.data.returns' },\n    { id: 'reviewer', name: 'resources.segments.data.reviewer' },\n];\n","import React, { FC } from 'react';\nimport Chip from '@material-ui/core/Chip';\nimport { useTranslate } from 'react-admin';\nimport segments from '../segments/data';\nimport { FieldProps, Customer } from '../types';\nimport { makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles({\n    main: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        marginTop: -8,\n        marginBottom: -8,\n    },\n    chip: { margin: 4 },\n});\n\nconst SegmentsField: FC<FieldProps<Customer>> = ({ record }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n\n    return record ? (\n        <span className={classes.main}>\n            {record.groups &&\n                record.groups.map(segmentId => {\n                    const segment = segments.find(s => s.id === segmentId);\n\n                    return segment ? (\n                        <Chip\n                            key={segment.id}\n                            className={classes.chip}\n                            label={translate(segment.name)}\n                        />\n                    ) : null;\n                })}\n        </span>\n    ) : null;\n};\n\nSegmentsField.defaultProps = {\n    addLabel: true,\n    source: 'groups',\n};\n\nexport default SegmentsField;\n","import React, { FC } from 'react';\nimport { useTranslate, SelectInput } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { InputProps } from 'ra-core';\n\nimport segments from '../segments/data';\n\nconst useStyles = makeStyles({\n    input: { width: 150 },\n});\n\ninterface Props extends Omit<InputProps, 'source'> {\n    source?: string;\n}\n\nconst SegmentInput: FC<Props> = props => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <SelectInput\n            {...props}\n            choices={segments.map(segment => ({\n                id: segment.id,\n                name: translate(segment.name),\n            }))}\n            className={classes.input}\n        />\n    );\n};\n\nSegmentInput.defaultProps = {\n    source: 'groups',\n};\n\nexport default SegmentInput;\n","import React, { FC } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport { Customer, FieldProps } from '../types';\n\ninterface Props extends FieldProps<Customer> {\n    className?: string;\n    size?: string;\n}\n\nconst AvatarField: FC<Props> = ({ record, size = '25', className }) =>\n    record ? (\n        <Avatar\n            src={`${record.avatar}?size=${size}x${size}`}\n            style={{ width: parseInt(size, 10), height: parseInt(size, 10) }}\n            className={className}\n        />\n    ) : null;\n\nexport default AvatarField;\n","import React, { FC } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport pure from 'recompose/pure';\n\nimport AvatarField from './AvatarField';\nimport { FieldProps, Customer } from '../types';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: 'flex',\n        flexWrap: 'nowrap',\n        alignItems: 'center',\n    },\n    avatar: {\n        marginRight: theme.spacing(1),\n    },\n}));\n\ninterface Props extends FieldProps<Customer> {\n    size?: string;\n}\n\nconst FullNameField: FC<Props> = ({ record, size }) => {\n    const classes = useStyles();\n    return record ? (\n        <div className={classes.root}>\n            <AvatarField\n                className={classes.avatar}\n                record={record}\n                size={size}\n            />\n            {record.first_name} {record.last_name}\n        </div>\n    ) : null;\n};\n\nconst PureFullNameField = pure(FullNameField);\n\nPureFullNameField.defaultProps = {\n    source: 'last_name',\n    label: 'resources.customers.fields.name',\n};\n\nexport default PureFullNameField;\n","import React, { FC } from 'react';\nimport { Link } from 'react-admin';\n\nimport FullNameField from './FullNameField';\nimport { FieldProps, Customer } from '../types';\n\nconst CustomerLinkField: FC<FieldProps<Customer>> = props =>\n    props.record ? (\n        <Link to={`/customers/${props.record.id}`}>\n            <FullNameField {...props} />\n        </Link>\n    ) : null;\n\nCustomerLinkField.defaultProps = {\n    source: 'customer_id',\n    addLabel: true,\n};\n\nexport default CustomerLinkField;\n","import React, { ComponentType } from 'react';\nimport { NumberField } from 'react-admin';\nimport { FieldProps } from '../types';\n\nconst colored = <T extends FieldProps>(\n    WrappedComponent: ComponentType<T>\n): ComponentType<T> => {\n    const Colored = (props: T) =>\n        props.record && props.source ? (\n            props.record[props.source] > 500 ? (\n                <span style={{ color: 'red' }}>\n                    <WrappedComponent {...props} />\n                </span>\n            ) : (\n                <WrappedComponent {...props} />\n            )\n        ) : null;\n\n    Colored.displayName = `Colored(${WrappedComponent.displayName})`;\n\n    return Colored;\n};\n\nconst ColoredNumberField = colored<typeof NumberField>(NumberField);\nColoredNumberField.defaultProps = NumberField.defaultProps;\n\nexport default ColoredNumberField;\n","// in src/comments.js\nimport React, { FC } from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { DateField, EditButton, useTranslate, NumberField } from 'react-admin';\n\nimport AvatarField from './AvatarField';\nimport ColoredNumberField from './ColoredNumberField';\nimport SegmentsField from './SegmentsField';\nimport { Identifier } from 'ra-core';\nimport { Customer } from '../types';\n\nconst useStyles = makeStyles(theme => ({\n    root: { margin: '1em' },\n    card: {\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        margin: '0.5rem 0',\n    },\n    cardTitleContent: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n    },\n    cardContent: {\n        ...theme.typography.body1,\n        display: 'flex',\n        flexDirection: 'column',\n    },\n}));\n\ninterface Props {\n    ids?: Identifier[];\n    data?: { [key: string]: Customer };\n    basePath?: string;\n}\n\nconst MobileGrid: FC<Props> = ({ ids, data, basePath }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n\n    if (!ids || !data) {\n        return null;\n    }\n\n    return (\n        <div className={classes.root}>\n            {ids.map(id => (\n                <Card key={id} className={classes.card}>\n                    <CardHeader\n                        title={\n                            <div className={classes.cardTitleContent}>\n                                <h2>{`${data[id].first_name} ${data[id].last_name}`}</h2>\n                                <EditButton\n                                    resource=\"visitors\"\n                                    basePath={basePath}\n                                    record={data[id]}\n                                />\n                            </div>\n                        }\n                        avatar={<AvatarField record={data[id]} size=\"45\" />}\n                    />\n                    <CardContent className={classes.cardContent}>\n                        <div>\n                            {translate(\n                                'resources.customers.fields.last_seen_gte'\n                            )}\n                            &nbsp;\n                            <DateField\n                                record={data[id]}\n                                source=\"last_seen\"\n                                type=\"date\"\n                            />\n                        </div>\n                        <div>\n                            {translate(\n                                'resources.commands.name',\n                                data[id].nb_commands || 1\n                            )}\n                            &nbsp;:&nbsp;\n                            <NumberField\n                                record={data[id]}\n                                source=\"nb_commands\"\n                                label=\"resources.customers.fields.commands\"\n                            />\n                        </div>\n                        <div>\n                            {translate(\n                                'resources.customers.fields.total_spent'\n                            )}\n                            &nbsp; :{' '}\n                            <ColoredNumberField\n                                record={data[id]}\n                                source=\"total_spent\"\n                                options={{ style: 'currency', currency: 'USD' }}\n                            />\n                        </div>\n                    </CardContent>\n                    {data[id].groups && data[id].groups.length > 0 && (\n                        <CardContent className={classes.cardContent}>\n                            <SegmentsField record={data[id]} />\n                        </CardContent>\n                    )}\n                </Card>\n            ))}\n        </div>\n    );\n};\n\nMobileGrid.defaultProps = {\n    data: {},\n    ids: [],\n};\n\nexport default MobileGrid;\n","import React, { FC, cloneElement } from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link as RouterLink } from 'react-router-dom';\n\nimport { useTranslate } from 'react-admin';\n\nimport AvatarField from './AvatarField';\nimport { Identifier, linkToRecord } from 'ra-core';\nimport { Customer } from '../types';\n\nimport EditIcon from '@material-ui/icons/Edit';\nimport IconButton from '@material-ui/core/IconButton';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        margin: '1em',\n        display: 'flex',\n        flexWrap: 'wrap',\n        alignItems: 'stretch',\n        justifyContent: 'space-between',\n    },\n    card: {\n        width: 265,\n        display: 'flex',\n        flexDirection: 'column',\n        margin: '0.5rem 0',\n    },\n    cardTitleContent: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        position: 'relative',\n    },\n    editButton: {\n        position: 'absolute',\n        top: 0,\n        right: 0,\n    },\n    cardContent: {\n        ...theme.typography.body1,\n        display: 'flex',\n        flexDirection: 'column',\n    },\n}));\n\ninterface Props {\n    ids?: Identifier[];\n    data?: { [key: string]: Customer };\n    basePath?: string;\n    fields: any;\n}\n\nconst DesktopGrid: FC<Props> = ({ ids, data, basePath, fields }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n\n    if (!ids || !data) {\n        return null;\n    }\n\n    return (\n        <div className={classes.root}>\n            {ids.map(id => (\n                <Card key={id} className={classes.card}>\n                    <CardContent className={classes.cardContent}>\n                        <div className={classes.cardTitleContent}>\n                            <AvatarField record={data[id]} size=\"120\" />\n                            <h2>{`${data[id].first_name} ${data[id].last_name}`}</h2>\n\n                            <IconButton\n                                color=\"secondary\"\n                                aria-label=\"Edit\"\n                                component={RouterLink}\n                                className={classes.editButton}\n                                to={linkToRecord(basePath, id)}\n                            >\n                                <EditIcon />\n                            </IconButton>\n                        </div>\n                        {fields\n                            .filter(\n                                field => field.props.source !== 'customer_id'\n                            ) // we already display customer up there\n                            .filter(field => !!data[id][field.props.source])\n                            .map(field => {\n                                const fieldName = field.props.source;\n\n                                return (\n                                    <div\n                                        key={fieldName}\n                                        style={{\n                                            display: 'flex',\n                                            flexWrap: 'wrap',\n                                        }}\n                                    >\n                                        <div\n                                            style={{\n                                                marginRight: '1em',\n                                                marginBottom: '0.5em',\n                                                marginTop: '1em',\n                                            }}\n                                        >\n                                            {translate(\n                                                `resources.customers.fields.${fieldName}`\n                                            )}\n                                        </div>\n                                        <div\n                                            style={{\n                                                whiteSpace: 'nowrap',\n                                                marginBottom: '0.5em',\n                                                marginTop: '1em',\n                                            }}\n                                        >\n                                            {cloneElement(field, {\n                                                record: data[id],\n                                            })}\n                                        </div>\n                                    </div>\n                                );\n                            })}\n                    </CardContent>\n                </Card>\n            ))}\n        </div>\n    );\n};\n\nDesktopGrid.defaultProps = {\n    data: {},\n    ids: [],\n};\n\nexport default DesktopGrid;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { Card as MuiCard, CardContent } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOnOutlined';\nimport MailIcon from '@material-ui/icons/MailOutline';\nimport LocalOfferIcon from '@material-ui/icons/LocalOfferOutlined';\nimport { FilterList, FilterListItem, FilterLiveSearch } from 'react-admin';\nimport {\n    endOfYesterday,\n    startOfWeek,\n    subWeeks,\n    startOfMonth,\n    subMonths,\n} from 'date-fns';\n\nimport segments from '../segments/data';\n\nconst Card = withStyles(theme => ({\n    root: {\n        flexShrink: 0,\n        [theme.breakpoints.up('sm')]: {\n            order: -1,\n            width: '15em',\n            marginRight: '1em',\n        },\n        [theme.breakpoints.down('sm')]: {\n            display: 'none',\n        },\n    },\n}))(MuiCard);\n\nconst Aside: FC = () => (\n    <Card>\n        <CardContent>\n            <FilterLiveSearch />\n\n            <FilterList\n                label=\"resources.customers.filters.last_visited\"\n                icon={<AccessTimeIcon />}\n            >\n                <FilterListItem\n                    label=\"resources.customers.filters.today\"\n                    value={{\n                        last_seen_gte: endOfYesterday().toISOString(),\n                        last_seen_lte: undefined,\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.this_week\"\n                    value={{\n                        last_seen_gte: startOfWeek(new Date()).toISOString(),\n                        last_seen_lte: undefined,\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.last_week\"\n                    value={{\n                        last_seen_gte: subWeeks(\n                            startOfWeek(new Date()),\n                            1\n                        ).toISOString(),\n                        last_seen_lte: startOfWeek(new Date()).toISOString(),\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.this_month\"\n                    value={{\n                        last_seen_gte: startOfMonth(new Date()).toISOString(),\n                        last_seen_lte: undefined,\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.last_month\"\n                    value={{\n                        last_seen_gte: subMonths(\n                            startOfMonth(new Date()),\n                            1\n                        ).toISOString(),\n                        last_seen_lte: startOfMonth(new Date()).toISOString(),\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.earlier\"\n                    value={{\n                        last_seen_gte: undefined,\n                        last_seen_lte: subMonths(\n                            startOfMonth(new Date()),\n                            1\n                        ).toISOString(),\n                    }}\n                />\n            </FilterList>\n\n            <FilterList\n                label=\"resources.customers.filters.has_ordered\"\n                icon={<MonetizationOnIcon />}\n            >\n                <FilterListItem\n                    label=\"ra.boolean.true\"\n                    value={{\n                        nb_commands_gte: 1,\n                        nb_commands_lte: undefined,\n                    }}\n                />\n                <FilterListItem\n                    label=\"ra.boolean.false\"\n                    value={{\n                        nb_commands_gte: undefined,\n                        nb_commands_lte: 0,\n                    }}\n                />\n            </FilterList>\n\n            <FilterList\n                label=\"resources.customers.filters.has_newsletter\"\n                icon={<MailIcon />}\n            >\n                <FilterListItem\n                    label=\"ra.boolean.true\"\n                    value={{ has_newsletter: true }}\n                />\n                <FilterListItem\n                    label=\"ra.boolean.false\"\n                    value={{ has_newsletter: false }}\n                />\n            </FilterList>\n\n            <FilterList\n                label=\"resources.customers.filters.group\"\n                icon={<LocalOfferIcon />}\n            >\n                {segments.map(segment => (\n                    <FilterListItem\n                        label={segment.name}\n                        key={segment.id}\n                        value={{ groups: segment.id }}\n                    />\n                ))}\n            </FilterList>\n        </CardContent>\n    </Card>\n);\n\nexport default Aside;\n","import React, { FC } from 'react';\nimport {\n    BooleanField,\n    Datagrid,\n    DateField,\n    DateInput,\n    NullableBooleanInput,\n    NumberField,\n    SearchInput,\n    Filter,\n} from 'react-admin';\nimport { useDefineAppLocation } from '@react-admin/ra-navigation';\nimport { useMediaQuery, Theme, makeStyles } from '@material-ui/core';\n\nimport EnterpriseList from '../ra-enterprise/List';\nimport SegmentsField from './SegmentsField';\nimport SegmentInput from './SegmentInput';\nimport CustomerLinkField from './CustomerLinkField';\nimport ColoredNumberField from './ColoredNumberField';\nimport MobileGrid from './MobileGrid';\nimport DesktopGrid from './DesktopGrid';\nimport VisitorListAside from './VisitorListAside';\n\nconst VisitorFilter: FC = (props: any) => (\n    <Filter {...props}>\n        <SearchInput source=\"q\" alwaysOn />\n        <DateInput source=\"last_seen_gte\" />\n        <NullableBooleanInput source=\"has_ordered\" />\n        <NullableBooleanInput source=\"has_newsletter\" defaultValue />\n        <SegmentInput />\n    </Filter>\n);\n\nconst visitorListColumn = {\n    customer: <CustomerLinkField />,\n    last_seen: <DateField source=\"last_seen\" />,\n    nb_commands: <NumberField source=\"nb_commands\" label=\"Commands\" />,\n    total_spent: (\n        <ColoredNumberField\n            source=\"total_spent\"\n            options={{ style: 'currency', currency: 'USD' }}\n        />\n    ),\n    latest_purchase: <DateField source=\"latest_purchase\" showTime />,\n    has_newsletter: <BooleanField source=\"has_newsletter\" label=\"News.\" />,\n    segments: <SegmentsField />,\n};\n\nconst VisitorList: FC = (props: any) => {\n    const isXsmall = useMediaQuery<Theme>(theme =>\n        theme.breakpoints.down('xs')\n    );\n    useDefineAppLocation('audience.customers');\n    const isSmall = useMediaQuery<Theme>(theme => theme.breakpoints.down('sm'));\n\n    const classes = useStyles();\n\n    return (\n        <EnterpriseList\n            {...props}\n            classes={classes}\n            preferenceKey=\"visitors.list\"\n            hasColumnsSelector\n            defaultColumns={visitorListColumn}\n            defaultOmittedColumns={['last_seen']}\n            hasViewSelector\n            defaultView\n            filters={isSmall ? <VisitorFilter /> : null}\n            aside={<VisitorListAside />}\n            sort={{ field: 'last_seen', order: 'DESC' }}\n            perPage={25}\n        >\n            {({\n                columns,\n                view,\n                hasShow,\n                hasList,\n                hasEdit,\n                hasCreate,\n                ...rest\n            }): JSX.Element => {\n                if (isXsmall) {\n                    return <MobileGrid />;\n                }\n                if (view === 'grid') {\n                    return <DesktopGrid fields={columns} />;\n                }\n                return (\n                    <Datagrid rowClick=\"edit\" {...rest}>\n                        {columns}\n                    </Datagrid>\n                );\n            }}\n        </EnterpriseList>\n    );\n};\n\nexport default VisitorList;\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        marginTop: -theme.spacing(7),\n    },\n}));\n","import React from 'react';\nimport {\n    Create,\n    DateInput,\n    SimpleForm,\n    TextInput,\n    useTranslate,\n    PasswordInput,\n    required,\n} from 'react-admin';\nimport { useDefineAppLocation } from '@react-admin/ra-navigation';\nimport { Typography, Box } from '@material-ui/core';\nimport { makeStyles, Theme } from '@material-ui/core/styles';\nimport { Styles } from '@material-ui/styles/withStyles';\n\nexport const styles: Styles<Theme, any> = {\n    first_name: { display: 'inline-block' },\n    last_name: { display: 'inline-block', marginLeft: 32 },\n    email: { width: 544 },\n    address: { maxWidth: 544 },\n    zipcode: { display: 'inline-block' },\n    city: { display: 'inline-block', marginLeft: 32 },\n    comment: {\n        maxWidth: '20em',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n    },\n    password: { display: 'inline-block' },\n    confirm_password: { display: 'inline-block', marginLeft: 32 },\n};\n\nconst useStyles = makeStyles(styles);\n\nexport const validatePasswords = ({\n    password,\n    confirm_password,\n}: {\n    password: string;\n    confirm_password: string;\n}) => {\n    const errors = {} as any;\n\n    if (password && confirm_password && password !== confirm_password) {\n        errors.confirm_password = [\n            'resources.customers.errors.password_mismatch',\n        ];\n    }\n\n    return errors;\n};\n\nconst VisitorCreate = (props: any) => {\n    const classes = useStyles();\n    useDefineAppLocation('audience.customers.create');\n\n    return (\n        <Create {...props}>\n            <SimpleForm validate={validatePasswords}>\n                <SectionTitle label=\"resources.customers.fieldGroups.identity\" />\n                <TextInput\n                    source=\"first_name\"\n                    formClassName={classes.first_name}\n                    validate={requiredValidate}\n                />\n                <TextInput\n                    source=\"last_name\"\n                    formClassName={classes.last_name}\n                    validate={requiredValidate}\n                />\n                <TextInput\n                    type=\"email\"\n                    source=\"email\"\n                    validation={{ email: true }}\n                    fullWidth={true}\n                    formClassName={classes.email}\n                    validate={requiredValidate}\n                />\n                <DateInput source=\"birthday\" />\n                <Separator />\n                <SectionTitle label=\"resources.customers.fieldGroups.address\" />\n                <TextInput\n                    source=\"address\"\n                    formClassName={classes.address}\n                    multiline={true}\n                    fullWidth={true}\n                />\n                <TextInput source=\"zipcode\" formClassName={classes.zipcode} />\n                <TextInput source=\"city\" formClassName={classes.city} />\n                <Separator />\n                <SectionTitle label=\"resources.customers.fieldGroups.password\" />\n                <PasswordInput\n                    source=\"password\"\n                    formClassName={classes.password}\n                />\n                <PasswordInput\n                    source=\"confirm_password\"\n                    formClassName={classes.confirm_password}\n                />\n            </SimpleForm>\n        </Create>\n    );\n};\n\nconst requiredValidate = [required()];\n\nconst SectionTitle = ({ label }: { label: string }) => {\n    const translate = useTranslate();\n\n    return (\n        <Typography variant=\"h6\" gutterBottom>\n            {translate(label)}\n        </Typography>\n    );\n};\n\nconst Separator = () => <Box pt=\"1em\" />;\n\nexport default VisitorCreate;\n","import React from 'react';\nimport { FunctionField } from 'react-admin';\n\nconst render = record => record.basket.length;\n\nconst NbItemsField = props => <FunctionField {...props} render={render} />;\n\nNbItemsField.defaultProps = {\n    label: 'Nb Items',\n    textAlign: 'right',\n};\n\nexport default NbItemsField;\n","import React, { FC } from 'react';\nimport { ReferenceField } from 'react-admin';\n\nimport FullNameField from './FullNameField';\nimport { FieldProps } from '../types';\n\nconst CustomerReferenceField: FC<FieldProps> = props => (\n    <ReferenceField source=\"customer_id\" reference=\"customers\" {...props}>\n        <FullNameField />\n    </ReferenceField>\n);\n\nCustomerReferenceField.defaultProps = {\n    source: 'customer_id',\n    addLabel: true,\n};\n\nexport default CustomerReferenceField;\n","// in src/comments.js\nimport React from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardContent from '@material-ui/core/CardContent';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    DateField,\n    EditButton,\n    NumberField,\n    TextField,\n    BooleanField,\n    useTranslate,\n} from 'react-admin';\n\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\n\nconst useListStyles = makeStyles(theme => ({\n    card: {\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        margin: '0.5rem 0',\n    },\n    cardTitleContent: {\n        display: 'flex',\n        flexDirection: 'rows',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n    },\n    cardContent: theme.typography.body1,\n    cardContentRow: {\n        display: 'flex',\n        flexDirection: 'rows',\n        alignItems: 'center',\n        margin: '0.5rem 0',\n    },\n}));\n\nconst MobileGrid = ({ ids, data, basePath }) => {\n    const translate = useTranslate();\n    const classes = useListStyles();\n    return (\n        <div style={{ margin: '1em' }}>\n            {ids.map(id => (\n                <Card key={id} className={classes.card}>\n                    <CardHeader\n                        title={\n                            <div className={classes.cardTitleContent}>\n                                <span>\n                                    {translate('resources.commands.name', 1)}\n                                    :&nbsp;\n                                    <TextField\n                                        record={data[id]}\n                                        source=\"reference\"\n                                    />\n                                </span>\n                                <EditButton\n                                    resource=\"commands\"\n                                    basePath={basePath}\n                                    record={data[id]}\n                                />\n                            </div>\n                        }\n                    />\n                    <CardContent className={classes.cardContent}>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.customers.name', 1)}:&nbsp;\n                            <CustomerReferenceField\n                                record={data[id]}\n                                basePath={basePath}\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.reviews.fields.date')}:&nbsp;\n                            <DateField\n                                record={data[id]}\n                                source=\"date\"\n                                showTime\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate(\n                                'resources.commands.fields.basket.total'\n                            )}\n                            :&nbsp;\n                            <NumberField\n                                record={data[id]}\n                                source=\"total\"\n                                options={{ style: 'currency', currency: 'USD' }}\n                                className={classes.total}\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.commands.fields.status')}\n                            :&nbsp;\n                            <TextField source=\"status\" record={data[id]} />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.commands.fields.returned')}\n                            :&nbsp;\n                            <BooleanField record={data[id]} source=\"returned\" />\n                        </span>\n                    </CardContent>\n                </Card>\n            ))}\n        </div>\n    );\n};\n\nMobileGrid.defaultProps = {\n    data: {},\n    ids: [],\n};\n\nexport default MobileGrid;\n","import React, { Fragment, useState, useEffect } from 'react';\nimport {\n    AutocompleteInput,\n    BooleanField,\n    Datagrid,\n    DateField,\n    DateInput,\n    EditButton,\n    NullableBooleanInput,\n    NumberField,\n    ReferenceInput,\n    SearchInput,\n    TextField,\n    TextInput,\n    Filter,\n} from 'react-admin';\nimport {\n    makeStyles,\n    useMediaQuery,\n    Divider,\n    Tabs,\n    Tab,\n    useTheme,\n    lighten,\n    darken,\n    fade,\n} from '@material-ui/core';\nimport { RealTimeList } from '@react-admin/ra-realtime';\nimport NbItemsField from './NbItemsField';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport MobileGrid from './MobileGrid';\n\nconst OrderFilter = props => (\n    <Filter {...props}>\n        <SearchInput source=\"q\" alwaysOn />\n        <ReferenceInput source=\"customer_id\" reference=\"customers\">\n            <AutocompleteInput\n                optionText={choice =>\n                    choice.first_name && choice.last_name\n                        ? `${choice.first_name} ${choice.last_name}`\n                        : ''\n                }\n            />\n        </ReferenceInput>\n        <DateInput source=\"date_gte\" />\n        <DateInput source=\"date_lte\" />\n        <TextInput source=\"total_gte\" />\n        <NullableBooleanInput source=\"returned\" />\n    </Filter>\n);\n\nconst useDatagridStyles = makeStyles({\n    total: { fontWeight: 'bold' },\n});\n\nconst orderRowStyle = (batchLevel, theme) => record => {\n    let backgroundColor;\n    switch (record.batch) {\n        case batchLevel:\n            backgroundColor =\n                theme.palette.type === 'light'\n                    ? lighten(fade(theme.palette.info.light, 1), 0.68)\n                    : darken(fade(theme.palette.info.dark, 1), 0.88);\n            break;\n        case 1:\n            if (batchLevel > 0) {\n                backgroundColor =\n                    theme.palette.type === 'light'\n                        ? lighten(fade(theme.palette.info.light, 1), 0.78)\n                        : darken(fade(theme.palette.info.dark, 1), 0.78);\n            }\n            break;\n        default:\n            backgroundColor = theme.palette.background.paper;\n    }\n\n    return {\n        backgroundColor,\n    };\n};\n\nconst tabs = [\n    { id: 'ordered', name: 'ordered' },\n    { id: 'delivered', name: 'delivered' },\n    { id: 'cancelled', name: 'cancelled' },\n];\n\nconst TabbedDatagrid = props => {\n    const [state, setState] = useState({\n        ordered: [],\n        delivered: [],\n        cancelled: [],\n    });\n\n    useEffect(() => {\n        if (props.ids !== state[props.filterValues.status]) {\n            setState(prevState => ({\n                ...prevState,\n                [props.filterValues.status]: props.ids,\n            }));\n        }\n    }, [props.filterValues.status, props.ids, state]);\n\n    const handleChange = (event, value) => {\n        const { filterValues, setFilters } = props;\n        setFilters({ ...filterValues, status: value });\n    };\n\n    const theme = useTheme();\n    const { isXSmall, classes, filterValues, batchLevel, ...rest } = props;\n    const rowStyle = orderRowStyle(batchLevel, theme);\n\n    return (\n        <Fragment>\n            <Tabs\n                variant=\"fullWidth\"\n                centered\n                value={filterValues.status}\n                indicatorColor=\"primary\"\n                onChange={handleChange}\n            >\n                {tabs.map(choice => (\n                    <Tab\n                        key={choice.id}\n                        label={choice.name}\n                        value={choice.id}\n                    />\n                ))}\n            </Tabs>\n            <Divider />\n            {isXSmall ? (\n                <MobileGrid {...rest} ids={state[filterValues.status]} />\n            ) : (\n                <div>\n                    {filterValues.status === 'ordered' && (\n                        <Datagrid\n                            {...rest}\n                            ids={state.ordered}\n                            optimized\n                            rowClick=\"edit\"\n                            rowStyle={rowStyle}\n                            data-testid=\"order-ordered-datagrid\"\n                        >\n                            <TextField source=\"id\" />\n                            <DateField source=\"date\" showTime />\n                            <TextField source=\"reference\" />\n                            <CustomerReferenceField />\n                            <NbItemsField />\n                            <NumberField\n                                source=\"total\"\n                                options={{\n                                    style: 'currency',\n                                    currency: 'USD',\n                                }}\n                                className={classes.total}\n                            />\n                        </Datagrid>\n                    )}\n                    {filterValues.status === 'delivered' && (\n                        <Datagrid {...rest} ids={state.delivered}>\n                            <DateField source=\"date\" showTime />\n                            <TextField source=\"reference\" />\n                            <CustomerReferenceField />\n                            <NbItemsField />\n                            <NumberField\n                                source=\"total\"\n                                options={{\n                                    style: 'currency',\n                                    currency: 'USD',\n                                }}\n                                className={classes.total}\n                            />\n                            <BooleanField source=\"returned\" />\n                            <EditButton />\n                        </Datagrid>\n                    )}\n                    {filterValues.status === 'cancelled' && (\n                        <Datagrid {...rest} ids={state.cancelled}>\n                            <DateField source=\"date\" showTime />\n                            <TextField source=\"reference\" />\n                            <CustomerReferenceField />\n                            <NbItemsField />\n                            <NumberField\n                                source=\"total\"\n                                options={{\n                                    style: 'currency',\n                                    currency: 'USD',\n                                }}\n                                className={classes.total}\n                            />\n                            <BooleanField source=\"returned\" />\n                            <EditButton />\n                        </Datagrid>\n                    )}\n                </div>\n            )}\n        </Fragment>\n    );\n};\n\nconst StyledTabbedDatagrid = props => {\n    const classes = useDatagridStyles();\n    const isXSmall = useMediaQuery(theme => theme.breakpoints.down('xs'));\n    const batchLevel = parseInt(localStorage.getItem('batchLevel'), 0) || 0;\n    return (\n        <TabbedDatagrid\n            classes={classes}\n            isXSmall={isXSmall}\n            batchLevel={batchLevel}\n            {...props}\n        />\n    );\n};\n\nconst OrderList = ({ classes, ...props }) => (\n    <RealTimeList\n        {...props}\n        filterDefaultValues={{ status: 'ordered' }}\n        sort={{ field: 'date', order: 'DESC' }}\n        perPage={25}\n        filters={<OrderFilter />}\n    >\n        <StyledTabbedDatagrid />\n    </RealTimeList>\n);\n\nexport default OrderList;\n","import React, { FC } from 'react';\nimport classnames from 'classnames';\n\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport { Link, useTranslate, useQueryWithStore } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FieldProps, AppState, Order, Product } from '../types';\n\nconst useStyles = makeStyles({\n    container: { minWidth: '35em', marginLeft: '1em' },\n    rightAlignedCell: { textAlign: 'right' },\n    boldCell: { fontWeight: 'bold' },\n});\n\nconst Basket: FC<FieldProps<Order>> = ({ record }) => {\n    const classes = useStyles();\n    const translate = useTranslate();\n\n    const { loaded, data: products } = useQueryWithStore(\n        {\n            type: 'getMany',\n            resource: 'products',\n            payload: {\n                ids: record ? record.basket.map(item => item.product_id) : [],\n            },\n        },\n        {},\n        (state: AppState) => {\n            const productIds = record\n                ? record.basket.map(item => item.product_id)\n                : [];\n\n            return productIds\n                .map<Product>(\n                    productId =>\n                        state.admin.resources.products.data[\n                            productId\n                        ] as Product\n                )\n                .filter(r => typeof r !== 'undefined')\n                .reduce((prev, next) => {\n                    prev[next.id] = next;\n                    return prev;\n                }, {} as { [key: string]: Product });\n        }\n    );\n\n    if (!loaded || !record) return null;\n\n    return (\n        <Paper className={classes.container} elevation={2}>\n            <Table>\n                <TableHead>\n                    <TableRow>\n                        <TableCell>\n                            {translate(\n                                'resources.commands.fields.basket.reference'\n                            )}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {translate(\n                                'resources.commands.fields.basket.unit_price'\n                            )}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {translate(\n                                'resources.commands.fields.basket.quantity'\n                            )}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {translate(\n                                'resources.commands.fields.basket.total'\n                            )}\n                        </TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {record.basket.map(\n                        (item: any) =>\n                            products[item.product_id] && (\n                                <TableRow key={item.product_id}>\n                                    <TableCell>\n                                        <Link\n                                            to={`/products/${item.product_id}`}\n                                        >\n                                            {\n                                                products[item.product_id]\n                                                    .reference\n                                            }\n                                        </Link>\n                                    </TableCell>\n                                    <TableCell\n                                        className={classes.rightAlignedCell}\n                                    >\n                                        {products[\n                                            item.product_id\n                                        ].price.toLocaleString(undefined, {\n                                            style: 'currency',\n                                            currency: 'USD',\n                                        })}\n                                    </TableCell>\n                                    <TableCell\n                                        className={classes.rightAlignedCell}\n                                    >\n                                        {item.quantity}\n                                    </TableCell>\n                                    <TableCell\n                                        className={classes.rightAlignedCell}\n                                    >\n                                        {(\n                                            products[item.product_id].price *\n                                            item.quantity\n                                        ).toLocaleString(undefined, {\n                                            style: 'currency',\n                                            currency: 'USD',\n                                        })}\n                                    </TableCell>\n                                </TableRow>\n                            )\n                    )}\n                    <TableRow>\n                        <TableCell colSpan={2} />\n                        <TableCell>\n                            {translate('resources.commands.fields.basket.sum')}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {record.total_ex_taxes.toLocaleString(undefined, {\n                                style: 'currency',\n                                currency: 'USD',\n                            })}\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell colSpan={2} />\n                        <TableCell>\n                            {translate(\n                                'resources.commands.fields.basket.delivery'\n                            )}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {record.delivery_fees.toLocaleString(undefined, {\n                                style: 'currency',\n                                currency: 'USD',\n                            })}\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell colSpan={2} />\n                        <TableCell>\n                            {translate(\n                                'resources.commands.fields.basket.tax_rate'\n                            )}\n                        </TableCell>\n                        <TableCell className={classes.rightAlignedCell}>\n                            {record.tax_rate.toLocaleString(undefined, {\n                                style: 'percent',\n                            })}\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell colSpan={2} />\n                        <TableCell className={classes.boldCell}>\n                            {translate(\n                                'resources.commands.fields.basket.total'\n                            )}\n                        </TableCell>\n                        <TableCell\n                            className={classnames(\n                                classes.boldCell,\n                                classes.rightAlignedCell\n                            )}\n                        >\n                            {record.total.toLocaleString(undefined, {\n                                style: 'currency',\n                                currency: 'USD',\n                            })}\n                        </TableCell>\n                    </TableRow>\n                </TableBody>\n            </Table>\n        </Paper>\n    );\n};\n\nexport default Basket;\n","import React from 'react';\nimport {\n    AutocompleteInput,\n    BooleanInput,\n    DateInput,\n    Edit,\n    ReferenceInput,\n    SelectInput,\n    SimpleForm,\n    useTranslate,\n} from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport Basket from './Basket';\n\nconst OrderTitle = ({ record }) => {\n    const translate = useTranslate();\n    return (\n        <span>\n            {translate('resources.commands.title', {\n                reference: record.reference,\n            })}\n        </span>\n    );\n};\n\nconst useEditStyles = makeStyles({\n    root: { alignItems: 'flex-start' },\n});\n\nconst OrderEdit = props => {\n    const classes = useEditStyles();\n    return (\n        <Edit\n            title={<OrderTitle />}\n            aside={<Basket />}\n            classes={classes}\n            {...props}\n        >\n            <SimpleForm>\n                <DateInput source=\"date\" />\n                <ReferenceInput source=\"customer_id\" reference=\"customers\">\n                    <AutocompleteInput\n                        optionText={choice =>\n                            `${choice.first_name} ${choice.last_name}`\n                        }\n                    />\n                </ReferenceInput>\n                <SelectInput\n                    source=\"status\"\n                    choices={[\n                        { id: 'delivered', name: 'delivered' },\n                        { id: 'ordered', name: 'ordered' },\n                        { id: 'cancelled', name: 'cancelled' },\n                        {\n                            id: 'unknown',\n                            name: 'unknown',\n                            disabled: true,\n                        },\n                    ]}\n                />\n                <BooleanInput source=\"returned\" />\n            </SimpleForm>\n        </Edit>\n    );\n};\n\nexport default OrderEdit;\n","import OrderIcon from '@material-ui/icons/AttachMoney';\n\nimport OrderList from './OrderList';\nimport OrderEdit from './OrderEdit';\n\nexport default {\n    list: OrderList,\n    edit: OrderEdit,\n    icon: OrderIcon,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ThumbUp from '@material-ui/icons/ThumbUp';\nimport {\n    Button,\n    useUpdateMany,\n    useNotify,\n    useRedirect,\n    useUnselectAll,\n    CRUD_UPDATE_MANY,\n} from 'react-admin';\n\nconst BulkAcceptButton = ({ selectedIds }) => {\n    const notify = useNotify();\n    const redirectTo = useRedirect();\n    const unselectAll = useUnselectAll('reviews');\n\n    const [approve, { loading }] = useUpdateMany(\n        'reviews',\n        selectedIds,\n        { status: 'accepted' },\n        {\n            action: CRUD_UPDATE_MANY,\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.approved_success',\n                    'info',\n                    {},\n                    true\n                );\n                redirectTo('/reviews');\n                unselectAll();\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.approved_error',\n                    'warning'\n                );\n            },\n        }\n    );\n\n    return (\n        <Button\n            label=\"resources.reviews.action.accept\"\n            onClick={approve}\n            disabled={loading}\n        >\n            <ThumbUp />\n        </Button>\n    );\n};\n\nBulkAcceptButton.propTypes = {\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n};\n\nexport default BulkAcceptButton;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ThumbDown from '@material-ui/icons/ThumbDown';\nimport {\n    Button,\n    useUpdateMany,\n    useNotify,\n    useRedirect,\n    useUnselectAll,\n    CRUD_UPDATE_MANY,\n} from 'react-admin';\n\nconst BulkRejectButton = ({ selectedIds }) => {\n    const notify = useNotify();\n    const redirectTo = useRedirect();\n    const unselectAll = useUnselectAll('reviews');\n\n    const [reject, { loading }] = useUpdateMany(\n        'reviews',\n        selectedIds,\n        { status: 'rejected' },\n        {\n            action: CRUD_UPDATE_MANY,\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.approved_success',\n                    'info',\n                    {},\n                    true\n                );\n                redirectTo('/reviews');\n                unselectAll();\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.approved_error',\n                    'warning'\n                );\n            },\n        }\n    );\n\n    return (\n        <Button\n            label=\"resources.reviews.action.reject\"\n            onClick={reject}\n            disabled={loading}\n        >\n            <ThumbDown />\n        </Button>\n    );\n};\n\nBulkRejectButton.propTypes = {\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n};\n\nexport default BulkRejectButton;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport {\n    linkToRecord,\n    ReferenceField,\n    FunctionField,\n    TextField,\n} from 'react-admin';\nimport {\n    useAppLocationState,\n    useResourceAppLocation,\n} from '@react-admin/ra-navigation';\n\nimport AvatarField from '../visitors/AvatarField';\n\nconst useStyles = makeStyles({\n    root: {\n        width: '100vw',\n    },\n    link: {\n        textDecoration: 'none',\n        color: 'inherit',\n    },\n    inline: {\n        display: 'inline',\n    },\n});\n\nconst ReviewMobileList = ({\n    basePath,\n    data,\n    ids,\n    loading,\n    total,\n    ...props\n}) => {\n    const classes = useStyles();\n    const [, setLocation] = useAppLocationState();\n    const resourceLocation = useResourceAppLocation();\n    useEffect(() => {\n        const { status } = props.filterValues;\n        if (typeof status !== 'undefined') {\n            setLocation('reviews.status_filter', { status });\n        } else {\n            setLocation('reviews');\n        }\n    }, [\n        setLocation,\n        props.filterValues,\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        JSON.stringify({\n            resourceLocation,\n            filter: props.filterValues,\n        }),\n    ]);\n    return (\n        (loading || total > 0) && (\n            <List className={classes.root}>\n                {ids.map(id => (\n                    <Link\n                        to={linkToRecord(basePath, id)}\n                        className={classes.link}\n                        key={id}\n                    >\n                        <ListItem button>\n                            <ListItemAvatar>\n                                <ReferenceField\n                                    record={data[id]}\n                                    source=\"customer_id\"\n                                    reference=\"customers\"\n                                    basePath={basePath}\n                                    linkType={false}\n                                >\n                                    <AvatarField size={40} />\n                                </ReferenceField>\n                            </ListItemAvatar>\n                            <ListItemText\n                                primary={\n                                    <>\n                                        <ReferenceField\n                                            record={data[id]}\n                                            source=\"customer_id\"\n                                            reference=\"customers\"\n                                            basePath={basePath}\n                                            linkType={false}\n                                        >\n                                            <FunctionField\n                                                render={record =>\n                                                    `${record.first_name} ${record.last_name}`\n                                                }\n                                                variant=\"subtitle1\"\n                                                className={classes.inline}\n                                            />\n                                        </ReferenceField>{' '}\n                                        on{' '}\n                                        <ReferenceField\n                                            record={data[id]}\n                                            source=\"product_id\"\n                                            reference=\"products\"\n                                            basePath={basePath}\n                                            linkType={false}\n                                        >\n                                            <TextField\n                                                source=\"reference\"\n                                                variant=\"subtitle1\"\n                                                className={classes.inline}\n                                            />\n                                        </ReferenceField>\n                                    </>\n                                }\n                                secondary={data[id].comment}\n                                secondaryTypographyProps={{ noWrap: true }}\n                            />\n                        </ListItem>\n                    </Link>\n                ))}\n            </List>\n        )\n    );\n};\n\nReviewMobileList.propTypes = {\n    basePath: PropTypes.string,\n    data: PropTypes.object,\n    hasBulkActions: PropTypes.bool.isRequired,\n    ids: PropTypes.array,\n    leftAvatar: PropTypes.func,\n    leftIcon: PropTypes.func,\n    linkType: PropTypes.oneOfType([PropTypes.string, PropTypes.bool])\n        .isRequired,\n    onToggleItem: PropTypes.func,\n    primaryText: PropTypes.func,\n    rightAvatar: PropTypes.func,\n    rightIcon: PropTypes.func,\n    secondaryText: PropTypes.func,\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n    tertiaryText: PropTypes.func,\n};\n\nReviewMobileList.defaultProps = {\n    linkType: 'edit',\n    hasBulkActions: false,\n    selectedIds: [],\n};\n\nexport default ReviewMobileList;\n","import React from 'react';\nimport { ReferenceField, TextField } from 'react-admin';\n\nconst ProductReferenceField = props => (\n    <ReferenceField\n        label=\"Product\"\n        source=\"product_id\"\n        reference=\"products\"\n        {...props}\n    >\n        <TextField source=\"reference\" />\n    </ReferenceField>\n);\n\nProductReferenceField.defaultProps = {\n    source: 'product_id',\n    addLabel: true,\n};\n\nexport default ProductReferenceField;\n","import React, { FC } from 'react';\nimport Icon from '@material-ui/icons/Stars';\nimport { makeStyles } from '@material-ui/core';\n\nimport { FieldProps } from '../types';\n\nconst useStyles = makeStyles({\n    root: {\n        opacity: 0.87,\n        whiteSpace: 'nowrap',\n    },\n    large: {\n        width: 20,\n        height: 20,\n    },\n    small: {\n        width: 15,\n        height: 15,\n    },\n});\n\ninterface OwnProps {\n    size?: 'large' | 'small';\n}\n\nconst StarRatingField: FC<FieldProps & OwnProps> = ({\n    record,\n    size = 'large',\n}) => {\n    const classes = useStyles();\n    return record ? (\n        <span>\n            {Array(record.rating)\n                .fill(true)\n                .map((_, i) => (\n                    <Icon\n                        key={i}\n                        className={\n                            size === 'large' ? classes.large : classes.small\n                        }\n                    />\n                ))}\n        </span>\n    ) : null;\n};\n\nStarRatingField.defaultProps = {\n    label: 'resources.reviews.fields.rating',\n    source: 'rating',\n    addLabel: true,\n};\n\nexport default StarRatingField;\n","import green from '@material-ui/core/colors/green';\nimport orange from '@material-ui/core/colors/orange';\nimport red from '@material-ui/core/colors/red';\n\nconst rowStyle = (selectedRow, theme) => (record, index, defaultStyle = {}) => {\n    let style = defaultStyle;\n    if (selectedRow === record.id) {\n        style = {\n            ...style,\n            backgroundColor: theme.palette.action.selected,\n        };\n    }\n    if (record.status === 'accepted')\n        return {\n            ...style,\n            borderLeftColor: green[500],\n            borderLeftWidth: 5,\n            borderLeftStyle: 'solid',\n        };\n    if (record.status === 'pending')\n        return {\n            ...style,\n            borderLeftColor: orange[500],\n            borderLeftWidth: 5,\n            borderLeftStyle: 'solid',\n        };\n    if (record.status === 'rejected')\n        return {\n            ...style,\n            borderLeftColor: red[500],\n            borderLeftWidth: 5,\n            borderLeftStyle: 'solid',\n        };\n    return style;\n};\n\nexport default rowStyle;\n","import React, { useEffect } from 'react';\nimport { Datagrid, DateField, TextField } from 'react-admin';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport {\n    useAppLocationState,\n    useResourceAppLocation,\n} from '@react-admin/ra-navigation';\nimport ProductReferenceField from '../products/ProductReferenceField';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport StarRatingField from './StarRatingField';\n\nimport rowStyle from './rowStyle';\n\nconst useListStyles = makeStyles({\n    headerRow: {\n        borderLeftColor: 'white',\n        borderLeftWidth: 5,\n        borderLeftStyle: 'solid',\n    },\n    headerCell: {\n        padding: '6px 8px 6px 8px',\n    },\n    rowCell: {\n        padding: '6px 8px 6px 8px',\n    },\n    comment: {\n        maxWidth: '18em',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n    },\n});\n\nconst ReviewListDesktop = ({ selectedRow, ...props }) => {\n    const classes = useListStyles();\n    const theme = useTheme();\n    const [, setLocation] = useAppLocationState();\n    const resourceLocation = useResourceAppLocation();\n\n    useEffect(() => {\n        const { status } = props.filterValues;\n        if (typeof status !== 'undefined') {\n            setLocation('reviews.status_filter', { status });\n        } else {\n            setLocation('reviews');\n        }\n    }, [\n        setLocation,\n        props.filterValues,\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        JSON.stringify({\n            resourceLocation,\n            filter: props.filterValues,\n        }),\n    ]);\n    return (\n        <Datagrid\n            rowClick=\"edit\"\n            rowStyle={rowStyle(selectedRow, theme)}\n            classes={{\n                headerRow: classes.headerRow,\n                headerCell: classes.headerCell,\n                rowCell: classes.rowCell,\n            }}\n            optimized\n            {...props}\n        >\n            <DateField source=\"date\" />\n            <CustomerReferenceField link={false} />\n            <ProductReferenceField link={false} />\n            <StarRatingField size=\"small\" />\n            <TextField source=\"comment\" cellClassName={classes.comment} />\n            <TextField source=\"status\" />\n        </Datagrid>\n    );\n};\n\nexport default ReviewListDesktop;\n","import React from 'react';\nimport {\n    AutocompleteInput,\n    DateInput,\n    ReferenceInput,\n    SearchInput,\n    SelectInput,\n    Filter,\n} from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useFilterStyles = makeStyles({\n    status: { width: 150 },\n});\n\nconst ReviewFilter = props => {\n    const classes = useFilterStyles();\n    return (\n        <Filter {...props}>\n            <SearchInput source=\"q\" alwaysOn />\n            <SelectInput\n                source=\"status\"\n                choices={[\n                    { id: 'accepted', name: 'pos.reviews.accepted' },\n                    { id: 'pending', name: 'pos.reviews.pending' },\n                    { id: 'rejected', name: 'pos.reviews.rejected' },\n                ]}\n                className={classes.status}\n            />\n            <ReferenceInput source=\"customer_id\" reference=\"customers\">\n                <AutocompleteInput\n                    optionText={choice =>\n                        `${choice.first_name} ${choice.last_name}`\n                    }\n                />\n            </ReferenceInput>\n            <ReferenceInput source=\"product_id\" reference=\"products\">\n                <AutocompleteInput optionText=\"reference\" />\n            </ReferenceInput>\n            <DateInput source=\"date_gte\" />\n            <DateInput source=\"date_lte\" />\n        </Filter>\n    );\n};\n\nexport default ReviewFilter;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport ThumbUp from '@material-ui/icons/ThumbUp';\nimport { useTranslate, useUpdate, useNotify, useRedirect } from 'react-admin';\n\n/**\n * This custom button demonstrate using useUpdate to update data\n */\nconst AcceptButton = ({ record }) => {\n    const translate = useTranslate();\n    const notify = useNotify();\n    const redirectTo = useRedirect();\n\n    const [approve, { loading }] = useUpdate(\n        'reviews',\n        record.id,\n        { status: 'accepted' },\n        record,\n        {\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.approved_success',\n                    'info',\n                    {},\n                    true\n                );\n                redirectTo('/reviews');\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.approved_error',\n                    'warning'\n                );\n            },\n        }\n    );\n    return record && record.status === 'pending' ? (\n        <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            size=\"small\"\n            onClick={approve}\n            disabled={loading}\n        >\n            <ThumbUp\n                color=\"primary\"\n                style={{ paddingRight: '0.5em', color: 'green' }}\n            />\n            {translate('resources.reviews.action.accept')}\n        </Button>\n    ) : (\n        <span />\n    );\n};\n\nAcceptButton.propTypes = {\n    record: PropTypes.object,\n};\n\nexport default AcceptButton;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport ThumbDown from '@material-ui/icons/ThumbDown';\nimport { useTranslate, useUpdate, useNotify, useRedirect } from 'react-admin';\n\n/**\n * This custom button demonstrate using a custom action to update data\n */\nconst RejectButton = ({ record }) => {\n    const translate = useTranslate();\n    const notify = useNotify();\n    const redirectTo = useRedirect();\n\n    const [reject, { loading }] = useUpdate(\n        'reviews',\n        record.id,\n        { status: 'rejected' },\n        record,\n        {\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.rejected_success',\n                    'info',\n                    {},\n                    true\n                );\n                redirectTo('/reviews');\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.rejected_error',\n                    'warning'\n                );\n            },\n        }\n    );\n\n    return record && record.status === 'pending' ? (\n        <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            size=\"small\"\n            onClick={reject}\n            disabled={loading}\n        >\n            <ThumbDown\n                color=\"primary\"\n                style={{ paddingRight: '0.5em', color: 'red' }}\n            />\n            {translate('resources.reviews.action.reject')}\n        </Button>\n    ) : (\n        <span />\n    );\n};\n\nRejectButton.propTypes = {\n    record: PropTypes.object,\n};\n\nexport default RejectButton;\n","import React, { Fragment } from 'react';\nimport MuiToolbar from '@material-ui/core/Toolbar';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { SaveButton, DeleteButton } from 'react-admin';\nimport AcceptButton from './AcceptButton';\nimport RejectButton from './RejectButton';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        backgroundColor: theme.palette.background.paper,\n        display: 'flex',\n        justifyContent: 'space-between',\n    },\n}));\n\nconst ReviewEditToolbar = ({\n    basePath,\n    handleSubmitWithRedirect,\n    invalid,\n    record,\n    resource,\n    saving,\n}) => {\n    const classes = useStyles();\n    return (\n        <MuiToolbar className={classes.root}>\n            {record.status === 'pending' ? (\n                <Fragment>\n                    <AcceptButton record={record} />\n                    <RejectButton record={record} />\n                </Fragment>\n            ) : (\n                <Fragment>\n                    <SaveButton\n                        handleSubmitWithRedirect={handleSubmitWithRedirect}\n                        invalid={invalid}\n                        saving={saving}\n                        redirect=\"list\"\n                        submitOnEnter={true}\n                    />\n                    <DeleteButton\n                        basePath={basePath}\n                        record={record}\n                        resource={resource}\n                    />\n                </Fragment>\n            )}\n        </MuiToolbar>\n    );\n};\n\nexport default ReviewEditToolbar;\n","import React from 'react';\nimport {\n    useEditController,\n    useTranslate,\n    TextInput,\n    SimpleForm,\n    DateField,\n} from 'react-admin';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport ProductReferenceField from '../products/ProductReferenceField';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport StarRatingField from './StarRatingField';\nimport ReviewEditToolbar from './ReviewEditToolbar';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        paddingTop: 40,\n    },\n    title: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        margin: '1em',\n    },\n    form: {\n        [theme.breakpoints.up('xs')]: {\n            width: 400,\n        },\n        [theme.breakpoints.down('xs')]: {\n            width: '100vw',\n            marginTop: -30,\n        },\n    },\n    inlineField: {\n        display: 'inline-block',\n        width: '50%',\n    },\n}));\n\nconst ReviewEdit = ({ onCancel, ...props }) => {\n    const classes = useStyles();\n    const controllerProps = useEditController(props);\n    const translate = useTranslate();\n    if (!controllerProps.record) {\n        return null;\n    }\n    return (\n        <div className={classes.root}>\n            <div className={classes.title}>\n                <Typography variant=\"h6\">\n                    {translate('resources.reviews.detail')}\n                </Typography>\n                <IconButton onClick={onCancel}>\n                    <CloseIcon />\n                </IconButton>\n            </div>\n            <SimpleForm\n                className={classes.form}\n                basePath={controllerProps.basePath}\n                record={controllerProps.record}\n                save={controllerProps.save}\n                version={controllerProps.version}\n                redirect=\"list\"\n                resource=\"reviews\"\n                toolbar={<ReviewEditToolbar />}\n            >\n                <CustomerReferenceField formClassName={classes.inlineField} />\n\n                <ProductReferenceField formClassName={classes.inlineField} />\n                <DateField source=\"date\" formClassName={classes.inlineField} />\n                <StarRatingField formClassName={classes.inlineField} />\n                <TextInput source=\"comment\" rowsMax={15} multiline fullWidth />\n            </SimpleForm>\n        </div>\n    );\n};\n\nexport default ReviewEdit;\n","import React, { Fragment, useCallback } from 'react';\nimport classnames from 'classnames';\nimport { BulkDeleteButton, List } from 'react-admin';\nimport { Route, useHistory } from 'react-router-dom';\nimport { Drawer, useMediaQuery, makeStyles } from '@material-ui/core';\nimport BulkAcceptButton from './BulkAcceptButton';\nimport BulkRejectButton from './BulkRejectButton';\nimport ReviewListMobile from './ReviewListMobile';\nimport ReviewListDesktop from './ReviewListDesktop';\nimport ReviewFilter from './ReviewFilter';\nimport ReviewEdit from './ReviewEdit';\n\nconst ReviewsBulkActionButtons = props => (\n    <Fragment>\n        <BulkAcceptButton {...props} />\n        <BulkRejectButton {...props} />\n        <BulkDeleteButton {...props} />\n    </Fragment>\n);\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: 'flex',\n    },\n    list: {\n        flexGrow: 1,\n        transition: theme.transitions.create(['all'], {\n            duration: theme.transitions.duration.enteringScreen,\n        }),\n        marginRight: 0,\n    },\n    listWithDrawer: {\n        marginRight: 400,\n    },\n    drawerPaper: {\n        zIndex: 100,\n    },\n}));\n\nconst ReviewList = props => {\n    const classes = useStyles();\n    const isXSmall = useMediaQuery(theme => theme.breakpoints.down('xs'));\n    const history = useHistory();\n\n    const handleClose = useCallback(() => {\n        history.push('/reviews');\n    }, [history]);\n\n    return (\n        <div className={classes.root}>\n            <Route path=\"/reviews/:id\">\n                {({ match }) => {\n                    const isMatch = !!(\n                        match &&\n                        match.params &&\n                        match.params.id !== 'create'\n                    );\n\n                    return (\n                        <Fragment>\n                            <List\n                                {...props}\n                                className={classnames(classes.list, {\n                                    [classes.listWithDrawer]: isMatch,\n                                })}\n                                bulkActionButtons={<ReviewsBulkActionButtons />}\n                                filters={<ReviewFilter />}\n                                perPage={25}\n                                sort={{ field: 'date', order: 'DESC' }}\n                            >\n                                {isXSmall ? (\n                                    <ReviewListMobile />\n                                ) : (\n                                    <ReviewListDesktop\n                                        selectedRow={\n                                            isMatch &&\n                                            parseInt(match.params.id, 10)\n                                        }\n                                    />\n                                )}\n                            </List>\n                            <Drawer\n                                variant=\"persistent\"\n                                open={isMatch}\n                                anchor=\"right\"\n                                onClose={handleClose}\n                                classes={{\n                                    paper: classes.drawerPaper,\n                                }}\n                            >\n                                {/* To avoid any errors if the route does not match, we don't render at all the component in this case */}\n                                {isMatch ? (\n                                    <ReviewEdit\n                                        id={match.params.id}\n                                        onCancel={handleClose}\n                                        {...props}\n                                    />\n                                ) : null}\n                            </Drawer>\n                        </Fragment>\n                    );\n                }}\n            </Route>\n        </div>\n    );\n};\n\nexport default ReviewList;\n","import ReviewIcon from '@material-ui/icons/Comment';\nimport ReviewList from './ReviewList';\n\nexport default {\n    icon: ReviewIcon,\n    list: ReviewList,\n};\n","import React from 'react';\nimport {\n    NumberField,\n    TextField,\n    DateField,\n    useTranslate,\n    useGetList,\n    linkToRecord,\n} from 'react-admin';\nimport PropTypes from 'prop-types';\nimport {\n    Tooltip,\n    Typography,\n    Card,\n    CardContent,\n    CardHeader,\n    Avatar,\n    IconButton,\n    Box,\n} from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\nimport ContentCreate from '@material-ui/icons/Create';\nimport order from '../orders';\nimport review from '../reviews';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ProductReferenceField from '../products/ProductReferenceField';\nimport StarRatingField from '../reviews/StarRatingField';\n\nconst useAsideStyles = makeStyles(theme => ({\n    root: {\n        width: 400,\n        [theme.breakpoints.down('md')]: {\n            display: 'none',\n        },\n    },\n}));\n\nconst Aside = ({ record, basePath }) => {\n    const classes = useAsideStyles();\n    return (\n        <div className={classes.root}>\n            {record && <EventList record={record} basePath={basePath} />}\n        </div>\n    );\n};\n\nAside.propTypes = {\n    record: PropTypes.any,\n    basePath: PropTypes.string,\n};\n\nconst EventList = ({ record, basePath }) => {\n    const translate = useTranslate();\n    const { data: orders, ids: orderIds } = useGetList(\n        'commands',\n        { page: 1, perPage: 100 },\n        { field: 'date', order: 'DESC' },\n        { customer_id: record && record.id }\n    );\n    const { data: reviews, ids: reviewIds } = useGetList(\n        'reviews',\n        { page: 1, perPage: 100 },\n        { field: 'date', order: 'DESC' },\n        { customer_id: record && record.id }\n    );\n    const events = mixOrdersAndReviews(orders, orderIds, reviews, reviewIds);\n\n    return (\n        <>\n            <Box m=\"0 0 1em 1em\">\n                <Card>\n                    <CardContent>\n                        <Typography variant=\"h6\" gutterBottom>\n                            {translate(\n                                'resources.customers.fieldGroups.history'\n                            )}\n                        </Typography>\n                        <Box display=\"flex\">\n                            <Box flexGrow={1}>\n                                <Box display=\"flex\" mb=\"1em\">\n                                    <Box mr=\"1em\">\n                                        <AccessTimeIcon\n                                            fontSize=\"small\"\n                                            color=\"disabled\"\n                                        />\n                                    </Box>\n                                    <Box flexGrow={1}>\n                                        <Typography>\n                                            {translate(\n                                                'resources.customers.fields.first_seen'\n                                            )}\n                                        </Typography>\n                                        <DateField\n                                            record={record}\n                                            source=\"first_seen\"\n                                        />\n                                    </Box>\n                                </Box>\n                                {orderIds.length > 0 && (\n                                    <Box display=\"flex\">\n                                        <Box mr=\"1em\">\n                                            <order.icon\n                                                fontSize=\"small\"\n                                                color=\"disabled\"\n                                            />\n                                        </Box>\n                                        <Box flexGrow={1}>\n                                            <Typography>\n                                                {translate(\n                                                    'resources.commands.amount',\n                                                    {\n                                                        smart_count:\n                                                            orderIds.length,\n                                                    }\n                                                )}\n                                            </Typography>\n                                        </Box>\n                                    </Box>\n                                )}\n                            </Box>\n                            <Box flexGrow={1}>\n                                <Box display=\"flex\" mb=\"1em\">\n                                    <Box mr=\"1em\">\n                                        <AccessTimeIcon\n                                            fontSize=\"small\"\n                                            color=\"disabled\"\n                                        />\n                                    </Box>\n                                    <Box flexGrow={1}>\n                                        <Typography>\n                                            {translate(\n                                                'resources.customers.fields.last_seen'\n                                            )}\n                                        </Typography>\n                                        <DateField\n                                            record={record}\n                                            source=\"last_seen\"\n                                        />\n                                    </Box>\n                                </Box>\n                                {reviewIds.length > 0 && (\n                                    <Box display=\"flex\">\n                                        <Box mr=\"1em\">\n                                            <review.icon\n                                                fontSize=\"small\"\n                                                color=\"disabled\"\n                                            />\n                                        </Box>\n                                        <Box flexGrow={1}>\n                                            <Typography>\n                                                {translate(\n                                                    'resources.reviews.amount',\n                                                    {\n                                                        smart_count:\n                                                            reviewIds.length,\n                                                    }\n                                                )}\n                                            </Typography>\n                                        </Box>\n                                    </Box>\n                                )}\n                            </Box>\n                        </Box>\n                    </CardContent>\n                </Card>\n            </Box>\n\n            {events.map(event =>\n                event.type === 'order' ? (\n                    <Order\n                        record={event.data}\n                        key={`event_${event.data.id}`}\n                        basePath={basePath}\n                    />\n                ) : (\n                    <Review\n                        record={event.data}\n                        key={`review_${event.data.id}`}\n                        basePath={basePath}\n                    />\n                )\n            )}\n        </>\n    );\n};\n\nconst mixOrdersAndReviews = (orders, orderIds, reviews, reviewIds) => {\n    const eventsFromOrders = orderIds.map(id => ({\n        type: 'order',\n        date: orders[id].date,\n        data: orders[id],\n    }));\n    const eventsFromReviews = reviewIds.map(id => ({\n        type: 'review',\n        date: reviews[id].date,\n        data: reviews[id],\n    }));\n    const events = eventsFromOrders.concat(eventsFromReviews);\n    events.sort((e1, e2) => new Date(e1.date) - new Date(e2.date));\n    return events;\n};\n\nconst useEventStyles = makeStyles({\n    card: {\n        margin: '0 0 1em 1em',\n    },\n    cardHeader: {\n        alignItems: 'flex-start',\n    },\n    clamp: {\n        display: '-webkit-box',\n        '-webkit-line-clamp': 3,\n        '-webkit-box-orient': 'vertical',\n        overflow: 'hidden',\n    },\n});\n\nconst Order = ({ record, basePath }) => {\n    const translate = useTranslate();\n    const classes = useEventStyles();\n    return (\n        <Card className={classes.card}>\n            <CardHeader\n                className={classes.cardHeader}\n                avatar={\n                    <Avatar\n                        aria-label={translate('resources.commands.name', {\n                            smart_count: 1,\n                        })}\n                        className={classes.avatar}\n                    >\n                        <order.icon />\n                    </Avatar>\n                }\n                action={<EditButton record={record} basePath=\"/commands\" />}\n                title={`${translate('resources.commands.name', {\n                    smart_count: 1,\n                })} #${record.reference}`}\n                subheader={\n                    <>\n                        <Typography variant=\"body2\">{record.date}</Typography>\n                        <Typography variant=\"body2\" color=\"textSecondary\">\n                            {translate('resources.commands.nb_items', {\n                                smart_count: record.basket.length,\n                                _: '1 item |||| %{smart_count} items',\n                            })}\n                            &nbsp;-&nbsp;\n                            <NumberField\n                                source=\"total\"\n                                options={{\n                                    style: 'currency',\n                                    currency: 'USD',\n                                }}\n                                record={record}\n                                basePath={basePath}\n                            />\n                            &nbsp;-&nbsp;\n                            <TextField\n                                source=\"status\"\n                                record={record}\n                                basePath={basePath}\n                            />\n                        </Typography>\n                    </>\n                }\n            />\n        </Card>\n    );\n};\n\nconst Review = ({ record, basePath }) => {\n    const translate = useTranslate();\n    const classes = useEventStyles();\n    return (\n        <Card className={classes.card}>\n            <CardHeader\n                className={classes.cardHeader}\n                avatar={\n                    <Avatar\n                        aria-label={translate('resources.reviews.name', {\n                            smart_count: 1,\n                        })}\n                        className={classes.avatar}\n                    >\n                        <review.icon />\n                    </Avatar>\n                }\n                action={<EditButton record={record} basePath=\"/reviews\" />}\n                title={\n                    <span>\n                        {translate('resources.reviews.relative_to_poster')}{' '}\n                        <ProductReferenceField\n                            resource=\"reviews\"\n                            record={record}\n                            basePath={basePath}\n                        />\n                    </span>\n                }\n                subheader={\n                    <>\n                        <Typography variant=\"body2\">{record.date}</Typography>\n                        <StarRatingField record={record} />\n                        <Typography variant=\"inherit\" className={classes.clamp}>\n                            {record.comment}\n                        </Typography>\n                    </>\n                }\n            />\n        </Card>\n    );\n};\n\nconst EditButton = ({ record, basePath }) => {\n    const translate = useTranslate();\n    return (\n        <Tooltip title={translate('ra.action.edit')}>\n            <IconButton\n                aria-label={translate('ra.action.edit')}\n                component={Link}\n                to={linkToRecord(basePath, record && record.id)}\n            >\n                <ContentCreate />\n            </IconButton>\n        </Tooltip>\n    );\n};\n\nexport default Aside;\n","import React, { FC } from 'react';\nimport { useTranslate, SelectArrayInput } from 'react-admin';\nimport { InputProps } from 'ra-core';\n\nimport segments from '../segments/data';\n\ninterface Props extends Omit<InputProps, 'source'> {\n    source?: string;\n}\n\nconst SegmentsInput: FC<Props> = ({ addField, ...rest }) => {\n    const translate = useTranslate();\n    return (\n        <SelectArrayInput\n            {...rest}\n            choices={segments.map(segment => ({\n                id: segment.id,\n                name: translate(segment.name),\n            }))}\n        />\n    );\n};\n\nSegmentsInput.defaultProps = {\n    addField: true,\n    source: 'groups',\n    resource: 'customers',\n};\n\nexport default SegmentsInput;\n","import React, { FC } from 'react';\nimport {\n    DateInput,\n    Edit,\n    NullableBooleanInput,\n    TextInput,\n    PasswordInput,\n    Toolbar,\n    useTranslate,\n    FormWithRedirect,\n} from 'react-admin';\nimport { useDefineAppLocation } from '@react-admin/ra-navigation';\nimport { Box, Card, CardContent, Typography } from '@material-ui/core';\n\nimport Aside from './Aside';\nimport FullNameField from './FullNameField';\nimport SegmentsInput from './SegmentsInput';\nimport { validatePasswords } from './VisitorCreate';\nimport { Customer, FieldProps } from '../types';\n\nconst VisitorEdit = (props: any) => {\n    return (\n        <Edit\n            title={<VisitorTitle />}\n            aside={<Aside />}\n            component=\"div\"\n            {...props}\n        >\n            <VisitorForm />\n        </Edit>\n    );\n};\n\nconst VisitorTitle: FC<FieldProps<Customer>> = ({ record }) =>\n    record ? <FullNameField record={record} size=\"32\" /> : null;\n\nconst VisitorForm = (props: any) => {\n    const translate = useTranslate();\n    useDefineAppLocation('audience.customers.edit', props);\n\n    return (\n        <FormWithRedirect\n            {...props}\n            validate={validatePasswords}\n            render={(formProps: any) => (\n                <Card>\n                    <form>\n                        <CardContent>\n                            <Box display={{ md: 'block', lg: 'flex' }}>\n                                <Box flex={2} mr={{ md: 0, lg: '1em' }}>\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.identity'\n                                        )}\n                                    </Typography>\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"first_name\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={1}\n                                            ml={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"last_name\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                    </Box>\n                                    <TextInput\n                                        type=\"email\"\n                                        source=\"email\"\n                                        resource=\"customers\"\n                                        validation={{ email: true }}\n                                        fullWidth\n                                    />\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <DateInput\n                                                source=\"birthday\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={2}\n                                            ml={{ xs: 0, sm: '0.5em' }}\n                                        />\n                                    </Box>\n\n                                    <Box mt=\"1em\" />\n\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.address'\n                                        )}\n                                    </Typography>\n                                    <TextInput\n                                        source=\"address\"\n                                        resource=\"customers\"\n                                        multiline\n                                        fullWidth\n                                    />\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"zipcode\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={2}\n                                            ml={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"city\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                    </Box>\n\n                                    <Box mt=\"1em\" />\n\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.change_password'\n                                        )}\n                                    </Typography>\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <PasswordInput\n                                                source=\"password\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={1}\n                                            ml={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <PasswordInput\n                                                source=\"confirm_password\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                    </Box>\n                                </Box>\n                                <Box\n                                    flex={1}\n                                    ml={{ xs: 0, lg: '1em' }}\n                                    mt={{ xs: '1em', lg: 0 }}\n                                >\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.stats'\n                                        )}\n                                    </Typography>\n                                    <div>\n                                        <SegmentsInput fullWidth />\n                                    </div>\n                                    <div>\n                                        <NullableBooleanInput\n                                            source=\"has_newsletter\"\n                                            resource=\"customers\"\n                                        />\n                                    </div>\n                                </Box>\n                            </Box>\n                        </CardContent>\n                        <Toolbar\n                            record={formProps.record}\n                            basePath={formProps.basePath}\n                            undoable={true}\n                            invalid={formProps.invalid}\n                            handleSubmit={formProps.handleSubmit}\n                            saving={formProps.saving}\n                            resource=\"customers\"\n                        />\n                    </form>\n                </Card>\n            )}\n        />\n    );\n};\n\nexport default VisitorEdit;\n","import VisitorIcon from '@material-ui/icons/People';\n\nimport VisitorList from './VisitorList';\nimport VisitorCreate from './VisitorCreate';\nimport VisitorEdit from './VisitorEdit';\n\nexport default {\n    list: VisitorList,\n    create: VisitorCreate,\n    edit: VisitorEdit,\n    icon: VisitorIcon,\n};\n","import React, { FC } from 'react';\nimport { FieldProps, Customer } from '../types';\n\nconst AddressField: FC<FieldProps<Customer>> = ({ record }) =>\n    record ? (\n        <span>\n            {record.address}, {record.city} {record.zipcode}\n        </span>\n    ) : null;\n\nexport default AddressField;\n","import React, { FC } from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles, darken, fade, lighten } from '@material-ui/core/styles';\nimport { useShowController, ReferenceField, TextField } from 'react-admin';\n\nimport Basket from '../orders/Basket';\nimport { FieldProps, Customer } from '../types';\n\nconst CustomerField: FC<FieldProps<Customer>> = ({ record }) =>\n    record ? (\n        <Typography>\n            {record.first_name} {record.last_name}\n            <br />\n            {record.address}\n            <br />\n            {record.city}, {record.zipcode}\n        </Typography>\n    ) : null;\n\nconst InvoiceShow = (props: any) => {\n    const { record } = useShowController(props);\n    const classes = useStyles();\n\n    if (!record) return null;\n    return (\n        <Card className={classes.root}>\n            <CardContent>\n                <Grid container spacing={2}>\n                    <Grid item xs={6}>\n                        <Typography variant=\"h6\" gutterBottom>\n                            Posters Galore\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={6}>\n                        <Typography variant=\"h6\" gutterBottom align=\"right\">\n                            Invoice {record.id}\n                        </Typography>\n                    </Grid>\n                </Grid>\n                <Grid container spacing={2}>\n                    <Grid item xs={12} container alignContent=\"flex-end\">\n                        <ReferenceField\n                            resource=\"invoices\"\n                            reference=\"customers\"\n                            source=\"customer_id\"\n                            basePath=\"/invoices\"\n                            record={record}\n                            link={false}\n                        >\n                            <CustomerField />\n                        </ReferenceField>\n                    </Grid>\n                </Grid>\n                <div className={classes.spacer}>&nbsp;</div>\n                <Grid container spacing={2}>\n                    <Grid item xs={6}>\n                        <Typography variant=\"h6\" gutterBottom align=\"center\">\n                            Date{' '}\n                        </Typography>\n                        <Typography gutterBottom align=\"center\">\n                            {new Date(record.date).toLocaleDateString()}\n                        </Typography>\n                    </Grid>\n\n                    <Grid item xs={5}>\n                        <Typography variant=\"h6\" gutterBottom align=\"center\">\n                            Order\n                        </Typography>\n                        <ReferenceField\n                            resource=\"invoices\"\n                            reference=\"commands\"\n                            source=\"command_id\"\n                            basePath=\"/invoices\"\n                            record={record}\n                            link={false}\n                        >\n                            <TextField\n                                source=\"reference\"\n                                align=\"center\"\n                                component=\"p\"\n                                gutterBottom\n                            />\n                        </ReferenceField>\n                    </Grid>\n                </Grid>\n                <div className={classes.invoices}>\n                    <ReferenceField\n                        resource=\"invoices\"\n                        reference=\"commands\"\n                        source=\"command_id\"\n                        basePath=\"/invoices\"\n                        record={record}\n                        link={false}\n                    >\n                        <Basket />\n                    </ReferenceField>\n                </div>\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default InvoiceShow;\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        width: 600,\n        margin: 'auto',\n        borderStyle: 'solid',\n        borderWidth: 1,\n        borderColor:\n            theme.palette.type === 'light'\n                ? lighten(fade(theme.palette.divider, 1), 0.88)\n                : darken(fade(theme.palette.divider, 1), 0.68),\n    },\n    spacer: { height: 20 },\n    invoices: { margin: '10px 0' },\n}));\n","import React from 'react';\nimport {\n    List,\n    Datagrid,\n    TextField,\n    DateField,\n    ReferenceField,\n    NumberField,\n    DateInput,\n    Filter,\n} from 'react-admin';\nimport FullNameField from '../visitors/FullNameField';\nimport AddressField from '../visitors/AddressField';\nimport InvoiceShow from './InvoiceShow';\n\nconst ListFilters = (props: any) => (\n    <Filter {...props}>\n        <DateInput source=\"date_gte\" alwaysOn />\n        <DateInput source=\"date_lte\" alwaysOn />\n    </Filter>\n);\n\nconst InvoiceList = (props: any) => (\n    <List {...props} filters={<ListFilters />} perPage={25}>\n        <Datagrid rowClick=\"expand\" expand={<InvoiceShow />}>\n            <TextField source=\"id\" />\n            <DateField source=\"date\" />\n            <ReferenceField source=\"customer_id\" reference=\"customers\">\n                <FullNameField />\n            </ReferenceField>\n            <ReferenceField\n                source=\"customer_id\"\n                reference=\"customers\"\n                link={false}\n                label=\"resources.invoices.fields.address\"\n            >\n                <AddressField />\n            </ReferenceField>\n            <ReferenceField source=\"command_id\" reference=\"commands\">\n                <TextField source=\"reference\" />\n            </ReferenceField>\n            <NumberField source=\"total_ex_taxes\" />\n            <NumberField source=\"delivery_fees\" />\n            <NumberField source=\"taxes\" />\n            <NumberField source=\"total\" />\n        </Datagrid>\n    </List>\n);\n\nexport default InvoiceList;\n","import InvoiceIcon from '@material-ui/icons/LibraryBooks';\n\nimport InvoiceList from './InvoiceList';\n\nexport default {\n    list: InvoiceList,\n    icon: InvoiceIcon,\n};\n","import * as React from 'react';\nimport { FC } from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FieldProps, Product } from '../types';\n\nconst useStyles = makeStyles({\n    root: { display: 'inline-block', marginTop: '1em', zIndex: 2 },\n    content: { padding: 0, '&:last-child': { padding: 0 } },\n    img: {\n        width: 'initial',\n        minWidth: 'initial',\n        maxWidth: '42em',\n        maxHeight: '15em',\n    },\n});\n\nconst Poster: FC<FieldProps<Product>> = ({ record }) => {\n    const classes = useStyles();\n\n    if (!record) return null;\n\n    return (\n        <Card className={classes.root}>\n            <CardContent className={classes.content}>\n                <img src={record.image} alt=\"\" className={classes.img} />\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default Poster;\n","import React from 'react';\nimport {\n    Create,\n    FormTab,\n    NumberInput,\n    ReferenceInput,\n    SelectInput,\n    TabbedForm,\n    TextInput,\n    required,\n} from 'react-admin';\nimport { InputAdornment } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { MarkdownInput } from '@react-admin/ra-markdown';\nimport { useDefineAppLocation } from '@react-admin/ra-navigation';\n\nexport const styles = {\n    price: { width: '7em' },\n    width: { width: '7em' },\n    height: { width: '7em' },\n    stock: { width: '7em' },\n    widthFormGroup: { display: 'inline-block' },\n    heightFormGroup: { display: 'inline-block', marginLeft: 32 },\n};\n\nconst useStyles = makeStyles(styles);\n\nconst ProductCreate = props => {\n    useDefineAppLocation('catalog.products.create');\n    const classes = useStyles();\n    return (\n        <Create {...props}>\n            <TabbedForm>\n                <FormTab label=\"resources.products.tabs.image\">\n                    <TextInput source=\"image\" fullWidth validate={required()} />\n                    <TextInput\n                        source=\"thumbnail\"\n                        fullWidth\n                        validate={required()}\n                    />\n                </FormTab>\n                <FormTab label=\"resources.products.tabs.details\" path=\"details\">\n                    <TextInput source=\"reference\" validate={required()} />\n                    <NumberInput\n                        source=\"price\"\n                        validate={required()}\n                        className={classes.price}\n                        InputProps={{\n                            startAdornment: (\n                                <InputAdornment position=\"start\">\n                                    \n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <NumberInput\n                        source=\"width\"\n                        validate={required()}\n                        className={classes.width}\n                        formClassName={classes.widthFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <NumberInput\n                        source=\"height\"\n                        validate={required()}\n                        className={classes.height}\n                        formClassName={classes.heightFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <ReferenceInput\n                        source=\"category_id\"\n                        reference=\"categories\"\n                        allowEmpty\n                    >\n                        <SelectInput source=\"name\" />\n                    </ReferenceInput>\n                    <NumberInput\n                        source=\"stock\"\n                        validate={required()}\n                        className={classes.stock}\n                    />\n                </FormTab>\n                <FormTab\n                    label=\"resources.products.tabs.description\"\n                    path=\"description\"\n                >\n                    <MarkdownInput source=\"description\" label=\"\" />\n                </FormTab>\n            </TabbedForm>\n        </Create>\n    );\n};\n\nexport default ProductCreate;\n","import React, { FC } from 'react';\nimport { MarkdownField } from '@react-admin/ra-markdown';\nimport { Typography } from '@material-ui/core';\nimport { makeStyles, lighten, darken } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n    container: {\n        display: 'flex',\n        flexDirection: 'column',\n        padding: '0 20px',\n        width: 350,\n        '& > p': {\n            fontSize: 12,\n            color: theme.palette.text.primary,\n            textAlign: 'right',\n        },\n        // Temporary until darkmode is correctly implemented in ra-markdown\n        '& .tui-editor-contents p': {\n            color:\n                theme.palette.type === 'light'\n                    ? lighten(theme.palette.text.primary, 0.38)\n                    : darken(theme.palette.text.primary, 0.38),\n        },\n    },\n    info: {\n        padding: theme.spacing(2, 3),\n        '& h1': {\n            fontSize: 18,\n            color: theme.palette.text.primary,\n            fontWeight: 'normal',\n        },\n        '& h2': {\n            fontSize: 14,\n            color:\n                theme.palette.type === 'light'\n                    ? lighten(theme.palette.text.primary, 0.38)\n                    : darken(theme.palette.text.primary, 0.38),\n            fontWeight: 'normal',\n        },\n        '& .MuiFormControl-root': {\n            margin: 0,\n            '& > div': {\n                padding: 0,\n            },\n        },\n    },\n    details: {\n        display: 'flex',\n        flexDirection: 'column',\n    },\n    preview: {\n        padding: theme.spacing(2),\n    },\n    frame: {\n        position: 'relative',\n        width: '100%',\n        paddingBottom: '82.5%',\n        background: theme.palette.common.black,\n        boxShadow: '0 10px 7px -5px rgba(0, 0, 0, 0.3)',\n    },\n    mat: {\n        position: 'absolute',\n        background: theme.palette.background.paper,\n        top: '3.0303%',\n        bottom: '3.0303%',\n        left: '2.5%',\n        right: '2.5%',\n        boxShadow: '0px 0px 20px 0px rgba(0,0,0,0.5) inset',\n    },\n    art: {\n        position: 'absolute',\n        top: '16.129%',\n        bottom: '16.129%',\n        left: '13.158%',\n        right: '13.158%',\n        '& img': {\n            width: '100%',\n        },\n    },\n}));\n\nconst Preview: FC<{ record: any }> = ({ record }) => {\n    const { image, height, width, price, reference } = record;\n    const classes = useStyles();\n\n    return (\n        <div className={classes.container}>\n            <div className={classes.preview}>\n                <div className={classes.frame}>\n                    <div className={classes.mat}>\n                        <div className={classes.art}>\n                            <img src={image} alt=\"\" />\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div className={classes.info}>\n                <Typography variant=\"h1\">{reference}</Typography>\n                <div className={classes.details}>\n                    <Typography variant=\"caption\">\n                        {width} x {height}\n                    </Typography>\n                    <Typography variant=\"caption\">{price} </Typography>\n                </div>\n                <MarkdownField record={record} label=\"\" source=\"description\" />\n            </div>\n        </div>\n    );\n};\n\nexport default Preview;\n","import React, { FC } from 'react';\nimport {\n    Datagrid,\n    DateField,\n    Edit,\n    EditButton,\n    SimpleForm,\n    NumberInput,\n    Pagination,\n    ReferenceInput,\n    ReferenceManyField,\n    SelectInput,\n    TextField,\n    TextInput,\n    FormDataConsumer,\n    FormWithRedirect,\n    useNotify,\n    SaveButton,\n    Toolbar,\n} from 'react-admin';\nimport { Identifier } from 'ra-core';\nimport { MarkdownInput } from '@react-admin/ra-markdown';\nimport { useLock, useHasLock } from '@react-admin/ra-realtime';\nimport { useDefineAppLocation } from '@react-admin/ra-navigation';\nimport { AccordionSection } from '@react-admin/ra-form-layout';\nimport {\n    Card,\n    CardContent,\n    InputAdornment,\n    Typography,\n    CircularProgress,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport StarRatingField from '../reviews/StarRatingField';\nimport Poster from './Poster';\nimport { styles as createStyles } from './ProductCreate';\nimport ProductPreview from './ProductPreview';\n\nimport { Product } from '../types';\n\ninterface ProductTitleProps {\n    record?: Product;\n}\n\nconst ProductTitle: FC<ProductTitleProps> = ({ record }) =>\n    record ? <span>Poster #{record.reference}</span> : null;\n\nconst useStyles = makeStyles({\n    ...createStyles,\n    comment: {\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n        maxWidth: 256,\n    },\n    container: {\n        display: 'flex',\n        '& > :first-child': {\n            flex: 1,\n            minWidth: '60%',\n            maxWidth: '70%',\n        },\n        '& > :last-child': {\n            width: '25%',\n            flexShrink: 0,\n        },\n    },\n    root: {\n        padding: '0 !important',\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        '& .tabbed-form': {\n            display: 'flex',\n            flexDirection: 'column',\n            flex: 1,\n        },\n        '& .toolbar': {\n            marginTop: 'auto',\n        },\n    },\n});\n\nconst useAccordionStyles = makeStyles(theme => ({\n    rounded: {\n        '&:first-child': {\n            borderTopLeftRadius: theme.spacing(0.5),\n            borderTopRightRadius: theme.spacing(0.5),\n        },\n        '&:last-child': {\n            borderBottomLeftRadius: theme.spacing(0.5),\n            borderBottomRightRadius: theme.spacing(0.5),\n        },\n    },\n}));\n\nconst ProductEditFormWithPreview: FC<{ toolbar: any }> = props => {\n    const classes = useStyles();\n    useDefineAppLocation('catalog.products.edit', props);\n    return (\n        <FormWithRedirect\n            {...props}\n            render={(formProps): JSX.Element => {\n                return (\n                    <div className={classes.container}>\n                        <Card>\n                            <CardContent className={classes.root}>\n                                <SimpleForm {...formProps} />\n                            </CardContent>\n                        </Card>\n                        <div data-testid=\"product-edit-preview\">\n                            <FormDataConsumer>\n                                {({ formData }): JSX.Element => {\n                                    return <ProductPreview record={formData} />;\n                                }}\n                            </FormDataConsumer>\n                        </div>\n                    </div>\n                );\n            }}\n        />\n    );\n};\n\nconst ProductEdit: FC<{ id: Identifier; resource: string }> = props => {\n    const { resource, id } = props;\n\n    const classes = useStyles();\n    const accordionClasses = useAccordionStyles();\n    const notify = useNotify();\n\n    const { loading } = useLock(resource, id, 'todousername', {\n        onSuccess: () => {\n            notify('ra-realtime.notification.lock.lockedByMe');\n        },\n        onFailure: () => {\n            notify('ra-realtime.notification.lock.lockedBySomeoneElse');\n        },\n        onUnlockSuccess: () => {\n            notify('ra-realtime.notification.lock.unlocked');\n        },\n    });\n\n    if (loading) {\n        return <CircularProgress />;\n    }\n\n    return (\n        <Edit {...props} title={<ProductTitle />} component=\"div\">\n            <ProductEditFormWithPreview toolbar={<CustomToolbar />}>\n                <Poster />\n                <TextInput source=\"image\" fullWidth />\n                <TextInput source=\"thumbnail\" fullWidth />\n                <AccordionSection\n                    label=\"resources.products.tabs.description\"\n                    path=\"description\"\n                    classes={{\n                        accordion: accordionClasses,\n                    }}\n                    data-tour-id=\"description-tab\"\n                    fullWidth\n                >\n                    <MarkdownInput source=\"description\" label=\"\" />\n                </AccordionSection>\n                <AccordionSection\n                    label=\"resources.products.tabs.details\"\n                    path=\"details\"\n                    classes={{\n                        accordion: accordionClasses,\n                    }}\n                    fullWidth\n                >\n                    <TextInput source=\"reference\" />\n                    <NumberInput\n                        source=\"price\"\n                        className={classes.price}\n                        InputProps={{\n                            startAdornment: (\n                                <InputAdornment position=\"start\">\n                                    \n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <NumberInput\n                        source=\"width\"\n                        className={classes.width}\n                        formClassName={classes.widthFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <NumberInput\n                        source=\"height\"\n                        className={classes.height}\n                        formClassName={classes.heightFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <ReferenceInput source=\"category_id\" reference=\"categories\">\n                        <SelectInput source=\"name\" />\n                    </ReferenceInput>\n                    <NumberInput source=\"stock\" className={classes.stock} />\n                </AccordionSection>\n                <AccordionSection\n                    label=\"resources.products.tabs.reviews\"\n                    path=\"reviews\"\n                    classes={{\n                        accordion: accordionClasses,\n                    }}\n                    fullWidth\n                >\n                    <ReferenceManyField\n                        label=\"\"\n                        reference=\"reviews\"\n                        target=\"product_id\"\n                        pagination={<ReferenceManyFieldPagination />}\n                        fullWidth\n                    >\n                        <Datagrid>\n                            <DateField source=\"date\" />\n                            <CustomerReferenceField />\n                            <StarRatingField />\n                            <TextField\n                                source=\"comment\"\n                                cellClassName={classes.comment}\n                            />\n                            <TextField source=\"status\" />\n                            <EditButton />\n                        </Datagrid>\n                    </ReferenceManyField>\n                </AccordionSection>\n            </ProductEditFormWithPreview>\n        </Edit>\n    );\n};\n\nconst CustomToolbar: FC<any> = props => {\n    const { resource, record } = props;\n\n    const { data: lock } = useHasLock(resource, record.id);\n    const isMeLocker = lock?.identity === 'todousername';\n\n    return (\n        <Toolbar {...props}>\n            <SaveButton disabled={!isMeLocker} />\n            {!isMeLocker && <LockMessage identity={lock?.identity} />}\n        </Toolbar>\n    );\n};\n\nconst useLockMessageStyles = makeStyles(theme => ({\n    root: {\n        padding: theme.spacing(0, 1),\n    },\n}));\n\nconst LockMessage: FC<any> = props => {\n    const { identity, variant = 'body1' } = props;\n    const classes = useLockMessageStyles(props);\n\n    return (\n        <Typography className={classes.root} variant={variant}>\n            This record is locked by another user: {identity}.\n        </Typography>\n    );\n};\n\nexport default ProductEdit;\n\n// There is an issue with the ReferenceManyField or the Pagination component\n// which do not sanitize some props (addLabel, fullWidth)\n// TODO: Fix react-admin and remove this component\nconst ReferenceManyFieldPagination: FC = ({\n    addLabel,\n    fullWidth,\n    ...props\n}: {\n    addLabel?: boolean;\n    fullWidth?: boolean;\n    [key: string]: any;\n}) => {\n    return <Pagination {...props} />;\n};\n","import ProductIcon from '@material-ui/icons/Collections';\nimport ProductList from './ProductList';\nimport ProductEdit from './ProductEdit';\nimport ProductCreate from './ProductCreate';\n\nexport default {\n    list: ProductList,\n    create: ProductCreate,\n    edit: ProductEdit,\n    icon: ProductIcon,\n};\n","import React, { FC } from 'react';\nimport {\n    List,\n    ListActions,\n    DateField,\n    DateInput,\n    TextField,\n    TextInput,\n} from 'react-admin';\n\nimport { EditableDatagrid, RowForm } from '@react-admin/ra-editable-datagrid';\nimport { makeStyles } from '@material-ui/core';\n\nconst StoreForm: FC = props => (\n    <RowForm {...props}>\n        <TextField source=\"id\" />\n        {/* eslint-disable-next-line */}\n        <TextInput source=\"city\" autoFocus />\n        <TextInput source=\"country\" />\n        <TextInput source=\"address\" />\n        <DateInput source=\"created_at\" />\n    </RowForm>\n);\n\nconst StoreListActions: FC = props => {\n    const classes = useListActionsStyles();\n    return <ListActions {...props} className={classes.root} />;\n};\n\nconst useListActionsStyles = makeStyles(theme => ({\n    root: {\n        paddingBottom: 0,\n        paddingTop: theme.spacing(4),\n    },\n}));\n\nexport const StoreList: FC = (props: any) => {\n    const classes = useStyles();\n    return (\n        <List\n            {...props}\n            actions={<StoreListActions />}\n            className={classes.root}\n            hasCreate\n            empty={false}\n            perPage={25}\n        >\n            <EditableDatagrid\n                data-testid=\"store-datagrid\"\n                rowClick=\"edit\"\n                createForm={<StoreForm />}\n                editForm={<StoreForm />}\n            >\n                <TextField source=\"id\" />\n                <TextField source=\"city\" />\n                <TextField source=\"country\" />\n                <TextField source=\"address\" />\n                <DateField source=\"created_at\" />\n            </EditableDatagrid>\n        </List>\n    );\n};\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        marginTop: -theme.spacing(7),\n    },\n}));\n","import { StoreList } from './StoreList';\nimport StoreIcon from '@material-ui/icons/Store';\n\nexport default {\n    icon: StoreIcon,\n    list: StoreList,\n};\n","export const segments = [\n    'compulsive',\n    'collector',\n    'ordered_once',\n    'regular',\n    'returns',\n    'reviewer',\n];\n\nfunction capitalizeFirstLetter(string: string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nexport default segments.map(segment => ({\n    id: segment,\n    name: capitalizeFirstLetter(segment),\n}));\n","import React, { FC, useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useTranslate } from 'react-admin';\nimport { useSubscribeToRecordList } from '@react-admin/ra-realtime';\nimport DashboardIcon from '@material-ui/icons/Dashboard';\nimport CheckCircleOutlineIcon from '@material-ui/icons/CheckCircleOutline';\nimport AVTimerIcon from '@material-ui/icons/AvTimer';\nimport BlockIcon from '@material-ui/icons/Block';\n\nimport {\n    MultiLevelMenu,\n    MenuItem,\n    MenuItemCategory,\n    Menu as NavigationMenu,\n    useAppLocationMatcher,\n    useResourceAppLocation,\n} from '@react-admin/ra-navigation';\n\nimport {\n    useMediaQuery,\n    Theme,\n    CardContent,\n    Typography,\n    withStyles,\n    Badge,\n    Box,\n} from '@material-ui/core';\n\nimport categories from '../categories';\nimport visitors from '../visitors';\nimport orders from '../orders';\nimport invoices from '../invoices';\nimport products from '../products';\nimport reviews from '../reviews';\nimport stores from '../stores';\nimport { AppState } from '../types';\nimport { segments } from '../visitors/segments';\n\ninterface Props {\n    dense: boolean;\n    logout: () => void;\n    onMenuClick: () => void;\n}\n\nconst newCustomerFilter = { last_seen_gte: '2020-07-31T22:00:00.000Z' };\nconst formerCustomerFilter = { last_seen_lte: '2020-06-30T22:00:00.000Z' };\n\nconst useResourceChangeCounter = (resource: string): number => {\n    const match = useAppLocationMatcher();\n    const location = useResourceAppLocation();\n    const [countEvent, setCountEvent] = useState(0);\n\n    useSubscribeToRecordList(resource, ({ payload }) => {\n        if (!payload || !payload.ids) {\n            return;\n        }\n\n        let count = payload.ids.length;\n\n        if (location && match(resource)) {\n            const { record } = location && (location.values || {});\n            if (!record || record.id == null) {\n                return;\n            }\n\n            count = payload.ids.filter(id => id !== record.id).length;\n        }\n\n        if (count) {\n            setCountEvent(previous => previous + count);\n        }\n    });\n\n    useEffect(() => {\n        if (match(resource)) {\n            setCountEvent(0);\n        }\n    }, [match, resource]);\n\n    return countEvent;\n};\n\nconst StyledBadgeForText = withStyles(theme => ({\n    badge: {\n        top: 13,\n        right: 13,\n        border: `1px solid ${theme.palette.background.paper}`,\n        padding: '0 4px',\n    },\n}))(Badge);\n\nconst Menu: FC<Props> = ({ onMenuClick, logout }) => {\n    const translate = useTranslate();\n    const commandsChangeCount = useResourceChangeCounter('commands');\n\n    const isXSmall = useMediaQuery((theme: Theme) =>\n        theme.breakpoints.down('xs')\n    );\n\n    useSelector((state: AppState) => state.theme); // force rerender on theme change\n\n    return (\n        <MultiLevelMenu variant=\"categories\">\n            <MenuItemCategory\n                name=\"dashboard\"\n                to=\"/\"\n                exact\n                icon={<DashboardIcon />}\n                onClick={onMenuClick}\n                label=\"ra.page.dashboard\"\n            />\n            <MenuItemCategory\n                name=\"catalog\"\n                icon={<products.icon />}\n                onClick={onMenuClick}\n                label={translate(`pos.menu.catalog`, { smart_count: 1 })}\n            >\n                <CardContent>\n                    <Typography variant=\"h6\" gutterBottom>\n                        {translate(`pos.menu.catalog`, { smart_count: 1 })}\n                    </Typography>\n                    <NavigationMenu>\n                        <MenuItem\n                            name=\"products\"\n                            to=\"/products\"\n                            icon={<products.icon />}\n                            onClick={onMenuClick}\n                            label={translate(`resources.products.name`, {\n                                smart_count: 2,\n                            })}\n                        />\n                        <MenuItem\n                            name=\"categories\"\n                            to=\"/categories/5\"\n                            icon={<categories.icon />}\n                            onClick={onMenuClick}\n                            label={translate(`resources.categories.name`, {\n                                smart_count: 2,\n                            })}\n                        />\n                    </NavigationMenu>\n                </CardContent>\n            </MenuItemCategory>\n            <StyledBadgeForText\n                badgeContent={commandsChangeCount}\n                color=\"primary\"\n            >\n                <MenuItemCategory\n                    name=\"commands\"\n                    to=\"/commands\"\n                    icon={<orders.icon />}\n                    onClick={onMenuClick}\n                    label={translate(`resources.commands.name`, {\n                        smart_count: 2,\n                    })}\n                    data-testid=\"commands-menu\"\n                />\n            </StyledBadgeForText>\n            <MenuItemCategory\n                name=\"invoices\"\n                to=\"/invoices?filter={}\"\n                icon={<invoices.icon />}\n                onClick={onMenuClick}\n                label={translate(`resources.invoices.name`, {\n                    smart_count: 2,\n                })}\n            />\n            <MenuItemCategory\n                name=\"audience\"\n                icon={<visitors.icon />}\n                onClick={onMenuClick}\n                label={translate(`pos.menu.audience`, { smart_count: 2 })}\n            >\n                <AudienceMenu onMenuClick={onMenuClick} />\n            </MenuItemCategory>\n            <MenuItemCategory\n                name=\"reviews\"\n                icon={<reviews.icon />}\n                onClick={onMenuClick}\n                label={translate(`resources.reviews.name`, { smart_count: 2 })}\n            >\n                <CardContent>\n                    <Typography variant=\"h6\" gutterBottom>\n                        {translate(`resources.reviews.name`, {\n                            smart_count: 2,\n                        })}\n                    </Typography>{' '}\n                    <NavigationMenu>\n                        <MenuItem\n                            name=\"reviews.accepted\"\n                            to={'/reviews?filter={\"status\": \"accepted\"}'}\n                            icon={<CheckCircleOutlineIcon />}\n                            onClick={onMenuClick}\n                            label=\"pos.reviews.accepted\"\n                        />\n                        <MenuItem\n                            name=\"reviews.rejected\"\n                            to={'/reviews?filter={\"status\": \"rejected\"}'}\n                            icon={<BlockIcon />}\n                            onClick={onMenuClick}\n                            label=\"pos.reviews.rejected\"\n                        />\n                        <MenuItem\n                            name=\"reviews.pending\"\n                            to={'/reviews?filter={\"status\": \"pending\"}'}\n                            icon={<AVTimerIcon />}\n                            onClick={onMenuClick}\n                            label=\"pos.reviews.pending\"\n                        />\n                    </NavigationMenu>\n                </CardContent>\n            </MenuItemCategory>\n            <MenuItemCategory\n                name=\"stores\"\n                to=\"/stores\"\n                icon={<stores.icon />}\n                onClick={onMenuClick}\n                label={translate(`resources.stores.name`, { smart_count: 2 })}\n            />\n            {isXSmall && logout}\n        </MultiLevelMenu>\n    );\n};\n\nexport default Menu;\n\nconst AudienceMenu: FC<{ onMenuClick: () => void }> = ({ onMenuClick }) => {\n    const translate = useTranslate();\n\n    return (\n        <CardContent>\n            <Box display=\"flex\" justifyContent=\"space-between\">\n                <Box marginRight={2}>\n                    <Typography variant=\"h6\" gutterBottom>\n                        {translate(`resources.customers.name`, {\n                            smart_count: 2,\n                        })}\n                    </Typography>\n                    <NavigationMenu>\n                        <MenuItem\n                            name=\"customers.newcomers\"\n                            to={`/customers?filter=${JSON.stringify(\n                                newCustomerFilter\n                            )}`}\n                            onClick={onMenuClick}\n                            label={translate(`pos.menu.new_customers`, {\n                                smart_count: 2,\n                            })}\n                        />\n                        <MenuItem\n                            name=\"customers.former_customers\"\n                            to={`/customers?filter=${JSON.stringify(\n                                formerCustomerFilter\n                            )}`}\n                            onClick={onMenuClick}\n                            label={translate(`pos.menu.former_customers`, {\n                                smart_count: 2,\n                            })}\n                        />\n                    </NavigationMenu>\n                </Box>\n                <Box>\n                    <Typography variant=\"h6\" gutterBottom>\n                        {translate(`resources.segments.name`, {\n                            smart_count: 2,\n                        })}\n                    </Typography>\n                    <NavigationMenu>\n                        {segments.map(segment => (\n                            <MenuItem\n                                key={segment}\n                                name={`segments.${segment}`}\n                                to={`/customers?filter={\"groups\": \"${segment}\"}`}\n                                onClick={onMenuClick}\n                                label={translate(\n                                    `resources.segments.data.${segment}`,\n                                    {\n                                        smart_count: 2,\n                                    }\n                                )}\n                            />\n                        ))}\n                    </NavigationMenu>\n                </Box>\n            </Box>\n        </CardContent>\n    );\n};\n","import React, { FC } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    Breadcrumb,\n    BreadcrumbItem,\n    ResourceBreadcrumbItems,\n} from '@react-admin/ra-navigation';\nimport { linkToRecord, useTranslate, Record } from 'ra-core';\n\nconst CustomBreadcrumb: FC = props => {\n    const classes = useStyles();\n    const translate = useTranslate();\n\n    const editLabel = translate('ra.action.edit');\n    const createLabel = translate('ra.action.create');\n    return (\n        <Breadcrumb className={classes.root} {...props}>\n            <ResourceBreadcrumbItems\n                resources={['invoices', 'stores', 'tours']}\n            />\n            <BreadcrumbItem\n                name=\"catalog\"\n                label={translate('pos.menu.catalog', 1)}\n            >\n                <BreadcrumbItem\n                    name=\"products\"\n                    label={translate('resources.products.name', 2)}\n                    to=\"/products\"\n                >\n                    <BreadcrumbItem\n                        name=\"edit\"\n                        label={({ record }: { record?: Record }): string =>\n                            `${editLabel} ${\n                                record ? `\"${record.reference}\"` : '...'\n                            }`\n                        }\n                        to={({ record }: { record?: Record }): string =>\n                            record\n                                ? `${linkToRecord('/products', record.id)}/edit`\n                                : ''\n                        }\n                    />\n                    <BreadcrumbItem\n                        name=\"create\"\n                        label={createLabel}\n                        to=\"/products/create\"\n                    />\n                </BreadcrumbItem>\n                <BreadcrumbItem\n                    name=\"categories\"\n                    label={translate('resources.categories.name', 2)}\n                />\n            </BreadcrumbItem>\n            <BreadcrumbItem\n                name=\"reviews\"\n                label={translate('resources.reviews.name', 2)}\n                to=\"/reviews?filter={}\"\n            >\n                <BreadcrumbItem\n                    name=\"status_filter\"\n                    label={({ status }): string =>\n                        `${translate('pos.filter')} status \"${translate(\n                            `pos.reviews.${status}`\n                        )}\"`\n                    }\n                />\n            </BreadcrumbItem>\n            <BreadcrumbItem\n                name=\"commands\"\n                label={translate('resources.commands.name', 2)}\n                to=\"/commands\"\n            >\n                <BreadcrumbItem\n                    name=\"edit\"\n                    label={({ record }: { record?: Record }): string =>\n                        `${editLabel} ${\n                            record ? `\"${record.reference}\"` : '...'\n                        }`\n                    }\n                    to={({ record }: { record?: Record }): string =>\n                        record\n                            ? `${linkToRecord('/products', record.id)}/edit`\n                            : ''\n                    }\n                />\n            </BreadcrumbItem>\n            <BreadcrumbItem\n                name=\"audience\"\n                label={translate('pos.menu.audience', 1)}\n            >\n                <BreadcrumbItem\n                    name=\"customers\"\n                    label={translate('resources.customers.name', 2)}\n                    to=\"/customers\"\n                >\n                    <BreadcrumbItem\n                        name=\"edit\"\n                        label={({ record }: { record?: Record }): string =>\n                            `${editLabel} ${\n                                record\n                                    ? `\"${record.first_name} ${record.last_name}\"`\n                                    : '...'\n                            }`\n                        }\n                        to={({ record }: { record?: Record }): string =>\n                            record\n                                ? `${linkToRecord(\n                                      '/customers',\n                                      record.id\n                                  )}/edit`\n                                : ''\n                        }\n                    />\n                    <BreadcrumbItem\n                        name=\"create\"\n                        label={createLabel}\n                        to=\"/customers/create\"\n                    />\n                </BreadcrumbItem>\n                <BreadcrumbItem\n                    name=\"segments\"\n                    label={translate('resources.segments.name', 2)}\n                />\n            </BreadcrumbItem>\n        </Breadcrumb>\n    );\n};\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        paddingTop: theme.spacing(1),\n        fontSize: 'small',\n        // Display the Breadcrumb over the custom Layout of some pages by adding a zIndex and a maxWidth\n        // @see \"src/products/ProductList.tsx\" or \"src/visitors/VisitorList.tsx\"\n        maxWidth: '700px',\n        zIndex: 1,\n        '& a': {\n            pointerEvents: 'visible',\n        },\n    },\n}));\n\nexport default CustomBreadcrumb;\n","import React, { FC } from 'react';\nimport { Layout } from '@react-admin/ra-enterprise';\n\nimport AppBar from './AppBar';\nimport Menu from './Menu';\nimport Breadcrumb from './Breadcrumb';\n\nimport tours from '../tours/tours';\n\nconst CustomLayout: FC = props => {\n    return (\n        <Layout\n            {...props}\n            appBar={AppBar}\n            menu={Menu}\n            breadcrumb={Breadcrumb}\n            tours={tours}\n        />\n    );\n};\n\nexport default CustomLayout;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Field, withTypes } from 'react-final-form';\nimport { useLocation } from 'react-router-dom';\n\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport TextField from '@material-ui/core/TextField';\nimport { createMuiTheme, makeStyles } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport LockIcon from '@material-ui/icons/Lock';\n\nimport { Notification } from 'react-admin';\nimport { useTranslate, useLogin, useNotify } from 'ra-core';\nimport { lightTheme } from './themes';\n\nconst useStyles = makeStyles(theme => ({\n    main: {\n        display: 'flex',\n        flexDirection: 'column',\n        minHeight: '100vh',\n        alignItems: 'center',\n        justifyContent: 'flex-start',\n        background: 'url(https://source.unsplash.com/random/1600x900)',\n        backgroundRepeat: 'no-repeat',\n        backgroundSize: 'cover',\n    },\n    card: {\n        minWidth: 300,\n        marginTop: '6em',\n    },\n    avatar: {\n        margin: '1em',\n        display: 'flex',\n        justifyContent: 'center',\n    },\n    icon: {\n        backgroundColor: theme.palette.secondary.main,\n    },\n    hint: {\n        marginTop: '1em',\n        display: 'flex',\n        justifyContent: 'center',\n        color: theme.palette.grey[500],\n    },\n    form: {\n        padding: '0 1em 1em 1em',\n    },\n    input: {\n        marginTop: '1em',\n    },\n    actions: {\n        padding: '0 1em 1em 1em',\n    },\n}));\n\nconst renderInput = ({\n    meta: { touched, error } = { touched: false, error: undefined },\n    input: { ...inputProps },\n    ...props\n}) => (\n    <TextField\n        error={!!(touched && error)}\n        helperText={touched && error}\n        {...inputProps}\n        {...props}\n        fullWidth\n    />\n);\n\ninterface FormValues {\n    username?: string;\n    password?: string;\n}\n\nconst { Form } = withTypes<FormValues>();\n\nconst Login = () => {\n    const [loading, setLoading] = useState(false);\n    const translate = useTranslate();\n    const classes = useStyles();\n    const notify = useNotify();\n    const login = useLogin();\n    const location = useLocation<{ nextPathname: string } | null>();\n\n    const handleSubmit = (auth: FormValues) => {\n        setLoading(true);\n        login(auth, location.state ? location.state.nextPathname : '/').catch(\n            (error: Error) => {\n                setLoading(false);\n                notify(\n                    typeof error === 'string'\n                        ? error\n                        : typeof error === 'undefined' || !error.message\n                        ? 'ra.auth.sign_in_error'\n                        : error.message,\n                    'warning'\n                );\n            }\n        );\n    };\n\n    const validate = (values: FormValues) => {\n        const errors: FormValues = {};\n        if (!values.username) {\n            errors.username = translate('ra.validation.required');\n        }\n        if (!values.password) {\n            errors.password = translate('ra.validation.required');\n        }\n        return errors;\n    };\n\n    return (\n        <Form\n            onSubmit={handleSubmit}\n            validate={validate}\n            render={({ handleSubmit }) => (\n                <form onSubmit={handleSubmit} noValidate>\n                    <div className={classes.main}>\n                        <Card className={classes.card}>\n                            <div className={classes.avatar}>\n                                <Avatar className={classes.icon}>\n                                    <LockIcon />\n                                </Avatar>\n                            </div>\n                            <div className={classes.hint}>\n                                Hint: demo / demo\n                            </div>\n                            <div className={classes.form}>\n                                <div className={classes.input}>\n                                    <Field\n                                        name=\"username\"\n                                        // @ts-ignore\n                                        component={renderInput}\n                                        label={translate('ra.auth.username')}\n                                        disabled={loading}\n                                    />\n                                </div>\n                                <div className={classes.input}>\n                                    <Field\n                                        name=\"password\"\n                                        // @ts-ignore\n                                        component={renderInput}\n                                        label={translate('ra.auth.password')}\n                                        type=\"password\"\n                                        disabled={loading}\n                                    />\n                                </div>\n                            </div>\n                            <CardActions className={classes.actions}>\n                                <Button\n                                    variant=\"contained\"\n                                    type=\"submit\"\n                                    color=\"primary\"\n                                    disabled={loading}\n                                    fullWidth\n                                >\n                                    {loading && (\n                                        <CircularProgress\n                                            size={25}\n                                            thickness={2}\n                                        />\n                                    )}\n                                    {translate('ra.auth.sign_in')}\n                                </Button>\n                            </CardActions>\n                        </Card>\n                        <Notification />\n                    </div>\n                </form>\n            )}\n        />\n    );\n};\n\nLogin.propTypes = {\n    authProvider: PropTypes.func,\n    previousRoute: PropTypes.string,\n};\n\n// We need to put the ThemeProvider decoration in another component\n// Because otherwise the useStyles() hook used in Login won't get\n// the right theme\nconst LoginWithTheme = (props: any) => (\n    <ThemeProvider theme={createMuiTheme(lightTheme)}>\n        <Login {...props} />\n    </ThemeProvider>\n);\n\nexport default LoginWithTheme;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { Box, Card, CardActions, Button, Typography } from '@material-ui/core';\nimport HomeIcon from '@material-ui/icons/Home';\nimport TourIcon from '@material-ui/icons/Flag';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate } from 'react-admin';\n\nimport publishArticleImage from './welcome_illustration.svg';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        background:\n            theme.palette.type === 'dark'\n                ? '#535353'\n                : `linear-gradient(to right, #8975fb 0%, #746be7 35%), linear-gradient(to bottom, #8975fb 0%, #6f4ceb 50%), #6f4ceb`,\n        color: '#fff',\n        padding: 20,\n        marginTop: theme.spacing(2),\n        marginBottom: '1em',\n    },\n    media: {\n        background: `url(${publishArticleImage}) top right / cover`,\n        marginLeft: 'auto',\n    },\n    actions: {\n        [theme.breakpoints.down('md')]: {\n            padding: 0,\n            flexWrap: 'wrap',\n            '& a': {\n                marginTop: '1em',\n                marginLeft: '0!important',\n                marginRight: '1em',\n            },\n        },\n    },\n}));\n\nconst Welcome: FC = () => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <Card className={classes.root}>\n            <Box display=\"flex\">\n                <Box flex=\"1\">\n                    <Typography variant=\"h5\" component=\"h2\" gutterBottom>\n                        {translate('pos.dashboard.welcome.title')}\n                    </Typography>\n                    <Box maxWidth=\"40em\">\n                        <Typography variant=\"body1\" component=\"p\" gutterBottom>\n                            {translate('pos.dashboard.welcome.subtitle')}\n                        </Typography>\n                    </Box>\n                    <CardActions className={classes.actions}>\n                        <Button\n                            variant=\"contained\"\n                            href=\"#/tours\"\n                            startIcon={<TourIcon />}\n                        >\n                            {translate('pos.dashboard.welcome.demo_button')}\n                        </Button>\n                        <Button\n                            variant=\"contained\"\n                            href=\"https://marmelab.com/ra-enterprise/\"\n                            startIcon={<HomeIcon />}\n                        >\n                            {translate('pos.dashboard.welcome.ra_button')}\n                        </Button>\n                    </CardActions>\n                </Box>\n\n                <Box\n                    display={{ xs: 'none', sm: 'none', md: 'block' }}\n                    className={classes.media}\n                    width=\"16em\"\n                    height=\"9em\"\n                    overflow=\"hidden\"\n                />\n            </Box>\n        </Card>\n    );\n};\n\nexport default Welcome;\n","import * as React from 'react';\nimport { FC, createElement } from 'react';\nimport { Card, Box, Typography, Divider } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\n\nimport cartouche from './cartouche.png';\nimport cartoucheDark from './cartoucheDark.png';\n\ninterface Props {\n    icon: FC<any>;\n    to: string;\n    title?: string;\n    subtitle?: string | number;\n}\n\nconst useStyles = makeStyles(theme => ({\n    card: {\n        minHeight: 52,\n        flex: '1',\n        '& a': {\n            textDecoration: 'none',\n            color: 'inherit',\n        },\n    },\n    main: {\n        overflow: 'inherit',\n        padding: 16,\n        background: `url(${\n            theme.palette.type === 'dark' ? cartoucheDark : cartouche\n        }) no-repeat`,\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        '& .icon': {\n            color: theme.palette.type === 'dark' ? 'inherit' : '#dc2440',\n        },\n    },\n    title: {},\n}));\n\nconst CardWithIcon: FC<Props> = props => {\n    const { icon, title, subtitle, to, children } = props;\n    const classes = useStyles(props);\n    return (\n        <Card className={classes.card}>\n            <Link to={to}>\n                <div className={classes.main}>\n                    <Box width=\"3em\" className=\"icon\">\n                        {createElement(icon, { fontSize: 'large' })}\n                    </Box>\n                    <Box textAlign=\"right\">\n                        <Typography\n                            className={classes.title}\n                            color=\"textSecondary\"\n                        >\n                            {title}\n                        </Typography>\n                        <Typography variant=\"h5\" component=\"h2\">\n                            {subtitle || ''}\n                        </Typography>\n                    </Box>\n                </div>\n            </Link>\n            {children && <Divider />}\n            {children}\n        </Card>\n    );\n};\n\nexport default CardWithIcon;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport DollarIcon from '@material-ui/icons/AttachMoney';\nimport { useTranslate } from 'react-admin';\n\nimport CardWithIcon from './CardWithIcon';\n\ninterface Props {\n    value?: number;\n}\n\nconst MonthlyRevenue: FC<Props> = ({ value }) => {\n    const translate = useTranslate();\n    return (\n        <CardWithIcon\n            to=\"/commands\"\n            icon={DollarIcon}\n            title={translate('pos.dashboard.monthly_revenue')}\n            subtitle={value}\n        />\n    );\n};\n\nexport default MonthlyRevenue;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\nimport { useTranslate } from 'react-admin';\n\nimport CardWithIcon from './CardWithIcon';\n\ninterface Props {\n    value?: number;\n}\n\nconst NbNewOrders: FC<Props> = ({ value }) => {\n    const translate = useTranslate();\n    return (\n        <CardWithIcon\n            to=\"/commands\"\n            icon={ShoppingCartIcon}\n            title={translate('pos.dashboard.new_orders')}\n            subtitle={value}\n        />\n    );\n};\n\nexport default NbNewOrders;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Avatar from '@material-ui/core/Avatar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { useTranslate } from 'react-admin';\nimport { Customer, Order } from '../types';\n\ninterface Props {\n    orders?: Order[];\n    customers?: { [key: string]: Customer };\n}\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        flex: 1,\n    },\n    cost: {\n        marginRight: '1em',\n        color: theme.palette.text.primary,\n    },\n}));\n\nconst PendingOrders: FC<Props> = ({ orders = [], customers = {} }) => {\n    const classes = useStyles();\n    const translate = useTranslate();\n    return (\n        <Card className={classes.root}>\n            <CardHeader title={translate('pos.dashboard.pending_orders')} />\n            <List dense={true}>\n                {orders.map(record => (\n                    <ListItem\n                        key={record.id}\n                        button\n                        component={Link}\n                        to={`/commands/${record.id}`}\n                    >\n                        <ListItemAvatar>\n                            {customers[record.customer_id] ? (\n                                <Avatar\n                                    src={`${\n                                        customers[record.customer_id].avatar\n                                    }?size=32x32`}\n                                />\n                            ) : (\n                                <Avatar />\n                            )}\n                        </ListItemAvatar>\n                        <ListItemText\n                            primary={new Date(record.date).toLocaleString(\n                                'en-GB'\n                            )}\n                            secondary={translate('pos.dashboard.order.items', {\n                                smart_count: record.basket.length,\n                                nb_items: record.basket.length,\n                                customer_name: customers[record.customer_id]\n                                    ? `${\n                                          customers[record.customer_id]\n                                              .first_name\n                                      } ${\n                                          customers[record.customer_id]\n                                              .last_name\n                                      }`\n                                    : '',\n                            })}\n                        />\n                        <ListItemSecondaryAction>\n                            <span className={classes.cost}>\n                                {record.total}$\n                            </span>\n                        </ListItemSecondaryAction>\n                    </ListItem>\n                ))}\n            </List>\n        </Card>\n    );\n};\n\nexport default PendingOrders;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport {\n    List,\n    ListItem,\n    ListItemAvatar,\n    ListItemText,\n    Avatar,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CommentIcon from '@material-ui/icons/Comment';\nimport { Link } from 'react-router-dom';\nimport { useTranslate } from 'react-admin';\n\nimport CardWithIcon from './CardWithIcon';\nimport StarRatingField from '../reviews/StarRatingField';\nimport { Customer, Review } from '../types';\n\ninterface Props {\n    reviews?: Review[];\n    customers?: { [key: string]: Customer };\n    nb?: number;\n}\n\nconst useStyles = makeStyles(theme => ({\n    avatar: {\n        background: theme.palette.background.paper,\n    },\n    listItemText: {\n        overflowY: 'hidden',\n        height: '4em',\n        display: '-webkit-box',\n        WebkitLineClamp: 2,\n        WebkitBoxOrient: 'vertical',\n    },\n}));\n\nconst PendingReviews: FC<Props> = ({ reviews = [], customers = {}, nb }) => {\n    const classes = useStyles();\n    const translate = useTranslate();\n    return (\n        <CardWithIcon\n            to=\"/reviews\"\n            icon={CommentIcon}\n            title={translate('pos.dashboard.pending_reviews')}\n            subtitle={nb}\n        >\n            <List>\n                {reviews.map((record: Review) => (\n                    <ListItem\n                        key={record.id}\n                        button\n                        component={Link}\n                        to={`/reviews/${record.id}`}\n                        alignItems=\"flex-start\"\n                    >\n                        <ListItemAvatar>\n                            {customers[record.customer_id] ? (\n                                <Avatar\n                                    src={`${\n                                        customers[record.customer_id].avatar\n                                    }?size=32x32`}\n                                    className={classes.avatar}\n                                />\n                            ) : (\n                                <Avatar />\n                            )}\n                        </ListItemAvatar>\n\n                        <ListItemText\n                            primary={<StarRatingField record={record} />}\n                            secondary={record.comment}\n                            className={classes.listItemText}\n                            style={{ paddingRight: 0 }}\n                        />\n                    </ListItem>\n                ))}\n            </List>\n        </CardWithIcon>\n    );\n};\n\nexport default PendingReviews;\n","import * as React from 'react';\nimport { useMemo } from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Avatar from '@material-ui/core/Avatar';\nimport CustomerIcon from '@material-ui/icons/PersonAdd';\nimport { Link } from 'react-router-dom';\nimport { useTranslate, useQueryWithStore } from 'react-admin';\n\nimport CardWithIcon from './CardWithIcon';\nimport { Customer } from '../types';\n\nconst NewCustomers = () => {\n    const translate = useTranslate();\n    const aMonthAgo = useMemo(() => {\n        const date = new Date();\n        date.setDate(date.getDate() - 30);\n        date.setHours(0);\n        date.setMinutes(0);\n        date.setSeconds(0);\n        date.setMilliseconds(0);\n        return date;\n    }, []);\n\n    const { loaded, data: visitors } = useQueryWithStore({\n        type: 'getList',\n        resource: 'customers',\n        payload: {\n            filter: {\n                has_ordered: true,\n                first_seen_gte: aMonthAgo.toISOString(),\n            },\n            sort: { field: 'first_seen', order: 'DESC' },\n            pagination: { page: 1, perPage: 100 },\n        },\n    });\n\n    if (!loaded) return null;\n\n    const nb = visitors ? visitors.reduce((nb: number) => ++nb, 0) : 0;\n    return (\n        <CardWithIcon\n            to=\"/customers\"\n            icon={CustomerIcon}\n            title={translate('pos.dashboard.new_customers')}\n            subtitle={nb}\n        >\n            <List>\n                {visitors\n                    ? visitors.map((record: Customer) => (\n                          <ListItem\n                              button\n                              to={`/customers/${record.id}`}\n                              component={Link}\n                              key={record.id}\n                          >\n                              <ListItemAvatar>\n                                  <Avatar src={`${record.avatar}?size=32x32`} />\n                              </ListItemAvatar>\n                              <ListItemText\n                                  primary={`${record.first_name} ${record.last_name}`}\n                              />\n                          </ListItem>\n                      ))\n                    : null}\n            </List>\n        </CardWithIcon>\n    );\n};\n\nexport default NewCustomers;\n","import * as React from 'react';\nimport { FC } from 'react';\nimport { Card, CardHeader, CardContent } from '@material-ui/core';\nimport {\n    ResponsiveContainer,\n    BarChart,\n    Bar,\n    XAxis,\n    YAxis,\n    CartesianGrid,\n    Tooltip,\n} from 'recharts';\nimport { useTranslate } from 'react-admin';\n\nimport { Order } from '../types';\n\nconst lastDay = new Date(new Date().toDateString()).getTime();\nconst oneDay = 24 * 60 * 60 * 1000;\nconst lastMonthDays = Array.from(\n    { length: 30 },\n    (_, i) => lastDay - i * oneDay\n).reverse();\nconst aMonthAgo = new Date();\naMonthAgo.setDate(aMonthAgo.getDate() - 30);\n\nconst dateFormatter = (date: number): string =>\n    new Date(date).toLocaleDateString();\n\nconst aggregateOrdersByDay = (orders: Order[]): { [key: number]: number } =>\n    orders\n        .filter((order: Order) => order.status !== 'cancelled')\n        .reduce((acc, curr) => {\n            const day = new Date(new Date(curr.date).toDateString()).getTime();\n            if (!acc[day]) {\n                acc[day] = 0;\n            }\n            acc[day] += curr.total;\n            return acc;\n        }, {} as { [key: string]: number });\n\nconst getRevenuePerDay = (orders: Order[]): TotalByDay[] => {\n    const daysWithRevenue = aggregateOrdersByDay(orders);\n    return lastMonthDays.map(date => ({\n        date,\n        total: daysWithRevenue[date] || 0,\n    }));\n};\n\nconst OrderChart: FC<{ orders?: Order[] }> = ({ orders }) => {\n    const translate = useTranslate();\n    if (!orders) return null;\n\n    return (\n        <Card>\n            <CardHeader title={translate('pos.dashboard.month_history')} />\n            <CardContent>\n                <ResponsiveContainer width=\"100%\" height={300}>\n                    <BarChart data={getRevenuePerDay(orders)}>\n                        <XAxis\n                            dataKey=\"date\"\n                            name=\"Date\"\n                            type=\"number\"\n                            scale=\"time\"\n                            domain={[aMonthAgo.getTime(), new Date().getTime()]}\n                            tickFormatter={dateFormatter}\n                            reversed\n                        />\n                        <YAxis dataKey=\"total\" name=\"Revenue\" unit=\"\" />\n                        <CartesianGrid strokeDasharray=\"3 3\" />\n                        <Tooltip\n                            cursor={{ strokeDasharray: '3 3' }}\n                            formatter={value =>\n                                new Intl.NumberFormat(undefined, {\n                                    style: 'currency',\n                                    currency: 'USD',\n                                }).format(value as any)\n                            }\n                            labelFormatter={(label: any) =>\n                                dateFormatter(label)\n                            }\n                        />\n                        <Bar dataKey=\"total\" fill=\"#31708f\" />\n                    </BarChart>\n                </ResponsiveContainer>\n            </CardContent>\n        </Card>\n    );\n};\n\ninterface TotalByDay {\n    date: number;\n    total: number;\n}\n\nexport default OrderChart;\n","import React, {\n    useState,\n    useEffect,\n    useCallback,\n    FC,\n    CSSProperties,\n} from 'react';\nimport { useVersion, useDataProvider } from 'react-admin';\nimport { useMediaQuery, Theme } from '@material-ui/core';\n\nimport Welcome from './Welcome';\nimport MonthlyRevenue from './MonthlyRevenue';\nimport NbNewOrders from './NbNewOrders';\nimport PendingOrders from './PendingOrders';\nimport PendingReviews from './PendingReviews';\nimport NewCustomers from './NewCustomers';\nimport OrderChart from './OrderChart';\n\nimport { Customer, Order, Review } from '../types';\n\ninterface OrderStats {\n    revenue: number;\n    nbNewOrders: number;\n    pendingOrders: Order[];\n}\n\ninterface CustomerData {\n    [key: string]: Customer;\n}\n\ninterface State {\n    nbNewOrders?: number;\n    nbPendingReviews?: number;\n    pendingOrders?: Order[];\n    pendingOrdersCustomers?: CustomerData;\n    pendingReviews?: Review[];\n    pendingReviewsCustomers?: CustomerData;\n    recentOrders?: Order[];\n    revenue?: number;\n}\n\nconst styles = {\n    flex: { display: 'flex' },\n    flexColumn: { display: 'flex', flexDirection: 'column' },\n    leftCol: { flex: 1, marginRight: '0.5em' },\n    rightCol: { flex: 1, marginLeft: '0.5em' },\n    singleCol: { marginTop: '1em', marginBottom: '1em' },\n};\n\nconst Spacer = () => <span style={{ width: '1em' }} />;\nconst VerticalSpacer = () => <span style={{ height: '1em' }} />;\n\nconst Dashboard: FC = () => {\n    const [state, setState] = useState<State>({});\n    const version = useVersion();\n    const dataProvider = useDataProvider();\n    const isXSmall = useMediaQuery((theme: Theme) =>\n        theme.breakpoints.down('xs')\n    );\n    const isSmall = useMediaQuery((theme: Theme) =>\n        theme.breakpoints.down('md')\n    );\n\n    const fetchOrders = useCallback(async () => {\n        const aMonthAgo = new Date();\n        aMonthAgo.setDate(aMonthAgo.getDate() - 30);\n        const { data: recentOrders } = await dataProvider.getList('commands', {\n            filter: { date_gte: aMonthAgo.toISOString() },\n            sort: { field: 'date', order: 'DESC' },\n            pagination: { page: 1, perPage: 50 },\n        });\n        const aggregations = recentOrders\n            .filter((order: Order) => order.status !== 'cancelled')\n            .reduce(\n                (stats: OrderStats, order: Order) => {\n                    if (order.status !== 'cancelled') {\n                        stats.revenue += order.total;\n                        stats.nbNewOrders++;\n                    }\n                    if (order.status === 'ordered') {\n                        stats.pendingOrders.push(order);\n                    }\n                    return stats;\n                },\n                {\n                    revenue: 0,\n                    nbNewOrders: 0,\n                    pendingOrders: [],\n                }\n            );\n        setState(state => ({\n            ...state,\n            recentOrders,\n            revenue: aggregations.revenue.toLocaleString(undefined, {\n                style: 'currency',\n                currency: 'USD',\n                minimumFractionDigits: 0,\n                maximumFractionDigits: 0,\n            }),\n            nbNewOrders: aggregations.nbNewOrders,\n            pendingOrders: aggregations.pendingOrders,\n        }));\n        const { data: customers } = await dataProvider.getMany('customers', {\n            ids: aggregations.pendingOrders.map(\n                (order: Order) => order.customer_id\n            ),\n        });\n        setState(state => ({\n            ...state,\n            pendingOrdersCustomers: customers.reduce(\n                (prev: CustomerData, customer: Customer) => {\n                    prev[customer.id] = customer; // eslint-disable-line no-param-reassign\n                    return prev;\n                },\n                {}\n            ),\n        }));\n    }, [dataProvider]);\n\n    const fetchReviews = useCallback(async () => {\n        const { data: reviews } = await dataProvider.getList('reviews', {\n            filter: { status: 'pending' },\n            sort: { field: 'date', order: 'DESC' },\n            pagination: { page: 1, perPage: 100 },\n        });\n        const nbPendingReviews = reviews.reduce((nb: number) => ++nb, 0);\n        const pendingReviews = reviews.slice(0, Math.min(10, reviews.length));\n        setState(state => ({ ...state, pendingReviews, nbPendingReviews }));\n        const { data: customers } = await dataProvider.getMany('customers', {\n            ids: pendingReviews.map((review: Review) => review.customer_id),\n        });\n        setState(state => ({\n            ...state,\n            pendingReviewsCustomers: customers.reduce(\n                (prev: CustomerData, customer: Customer) => {\n                    prev[customer.id] = customer; // eslint-disable-line no-param-reassign\n                    return prev;\n                },\n                {}\n            ),\n        }));\n    }, [dataProvider]);\n\n    useEffect(() => {\n        fetchOrders();\n        fetchReviews();\n    }, [version]); // eslint-disable-line react-hooks/exhaustive-deps\n\n    const {\n        nbNewOrders,\n        nbPendingReviews,\n        pendingOrders,\n        pendingOrdersCustomers,\n        pendingReviews,\n        pendingReviewsCustomers,\n        revenue,\n        recentOrders,\n    } = state;\n    return isXSmall ? (\n        <div>\n            <div style={styles.flexColumn as CSSProperties}>\n                <Welcome />\n                <MonthlyRevenue value={revenue} />\n                <VerticalSpacer />\n                <NbNewOrders value={nbNewOrders} />\n                <VerticalSpacer />\n                <PendingOrders\n                    orders={pendingOrders}\n                    customers={pendingOrdersCustomers}\n                />\n            </div>\n        </div>\n    ) : isSmall ? (\n        <div style={styles.flexColumn as CSSProperties}>\n            <div style={styles.singleCol}>\n                <Welcome />\n            </div>\n            <div style={styles.flex}>\n                <MonthlyRevenue value={revenue} />\n                <Spacer />\n                <NbNewOrders value={nbNewOrders} />\n            </div>\n            <div style={styles.singleCol}>\n                <OrderChart orders={recentOrders} />\n            </div>\n            <div style={styles.singleCol}>\n                <PendingOrders\n                    orders={pendingOrders}\n                    customers={pendingOrdersCustomers}\n                />\n            </div>\n        </div>\n    ) : (\n        <>\n            <Welcome />\n            <div style={styles.flex}>\n                <div style={styles.leftCol}>\n                    <div style={styles.flex}>\n                        <MonthlyRevenue value={revenue} />\n                        <Spacer />\n                        <NbNewOrders value={nbNewOrders} />\n                    </div>\n                    <div style={styles.singleCol}>\n                        <OrderChart orders={recentOrders} />\n                    </div>\n                    <div style={styles.singleCol}>\n                        <PendingOrders\n                            orders={pendingOrders}\n                            customers={pendingOrdersCustomers}\n                        />\n                    </div>\n                </div>\n                <div style={styles.rightCol}>\n                    <div style={styles.flex}>\n                        <PendingReviews\n                            nb={nbPendingReviews}\n                            reviews={pendingReviews}\n                            customers={pendingReviewsCustomers}\n                        />\n                        <Spacer />\n                        <NewCustomers />\n                    </div>\n                </div>\n            </div>\n        </>\n    );\n};\n\nexport default Dashboard;\n","import DashboardComponent from './Dashboard';\n\nexport const Dashboard = DashboardComponent;\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { useTranslate } from 'react-admin';\nimport { stringify } from 'query-string';\n\nimport visitors from '../visitors';\n\nconst useStyles = makeStyles({\n    icon: { paddingRight: '0.5em' },\n    link: {\n        display: 'inline-flex',\n        alignItems: 'center',\n    },\n});\n\nconst LinkToRelatedCustomers = ({ segment }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <Button\n            size=\"small\"\n            color=\"primary\"\n            component={Link}\n            to={{\n                pathname: '/customers',\n                search: stringify({\n                    page: 1,\n                    perPage: 25,\n                    filter: JSON.stringify({ groups: segment }),\n                }),\n            }}\n            className={classes.link}\n        >\n            <visitors.icon className={classes.icon} />\n            {translate('resources.segments.fields.customers')}\n        </Button>\n    );\n};\n\nexport default LinkToRelatedCustomers;\n","import React from 'react';\nimport Card from '@material-ui/core/Card';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate, Title } from 'react-admin';\n\nimport LinkToRelatedCustomers from './LinkToRelatedCustomers';\nimport { useDefineAppLocation } from '@react-admin/ra-navigation';\nimport segments from './data';\n\nconst useStyles = makeStyles({\n    root: {\n        marginTop: 16,\n    },\n});\n\nconst Segments = () => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    useDefineAppLocation('audience.segments');\n    return (\n        <Card className={classes.root}>\n            <Title title={translate('resources.segments.name')} />\n            <Table size=\"small\">\n                <TableHead>\n                    <TableRow>\n                        <TableCell>\n                            {translate('resources.segments.fields.name')}\n                        </TableCell>\n                        <TableCell />\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {segments.map(segment => (\n                        <TableRow key={segment.id}>\n                            <TableCell>{translate(segment.name)}</TableCell>\n                            <TableCell>\n                                <LinkToRelatedCustomers segment={segment.id} />\n                            </TableCell>\n                        </TableRow>\n                    ))}\n                </TableBody>\n            </Table>\n        </Card>\n    );\n};\n\nexport default Segments;\n","import React, { FC, useEffect } from 'react';\nimport { Redirect, useParams } from 'react-router';\nimport { useTour } from '@react-admin/ra-tour';\n\nconst TourLauncher: FC = () => {\n    const { tour } = useParams();\n    const [{ running }, { start }] = useTour();\n\n    useEffect(() => {\n        if (start && !running) {\n            start(tour);\n            return;\n        }\n    });\n\n    return running ? <Redirect to=\"/\" /> : null;\n};\n\nexport default TourLauncher;\n","import React from 'react';\nimport { Route } from 'react-router-dom';\nimport Segments from './segments/Segments';\nimport TourLauncher from './tours/TourLauncher';\n\nexport default [\n    <Route key=\"segments\" exact path=\"/segments\" render={() => <Segments />} />,\n    <Route\n        key=\"tour-launcher\"\n        path=\"/tours/:tour\"\n        render={() => <TourLauncher />}\n    />,\n];\n","import {\n    mergeTranslations,\n    TranslationMessages as BaseTranslationMessages,\n} from 'ra-core';\nimport englishMessages from 'ra-language-english';\nimport { RaTreeTranslationMessages } from '@react-admin/ra-tree';\n\nexport interface TranslationMessages\n    extends RaTreeTranslationMessages,\n        BaseTranslationMessages {}\n\nconst customEnglishMessages: TranslationMessages = mergeTranslations(\n    englishMessages,\n    {\n        'ra-tree': {\n            action: {\n                add_root: 'Add a category of products',\n            },\n        },\n        pos: {\n            search: 'Search',\n            configuration: 'Configuration',\n            language: 'Language',\n            theme: {\n                name: 'Theme',\n                light: 'Light',\n                dark: 'Dark',\n            },\n            filter: 'Filtered by',\n            dashboard: {\n                monthly_revenue: 'Monthly Revenue',\n                month_history: '30 Day Revenue History',\n                new_orders: 'New Orders',\n                pending_reviews: 'Pending Reviews',\n                new_customers: 'New Customers',\n                pending_orders: 'Pending Orders',\n                order: {\n                    items:\n                        'by %{customer_name}, one item |||| by %{customer_name}, %{nb_items} items',\n                },\n                welcome: {\n                    title: 'Welcome to the react-admin enterprise edition demo',\n                    subtitle:\n                        \"This is the admin of an imaginary poster shop showcasing enterprise edition private modules usage. Feel free to explore and modify the data - it's local to your computer, and will reset each time you reload.\",\n                    ra_button: 'react-admin enterprise edition site',\n                    demo_button: 'See the showcase',\n                },\n            },\n            menu: {\n                sales: 'Sales',\n                catalog: 'Catalog',\n                audience: 'Audience',\n                new_customers: 'New Customers',\n                former_customers: 'Former Customers',\n            },\n            reviews: {\n                accepted: 'Accepted',\n                rejected: 'Rejected',\n                pending: 'Pending',\n            },\n        },\n        resources: {\n            customers: {\n                name: 'Customer |||| Customers',\n                fields: {\n                    commands: 'Orders',\n                    first_seen: 'First seen',\n                    groups: 'Segments',\n                    last_seen: 'Last seen',\n                    last_seen_gte: 'Visited Since',\n                    name: 'Name',\n                    total_spent: 'Total spent',\n                    password: 'Password',\n                    confirm_password: 'Confirm password',\n                    address: 'Address',\n                    birthday: 'Birthday',\n                    city: 'City',\n                    first_name: 'First name',\n                    has_newsletter: 'Has Newsletter',\n                    has_ordered: 'Has ordered',\n                    last_name: 'Last name',\n                    latest_purchase: 'Latest purchase',\n                    zipcode: 'Postal code',\n                    nb_commands: 'Orders',\n                },\n                filters: {\n                    last_visited: 'Last visited',\n                    today: 'Today',\n                    this_week: 'This week',\n                    last_week: 'Last week',\n                    this_month: 'This month',\n                    last_month: 'Last month',\n                    earlier: 'Earlier',\n                    has_ordered: 'Has ordered',\n                    has_newsletter: 'Has newsletter',\n                    group: 'Segment',\n                },\n                fieldGroups: {\n                    identity: 'Identity',\n                    address: 'Address',\n                    stats: 'Stats',\n                    history: 'History',\n                    password: 'Password',\n                    change_password: 'Change Password',\n                },\n                page: {\n                    delete: 'Delete Customer',\n                },\n                errors: {\n                    password_mismatch:\n                        'The password confirmation is not the same as the password.',\n                },\n            },\n            commands: {\n                name: 'Order |||| Orders',\n                amount: '1 order |||| %{smart_count} orders',\n                title: 'Order %{reference}',\n                fields: {\n                    basket: {\n                        delivery: 'Delivery',\n                        reference: 'Reference',\n                        quantity: 'Quantity',\n                        sum: 'Sum',\n                        tax_rate: 'Tax Rate',\n                        total: 'Total',\n                        unit_price: 'Unit Price',\n                    },\n                    customer_id: 'Customer',\n                    date_gte: 'Passed Since',\n                    date_lte: 'Passed Before',\n                    nb_items: 'Nb articles',\n                    reference: 'Rfrence',\n                    returned: 'Returned',\n                    status: 'Status',\n                    total_gte: 'Min amount',\n                },\n            },\n            invoices: {\n                name: 'Invoice |||| Invoices',\n                fields: {\n                    date: 'Invoice date',\n                    customer_id: 'Customer',\n                    command_id: 'Order',\n                    date_gte: 'Passed Since',\n                    date_lte: 'Passed Before',\n                    total_gte: 'Min amount',\n                    address: 'Address',\n                },\n            },\n            products: {\n                name: 'Poster |||| Posters',\n                fields: {\n                    id: 'Identifier',\n                    category_id: 'Category',\n                    height_gte: 'Min height',\n                    height_lte: 'Max height',\n                    height: 'Height',\n                    image: 'Image',\n                    price: 'Price',\n                    reference: 'Reference',\n                    sales: 'Sales',\n                    stock_lte: 'Low Stock',\n                    stock: 'Stock',\n                    thumbnail: 'Thumbnail',\n                    width_gte: 'Min width',\n                    width_lte: 'Max width',\n                    width: 'Width',\n                },\n                tabs: {\n                    image: 'Image',\n                    details: 'Details',\n                    description: 'Description',\n                    reviews: 'Reviews',\n                },\n                filters: {\n                    categories: 'Categories',\n                    stock: 'Stock',\n                    no_stock: 'Out of stock',\n                    low_stock: '1 - 9 items',\n                    average_stock: '10 - 49 items',\n                    enough_stock: '50 items & more',\n                    sales: 'Sales',\n                    best_sellers: 'Best sellers',\n                    average_sellers: 'Average',\n                    low_sellers: 'Low',\n                    never_sold: 'Never sold',\n                },\n            },\n            categories: {\n                name: 'Category |||| Categories',\n                fields: {\n                    products: 'Products',\n                },\n                actions: {\n                    create_product: 'Create Poster',\n                },\n            },\n            reviews: {\n                name: 'Review |||| Reviews',\n                amount: '1 review |||| %{smart_count} reviews',\n                relative_to_poster: 'Review on poster',\n                detail: 'Review detail',\n                fields: {\n                    customer_id: 'Customer',\n                    command_id: 'Order',\n                    product_id: 'Product',\n                    date_gte: 'Posted since',\n                    date_lte: 'Posted before',\n                    date: 'Date',\n                    comment: 'Comment',\n                    rating: 'Rating',\n                },\n                action: {\n                    accept: 'Accept',\n                    reject: 'Reject',\n                },\n                notification: {\n                    approved_success: 'Review approved',\n                    approved_error: 'Error: Review not approved',\n                    rejected_success: 'Review rejected',\n                    rejected_error: 'Error: Review not rejected',\n                },\n            },\n            segments: {\n                name: 'Segments',\n                fields: {\n                    customers: 'Customers',\n                    name: 'Name',\n                },\n                data: {\n                    compulsive: 'Compulsive',\n                    collector: 'Collector',\n                    ordered_once: 'Ordered once',\n                    regular: 'Regular',\n                    returns: 'Returns',\n                    reviewer: 'Reviewer',\n                },\n            },\n            stores: {\n                name: 'Stores',\n                fields: {\n                    city: 'City',\n                    country: 'Country',\n                    address: 'Address',\n                    created_at: 'Created at',\n                },\n            },\n            locks: {\n                overlay: 'Currently Edited by %{name}',\n            },\n        },\n    }\n);\n\nexport default customEnglishMessages;\n","import {\n    mergeTranslations,\n    TranslationMessages as BaseTranslationMessages,\n} from 'ra-core';\nimport frenchMessages from 'ra-language-french';\nimport { RaTreeTranslationMessages } from '@react-admin/ra-tree';\n\nexport interface TranslationMessages\n    extends RaTreeTranslationMessages,\n        BaseTranslationMessages {}\n\nconst customFrenchMessages: TranslationMessages = mergeTranslations(\n    frenchMessages,\n    {\n        'ra-tree': {\n            action: {\n                add_root: 'Ajouter une catgorie de produits',\n            },\n        },\n        pos: {\n            search: 'Rechercher',\n            configuration: 'Configuration',\n            language: 'Langue',\n            theme: {\n                name: 'Theme',\n                light: 'Clair',\n                dark: 'Obscur',\n            },\n            filter: 'Filtr par',\n            dashboard: {\n                monthly_revenue: 'CA  30 jours',\n                month_history: \"Chiffre d'affaire sur 30 jours\",\n                new_orders: 'Nouvelles commandes',\n                pending_reviews: 'Commentaires  modrer',\n                new_customers: 'Nouveaux clients',\n                pending_orders: 'Commandes  traiter',\n                order: {\n                    items:\n                        'par %{customer_name}, un poster |||| par %{customer_name}, %{nb_items} posters',\n                },\n                welcome: {\n                    title:\n                        'Bienvenue sur la dmo de react-admin enterprise edition',\n                    subtitle:\n                        \"Ceci est le back-office d'un magasin de posters imaginaire mettant en oeuvre les modules de l'dition entreprise. N'hsitez pas  explorer et  modifier les donnes. La dmo s'excute en local dans votre navigateur, et se remet  zro chaque fois que vous rechargez la page.\",\n                    ra_button: 'Site web de react-admin entreprise',\n                    demo_button: 'Voir tous les modules',\n                },\n            },\n            menu: {\n                sales: 'Ventes',\n                catalog: 'Catalogue',\n                audience: 'Audience',\n                new_customers: 'Nouveaux clients',\n                former_customers: 'Anciens Clients',\n            },\n            reviews: {\n                accepted: 'Accepts',\n                rejected: 'Rejets',\n                pending: 'En attente',\n            },\n        },\n        resources: {\n            customers: {\n                name: 'Client |||| Clients',\n                fields: {\n                    address: 'Rue',\n                    birthday: 'Anniversaire',\n                    city: 'Ville',\n                    commands: 'Commandes',\n                    first_name: 'Prnom',\n                    first_seen: 'Premire visite',\n                    groups: 'Segments',\n                    has_newsletter: 'Abonn  la newsletter',\n                    has_ordered: 'A command',\n                    last_name: 'Nom',\n                    last_seen: 'Vu le',\n                    last_seen_gte: 'Vu depuis',\n                    latest_purchase: 'Dernier achat',\n                    name: 'Nom',\n                    total_spent: 'Dpenses',\n                    zipcode: 'Code postal',\n                    password: 'Mot de passe',\n                    confirm_password: 'Confirmez le mot de passe',\n                    nb_commands: 'Commandes',\n                },\n                filters: {\n                    last_visited: 'Dernire visite',\n                    today: \"Aujourd'hui\",\n                    this_week: 'Cette semaine',\n                    last_week: 'La semaine dernire',\n                    this_month: 'Ce mois-ci',\n                    last_month: 'Le mois dernier',\n                    earlier: 'Plus tt',\n                    has_ordered: 'A dj command',\n                    has_newsletter: 'Abonn newsletter',\n                    group: 'Segment',\n                },\n                fieldGroups: {\n                    identity: 'Identit',\n                    address: 'Adresse',\n                    stats: 'Statistiques',\n                    history: 'Historique',\n                    password: 'Mot de passe',\n                    change_password: 'Changer le mot de passe',\n                },\n                page: {\n                    delete: 'Supprimer le client',\n                },\n                errors: {\n                    password_mismatch:\n                        'La confirmation du mot de passe est diffrent du mot de passe.',\n                },\n            },\n            commands: {\n                name: 'Commande |||| Commandes',\n                amount: '1 commande |||| %{smart_count} commandes',\n                title: 'Commande n%{reference}',\n                fields: {\n                    basket: {\n                        delivery: 'Frais de livraison',\n                        reference: 'Rfrence',\n                        quantity: 'Quantit',\n                        sum: 'Sous-total',\n                        tax_rate: 'TVA',\n                        total: 'Total',\n                        unit_price: 'P.U.',\n                    },\n                    customer_id: 'Client',\n                    date_gte: 'Emises depuis',\n                    date_lte: 'Emises avant',\n                    nb_items: 'Nb articles',\n                    reference: 'Rfrence',\n                    returned: 'Annule',\n                    status: 'Etat',\n                    total_gte: 'Montant minimum',\n                },\n            },\n            invoices: {\n                name: 'Facture |||| Factures',\n                fields: {\n                    id: 'Numro',\n                    date: 'Date de facture',\n                    customer_id: 'Client',\n                    command_id: 'Commande',\n                    date_gte: 'Emises depuis',\n                    date_lte: 'Emises avant',\n                    address: 'Adresse',\n                    total_ex_taxes: 'Montant HT',\n                    delivery_fees: 'Frais de livraison',\n                    taxes: 'TVA',\n                },\n            },\n            products: {\n                name: 'Poster |||| Posters',\n                fields: {\n                    id: 'Identifiant',\n                    category_id: 'Catgorie',\n                    height_gte: 'Hauteur mini',\n                    height_lte: 'Hauteur maxi',\n                    height: 'Hauteur',\n                    image: 'Photo',\n                    price: 'Prix',\n                    reference: 'Rfrence',\n                    sales: 'Ventes',\n                    stock_lte: 'Stock faible',\n                    stock: 'Stock',\n                    thumbnail: 'Aperu',\n                    width_gte: 'Largeur mini',\n                    width_lte: 'Margeur maxi',\n                    width: 'Largeur',\n                },\n                tabs: {\n                    image: 'Image',\n                    details: 'Dtails',\n                    description: 'Description',\n                    reviews: 'Commentaires',\n                },\n                filters: {\n                    categories: 'Catgories',\n                    stock: 'Stock',\n                    no_stock: 'En rupture',\n                    low_stock: '1 - 9 units',\n                    average_stock: '10 - 49 units',\n                    enough_stock: '50 units et plus',\n                    sales: 'Ventes',\n                    best_sellers: 'Meilleures ventes',\n                    average_sellers: 'Moyennes',\n                    low_sellers: 'Peu vendu',\n                    never_sold: 'Jamais vendu',\n                },\n            },\n            categories: {\n                name: 'Catgorie |||| Catgories',\n                fields: {\n                    name: 'Nom',\n                    products: 'Produits',\n                },\n                actions: {\n                    create_product: 'Crer un Poster',\n                },\n            },\n            reviews: {\n                name: 'Commentaire |||| Commentaires',\n                amount: '1 commentaire |||| %{smart_count} commentaires',\n                relative_to_poster: 'Commentaire sur',\n                detail: 'Dtail du commentaire',\n                fields: {\n                    customer_id: 'Client',\n                    command_id: 'Commande',\n                    product_id: 'Produit',\n                    date_gte: 'Publi depuis',\n                    date_lte: 'Publi avant',\n                    date: 'Date',\n                    comment: 'Texte',\n                    status: 'Statut',\n                    rating: 'Classement',\n                },\n                action: {\n                    accept: 'Accepter',\n                    reject: 'Rejeter',\n                },\n                notification: {\n                    approved_success: 'Commentaire approuv',\n                    approved_error: 'Erreur: Commentaire non approuv',\n                    rejected_success: 'Commentaire rejet',\n                    rejected_error: 'Erreur: Commentaire non rejet',\n                },\n            },\n            segments: {\n                name: 'Segments',\n                fields: {\n                    customers: 'Clients',\n                    name: 'Nom',\n                },\n                data: {\n                    compulsive: 'Compulsif',\n                    collector: 'Collectionneur',\n                    ordered_once: 'A command',\n                    regular: 'Rgulier',\n                    returns: 'A renvoy',\n                    reviewer: 'Commentateur',\n                },\n            },\n            stores: {\n                name: 'Magasins',\n                fields: {\n                    city: 'Ville',\n                    country: 'Pays',\n                    address: 'Adresse',\n                    created_at: 'Ouvert le',\n                },\n            },\n            locks: {\n                overlay: \"En cours d'dition par %{name}\",\n            },\n        },\n    }\n);\n\nexport default customFrenchMessages;\n","import React from 'react';\nimport { useMutation, useRefresh } from 'react-admin';\nimport { useTour } from '@react-admin/ra-tour';\nimport classnames from 'classnames';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport PlayIcon from '@material-ui/icons/PlayArrow';\nimport NewReleasesIcon from '@material-ui/icons/NewReleases';\n\nconst useStyles = makeStyles({\n    root: {\n        maxWidth: 345,\n        cursor: 'pointer',\n        margin: 20,\n        opacity: 0.9,\n        transition: 'opacity 0.3s ease-in-out',\n        '&:hover,&:focus-within': {\n            opacity: 1,\n        },\n    },\n    visited: {\n        opacity: 0.6,\n    },\n    media: {\n        height: 140,\n    },\n    rightButton: {\n        marginLeft: 'auto',\n    },\n    content: {\n        position: 'relative',\n        minHeight: 125,\n    },\n    newIcon: {\n        position: 'absolute',\n        top: 10,\n        right: 10,\n    },\n    actions: {\n        paddingBottom: 0,\n    },\n    buyIcon: {\n        marginLeft: 'auto !important',\n    },\n    playedOnIndicator: {\n        paddingLeft: 16,\n        paddingTop: 0,\n        paddingBottom: 16,\n    },\n});\n\nexport default ({ record }) => {\n    const classes = useStyles();\n    const refresh = useRefresh();\n    // eslint-disable-next-line no-unused-vars\n    const [_, { start }] = useTour();\n\n    const [setPlayed] = useMutation(\n        {\n            type: 'update',\n            resource: 'tours',\n            payload: { id: record.id, data: { playedOn: new Date() } },\n        },\n        {\n            onSuccess: refresh,\n        }\n    );\n\n    const handlePlayClicked = () => {\n        start(record.tour);\n        setPlayed();\n    };\n\n    return (\n        <Card\n            className={classnames(classes.root, {\n                [classes.visited]: record.playedOn,\n            })}\n            onClick={handlePlayClicked}\n        >\n            <CardMedia\n                className={classes.media}\n                image={`${process.env.PUBLIC_URL}/${record.image}`}\n                title={record.title}\n            />\n            <CardContent className={classes.content}>\n                {!record.playedOn && (\n                    <NewReleasesIcon\n                        color=\"error\"\n                        fontSize=\"large\"\n                        className={classes.newIcon}\n                    />\n                )}\n                <Typography variant=\"h5\" component=\"h2\" gutterBottom>\n                    {record.title}\n                </Typography>\n                <Typography variant=\"body2\" gutterBottom>\n                    {record.comment}\n                </Typography>\n            </CardContent>\n            <CardActions className={classes.actions}>\n                <Button size=\"small\" startIcon={<PlayIcon />} color=\"primary\">\n                    Play\n                </Button>\n            </CardActions>\n            <div className={classes.playedOnIndicator}>\n                <Typography\n                    variant=\"caption\"\n                    display=\"block\"\n                    color=\"textSecondary\"\n                >\n                    {record.playedOn\n                        ? `Last played on ${new Date(\n                              record.playedOn\n                          ).toLocaleString()}`\n                        : `Never played before`}\n                </Typography>\n            </div>\n        </Card>\n    );\n};\n","import React, { cloneElement } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PlaylistAddCheckIcon from '@material-ui/icons/PlaylistAddCheck';\nimport RotateLeftIcon from '@material-ui/icons/RotateLeft';\nimport {\n    TopToolbar,\n    Button,\n    sanitizeListRestProps,\n    List,\n    Pagination,\n    useMutation,\n    useRefresh,\n} from 'react-admin';\n\nimport Tour from './Tour';\n\nconst useStyles = makeStyles({\n    content: {\n        border: 'none',\n        background: 'none',\n        boxShadow: 'none',\n    },\n});\n\nconst useListStyles = makeStyles({\n    gridContainer: {\n        display: 'flex',\n        flexWrap: 'wrap',\n    },\n});\n\nconst ListActions = ({\n    currentSort,\n    className,\n    resource,\n    filters,\n    displayedFilters,\n    exporter, // you can hide ExportButton if exporter = (null || false)\n    filterValues,\n    permanentFilter,\n    hasCreate, // you can hide CreateButton if hasCreate = false\n    basePath,\n    selectedIds,\n    onUnselectItems,\n    showFilter,\n    maxResults,\n    total,\n    ids,\n    ...rest\n}) => {\n    const refresh = useRefresh();\n\n    const [reset, { loading: resetLoading }] = useMutation(\n        {\n            type: 'updateMany',\n            resource: 'tours',\n            payload: { ids: ids, data: { playedOn: null } },\n        },\n        {\n            onSuccess: () => {\n                refresh();\n            },\n        }\n    );\n\n    const [markAsPlayed, { loading: markAsPlayedLoading }] = useMutation(\n        {\n            type: 'updateMany',\n            resource: 'tours',\n            payload: { ids: ids, data: { playedOn: new Date() } },\n        },\n        {\n            onSuccess: () => {\n                refresh();\n            },\n        }\n    );\n\n    return (\n        <TopToolbar className={className} {...sanitizeListRestProps(rest)}>\n            {filters &&\n                cloneElement(filters, {\n                    resource,\n                    showFilter,\n                    displayedFilters,\n                    filterValues,\n                    context: 'button',\n                })}\n            {/* Add your custom actions */}\n            <Button\n                onClick={markAsPlayed}\n                label=\"Mark all as played\"\n                disabled={markAsPlayedLoading}\n            >\n                <PlaylistAddCheckIcon />\n            </Button>\n            <Button onClick={reset} label=\"Reset\" disabled={resetLoading}>\n                <RotateLeftIcon />\n            </Button>\n        </TopToolbar>\n    );\n};\n\nconst GridList = ({ ids, data }) => {\n    const classes = useListStyles();\n    return (\n        <div className={classes.gridContainer}>\n            {ids.map(id => (\n                <Tour key={id} record={data[id]} />\n            ))}\n        </div>\n    );\n};\n\nconst TourList = props => {\n    const classes = useStyles();\n\n    return (\n        <List\n            {...props}\n            perPage={20}\n            pagination={<Pagination rowsPerPageOptions={[10, 20, 40]} />}\n            sort={{ field: 'id', order: 'ASC' }}\n            classes={classes}\n            actions={<ListActions />}\n        >\n            <GridList />\n        </List>\n    );\n};\n\nexport default TourList;\n","import DirectionsBusIcon from '@material-ui/icons/DirectionsBus';\n\nimport TourList from './TourList';\n\nexport default {\n    list: TourList,\n    icon: DirectionsBusIcon,\n};\n","import { DataProvider } from 'ra-core';\nimport { RealTimeDataProvider, Subscriptions } from '@react-admin/ra-realtime';\n\nlet subscriptions: Subscriptions = [];\n\nconst addRealtimeMethodsWithFakeTransport = (\n    dataProvider: DataProvider\n): DataProvider & RealTimeDataProvider => {\n    return {\n        ...dataProvider,\n        subscribe: async (topic, subscriptionCallback) => {\n            subscriptions.push({ topic, subscriptionCallback });\n            return Promise.resolve({ data: null });\n        },\n\n        unsubscribe: async (topic, subscriptionCallback) => {\n            subscriptions = subscriptions.filter(\n                subscription =>\n                    subscription.topic !== topic ||\n                    subscription.subscriptionCallback !== subscriptionCallback\n            );\n            return Promise.resolve({ data: null });\n        },\n\n        publish: (topic, event) => {\n            if (!topic) {\n                return Promise.reject(new Error('ra.realTime.error.topic'));\n            }\n            if (!event.type) {\n                return Promise.reject(new Error('ra.realTime.error.type'));\n            }\n            subscriptions.map(\n                subscription =>\n                    topic === subscription.topic &&\n                    subscription.subscriptionCallback(event)\n            );\n            return Promise.resolve({ data: null });\n        },\n    };\n};\n\nexport default addRealtimeMethodsWithFakeTransport;\n","const VALID_UNTIL = new Date() + 3600 * 24 * 365;\n\nconst mergeById = (a, b) => {\n    const notInB = a.filter(aItem => !b.find(bItem => aItem.id === bItem.id));\n    const inBoth = a.filter(aItem => b.find(bItem => aItem.id === bItem.id));\n    const notInA = b.filter(bItem => !a.find(aItem => bItem.id === aItem.id));\n    return [\n        ...notInB,\n        ...inBoth.map(aItem => {\n            const bItem = b.find(bItem => aItem.id === bItem.id);\n            return { ...aItem, playedOn: bItem.playedOn };\n        }),\n        ...notInA,\n    ].sort((c, d) => c.id - d.id);\n};\nexport default (defaultState = {}) => {\n    const get = name => {\n        const collection = JSON.parse(localStorage.getItem(name)) || [];\n        return mergeById(defaultState[name], collection);\n    };\n\n    const set = (name, item) => {\n        return localStorage.setItem(name, JSON.stringify(item));\n    };\n\n    const update = (resource, { id, data }) => {\n        const collection = get(resource);\n\n        const item = collection.find(item => item.id === id);\n\n        if (!item) {\n            return { data: null };\n        }\n\n        const newItem = { ...item, ...data, id };\n\n        set(resource, [\n            ...collection.filter(otherItem => otherItem.id !== id),\n            newItem,\n        ]);\n\n        return { data: newItem };\n    };\n\n    const remove = (resource, { id }) => {\n        let collection = get(resource);\n\n        const item = collection.find(item => item.id === id);\n\n        if (!item) {\n            return { data: null };\n        }\n\n        collection = collection.filter(item => item.id !== id);\n\n        set(resource, collection);\n\n        return { data: item };\n    };\n\n    return {\n        getList: (resource, { filter, sort, pagination }) => {\n            let collection = get(resource);\n\n            if (filter) {\n                collection = Object.keys(filter).reduce(\n                    (acc, key) => {\n                        const value = filter[key];\n                        return acc.filter(o => o[key] === value);\n                    },\n                    [...collection]\n                );\n            }\n            const total = collection.length;\n            if (sort) {\n                const { field, order } = sort;\n                collection = collection.sort((a, b) =>\n                    order === 'ASC' ? a[field] - b[field] : b[field] - a[field]\n                );\n            }\n            if (pagination) {\n                const { page, perPage } = pagination;\n                collection = collection.slice(\n                    (page - 1) * perPage,\n                    page * perPage - 1\n                );\n            }\n\n            return {\n                data: collection,\n                total,\n            };\n        },\n\n        getOne: (resource, { id }) => {\n            const collection = get(resource);\n\n            const item = collection.find(item => item.id === id);\n\n            return {\n                data: item,\n                validUntil: VALID_UNTIL,\n            };\n        },\n\n        getMany: (resource, { ids }) => {\n            const collection = get(resource);\n\n            const items = collection.filter(item => ids.include(item.id));\n\n            return {\n                data: items,\n                validUntil: VALID_UNTIL,\n            };\n        },\n\n        getManyReference: (resource, { filter, sort, pagination }) => {\n            let collection = get(resource);\n\n            if (filter) {\n                collection = Object.keys(filter).reduce(\n                    (acc, key) => {\n                        const value = filter[key];\n                        return acc.filter(o => o[key] === value);\n                    },\n                    [...collection]\n                );\n            }\n            const total = collection.length;\n            if (sort) {\n                const { field, order } = sort;\n                collection = collection.sort((a, b) =>\n                    order === 'ASC' ? a[field] - b[field] : b[field] - a[field]\n                );\n            }\n            if (pagination) {\n                const { page, perPage } = pagination;\n                collection = collection.slice(\n                    (page - 1) * perPage,\n                    page * perPage - 1\n                );\n            }\n\n            return {\n                data: collection,\n                total,\n            };\n        },\n\n        update,\n        updateMany: (resource, { ids, data }) => {\n            const updateResults = ids.map(id => update(resource, { id, data }));\n\n            return {\n                data: updateResults\n                    .filter(res => res.data && res.data.id)\n                    .map(res => res.data.id),\n            };\n        },\n\n        create: (resource, { data }) => {\n            const collection = get(resource);\n\n            const id = collection.length + 1;\n            const item = collection.find(item => item.id === id);\n\n            if (item) {\n                return;\n            }\n\n            const newItem = { ...data, id: id };\n            collection.push(newItem);\n\n            set(resource, collection);\n\n            return newItem;\n        },\n\n        delete: remove,\n\n        deleteMany: (resource, { ids }) => {\n            const deleteResults = ids.map(id => remove(resource, { id }));\n\n            return {\n                data: deleteResults\n                    .filter(res => res.data && res.data.id)\n                    .map(res => res.data.id),\n            };\n        },\n    };\n};\n","import simpleRestProvider from 'ra-data-simple-rest';\nimport compose from 'recompose/compose';\nimport { addLocksMethodsBasedOnALockResource } from '@react-admin/ra-realtime';\n\nimport { addTreeMethodsBasedOnChildren } from '@react-admin/ra-tree';\nimport addRealtimeMethodsWithFakeTransport from './addRealtimeMethodsWithFakeTransport';\n\nimport localStorageProvider from './localStorageProvider';\nimport defaultState from '../tours/data';\n\nconst restProvider = compose(\n    addLocksMethodsBasedOnALockResource,\n    addRealtimeMethodsWithFakeTransport,\n    addTreeMethodsBasedOnChildren\n)(simpleRestProvider('http://localhost:4000'));\n\nconst customProviders = {\n    tours: localStorageProvider(defaultState),\n};\n\nconst customMethods = {};\nconst delayedDataProvider = new Proxy(restProvider, {\n    get: (target, name, self) => {\n        if (name === 'then') {\n            return self;\n        }\n\n        return (resource, params) => {\n            let provider = restProvider;\n            if (customProviders[resource]) {\n                provider = customProviders[resource];\n            }\n\n            if (customMethods[resource]) {\n                provider = {\n                    ...provider,\n                    ...customMethods[resource](provider),\n                };\n            }\n\n            return new Promise(resolve =>\n                setTimeout(() => resolve(provider[name](resource, params)), 500)\n            );\n        };\n    },\n});\n\nexport default delayedDataProvider;\n","export default {\n    tours: [\n        {\n            id: 2,\n            image: 'images/tours/ra-preferences.jpg',\n            title: 'ra-preferences',\n            tour: 'ra-preferences',\n            comment: `Persist user preferences (language, ui, filters, displayed columns, etc) in local storage`,\n            href: 'http://marmelab.com/react-admin',\n            playedOn: null,\n        },\n        {\n            id: 6,\n            image: 'images/tours/ra-navigation-breadcrumb.jpg',\n            title: 'ra-navigation: Breadcrumb',\n            tour: 'ra-navigation-breadcrumb',\n            comment: `Keep a track of your location in the site and navigate easily.`,\n            href: 'http://marmelab.com/react-admin',\n            playedOn: null,\n        },\n        {\n            id: 4,\n            image: 'images/tours/ra-realtime.jpg',\n            title: 'ra-realtime',\n            tour: 'ra-realtime',\n            comment: `Enable realtime on menu, list, show and edit views - or anywhere you want.`,\n            href: 'http://marmelab.com/react-admin',\n            playedOn: null,\n        },\n        {\n            id: 5,\n            image: 'images/tours/ra-editable-datagrid.jpg',\n            title: 'ra-editable-datagrid',\n            tour: 'ra-editable-datagrid',\n            comment: `Quickly edit your data without leaving your datagrid.`,\n            href: 'http://marmelab.com/react-admin',\n            playedOn: null,\n        },\n                {\n            id: 3,\n            image: 'images/tours/ra-tree.jpg',\n            title: 'ra-tree',\n            tour: 'ra-tree',\n            comment: `Edit and visualize tree structures. Reorganize by drag and drop. Adapts to any data structure on the backend (parent_id, children, nested sets, etc)..`,\n            href: 'http://marmelab.com/react-admin',\n            playedOn: null,\n        },\n        {\n            id: 1,\n            image: 'images/tours/ra-markdown.jpg',\n            title: 'ra-markdown',\n            tour: 'ra-markdown',\n            comment: `Read Markdown data, and edit it using a WYSIWYG editor in your admin`,\n            href: 'http://marmelab.com/react-admin',\n            playedOn: null,\n        },\n    ],\n};\n","export default {\n    categories: [\n        {\n            id: 5,\n            name: 'categories',\n            isRoot: true,\n            children: [0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100, 110, 120],\n        },\n\n        { id: 0, name: 'animals', isRoot: false, children: [1, 2, 3] },\n        { id: 1, name: 'cute', isRoot: false, children: [] },\n        { id: 2, name: 'scary', isRoot: false, children: [] },\n        { id: 3, name: 'weird', isRoot: false, children: [] },\n\n        { id: 10, name: 'beard', isRoot: false, children: [11, 12] },\n        { id: 11, name: 'curly', isRoot: false, children: [] },\n        { id: 12, name: 'straight', isRoot: false, children: [] },\n\n        { id: 20, name: 'business', isRoot: false, children: [] },\n\n        { id: 30, name: 'cars', isRoot: false, children: [31, 32] },\n        { id: 31, name: 'fast', isRoot: false, children: [] },\n        { id: 32, name: 'slow', isRoot: false, children: [] },\n\n        { id: 40, name: 'city', isRoot: false, children: [] },\n        { id: 50, name: 'flowers', isRoot: false, children: [] },\n\n        { id: 60, name: 'food', isRoot: false, children: [61, 62] },\n        { id: 61, name: 'liquid', isRoot: false, children: [] },\n        { id: 62, name: 'solid', isRoot: false, children: [] },\n\n        { id: 70, name: 'nature', isRoot: false, children: [] },\n\n        { id: 80, name: 'people', isRoot: false, children: [81, 82, 83] },\n        { id: 81, name: 'one', isRoot: false, children: [] },\n        { id: 82, name: 'couple', isRoot: false, children: [] },\n        { id: 83, name: 'many', isRoot: false, children: [] },\n\n        { id: 90, name: 'sports', isRoot: false, children: [] },\n        { id: 100, name: 'tech', isRoot: false, children: [] },\n        { id: 110, name: 'travel', isRoot: false, children: [] },\n        { id: 120, name: 'water', isRoot: false, children: [] },\n    ],\n    stores: [\n        {\n            id: 0,\n            city: 'Paris',\n            country: 'France',\n            address: '8 rue de Rivoli',\n            created_at: new Date(1988, 4, 20),\n        },\n        {\n            id: 1,\n            city: 'Lyon',\n            country: 'France',\n            address: '14 rue de la Rpublique',\n            created_at: new Date(1992, 3, 11),\n        },\n        {\n            id: 2,\n            city: 'Nice',\n            country: 'France',\n            address: '5 cours Saleya',\n            created_at: new Date(1993, 6, 27),\n        },\n        {\n            id: 3,\n            city: 'Toulouse',\n            country: 'France',\n            address: '43 rue de la Pomme',\n            created_at: new Date(1994, 1, 2),\n        },\n        {\n            id: 4,\n            city: 'Dijon',\n            country: 'France',\n            address: '89 rue de la libert',\n            created_at: new Date(2001, 11, 5),\n        },\n        {\n            id: 5,\n            city: 'Nancy',\n            country: 'France',\n            address: '27 rue Ordener',\n            created_at: new Date(2008, 7, 15),\n        },\n    ],\n    locks: [],\n};\n","import FakeRest from 'fakerest';\nimport fetchMock from 'fetch-mock';\nimport generateData from 'data-generator-retail';\nimport { random } from 'faker/locale/en';\n\nimport demoData from './demo-data';\n\nconst getAllChildrenCategories = (categories, parentId) => {\n    const parentCategory = categories.find(({ id }) => id === parentId);\n    const children = parentCategory.children.map(childId =>\n        getAllChildrenCategories(categories, childId)\n    );\n\n    return [parentId, ...children];\n};\n\nconst rebindProductToCategories = (\n    originalCategories,\n    newCategories\n) => product => {\n    const originalCategory = originalCategories.find(\n        c => c.id === product.category_id\n    );\n\n    const matchingNewCategory = newCategories.find(\n        c => c.name === originalCategory.name\n    );\n\n    // If the new category does not have sub categories, just ensure we have the correct id\n    if (matchingNewCategory.children.length === 0) {\n        return {\n            ...product,\n            category_id: matchingNewCategory.id,\n        };\n    }\n\n    const newCategoryId = random.arrayElement(\n        matchingNewCategory.children || []\n    );\n\n    return {\n        ...product,\n        category_id: newCategoryId,\n    };\n};\n\nexport default () => {\n    const data = generateData({ serializeDate: true });\n    const products = data.products.map(\n        rebindProductToCategories(data.categories, demoData.categories)\n    );\n\n    const mergedData = { ...data, ...demoData, products };\n\n    const restServer = new FakeRest.FetchServer('http://localhost:4000');\n    if (window) {\n        window.restServer = restServer; // give way to update data in the console\n    }\n    restServer.addRequestInterceptor(request => {\n        // intercepts list of products with a category filter\n        if (\n            request.method === 'GET' &&\n            request.url.includes('/products') &&\n            request.params.filter &&\n            request.params.filter.category_id !== undefined\n        ) {\n            // to include all sub categories of the selected category in the filter\n            request.params.filter.category_id = getAllChildrenCategories(\n                mergedData.categories,\n                parseInt(request.params.filter.category_id)\n            );\n        }\n        return request;\n    });\n    restServer.init(mergedData);\n    restServer.toggleLogging(); // logging is off by default, enable it\n    fetchMock.mock('begin:http://localhost:4000', restServer.getHandler());\n    return () => fetchMock.restore();\n};\n","import React, { FC, useEffect } from 'react';\nimport { Resource } from 'react-admin';\n\nimport { Admin, buildI18nProvider } from '@react-admin/ra-enterprise';\n\nimport './App.css';\n\nimport { darkTheme, lightTheme } from './layout/themes';\nimport authProvider from './authProvider';\nimport { Login, Layout } from './layout';\nimport { Dashboard } from './dashboard';\nimport customRoutes from './routes';\n\nimport englishMessages from './i18n/en';\nimport frenchMessages from './i18n/fr';\n\nimport visitors from './visitors';\nimport orders from './orders';\nimport products from './products';\nimport invoices from './invoices';\nimport categories from './categories';\nimport reviews from './reviews';\nimport stores from './stores';\nimport tours from './tours';\n\nimport dataProvider from './dataProvider';\nimport fakeServer from './fakeServer';\n\nconst messages = {\n    en: englishMessages,\n    fr: frenchMessages,\n};\n\nconst i18nProvider = buildI18nProvider(messages, 'en');\n\nconst App: FC = () => {\n    useEffect(() => {\n        const restoreFetch = fakeServer();\n        return (): void => {\n            restoreFetch();\n        };\n    }, []);\n\n    return (\n        <Admin\n            title=\"\"\n            dataProvider={dataProvider}\n            customRoutes={customRoutes}\n            authProvider={authProvider}\n            dashboard={Dashboard}\n            loginPage={Login}\n            layout={Layout}\n            i18nProvider={i18nProvider}\n            // Ra-enterprise confirguration\n            lightTheme={lightTheme}\n            darkTheme={darkTheme}\n        >\n            <Resource name=\"customers\" {...visitors} />\n            <Resource name=\"commands\" {...orders} />\n            <Resource name=\"invoices\" {...invoices} />\n            <Resource name=\"products\" {...products} />\n            <Resource name=\"categories\" {...categories} />\n            <Resource name=\"reviews\" {...reviews} />\n            <Resource name=\"stores\" {...stores} />\n            <Resource name=\"tours\" {...tours} />\n            <Resource name=\"locks\" />\n        </Admin>\n    );\n};\n\nexport default App;\n","import 'react-app-polyfill/ie11';\nimport 'react-app-polyfill/stable';\nimport 'proxy-polyfill';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","/**\n * Generate random commands\n *\n * This generator assumes that:\n * - Customer ids exist until 50\n * - Product ids exist until 20\n */\nconst randomCommandBuilder = batchLevel => {\n    const basket = new Array(Math.round(Math.random() * 2) + 1).map(() => ({\n        product_id: Math.round(Math.random() * 20),\n        quantity: Math.round(Math.random() * 2) + 1,\n    }));\n\n    return {\n        date: new Date(),\n        total: (Math.round(Math.random() * 10000) / 100) * basket.length,\n        status: 'ordered',\n        reference: Math.random()\n            .toString(36)\n            .replace(/[^a-z]+/g, '')\n            .substr(0, 6)\n            .toUpperCase(),\n        customer_id: Math.round(Math.random() * 50),\n        basket,\n        batch: batchLevel,\n    };\n};\n\nexport default randomCommandBuilder;\n"],"sourceRoot":""}